(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[]]);!function(t){function e(e){for(var n,a,s=e[0],c=e[1],u=e[2],h=0,p=[];h<s.length;h++)a=s[h],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);for(l&&l(e);p.length;)p.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,s=1;s<r.length;s++){var c=r[s];0!==i[c]&&(n=!1)}n&&(o.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},i={7:0},o=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.e=function(t){var e=[],r=i[t];if(0!==r)if(r)e.push(r[2]);else{var n=new Promise(function(e,n){r=i[t]=[e,n]});e.push(r[2]=n);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=function(t){return a.p+"assets/js/"+({8:"layout-BaseLayout",9:"layout-Layout",10:"layout-NotFound",11:"page-0193e625",12:"page-021b3aa4",13:"page-0a921c99",14:"page-0c6c4d65",15:"page-0c7f77bc",16:"page-0d32e5ee",17:"page-0e69d9d2",18:"page-1080dbe2",19:"page-11a8df82",20:"page-1486eb54",21:"page-177d640c",22:"page-1a34eb5d",23:"page-1c4a4e12",24:"page-1ccc22d8",25:"page-1db42de8",26:"page-1e536af9",27:"page-21fcb945",28:"page-25bc4f18",29:"page-27f6ecec",30:"page-29c918e5",31:"page-2c6bc4ab",32:"page-2e8c0cd0",33:"page-302e6251",34:"page-320aac86",35:"page-339369e0",36:"page-36d5d2b3",37:"page-39e05f8b",38:"page-3c8dbd4b",39:"page-3cdc4745",40:"page-3ff73aa5",41:"page-4107293f",42:"page-4144513c",43:"page-422a7e52",44:"page-445c88ce",45:"page-4478a866",46:"page-455360d1",47:"page-47f71914",48:"page-4829d184",49:"page-486aacae",50:"page-4d521b14",51:"page-4d7e2aa5",52:"page-4d9fba32",53:"page-4dc00f25",54:"page-4dc54ba5",55:"page-4df429d2",56:"page-518ca8d8",57:"page-545b8d99",58:"page-55a376be",59:"page-59cd63bf",60:"page-5cdb680e",61:"page-5de41bb6",62:"page-5edad598",63:"page-64a9a694",64:"page-66061c06",65:"page-6890df9a",66:"page-68b44e7f",67:"page-6dbff0ea",68:"page-6f7fa8b4",69:"page-70612fe6",70:"page-720c8312",71:"page-74a44f51",72:"page-7507c3f6",73:"page-761a0ef6",74:"page-7690c622",75:"page-793331a0",76:"page-7ba2451f",77:"page-7bfb30a6",78:"page-7d3a6963",79:"page-7e6b5e12",80:"page-82c2c642",81:"page-85f4c948",82:"page-8892394c",83:"page-89b130dc",84:"page-8da9df6c",85:"page-916af89c",86:"page-9a2a43a4",87:"page-9ec1a766",88:"page-9f0190e0",89:"page-a6174872",90:"page-aab392fc",91:"page-ace574d0",92:"page-ad24ce34",93:"page-b0521034",94:"page-b0d90ce6",95:"page-b40de7ce",96:"page-c26b0310",97:"page-c405dd3e",98:"page-c4bdd70e",99:"page-c5f1a60e",100:"page-c60be50a",101:"page-d3e58f16",102:"page-d6c4343e",103:"page-e468b710",104:"page-e72e49e8",105:"page-ec44d602",106:"page-ed303fba",107:"page-f313c186",108:"page-f6776002",109:"vendors~flowchart",110:"vendors~layout-Layout"}[t]||t)+"."+{1:"fa973eaa",2:"9a681b8f",3:"f26e287e",4:"1c86cc24",5:"1706d93d",6:"63935566",8:"5884bf13",9:"15d191d6",10:"45734fdb",11:"2720fe4f",12:"eb5a20e1",13:"2237c9cd",14:"bd789610",15:"43bbaba2",16:"1f02bd7e",17:"ab643f71",18:"d3e696c1",19:"1cfc5a18",20:"ae5922aa",21:"0b5768e5",22:"7add6a36",23:"888bb757",24:"392569af",25:"105fbd4c",26:"f91fc1f2",27:"3712dfd0",28:"b5f03286",29:"7d0f6c92",30:"dbeb44b6",31:"bd4dd7c2",32:"165a6d81",33:"d98bd9c3",34:"508847aa",35:"cb3b8b81",36:"52703828",37:"3644dc97",38:"7c794340",39:"dffef833",40:"d41f0f6e",41:"12f21bc7",42:"1fcb667d",43:"990bd921",44:"275b34d5",45:"c536043c",46:"64745445",47:"f8ccb267",48:"81c64acf",49:"f489d4dd",50:"5e978cf2",51:"5a8deb33",52:"c849aff3",53:"76ddb187",54:"cd8e0413",55:"1744b341",56:"81308ab7",57:"8524bbdb",58:"2e31670b",59:"08fa99e6",60:"d0e0c3d5",61:"dc14f966",62:"2fda104c",63:"169167db",64:"e5316b2e",65:"ec0db9a9",66:"8fa81e31",67:"dc0eb99f",68:"20f39745",69:"56c0aebd",70:"ad95d082",71:"1f38f110",72:"89835884",73:"b7ed6cf9",74:"d9494253",75:"c4cb3b3f",76:"8a06894a",77:"58779ed6",78:"7c08d65e",79:"ab22704f",80:"2beddbca",81:"5853551e",82:"e9092eae",83:"21bac353",84:"15e5b9d4",85:"f4723c7e",86:"0399bbc1",87:"b3b074b2",88:"63618d04",89:"68674aba",90:"ddf410a3",91:"fedf277f",92:"02fc1dc3",93:"49da42e1",94:"94f9579a",95:"15144430",96:"b62ca773",97:"fe107c49",98:"6be15680",99:"bf23c7f0",100:"2b0df43b",101:"0d08cb5c",102:"65bbc410",103:"5d68a30b",104:"5812710b",105:"3f670930",106:"00b7a0e2",107:"3b7755d2",108:"500d26c5",109:"8ffe888e",110:"9b25ea06",111:"3a2218ca",112:"2d152219",113:"4651c2a8",114:"72673536",115:"5e0e25e5",116:"c021f98a",117:"e619236d",118:"7451fc39",119:"43950271",120:"80f3a2c7",121:"be3ef2f8",122:"39603e03",123:"053dc097",124:"fb0f62b5",125:"e88224a2",126:"17a0d1a5",127:"6bbe0f8e",128:"9a25c4c5",129:"449e36fc",130:"dc0cf38d",131:"73669768",132:"c2e52210",133:"8a72916d",134:"02148b30",135:"7582c16d"}[t]+".js"}(t);var c=new Error;o=function(e){s.onerror=s.onload=null,clearTimeout(u);var r=i[t];if(0!==r){if(r){var n=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",c.name="ChunkLoadError",c.type=n,c.request=o,r[1](c)}i[t]=void 0}};var u=setTimeout(function(){o({type:"timeout",target:s})},12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(e)},a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/",a.oe=function(t){throw console.error(t),t};var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;o.push([170,0]),r()}([function(t,e,r){"use strict";var n=r(3),i={NotFound:function(){return Promise.all([r.e(0),r.e(10)]).then(r.bind(null,1197))},BaseLayout:function(){return Promise.all([r.e(0),r.e(8)]).then(r.bind(null,642))},Layout:function(){return Promise.all([r.e(0),r.e(4),r.e(6),r.e(110),r.e(9)]).then(r.bind(null,1189))}},o={"v-8892394c":function(){return Promise.all([r.e(0),r.e(82)]).then(r.bind(null,1209))},"v-320aac86":function(){return r.e(34).then(r.bind(null,1210))},"v-85f4c948":function(){return r.e(81).then(r.bind(null,1211))},"v-7bfb30a6":function(){return r.e(77).then(r.bind(null,1212))},"v-9a2a43a4":function(){return r.e(86).then(r.bind(null,1213))},"v-8da9df6c":function(){return r.e(84).then(r.bind(null,1214))},"v-1c4a4e12":function(){return r.e(23).then(r.bind(null,1215))},"v-e72e49e8":function(){return r.e(104).then(r.bind(null,1216))},"v-0c6c4d65":function(){return r.e(14).then(r.bind(null,1217))},"v-5cdb680e":function(){return r.e(60).then(r.bind(null,1218))},"v-545b8d99":function(){return Promise.all([r.e(0),r.e(57)]).then(r.bind(null,1219))},"v-c4bdd70e":function(){return r.e(98).then(r.bind(null,1220))},"v-7507c3f6":function(){return r.e(72).then(r.bind(null,1221))},"v-916af89c":function(){return r.e(85).then(r.bind(null,1222))},"v-1a34eb5d":function(){return r.e(22).then(r.bind(null,1223))},"v-0193e625":function(){return r.e(11).then(r.bind(null,1224))},"v-c5f1a60e":function(){return r.e(99).then(r.bind(null,1225))},"v-445c88ce":function(){return r.e(44).then(r.bind(null,1226))},"v-0e69d9d2":function(){return r.e(17).then(r.bind(null,1227))},"v-47f71914":function(){return r.e(47).then(r.bind(null,1228))},"v-89b130dc":function(){return r.e(83).then(r.bind(null,1229))},"v-761a0ef6":function(){return r.e(73).then(r.bind(null,1230))},"v-b0521034":function(){return r.e(93).then(r.bind(null,1231))},"v-793331a0":function(){return r.e(75).then(r.bind(null,1232))},"v-4d521b14":function(){return r.e(50).then(r.bind(null,1233))},"v-b40de7ce":function(){return r.e(95).then(r.bind(null,1234))},"v-ed303fba":function(){return r.e(106).then(r.bind(null,1235))},"v-1db42de8":function(){return r.e(25).then(r.bind(null,1236))},"v-64a9a694":function(){return r.e(63).then(r.bind(null,1237))},"v-0d32e5ee":function(){return r.e(16).then(r.bind(null,1238))},"v-68b44e7f":function(){return r.e(66).then(r.bind(null,1239))},"v-f6776002":function(){return r.e(108).then(r.bind(null,1240))},"v-7ba2451f":function(){return r.e(76).then(r.bind(null,1241))},"v-4107293f":function(){return r.e(41).then(r.bind(null,1242))},"v-11a8df82":function(){return r.e(19).then(r.bind(null,1243))},"v-d3e58f16":function(){return r.e(101).then(r.bind(null,1244))},"v-177d640c":function(){return r.e(21).then(r.bind(null,1245))},"v-c405dd3e":function(){return r.e(97).then(r.bind(null,1246))},"v-1e536af9":function(){return r.e(26).then(r.bind(null,1247))},"v-59cd63bf":function(){return r.e(59).then(r.bind(null,1248))},"v-ec44d602":function(){return r.e(105).then(r.bind(null,1249))},"v-39e05f8b":function(){return r.e(37).then(r.bind(null,1250))},"v-ad24ce34":function(){return r.e(92).then(r.bind(null,1251))},"v-7d3a6963":function(){return r.e(78).then(r.bind(null,1252))},"v-455360d1":function(){return r.e(46).then(r.bind(null,1253))},"v-b0d90ce6":function(){return r.e(94).then(r.bind(null,1254))},"v-0a921c99":function(){return r.e(13).then(r.bind(null,1255))},"v-29c918e5":function(){return r.e(30).then(r.bind(null,1256))},"v-4478a866":function(){return r.e(45).then(r.bind(null,1257))},"v-4d9fba32":function(){return r.e(52).then(r.bind(null,1258))},"v-70612fe6":function(){return r.e(69).then(r.bind(null,1259))},"v-7e6b5e12":function(){return r.e(79).then(r.bind(null,1260))},"v-486aacae":function(){return r.e(49).then(r.bind(null,1261))},"v-339369e0":function(){return r.e(35).then(r.bind(null,1262))},"v-82c2c642":function(){return r.e(80).then(r.bind(null,1263))},"v-4df429d2":function(){return r.e(55).then(r.bind(null,1264))},"v-1486eb54":function(){return r.e(20).then(r.bind(null,1265))},"v-6dbff0ea":function(){return r.e(67).then(r.bind(null,1266))},"v-9ec1a766":function(){return r.e(87).then(r.bind(null,1267))},"v-36d5d2b3":function(){return r.e(36).then(r.bind(null,1268))},"v-55a376be":function(){return r.e(58).then(r.bind(null,1198))},"v-a6174872":function(){return r.e(89).then(r.bind(null,1269))},"v-4dc00f25":function(){return r.e(53).then(r.bind(null,1270))},"v-2c6bc4ab":function(){return r.e(31).then(r.bind(null,1271))},"v-6890df9a":function(){return r.e(65).then(r.bind(null,1272))},"v-6f7fa8b4":function(){return r.e(68).then(r.bind(null,1273))},"v-9f0190e0":function(){return r.e(88).then(r.bind(null,1274))},"v-3ff73aa5":function(){return r.e(40).then(r.bind(null,1275))},"v-5de41bb6":function(){return r.e(61).then(r.bind(null,1276))},"v-1080dbe2":function(){return r.e(18).then(r.bind(null,1277))},"v-0c7f77bc":function(){return r.e(15).then(r.bind(null,1278))},"v-ace574d0":function(){return r.e(91).then(r.bind(null,1279))},"v-3c8dbd4b":function(){return r.e(38).then(r.bind(null,1280))},"v-27f6ecec":function(){return r.e(29).then(r.bind(null,1281))},"v-25bc4f18":function(){return r.e(28).then(r.bind(null,1282))},"v-7690c622":function(){return r.e(74).then(r.bind(null,1283))},"v-2e8c0cd0":function(){return r.e(32).then(r.bind(null,1284))},"v-74a44f51":function(){return r.e(71).then(r.bind(null,1285))},"v-021b3aa4":function(){return r.e(12).then(r.bind(null,1286))},"v-e468b710":function(){return r.e(103).then(r.bind(null,1287))},"v-aab392fc":function(){return r.e(90).then(r.bind(null,1288))},"v-5edad598":function(){return r.e(62).then(r.bind(null,1289))},"v-422a7e52":function(){return r.e(43).then(r.bind(null,1290))},"v-1ccc22d8":function(){return r.e(24).then(r.bind(null,1291))},"v-c26b0310":function(){return r.e(96).then(r.bind(null,1292))},"v-302e6251":function(){return r.e(33).then(r.bind(null,1293))},"v-66061c06":function(){return r.e(64).then(r.bind(null,1294))},"v-d6c4343e":function(){return r.e(102).then(r.bind(null,1295))},"v-4829d184":function(){return r.e(48).then(r.bind(null,1296))},"v-4dc54ba5":function(){return r.e(54).then(r.bind(null,1297))},"v-21fcb945":function(){return r.e(27).then(r.bind(null,1199))},"v-c60be50a":function(){return r.e(100).then(r.bind(null,1298))},"v-4d7e2aa5":function(){return r.e(51).then(r.bind(null,1299))},"v-f313c186":function(){return r.e(107).then(r.bind(null,1300))},"v-518ca8d8":function(){return r.e(56).then(r.bind(null,1200))},"v-3cdc4745":function(){return r.e(39).then(r.bind(null,1301))},"v-4144513c":function(){return r.e(42).then(r.bind(null,1302))},"v-720c8312":function(){return r.e(70).then(r.bind(null,1303))}};function a(t){const e=Object.create(null);return function(r){return e[r]||(e[r]=t(r))}}r.d(e,"d",function(){return v}),r.d(e,"c",function(){return w}),r.d(e,"b",function(){return b}),r.d(e,"e",function(){return _}),r.d(e,"a",function(){return E}),r.d(e,"f",function(){return C}),r.d(e,"g",function(){return k}),r.d(e,"h",function(){return x});const s=/-(\w)/g,c=a(t=>t.replace(s,(t,e)=>e?e.toUpperCase():"")),u=/\B([A-Z])/g,l=a(t=>t.replace(u,"-$1").toLowerCase()),h=a(t=>t.charAt(0).toUpperCase()+t.slice(1));function p(t,e){if(!e)return;if(t(e))return t(e);return e.includes("-")?t(h(c(e))):t(h(e))||t(l(e))}const d=Object.assign({},i,o),f=t=>d[t],g=t=>o[t],m=t=>i[t],y=t=>n.default.component(t);function v(t){return p(g,t)}function w(t){return p(m,t)}function b(t){return p(f,t)}function _(t){return p(y,t)}function E(...t){return Promise.all(t.filter(t=>t).map(async t=>{if(!_(t)&&b(t)){const e=await b(t)();n.default.component(t,e.default)}}))}function C(t,e,r){switch(e){case"components":t[e]||(t[e]={}),Object.assign(t[e],r);break;case"mixins":t[e]||(t[e]=[]),t[e].push(...r);break;default:throw new Error("Unknown option name.")}}function k(t,e){const{$localePath:r}=t;return"object"==typeof e&&e[r]?e[r]:e}function x(t,e){"undefined"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[t]=e)}},function(t,e,r){"use strict";r.r(e),r.d(e,"__extends",function(){return i}),r.d(e,"__assign",function(){return o}),r.d(e,"__rest",function(){return a}),r.d(e,"__decorate",function(){return s}),r.d(e,"__param",function(){return c}),r.d(e,"__metadata",function(){return u}),r.d(e,"__awaiter",function(){return l}),r.d(e,"__generator",function(){return h}),r.d(e,"__exportStar",function(){return p}),r.d(e,"__values",function(){return d}),r.d(e,"__read",function(){return f}),r.d(e,"__spread",function(){return g}),r.d(e,"__spreadArrays",function(){return m}),r.d(e,"__await",function(){return y}),r.d(e,"__asyncGenerator",function(){return v}),r.d(e,"__asyncDelegator",function(){return w}),r.d(e,"__asyncValues",function(){return b}),r.d(e,"__makeTemplateObject",function(){return _}),r.d(e,"__importStar",function(){return E}),r.d(e,"__importDefault",function(){return C});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function i(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var o=function(){return(o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function s(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a}function c(t,e){return function(r,n){e(r,n,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{c(n.next(t))}catch(t){o(t)}}function s(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(a,s)}c((n=n.apply(t,e||[])).next())})}function h(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function p(t,e){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}function d(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function f(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}function m(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(t){i[t]&&(n[t]=function(e){return new Promise(function(r,n){o.push([t,e,r,n])>1||s(t,e)})})}function s(t,e){try{(r=i[t](e)).value instanceof y?Promise.resolve(r.value.v).then(c,u):l(o[0][2],r)}catch(t){l(o[0][3],t)}var r}function c(t){s("next",t)}function u(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(t){var e,r;return e={},n("next"),n("throw",function(t){throw t}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:y(t[n](e)),done:"return"===n}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=d(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise(function(n,i){(function(t,e,r,n){Promise.resolve(n).then(function(e){t({value:e,done:r})},e)})(n,i,(e=t[r](e)).done,e.value)})}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(32),i=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o="[DEFAULT]",a=[],s=function(){function t(t,e,r){this.firebase_=r,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=n.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){a.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){a=a.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(r){Object.keys(t.services_[r]).forEach(function(n){e.push(t.services_[r][n])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=o),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var r=e!==o?e:void 0,n=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),r);this.services_[t][e]=n}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;n.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(a.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),a=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&c("app-deleted",{name:this.name_})},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c(t,e){throw u.create(t,e)}s.prototype.name&&s.prototype.options||s.prototype.delete||console.log("dc");var u=new n.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),l=!1;try{l="[object process]"===Object.prototype.toString.call(global.process)}catch(t){}l&&console.warn('\nWarning: This is a browser-targeted Firebase bundle but it appears it is being\nrun in a Node environment.  If running in a Node environment, make sure you\nare using the bundle specified by the "main" field in package.json.\n\nIf you are using Webpack, you can specify "main" as the first item in\n"resolve.mainFields":\nhttps://webpack.js.org/configuration/resolve/#resolvemainfields\n\nIf using Rollup, use the rollup-plugin-node-resolve plugin and set "module"\nto false and "main" to true:\nhttps://github.com/rollup/rollup-plugin-node-resolve\n');var h=function t(){var e={},r={},a={},u={__esModule:!0,initializeApp:function(t,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var n=r;void 0===n.name&&(n.name=o);var a=n.name;"string"==typeof a&&a||c("bad-app-name",{name:a+""}),i(e,a)&&c("duplicate-app",{name:a});var l=new s(t,n,u);return e[a]=l,p(l,"create"),l},app:l,apps:null,Promise:Promise,SDK_VERSION:"5.8.6",INTERNAL:{registerService:function(t,e,i,o,p){r[t]&&c("duplicate-service",{name:t}),r[t]=e,o&&(a[t]=o,h().forEach(function(t){o("create",t)}));var d=function(e){return void 0===e&&(e=l()),"function"!=typeof e[t]&&c("invalid-app-argument",{name:t}),e[t]()};return void 0!==i&&n.deepExtend(d,i),u[t]=d,s.prototype[t]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this._getService.bind(this,t);return n.apply(this,p?e:[])},d},createFirebaseNamespace:t,extendNamespace:function(t){n.deepExtend(u,t)},createSubscribe:n.createSubscribe,ErrorFactory:n.ErrorFactory,removeApp:function(t){p(e[t],"delete"),delete e[t]},factories:r,useAsService:d,Promise:Promise,deepExtend:n.deepExtend}};function l(t){return i(e,t=t||o)||c("no-app",{name:t}),e[t]}function h(){return Object.keys(e).map(function(t){return e[t]})}function p(t,e){Object.keys(r).forEach(function(r){var n=d(t,r);null!==n&&a[n]&&a[n](e,t)})}function d(t,e){if("serverAuth"===e)return null;var r=e;return t.options,r}return n.patchProperty(u,"default",u),Object.defineProperty(u,"apps",{get:h}),n.patchProperty(l,"App",s),u}();e.firebase=h,e.default=h},function(t,e,r){"use strict";r.r(e);
/*!
 * Vue.js v2.6.10
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function i(t){return null==t}function o(t){return null!=t}function a(t){return!0===t}function s(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function c(t){return null!==t&&"object"==typeof t}var u=Object.prototype.toString;function l(t){return"[object Object]"===u.call(t)}function h(t){return"[object RegExp]"===u.call(t)}function p(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function d(t){return o(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function f(t){return null==t?"":Array.isArray(t)||l(t)&&t.toString===u?JSON.stringify(t,null,2):String(t)}function g(t){var e=parseFloat(t);return isNaN(e)?t:e}function m(t,e){for(var r=Object.create(null),n=t.split(","),i=0;i<n.length;i++)r[n[i]]=!0;return e?function(t){return r[t.toLowerCase()]}:function(t){return r[t]}}m("slot,component",!0);var y=m("key,ref,slot,slot-scope,is");function v(t,e){if(t.length){var r=t.indexOf(e);if(r>-1)return t.splice(r,1)}}var w=Object.prototype.hasOwnProperty;function b(t,e){return w.call(t,e)}function _(t){var e=Object.create(null);return function(r){return e[r]||(e[r]=t(r))}}var E=/-(\w)/g,C=_(function(t){return t.replace(E,function(t,e){return e?e.toUpperCase():""})}),k=_(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),x=/\B([A-Z])/g,T=_(function(t){return t.replace(x,"-$1").toLowerCase()});var S=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function r(r){var n=arguments.length;return n?n>1?t.apply(e,arguments):t.call(e,r):t.call(e)}return r._length=t.length,r};function A(t,e){e=e||0;for(var r=t.length-e,n=new Array(r);r--;)n[r]=t[r+e];return n}function I(t,e){for(var r in e)t[r]=e[r];return t}function N(t){for(var e={},r=0;r<t.length;r++)t[r]&&I(e,t[r]);return e}function P(t,e,r){}var D=function(t,e,r){return!1},O=function(t){return t};function R(t,e){if(t===e)return!0;var r=c(t),n=c(e);if(!r||!n)return!r&&!n&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every(function(t,r){return R(t,e[r])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var a=Object.keys(t),s=Object.keys(e);return a.length===s.length&&a.every(function(r){return R(t[r],e[r])})}catch(t){return!1}}function j(t,e){for(var r=0;r<t.length;r++)if(R(t[r],e))return r;return-1}function B(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var M="data-server-rendered",F=["component","directive","filter"],L=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],q={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:D,isReservedAttr:D,isUnknownElement:D,getTagNamespace:P,parsePlatformTagName:O,mustUseProp:D,async:!0,_lifecycleHooks:L},V=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function U(t,e,r,n){Object.defineProperty(t,e,{value:r,enumerable:!!n,writable:!0,configurable:!0})}var W=new RegExp("[^"+V.source+".$_\\d]");var z,H="__proto__"in{},J="undefined"!=typeof window,G="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,K=G&&WXEnvironment.platform.toLowerCase(),$=J&&window.navigator.userAgent.toLowerCase(),Q=$&&/msie|trident/.test($),Y=$&&$.indexOf("msie 9.0")>0,X=$&&$.indexOf("edge/")>0,Z=($&&$.indexOf("android"),$&&/iphone|ipad|ipod|ios/.test($)||"ios"===K),tt=($&&/chrome\/\d+/.test($),$&&/phantomjs/.test($),$&&$.match(/firefox\/(\d+)/)),et={}.watch,rt=!1;if(J)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){rt=!0}}),window.addEventListener("test-passive",null,nt)}catch(t){}var it=function(){return void 0===z&&(z=!J&&!G&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),z},ot=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function at(t){return"function"==typeof t&&/native code/.test(t.toString())}var st,ct="undefined"!=typeof Symbol&&at(Symbol)&&"undefined"!=typeof Reflect&&at(Reflect.ownKeys);st="undefined"!=typeof Set&&at(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ut=P,lt=0,ht=function(){this.id=lt++,this.subs=[]};ht.prototype.addSub=function(t){this.subs.push(t)},ht.prototype.removeSub=function(t){v(this.subs,t)},ht.prototype.depend=function(){ht.target&&ht.target.addDep(this)},ht.prototype.notify=function(){var t=this.subs.slice();for(var e=0,r=t.length;e<r;e++)t[e].update()},ht.target=null;var pt=[];function dt(t){pt.push(t),ht.target=t}function ft(){pt.pop(),ht.target=pt[pt.length-1]}var gt=function(t,e,r,n,i,o,a,s){this.tag=t,this.data=e,this.children=r,this.text=n,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},mt={child:{configurable:!0}};mt.child.get=function(){return this.componentInstance},Object.defineProperties(gt.prototype,mt);var yt=function(t){void 0===t&&(t="");var e=new gt;return e.text=t,e.isComment=!0,e};function vt(t){return new gt(void 0,void 0,void 0,String(t))}function wt(t){var e=new gt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var bt=Array.prototype,_t=Object.create(bt);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=bt[t];U(_t,t,function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];var i,o=e.apply(this,r),a=this.__ob__;switch(t){case"push":case"unshift":i=r;break;case"splice":i=r.slice(2)}return i&&a.observeArray(i),a.dep.notify(),o})});var Et=Object.getOwnPropertyNames(_t),Ct=!0;function kt(t){Ct=t}var xt=function(t){this.value=t,this.dep=new ht,this.vmCount=0,U(t,"__ob__",this),Array.isArray(t)?(H?function(t,e){t.__proto__=e}(t,_t):function(t,e,r){for(var n=0,i=r.length;n<i;n++){var o=r[n];U(t,o,e[o])}}(t,_t,Et),this.observeArray(t)):this.walk(t)};function Tt(t,e){var r;if(c(t)&&!(t instanceof gt))return b(t,"__ob__")&&t.__ob__ instanceof xt?r=t.__ob__:Ct&&!it()&&(Array.isArray(t)||l(t))&&Object.isExtensible(t)&&!t._isVue&&(r=new xt(t)),e&&r&&r.vmCount++,r}function St(t,e,r,n,i){var o=new ht,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var s=a&&a.get,c=a&&a.set;s&&!c||2!==arguments.length||(r=t[e]);var u=!i&&Tt(r);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):r;return ht.target&&(o.depend(),u&&(u.dep.depend(),Array.isArray(e)&&function t(e){for(var r=void 0,n=0,i=e.length;n<i;n++)(r=e[n])&&r.__ob__&&r.__ob__.dep.depend(),Array.isArray(r)&&t(r)}(e))),e},set:function(e){var n=s?s.call(t):r;e===n||e!=e&&n!=n||s&&!c||(c?c.call(t,e):r=e,u=!i&&Tt(e),o.notify())}})}}function At(t,e,r){if(Array.isArray(t)&&p(e))return t.length=Math.max(t.length,e),t.splice(e,1,r),r;if(e in t&&!(e in Object.prototype))return t[e]=r,r;var n=t.__ob__;return t._isVue||n&&n.vmCount?r:n?(St(n.value,e,r),n.dep.notify(),r):(t[e]=r,r)}function It(t,e){if(Array.isArray(t)&&p(e))t.splice(e,1);else{var r=t.__ob__;t._isVue||r&&r.vmCount||b(t,e)&&(delete t[e],r&&r.dep.notify())}}xt.prototype.walk=function(t){for(var e=Object.keys(t),r=0;r<e.length;r++)St(t,e[r])},xt.prototype.observeArray=function(t){for(var e=0,r=t.length;e<r;e++)Tt(t[e])};var Nt=q.optionMergeStrategies;function Pt(t,e){if(!e)return t;for(var r,n,i,o=ct?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)"__ob__"!==(r=o[a])&&(n=t[r],i=e[r],b(t,r)?n!==i&&l(n)&&l(i)&&Pt(n,i):At(t,r,i));return t}function Dt(t,e,r){return r?function(){var n="function"==typeof e?e.call(r,r):e,i="function"==typeof t?t.call(r,r):t;return n?Pt(n,i):i}:e?t?function(){return Pt("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Ot(t,e){var r=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return r?function(t){for(var e=[],r=0;r<t.length;r++)-1===e.indexOf(t[r])&&e.push(t[r]);return e}(r):r}function Rt(t,e,r,n){var i=Object.create(t||null);return e?I(i,e):i}Nt.data=function(t,e,r){return r?Dt(t,e,r):e&&"function"!=typeof e?t:Dt(t,e)},L.forEach(function(t){Nt[t]=Ot}),F.forEach(function(t){Nt[t+"s"]=Rt}),Nt.watch=function(t,e,r,n){if(t===et&&(t=void 0),e===et&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var o in I(i,t),e){var a=i[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},Nt.props=Nt.methods=Nt.inject=Nt.computed=function(t,e,r,n){if(!t)return e;var i=Object.create(null);return I(i,t),e&&I(i,e),i},Nt.provide=Dt;var jt=function(t,e){return void 0===e?t:e};function Bt(t,e,r){if("function"==typeof e&&(e=e.options),function(t,e){var r=t.props;if(r){var n,i,o={};if(Array.isArray(r))for(n=r.length;n--;)"string"==typeof(i=r[n])&&(o[C(i)]={type:null});else if(l(r))for(var a in r)i=r[a],o[C(a)]=l(i)?i:{type:i};else 0;t.props=o}}(e),function(t,e){var r=t.inject;if(r){var n=t.inject={};if(Array.isArray(r))for(var i=0;i<r.length;i++)n[r[i]]={from:r[i]};else if(l(r))for(var o in r){var a=r[o];n[o]=l(a)?I({from:o},a):{from:a}}else 0}}(e),function(t){var e=t.directives;if(e)for(var r in e){var n=e[r];"function"==typeof n&&(e[r]={bind:n,update:n})}}(e),!e._base&&(e.extends&&(t=Bt(t,e.extends,r)),e.mixins))for(var n=0,i=e.mixins.length;n<i;n++)t=Bt(t,e.mixins[n],r);var o,a={};for(o in t)s(o);for(o in e)b(t,o)||s(o);function s(n){var i=Nt[n]||jt;a[n]=i(t[n],e[n],r,n)}return a}function Mt(t,e,r,n){if("string"==typeof r){var i=t[e];if(b(i,r))return i[r];var o=C(r);if(b(i,o))return i[o];var a=k(o);return b(i,a)?i[a]:i[r]||i[o]||i[a]}}function Ft(t,e,r,n){var i=e[t],o=!b(r,t),a=r[t],s=Vt(Boolean,i.type);if(s>-1)if(o&&!b(i,"default"))a=!1;else if(""===a||a===T(t)){var c=Vt(String,i.type);(c<0||s<c)&&(a=!0)}if(void 0===a){a=function(t,e,r){if(!b(e,"default"))return;var n=e.default;0;if(t&&t.$options.propsData&&void 0===t.$options.propsData[r]&&void 0!==t._props[r])return t._props[r];return"function"==typeof n&&"Function"!==Lt(e.type)?n.call(t):n}(n,i,t);var u=Ct;kt(!0),Tt(a),kt(u)}return a}function Lt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function qt(t,e){return Lt(t)===Lt(e)}function Vt(t,e){if(!Array.isArray(e))return qt(e,t)?0:-1;for(var r=0,n=e.length;r<n;r++)if(qt(e[r],t))return r;return-1}function Ut(t,e,r){dt();try{if(e)for(var n=e;n=n.$parent;){var i=n.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{if(!1===i[o].call(n,t,e,r))return}catch(t){zt(t,n,"errorCaptured hook")}}zt(t,e,r)}finally{ft()}}function Wt(t,e,r,n,i){var o;try{(o=r?t.apply(e,r):t.call(e))&&!o._isVue&&d(o)&&!o._handled&&(o.catch(function(t){return Ut(t,n,i+" (Promise/async)")}),o._handled=!0)}catch(t){Ut(t,n,i)}return o}function zt(t,e,r){if(q.errorHandler)try{return q.errorHandler.call(null,t,e,r)}catch(e){e!==t&&Ht(e,null,"config.errorHandler")}Ht(t,e,r)}function Ht(t,e,r){if(!J&&!G||"undefined"==typeof console)throw t;console.error(t)}var Jt,Gt=!1,Kt=[],$t=!1;function Qt(){$t=!1;var t=Kt.slice(0);Kt.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&at(Promise)){var Yt=Promise.resolve();Jt=function(){Yt.then(Qt),Z&&setTimeout(P)},Gt=!0}else if(Q||"undefined"==typeof MutationObserver||!at(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Jt="undefined"!=typeof setImmediate&&at(setImmediate)?function(){setImmediate(Qt)}:function(){setTimeout(Qt,0)};else{var Xt=1,Zt=new MutationObserver(Qt),te=document.createTextNode(String(Xt));Zt.observe(te,{characterData:!0}),Jt=function(){Xt=(Xt+1)%2,te.data=String(Xt)},Gt=!0}function ee(t,e){var r;if(Kt.push(function(){if(t)try{t.call(e)}catch(t){Ut(t,e,"nextTick")}else r&&r(e)}),$t||($t=!0,Jt()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){r=t})}var re=new st;function ne(t){!function t(e,r){var n,i;var o=Array.isArray(e);if(!o&&!c(e)||Object.isFrozen(e)||e instanceof gt)return;if(e.__ob__){var a=e.__ob__.dep.id;if(r.has(a))return;r.add(a)}if(o)for(n=e.length;n--;)t(e[n],r);else for(i=Object.keys(e),n=i.length;n--;)t(e[i[n]],r)}(t,re),re.clear()}var ie=_(function(t){var e="&"===t.charAt(0),r="~"===(t=e?t.slice(1):t).charAt(0),n="!"===(t=r?t.slice(1):t).charAt(0);return{name:t=n?t.slice(1):t,once:r,capture:n,passive:e}});function oe(t,e){function r(){var t=arguments,n=r.fns;if(!Array.isArray(n))return Wt(n,null,arguments,e,"v-on handler");for(var i=n.slice(),o=0;o<i.length;o++)Wt(i[o],null,t,e,"v-on handler")}return r.fns=t,r}function ae(t,e,r,n,o,s){var c,u,l,h;for(c in t)u=t[c],l=e[c],h=ie(c),i(u)||(i(l)?(i(u.fns)&&(u=t[c]=oe(u,s)),a(h.once)&&(u=t[c]=o(h.name,u,h.capture)),r(h.name,u,h.capture,h.passive,h.params)):u!==l&&(l.fns=u,t[c]=l));for(c in e)i(t[c])&&n((h=ie(c)).name,e[c],h.capture)}function se(t,e,r){var n;t instanceof gt&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function c(){r.apply(this,arguments),v(n.fns,c)}i(s)?n=oe([c]):o(s.fns)&&a(s.merged)?(n=s).fns.push(c):n=oe([s,c]),n.merged=!0,t[e]=n}function ce(t,e,r,n,i){if(o(e)){if(b(e,r))return t[r]=e[r],i||delete e[r],!0;if(b(e,n))return t[r]=e[n],i||delete e[n],!0}return!1}function ue(t){return s(t)?[vt(t)]:Array.isArray(t)?function t(e,r){var n=[];var c,u,l,h;for(c=0;c<e.length;c++)i(u=e[c])||"boolean"==typeof u||(l=n.length-1,h=n[l],Array.isArray(u)?u.length>0&&(le((u=t(u,(r||"")+"_"+c))[0])&&le(h)&&(n[l]=vt(h.text+u[0].text),u.shift()),n.push.apply(n,u)):s(u)?le(h)?n[l]=vt(h.text+u):""!==u&&n.push(vt(u)):le(u)&&le(h)?n[l]=vt(h.text+u.text):(a(e._isVList)&&o(u.tag)&&i(u.key)&&o(r)&&(u.key="__vlist"+r+"_"+c+"__"),n.push(u)));return n}(t):void 0}function le(t){return o(t)&&o(t.text)&&!1===t.isComment}function he(t,e){if(t){for(var r=Object.create(null),n=ct?Reflect.ownKeys(t):Object.keys(t),i=0;i<n.length;i++){var o=n[i];if("__ob__"!==o){for(var a=t[o].from,s=e;s;){if(s._provided&&b(s._provided,a)){r[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in t[o]){var c=t[o].default;r[o]="function"==typeof c?c.call(e):c}else 0}}return r}}function pe(t,e){if(!t||!t.length)return{};for(var r={},n=0,i=t.length;n<i;n++){var o=t[n],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(r.default||(r.default=[])).push(o);else{var s=a.slot,c=r[s]||(r[s]=[]);"template"===o.tag?c.push.apply(c,o.children||[]):c.push(o)}}for(var u in r)r[u].every(de)&&delete r[u];return r}function de(t){return t.isComment&&!t.asyncFactory||" "===t.text}function fe(t,e,r){var i,o=Object.keys(e).length>0,a=t?!!t.$stable:!o,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&r&&r!==n&&s===r.$key&&!o&&!r.$hasNormal)return r;for(var c in i={},t)t[c]&&"$"!==c[0]&&(i[c]=ge(e,c,t[c]))}else i={};for(var u in e)u in i||(i[u]=me(e,u));return t&&Object.isExtensible(t)&&(t._normalized=i),U(i,"$stable",a),U(i,"$key",s),U(i,"$hasNormal",o),i}function ge(t,e,r){var n=function(){var t=arguments.length?r.apply(null,arguments):r({});return(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:ue(t))&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return r.proxy&&Object.defineProperty(t,e,{get:n,enumerable:!0,configurable:!0}),n}function me(t,e){return function(){return t[e]}}function ye(t,e){var r,n,i,a,s;if(Array.isArray(t)||"string"==typeof t)for(r=new Array(t.length),n=0,i=t.length;n<i;n++)r[n]=e(t[n],n);else if("number"==typeof t)for(r=new Array(t),n=0;n<t;n++)r[n]=e(n+1,n);else if(c(t))if(ct&&t[Symbol.iterator]){r=[];for(var u=t[Symbol.iterator](),l=u.next();!l.done;)r.push(e(l.value,r.length)),l=u.next()}else for(a=Object.keys(t),r=new Array(a.length),n=0,i=a.length;n<i;n++)s=a[n],r[n]=e(t[s],s,n);return o(r)||(r=[]),r._isVList=!0,r}function ve(t,e,r,n){var i,o=this.$scopedSlots[t];o?(r=r||{},n&&(r=I(I({},n),r)),i=o(r)||e):i=this.$slots[t]||e;var a=r&&r.slot;return a?this.$createElement("template",{slot:a},i):i}function we(t){return Mt(this.$options,"filters",t)||O}function be(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function _e(t,e,r,n,i){var o=q.keyCodes[e]||r;return i&&n&&!q.keyCodes[e]?be(i,n):o?be(o,t):n?T(n)!==e:void 0}function Ee(t,e,r,n,i){if(r)if(c(r)){var o;Array.isArray(r)&&(r=N(r));var a=function(a){if("class"===a||"style"===a||y(a))o=t;else{var s=t.attrs&&t.attrs.type;o=n||q.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var c=C(a),u=T(a);c in o||u in o||(o[a]=r[a],i&&((t.on||(t.on={}))["update:"+a]=function(t){r[a]=t}))};for(var s in r)a(s)}else;return t}function Ce(t,e){var r=this._staticTrees||(this._staticTrees=[]),n=r[t];return n&&!e?n:(xe(n=r[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),n)}function ke(t,e,r){return xe(t,"__once__"+e+(r?"_"+r:""),!0),t}function xe(t,e,r){if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]&&"string"!=typeof t[n]&&Te(t[n],e+"_"+n,r);else Te(t,e,r)}function Te(t,e,r){t.isStatic=!0,t.key=e,t.isOnce=r}function Se(t,e){if(e)if(l(e)){var r=t.on=t.on?I({},t.on):{};for(var n in e){var i=r[n],o=e[n];r[n]=i?[].concat(i,o):o}}else;return t}function Ae(t,e,r,n){e=e||{$stable:!r};for(var i=0;i<t.length;i++){var o=t[i];Array.isArray(o)?Ae(o,e,r):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return n&&(e.$key=n),e}function Ie(t,e){for(var r=0;r<e.length;r+=2){var n=e[r];"string"==typeof n&&n&&(t[e[r]]=e[r+1])}return t}function Ne(t,e){return"string"==typeof t?e+t:t}function Pe(t){t._o=ke,t._n=g,t._s=f,t._l=ye,t._t=ve,t._q=R,t._i=j,t._m=Ce,t._f=we,t._k=_e,t._b=Ee,t._v=vt,t._e=yt,t._u=Ae,t._g=Se,t._d=Ie,t._p=Ne}function De(t,e,r,i,o){var s,c=this,u=o.options;b(i,"_uid")?(s=Object.create(i))._original=i:(s=i,i=i._original);var l=a(u._compiled),h=!l;this.data=t,this.props=e,this.children=r,this.parent=i,this.listeners=t.on||n,this.injections=he(u.inject,i),this.slots=function(){return c.$slots||fe(t.scopedSlots,c.$slots=pe(r,i)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return fe(t.scopedSlots,this.slots())}}),l&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=fe(t.scopedSlots,this.$slots)),u._scopeId?this._c=function(t,e,r,n){var o=Ve(s,t,e,r,n,h);return o&&!Array.isArray(o)&&(o.fnScopeId=u._scopeId,o.fnContext=i),o}:this._c=function(t,e,r,n){return Ve(s,t,e,r,n,h)}}function Oe(t,e,r,n,i){var o=wt(t);return o.fnContext=r,o.fnOptions=n,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function Re(t,e){for(var r in e)t[C(r)]=e[r]}Pe(De.prototype);var je={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var r=t;je.prepatch(r,r)}else{(t.componentInstance=function(t,e){var r={_isComponent:!0,_parentVnode:t,parent:e},n=t.data.inlineTemplate;o(n)&&(r.render=n.render,r.staticRenderFns=n.staticRenderFns);return new t.componentOptions.Ctor(r)}(t,Ye)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var r=e.componentOptions;!function(t,e,r,i,o){0;var a=i.data.scopedSlots,s=t.$scopedSlots,c=!!(a&&!a.$stable||s!==n&&!s.$stable||a&&t.$scopedSlots.$key!==a.$key),u=!!(o||t.$options._renderChildren||c);t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i);if(t.$options._renderChildren=o,t.$attrs=i.data.attrs||n,t.$listeners=r||n,e&&t.$options.props){kt(!1);for(var l=t._props,h=t.$options._propKeys||[],p=0;p<h.length;p++){var d=h[p],f=t.$options.props;l[d]=Ft(d,f,e,t)}kt(!0),t.$options.propsData=e}r=r||n;var g=t.$options._parentListeners;t.$options._parentListeners=r,Qe(t,r,g),u&&(t.$slots=pe(o,i.context),t.$forceUpdate());0}(e.componentInstance=t.componentInstance,r.propsData,r.listeners,e,r.children)},insert:function(t){var e,r=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,er(n,"mounted")),t.data.keepAlive&&(r._isMounted?((e=n)._inactive=!1,nr.push(e)):tr(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,r){if(r&&(e._directInactive=!0,Ze(e)))return;if(!e._inactive){e._inactive=!0;for(var n=0;n<e.$children.length;n++)t(e.$children[n]);er(e,"deactivated")}}(e,!0):e.$destroy())}},Be=Object.keys(je);function Me(t,e,r,s,u){if(!i(t)){var l=r.$options._base;if(c(t)&&(t=l.extend(t)),"function"==typeof t){var h;if(i(t.cid)&&void 0===(t=function(t,e){if(a(t.error)&&o(t.errorComp))return t.errorComp;if(o(t.resolved))return t.resolved;var r=We;r&&o(t.owners)&&-1===t.owners.indexOf(r)&&t.owners.push(r);if(a(t.loading)&&o(t.loadingComp))return t.loadingComp;if(r&&!o(t.owners)){var n=t.owners=[r],s=!0,u=null,l=null;r.$on("hook:destroyed",function(){return v(n,r)});var h=function(t){for(var e=0,r=n.length;e<r;e++)n[e].$forceUpdate();t&&(n.length=0,null!==u&&(clearTimeout(u),u=null),null!==l&&(clearTimeout(l),l=null))},p=B(function(r){t.resolved=ze(r,e),s?n.length=0:h(!0)}),f=B(function(e){o(t.errorComp)&&(t.error=!0,h(!0))}),g=t(p,f);return c(g)&&(d(g)?i(t.resolved)&&g.then(p,f):d(g.component)&&(g.component.then(p,f),o(g.error)&&(t.errorComp=ze(g.error,e)),o(g.loading)&&(t.loadingComp=ze(g.loading,e),0===g.delay?t.loading=!0:u=setTimeout(function(){u=null,i(t.resolved)&&i(t.error)&&(t.loading=!0,h(!1))},g.delay||200)),o(g.timeout)&&(l=setTimeout(function(){l=null,i(t.resolved)&&f(null)},g.timeout)))),s=!1,t.loading?t.loadingComp:t.resolved}}(h=t,l)))return function(t,e,r,n,i){var o=yt();return o.asyncFactory=t,o.asyncMeta={data:e,context:r,children:n,tag:i},o}(h,e,r,s,u);e=e||{},Cr(t),o(e.model)&&function(t,e){var r=t.model&&t.model.prop||"value",n=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[r]=e.model.value;var i=e.on||(e.on={}),a=i[n],s=e.model.callback;o(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(i[n]=[s].concat(a)):i[n]=s}(t.options,e);var p=function(t,e,r){var n=e.options.props;if(!i(n)){var a={},s=t.attrs,c=t.props;if(o(s)||o(c))for(var u in n){var l=T(u);ce(a,c,u,l,!0)||ce(a,s,u,l,!1)}return a}}(e,t);if(a(t.options.functional))return function(t,e,r,i,a){var s=t.options,c={},u=s.props;if(o(u))for(var l in u)c[l]=Ft(l,u,e||n);else o(r.attrs)&&Re(c,r.attrs),o(r.props)&&Re(c,r.props);var h=new De(r,c,a,i,t),p=s.render.call(null,h._c,h);if(p instanceof gt)return Oe(p,r,h.parent,s,h);if(Array.isArray(p)){for(var d=ue(p)||[],f=new Array(d.length),g=0;g<d.length;g++)f[g]=Oe(d[g],r,h.parent,s,h);return f}}(t,p,e,r,s);var f=e.on;if(e.on=e.nativeOn,a(t.options.abstract)){var g=e.slot;e={},g&&(e.slot=g)}!function(t){for(var e=t.hook||(t.hook={}),r=0;r<Be.length;r++){var n=Be[r],i=e[n],o=je[n];i===o||i&&i._merged||(e[n]=i?Fe(o,i):o)}}(e);var m=t.options.name||u;return new gt("vue-component-"+t.cid+(m?"-"+m:""),e,void 0,void 0,void 0,r,{Ctor:t,propsData:p,listeners:f,tag:u,children:s},h)}}}function Fe(t,e){var r=function(r,n){t(r,n),e(r,n)};return r._merged=!0,r}var Le=1,qe=2;function Ve(t,e,r,n,u,l){return(Array.isArray(r)||s(r))&&(u=n,n=r,r=void 0),a(l)&&(u=qe),function(t,e,r,n,s){if(o(r)&&o(r.__ob__))return yt();o(r)&&o(r.is)&&(e=r.is);if(!e)return yt();0;Array.isArray(n)&&"function"==typeof n[0]&&((r=r||{}).scopedSlots={default:n[0]},n.length=0);s===qe?n=ue(n):s===Le&&(n=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(n));var u,l;if("string"==typeof e){var h;l=t.$vnode&&t.$vnode.ns||q.getTagNamespace(e),u=q.isReservedTag(e)?new gt(q.parsePlatformTagName(e),r,n,void 0,void 0,t):r&&r.pre||!o(h=Mt(t.$options,"components",e))?new gt(e,r,n,void 0,void 0,t):Me(h,r,t,n,e)}else u=Me(e,r,t,n);return Array.isArray(u)?u:o(u)?(o(l)&&function t(e,r,n){e.ns=r;"foreignObject"===e.tag&&(r=void 0,n=!0);if(o(e.children))for(var s=0,c=e.children.length;s<c;s++){var u=e.children[s];o(u.tag)&&(i(u.ns)||a(n)&&"svg"!==u.tag)&&t(u,r,n)}}(u,l),o(r)&&function(t){c(t.style)&&ne(t.style);c(t.class)&&ne(t.class)}(r),u):yt()}(t,e,r,n,u)}var Ue,We=null;function ze(t,e){return(t.__esModule||ct&&"Module"===t[Symbol.toStringTag])&&(t=t.default),c(t)?e.extend(t):t}function He(t){return t.isComment&&t.asyncFactory}function Je(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var r=t[e];if(o(r)&&(o(r.componentOptions)||He(r)))return r}}function Ge(t,e){Ue.$on(t,e)}function Ke(t,e){Ue.$off(t,e)}function $e(t,e){var r=Ue;return function n(){var i=e.apply(null,arguments);null!==i&&r.$off(t,n)}}function Qe(t,e,r){Ue=t,ae(e,r||{},Ge,Ke,$e,t),Ue=void 0}var Ye=null;function Xe(t){var e=Ye;return Ye=t,function(){Ye=e}}function Ze(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function tr(t,e){if(e){if(t._directInactive=!1,Ze(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var r=0;r<t.$children.length;r++)tr(t.$children[r]);er(t,"activated")}}function er(t,e){dt();var r=t.$options[e],n=e+" hook";if(r)for(var i=0,o=r.length;i<o;i++)Wt(r[i],t,null,t,n);t._hasHookEvent&&t.$emit("hook:"+e),ft()}var rr=[],nr=[],ir={},or=!1,ar=!1,sr=0;var cr=0,ur=Date.now;if(J&&!Q){var lr=window.performance;lr&&"function"==typeof lr.now&&ur()>document.createEvent("Event").timeStamp&&(ur=function(){return lr.now()})}function hr(){var t,e;for(cr=ur(),ar=!0,rr.sort(function(t,e){return t.id-e.id}),sr=0;sr<rr.length;sr++)(t=rr[sr]).before&&t.before(),e=t.id,ir[e]=null,t.run();var r=nr.slice(),n=rr.slice();sr=rr.length=nr.length=0,ir={},or=ar=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,tr(t[e],!0)}(r),function(t){var e=t.length;for(;e--;){var r=t[e],n=r.vm;n._watcher===r&&n._isMounted&&!n._isDestroyed&&er(n,"updated")}}(n),ot&&q.devtools&&ot.emit("flush")}var pr=0,dr=function(t,e,r,n,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync,this.before=n.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=r,this.id=++pr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new st,this.newDepIds=new st,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!W.test(t)){var e=t.split(".");return function(t){for(var r=0;r<e.length;r++){if(!t)return;t=t[e[r]]}return t}}}(e),this.getter||(this.getter=P)),this.value=this.lazy?void 0:this.get()};dr.prototype.get=function(){var t;dt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Ut(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ne(t),ft(),this.cleanupDeps()}return t},dr.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},dr.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},dr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==ir[e]){if(ir[e]=!0,ar){for(var r=rr.length-1;r>sr&&rr[r].id>t.id;)r--;rr.splice(r+1,0,t)}else rr.push(t);or||(or=!0,ee(hr))}}(this)},dr.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||c(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){Ut(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},dr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},dr.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},dr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||v(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var fr={enumerable:!0,configurable:!0,get:P,set:P};function gr(t,e,r){fr.get=function(){return this[e][r]},fr.set=function(t){this[e][r]=t},Object.defineProperty(t,r,fr)}function mr(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var r=t.$options.propsData||{},n=t._props={},i=t.$options._propKeys=[];t.$parent&&kt(!1);var o=function(o){i.push(o);var a=Ft(o,e,r,t);St(n,o,a),o in t||gr(t,"_props",o)};for(var a in e)o(a);kt(!0)}(t,e.props),e.methods&&function(t,e){t.$options.props;for(var r in e)t[r]="function"!=typeof e[r]?P:S(e[r],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;l(e=t._data="function"==typeof e?function(t,e){dt();try{return t.call(e,e)}catch(t){return Ut(t,e,"data()"),{}}finally{ft()}}(e,t):e||{})||(e={});var r=Object.keys(e),n=t.$options.props,i=(t.$options.methods,r.length);for(;i--;){var o=r[i];0,n&&b(n,o)||(a=void 0,36!==(a=(o+"").charCodeAt(0))&&95!==a&&gr(t,"_data",o))}var a;Tt(e,!0)}(t):Tt(t._data={},!0),e.computed&&function(t,e){var r=t._computedWatchers=Object.create(null),n=it();for(var i in e){var o=e[i],a="function"==typeof o?o:o.get;0,n||(r[i]=new dr(t,a||P,P,yr)),i in t||vr(t,i,o)}}(t,e.computed),e.watch&&e.watch!==et&&function(t,e){for(var r in e){var n=e[r];if(Array.isArray(n))for(var i=0;i<n.length;i++)_r(t,r,n[i]);else _r(t,r,n)}}(t,e.watch)}var yr={lazy:!0};function vr(t,e,r){var n=!it();"function"==typeof r?(fr.get=n?wr(e):br(r),fr.set=P):(fr.get=r.get?n&&!1!==r.cache?wr(e):br(r.get):P,fr.set=r.set||P),Object.defineProperty(t,e,fr)}function wr(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),ht.target&&e.depend(),e.value}}function br(t){return function(){return t.call(this,this)}}function _r(t,e,r,n){return l(r)&&(n=r,r=r.handler),"string"==typeof r&&(r=t[r]),t.$watch(e,r,n)}var Er=0;function Cr(t){var e=t.options;if(t.super){var r=Cr(t.super);if(r!==t.superOptions){t.superOptions=r;var n=function(t){var e,r=t.options,n=t.sealedOptions;for(var i in r)r[i]!==n[i]&&(e||(e={}),e[i]=r[i]);return e}(t);n&&I(t.extendOptions,n),(e=t.options=Bt(r,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function kr(t){this._init(t)}function xr(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var r=this,n=r.cid,i=t._Ctor||(t._Ctor={});if(i[n])return i[n];var o=t.name||r.options.name;var a=function(t){this._init(t)};return(a.prototype=Object.create(r.prototype)).constructor=a,a.cid=e++,a.options=Bt(r.options,t),a.super=r,a.options.props&&function(t){var e=t.options.props;for(var r in e)gr(t.prototype,"_props",r)}(a),a.options.computed&&function(t){var e=t.options.computed;for(var r in e)vr(t.prototype,r,e[r])}(a),a.extend=r.extend,a.mixin=r.mixin,a.use=r.use,F.forEach(function(t){a[t]=r[t]}),o&&(a.options.components[o]=a),a.superOptions=r.options,a.extendOptions=t,a.sealedOptions=I({},a.options),i[n]=a,a}}function Tr(t){return t&&(t.Ctor.options.name||t.tag)}function Sr(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!h(t)&&t.test(e)}function Ar(t,e){var r=t.cache,n=t.keys,i=t._vnode;for(var o in r){var a=r[o];if(a){var s=Tr(a.componentOptions);s&&!e(s)&&Ir(r,o,n,i)}}}function Ir(t,e,r,n){var i=t[e];!i||n&&i.tag===n.tag||i.componentInstance.$destroy(),t[e]=null,v(r,e)}!function(t){t.prototype._init=function(t){var e=this;e._uid=Er++,e._isVue=!0,t&&t._isComponent?function(t,e){var r=t.$options=Object.create(t.constructor.options),n=e._parentVnode;r.parent=e.parent,r._parentVnode=n;var i=n.componentOptions;r.propsData=i.propsData,r._parentListeners=i.listeners,r._renderChildren=i.children,r._componentTag=i.tag,e.render&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=Bt(Cr(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,r=e.parent;if(r&&!e.abstract){for(;r.$options.abstract&&r.$parent;)r=r.$parent;r.$children.push(t)}t.$parent=r,t.$root=r?r.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Qe(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,r=t.$vnode=e._parentVnode,i=r&&r.context;t.$slots=pe(e._renderChildren,i),t.$scopedSlots=n,t._c=function(e,r,n,i){return Ve(t,e,r,n,i,!1)},t.$createElement=function(e,r,n,i){return Ve(t,e,r,n,i,!0)};var o=r&&r.data;St(t,"$attrs",o&&o.attrs||n,null,!0),St(t,"$listeners",e._parentListeners||n,null,!0)}(e),er(e,"beforeCreate"),function(t){var e=he(t.$options.inject,t);e&&(kt(!1),Object.keys(e).forEach(function(r){St(t,r,e[r])}),kt(!0))}(e),mr(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),er(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(kr),function(t){var e={get:function(){return this._data}},r={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",r),t.prototype.$set=At,t.prototype.$delete=It,t.prototype.$watch=function(t,e,r){if(l(e))return _r(this,t,e,r);(r=r||{}).user=!0;var n=new dr(this,t,e,r);if(r.immediate)try{e.call(this,n.value)}catch(t){Ut(t,this,'callback for immediate watcher "'+n.expression+'"')}return function(){n.teardown()}}}(kr),function(t){var e=/^hook:/;t.prototype.$on=function(t,r){var n=this;if(Array.isArray(t))for(var i=0,o=t.length;i<o;i++)n.$on(t[i],r);else(n._events[t]||(n._events[t]=[])).push(r),e.test(t)&&(n._hasHookEvent=!0);return n},t.prototype.$once=function(t,e){var r=this;function n(){r.$off(t,n),e.apply(r,arguments)}return n.fn=e,r.$on(t,n),r},t.prototype.$off=function(t,e){var r=this;if(!arguments.length)return r._events=Object.create(null),r;if(Array.isArray(t)){for(var n=0,i=t.length;n<i;n++)r.$off(t[n],e);return r}var o,a=r._events[t];if(!a)return r;if(!e)return r._events[t]=null,r;for(var s=a.length;s--;)if((o=a[s])===e||o.fn===e){a.splice(s,1);break}return r},t.prototype.$emit=function(t){var e=this,r=e._events[t];if(r){r=r.length>1?A(r):r;for(var n=A(arguments,1),i='event handler for "'+t+'"',o=0,a=r.length;o<a;o++)Wt(r[o],e,n,e,i)}return e}}(kr),function(t){t.prototype._update=function(t,e){var r=this,n=r.$el,i=r._vnode,o=Xe(r);r._vnode=t,r.$el=i?r.__patch__(i,t):r.__patch__(r.$el,t,e,!1),o(),n&&(n.__vue__=null),r.$el&&(r.$el.__vue__=r),r.$vnode&&r.$parent&&r.$vnode===r.$parent._vnode&&(r.$parent.$el=r.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){er(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||v(e.$children,t),t._watcher&&t._watcher.teardown();for(var r=t._watchers.length;r--;)t._watchers[r].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),er(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(kr),function(t){Pe(t.prototype),t.prototype.$nextTick=function(t){return ee(t,this)},t.prototype._render=function(){var t,e=this,r=e.$options,n=r.render,i=r._parentVnode;i&&(e.$scopedSlots=fe(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;try{We=e,t=n.call(e._renderProxy,e.$createElement)}catch(r){Ut(r,e,"render"),t=e._vnode}finally{We=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof gt||(t=yt()),t.parent=i,t}}(kr);var Nr=[String,RegExp,Array],Pr={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Nr,exclude:Nr,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Ir(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){Ar(t,function(t){return Sr(e,t)})}),this.$watch("exclude",function(e){Ar(t,function(t){return!Sr(e,t)})})},render:function(){var t=this.$slots.default,e=Je(t),r=e&&e.componentOptions;if(r){var n=Tr(r),i=this.include,o=this.exclude;if(i&&(!n||!Sr(i,n))||o&&n&&Sr(o,n))return e;var a=this.cache,s=this.keys,c=null==e.key?r.Ctor.cid+(r.tag?"::"+r.tag:""):e.key;a[c]?(e.componentInstance=a[c].componentInstance,v(s,c),s.push(c)):(a[c]=e,s.push(c),this.max&&s.length>parseInt(this.max)&&Ir(a,s[0],s,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return q}};Object.defineProperty(t,"config",e),t.util={warn:ut,extend:I,mergeOptions:Bt,defineReactive:St},t.set=At,t.delete=It,t.nextTick=ee,t.observable=function(t){return Tt(t),t},t.options=Object.create(null),F.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,I(t.options.components,Pr),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var r=A(arguments,1);return r.unshift(this),"function"==typeof t.install?t.install.apply(t,r):"function"==typeof t&&t.apply(null,r),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Bt(this.options,t),this}}(t),xr(t),function(t){F.forEach(function(e){t[e]=function(t,r){return r?("component"===e&&l(r)&&(r.name=r.name||t,r=this.options._base.extend(r)),"directive"===e&&"function"==typeof r&&(r={bind:r,update:r}),this.options[e+"s"][t]=r,r):this.options[e+"s"][t]}})}(t)}(kr),Object.defineProperty(kr.prototype,"$isServer",{get:it}),Object.defineProperty(kr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(kr,"FunctionalRenderContext",{value:De}),kr.version="2.6.10";var Dr=m("style,class"),Or=m("input,textarea,option,select,progress"),Rr=m("contenteditable,draggable,spellcheck"),jr=m("events,caret,typing,plaintext-only"),Br=function(t,e){return Vr(e)||"false"===e?"false":"contenteditable"===t&&jr(e)?e:"true"},Mr=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Fr="http://www.w3.org/1999/xlink",Lr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},qr=function(t){return Lr(t)?t.slice(6,t.length):""},Vr=function(t){return null==t||!1===t};function Ur(t){for(var e=t.data,r=t,n=t;o(n.componentInstance);)(n=n.componentInstance._vnode)&&n.data&&(e=Wr(n.data,e));for(;o(r=r.parent);)r&&r.data&&(e=Wr(e,r.data));return function(t,e){if(o(t)||o(e))return zr(t,Hr(e));return""}(e.staticClass,e.class)}function Wr(t,e){return{staticClass:zr(t.staticClass,e.staticClass),class:o(t.class)?[t.class,e.class]:e.class}}function zr(t,e){return t?e?t+" "+e:t:e||""}function Hr(t){return Array.isArray(t)?function(t){for(var e,r="",n=0,i=t.length;n<i;n++)o(e=Hr(t[n]))&&""!==e&&(r&&(r+=" "),r+=e);return r}(t):c(t)?function(t){var e="";for(var r in t)t[r]&&(e&&(e+=" "),e+=r);return e}(t):"string"==typeof t?t:""}var Jr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Gr=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Kr=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),$r=function(t){return Gr(t)||Kr(t)};var Qr=Object.create(null);var Yr=m("text,number,password,search,email,tel,url");var Xr=Object.freeze({createElement:function(t,e){var r=document.createElement(t);return"select"!==t?r:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&r.setAttribute("multiple","multiple"),r)},createElementNS:function(t,e){return document.createElementNS(Jr[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,r){t.insertBefore(e,r)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),Zr={create:function(t,e){tn(e)},update:function(t,e){t.data.ref!==e.data.ref&&(tn(t,!0),tn(e))},destroy:function(t){tn(t,!0)}};function tn(t,e){var r=t.data.ref;if(o(r)){var n=t.context,i=t.componentInstance||t.elm,a=n.$refs;e?Array.isArray(a[r])?v(a[r],i):a[r]===i&&(a[r]=void 0):t.data.refInFor?Array.isArray(a[r])?a[r].indexOf(i)<0&&a[r].push(i):a[r]=[i]:a[r]=i}}var en=new gt("",{},[]),rn=["create","activate","update","remove","destroy"];function nn(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&o(t.data)===o(e.data)&&function(t,e){if("input"!==t.tag)return!0;var r,n=o(r=t.data)&&o(r=r.attrs)&&r.type,i=o(r=e.data)&&o(r=r.attrs)&&r.type;return n===i||Yr(n)&&Yr(i)}(t,e)||a(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&i(e.asyncFactory.error))}function on(t,e,r){var n,i,a={};for(n=e;n<=r;++n)o(i=t[n].key)&&(a[i]=n);return a}var an={create:sn,update:sn,destroy:function(t){sn(t,en)}};function sn(t,e){(t.data.directives||e.data.directives)&&function(t,e){var r,n,i,o=t===en,a=e===en,s=un(t.data.directives,t.context),c=un(e.data.directives,e.context),u=[],l=[];for(r in c)n=s[r],i=c[r],n?(i.oldValue=n.value,i.oldArg=n.arg,hn(i,"update",e,t),i.def&&i.def.componentUpdated&&l.push(i)):(hn(i,"bind",e,t),i.def&&i.def.inserted&&u.push(i));if(u.length){var h=function(){for(var r=0;r<u.length;r++)hn(u[r],"inserted",e,t)};o?se(e,"insert",h):h()}l.length&&se(e,"postpatch",function(){for(var r=0;r<l.length;r++)hn(l[r],"componentUpdated",e,t)});if(!o)for(r in s)c[r]||hn(s[r],"unbind",t,t,a)}(t,e)}var cn=Object.create(null);function un(t,e){var r,n,i=Object.create(null);if(!t)return i;for(r=0;r<t.length;r++)(n=t[r]).modifiers||(n.modifiers=cn),i[ln(n)]=n,n.def=Mt(e.$options,"directives",n.name);return i}function ln(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function hn(t,e,r,n,i){var o=t.def&&t.def[e];if(o)try{o(r.elm,t,r,n,i)}catch(n){Ut(n,r.context,"directive "+t.name+" "+e+" hook")}}var pn=[Zr,an];function dn(t,e){var r=e.componentOptions;if(!(o(r)&&!1===r.Ctor.options.inheritAttrs||i(t.data.attrs)&&i(e.data.attrs))){var n,a,s=e.elm,c=t.data.attrs||{},u=e.data.attrs||{};for(n in o(u.__ob__)&&(u=e.data.attrs=I({},u)),u)a=u[n],c[n]!==a&&fn(s,n,a);for(n in(Q||X)&&u.value!==c.value&&fn(s,"value",u.value),c)i(u[n])&&(Lr(n)?s.removeAttributeNS(Fr,qr(n)):Rr(n)||s.removeAttribute(n))}}function fn(t,e,r){t.tagName.indexOf("-")>-1?gn(t,e,r):Mr(e)?Vr(r)?t.removeAttribute(e):(r="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,r)):Rr(e)?t.setAttribute(e,Br(e,r)):Lr(e)?Vr(r)?t.removeAttributeNS(Fr,qr(e)):t.setAttributeNS(Fr,e,r):gn(t,e,r)}function gn(t,e,r){if(Vr(r))t.removeAttribute(e);else{if(Q&&!Y&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==r&&!t.__ieph){var n=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",n)};t.addEventListener("input",n),t.__ieph=!0}t.setAttribute(e,r)}}var mn={create:dn,update:dn};function yn(t,e){var r=e.elm,n=e.data,a=t.data;if(!(i(n.staticClass)&&i(n.class)&&(i(a)||i(a.staticClass)&&i(a.class)))){var s=Ur(e),c=r._transitionClasses;o(c)&&(s=zr(s,Hr(c))),s!==r._prevClass&&(r.setAttribute("class",s),r._prevClass=s)}}var vn,wn={create:yn,update:yn},bn="__r",_n="__c";function En(t,e,r){var n=vn;return function i(){var o=e.apply(null,arguments);null!==o&&xn(t,i,r,n)}}var Cn=Gt&&!(tt&&Number(tt[1])<=53);function kn(t,e,r,n){if(Cn){var i=cr,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}vn.addEventListener(t,e,rt?{capture:r,passive:n}:r)}function xn(t,e,r,n){(n||vn).removeEventListener(t,e._wrapper||e,r)}function Tn(t,e){if(!i(t.data.on)||!i(e.data.on)){var r=e.data.on||{},n=t.data.on||{};vn=e.elm,function(t){if(o(t[bn])){var e=Q?"change":"input";t[e]=[].concat(t[bn],t[e]||[]),delete t[bn]}o(t[_n])&&(t.change=[].concat(t[_n],t.change||[]),delete t[_n])}(r),ae(r,n,kn,xn,En,e.context),vn=void 0}}var Sn,An={create:Tn,update:Tn};function In(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var r,n,a=e.elm,s=t.data.domProps||{},c=e.data.domProps||{};for(r in o(c.__ob__)&&(c=e.data.domProps=I({},c)),s)r in c||(a[r]="");for(r in c){if(n=c[r],"textContent"===r||"innerHTML"===r){if(e.children&&(e.children.length=0),n===s[r])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===r&&"PROGRESS"!==a.tagName){a._value=n;var u=i(n)?"":String(n);Nn(a,u)&&(a.value=u)}else if("innerHTML"===r&&Kr(a.tagName)&&i(a.innerHTML)){(Sn=Sn||document.createElement("div")).innerHTML="<svg>"+n+"</svg>";for(var l=Sn.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}else if(n!==s[r])try{a[r]=n}catch(t){}}}}function Nn(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var r=!0;try{r=document.activeElement!==t}catch(t){}return r&&t.value!==e}(t,e)||function(t,e){var r=t.value,n=t._vModifiers;if(o(n)){if(n.number)return g(r)!==g(e);if(n.trim)return r.trim()!==e.trim()}return r!==e}(t,e))}var Pn={create:In,update:In},Dn=_(function(t){var e={},r=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach(function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e});function On(t){var e=Rn(t.style);return t.staticStyle?I(t.staticStyle,e):e}function Rn(t){return Array.isArray(t)?N(t):"string"==typeof t?Dn(t):t}var jn,Bn=/^--/,Mn=/\s*!important$/,Fn=function(t,e,r){if(Bn.test(e))t.style.setProperty(e,r);else if(Mn.test(r))t.style.setProperty(T(e),r.replace(Mn,""),"important");else{var n=qn(e);if(Array.isArray(r))for(var i=0,o=r.length;i<o;i++)t.style[n]=r[i];else t.style[n]=r}},Ln=["Webkit","Moz","ms"],qn=_(function(t){if(jn=jn||document.createElement("div").style,"filter"!==(t=C(t))&&t in jn)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<Ln.length;r++){var n=Ln[r]+e;if(n in jn)return n}});function Vn(t,e){var r=e.data,n=t.data;if(!(i(r.staticStyle)&&i(r.style)&&i(n.staticStyle)&&i(n.style))){var a,s,c=e.elm,u=n.staticStyle,l=n.normalizedStyle||n.style||{},h=u||l,p=Rn(e.data.style)||{};e.data.normalizedStyle=o(p.__ob__)?I({},p):p;var d=function(t,e){var r,n={};if(e)for(var i=t;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(r=On(i.data))&&I(n,r);(r=On(t.data))&&I(n,r);for(var o=t;o=o.parent;)o.data&&(r=On(o.data))&&I(n,r);return n}(e,!0);for(s in h)i(d[s])&&Fn(c,s,"");for(s in d)(a=d[s])!==h[s]&&Fn(c,s,null==a?"":a)}}var Un={create:Vn,update:Vn},Wn=/\s+/;function zn(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Wn).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var r=" "+(t.getAttribute("class")||"")+" ";r.indexOf(" "+e+" ")<0&&t.setAttribute("class",(r+e).trim())}}function Hn(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Wn).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var r=" "+(t.getAttribute("class")||"")+" ",n=" "+e+" ";r.indexOf(n)>=0;)r=r.replace(n," ");(r=r.trim())?t.setAttribute("class",r):t.removeAttribute("class")}}function Jn(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&I(e,Gn(t.name||"v")),I(e,t),e}return"string"==typeof t?Gn(t):void 0}}var Gn=_(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Kn=J&&!Y,$n="transition",Qn="animation",Yn="transition",Xn="transitionend",Zn="animation",ti="animationend";Kn&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Yn="WebkitTransition",Xn="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Zn="WebkitAnimation",ti="webkitAnimationEnd"));var ei=J?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function ri(t){ei(function(){ei(t)})}function ni(t,e){var r=t._transitionClasses||(t._transitionClasses=[]);r.indexOf(e)<0&&(r.push(e),zn(t,e))}function ii(t,e){t._transitionClasses&&v(t._transitionClasses,e),Hn(t,e)}function oi(t,e,r){var n=si(t,e),i=n.type,o=n.timeout,a=n.propCount;if(!i)return r();var s=i===$n?Xn:ti,c=0,u=function(){t.removeEventListener(s,l),r()},l=function(e){e.target===t&&++c>=a&&u()};setTimeout(function(){c<a&&u()},o+1),t.addEventListener(s,l)}var ai=/\b(transform|all)(,|$)/;function si(t,e){var r,n=window.getComputedStyle(t),i=(n[Yn+"Delay"]||"").split(", "),o=(n[Yn+"Duration"]||"").split(", "),a=ci(i,o),s=(n[Zn+"Delay"]||"").split(", "),c=(n[Zn+"Duration"]||"").split(", "),u=ci(s,c),l=0,h=0;return e===$n?a>0&&(r=$n,l=a,h=o.length):e===Qn?u>0&&(r=Qn,l=u,h=c.length):h=(r=(l=Math.max(a,u))>0?a>u?$n:Qn:null)?r===$n?o.length:c.length:0,{type:r,timeout:l,propCount:h,hasTransform:r===$n&&ai.test(n[Yn+"Property"])}}function ci(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,r){return ui(e)+ui(t[r])}))}function ui(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function li(t,e){var r=t.elm;o(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var n=Jn(t.data.transition);if(!i(n)&&!o(r._enterCb)&&1===r.nodeType){for(var a=n.css,s=n.type,u=n.enterClass,l=n.enterToClass,h=n.enterActiveClass,p=n.appearClass,d=n.appearToClass,f=n.appearActiveClass,m=n.beforeEnter,y=n.enter,v=n.afterEnter,w=n.enterCancelled,b=n.beforeAppear,_=n.appear,E=n.afterAppear,C=n.appearCancelled,k=n.duration,x=Ye,T=Ye.$vnode;T&&T.parent;)x=T.context,T=T.parent;var S=!x._isMounted||!t.isRootInsert;if(!S||_||""===_){var A=S&&p?p:u,I=S&&f?f:h,N=S&&d?d:l,P=S&&b||m,D=S&&"function"==typeof _?_:y,O=S&&E||v,R=S&&C||w,j=g(c(k)?k.enter:k);0;var M=!1!==a&&!Y,F=di(D),L=r._enterCb=B(function(){M&&(ii(r,N),ii(r,I)),L.cancelled?(M&&ii(r,A),R&&R(r)):O&&O(r),r._enterCb=null});t.data.show||se(t,"insert",function(){var e=r.parentNode,n=e&&e._pending&&e._pending[t.key];n&&n.tag===t.tag&&n.elm._leaveCb&&n.elm._leaveCb(),D&&D(r,L)}),P&&P(r),M&&(ni(r,A),ni(r,I),ri(function(){ii(r,A),L.cancelled||(ni(r,N),F||(pi(j)?setTimeout(L,j):oi(r,s,L)))})),t.data.show&&(e&&e(),D&&D(r,L)),M||F||L()}}}function hi(t,e){var r=t.elm;o(r._enterCb)&&(r._enterCb.cancelled=!0,r._enterCb());var n=Jn(t.data.transition);if(i(n)||1!==r.nodeType)return e();if(!o(r._leaveCb)){var a=n.css,s=n.type,u=n.leaveClass,l=n.leaveToClass,h=n.leaveActiveClass,p=n.beforeLeave,d=n.leave,f=n.afterLeave,m=n.leaveCancelled,y=n.delayLeave,v=n.duration,w=!1!==a&&!Y,b=di(d),_=g(c(v)?v.leave:v);0;var E=r._leaveCb=B(function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[t.key]=null),w&&(ii(r,l),ii(r,h)),E.cancelled?(w&&ii(r,u),m&&m(r)):(e(),f&&f(r)),r._leaveCb=null});y?y(C):C()}function C(){E.cancelled||(!t.data.show&&r.parentNode&&((r.parentNode._pending||(r.parentNode._pending={}))[t.key]=t),p&&p(r),w&&(ni(r,u),ni(r,h),ri(function(){ii(r,u),E.cancelled||(ni(r,l),b||(pi(_)?setTimeout(E,_):oi(r,s,E)))})),d&&d(r,E),w||b||E())}}function pi(t){return"number"==typeof t&&!isNaN(t)}function di(t){if(i(t))return!1;var e=t.fns;return o(e)?di(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function fi(t,e){!0!==e.data.show&&li(e)}var gi=function(t){var e,r,n={},c=t.modules,u=t.nodeOps;for(e=0;e<rn.length;++e)for(n[rn[e]]=[],r=0;r<c.length;++r)o(c[r][rn[e]])&&n[rn[e]].push(c[r][rn[e]]);function l(t){var e=u.parentNode(t);o(e)&&u.removeChild(e,t)}function h(t,e,r,i,s,c,l){if(o(t.elm)&&o(c)&&(t=c[l]=wt(t)),t.isRootInsert=!s,!function(t,e,r,i){var s=t.data;if(o(s)){var c=o(t.componentInstance)&&s.keepAlive;if(o(s=s.hook)&&o(s=s.init)&&s(t,!1),o(t.componentInstance))return p(t,e),d(r,t.elm,i),a(c)&&function(t,e,r,i){var a,s=t;for(;s.componentInstance;)if(s=s.componentInstance._vnode,o(a=s.data)&&o(a=a.transition)){for(a=0;a<n.activate.length;++a)n.activate[a](en,s);e.push(s);break}d(r,t.elm,i)}(t,e,r,i),!0}}(t,e,r,i)){var h=t.data,g=t.children,m=t.tag;o(m)?(t.elm=t.ns?u.createElementNS(t.ns,m):u.createElement(m,t),v(t),f(t,g,e),o(h)&&y(t,e),d(r,t.elm,i)):a(t.isComment)?(t.elm=u.createComment(t.text),d(r,t.elm,i)):(t.elm=u.createTextNode(t.text),d(r,t.elm,i))}}function p(t,e){o(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,g(t)?(y(t,e),v(t)):(tn(t),e.push(t))}function d(t,e,r){o(t)&&(o(r)?u.parentNode(r)===t&&u.insertBefore(t,e,r):u.appendChild(t,e))}function f(t,e,r){if(Array.isArray(e)){0;for(var n=0;n<e.length;++n)h(e[n],r,t.elm,null,!0,e,n)}else s(t.text)&&u.appendChild(t.elm,u.createTextNode(String(t.text)))}function g(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return o(t.tag)}function y(t,r){for(var i=0;i<n.create.length;++i)n.create[i](en,t);o(e=t.data.hook)&&(o(e.create)&&e.create(en,t),o(e.insert)&&r.push(t))}function v(t){var e;if(o(e=t.fnScopeId))u.setStyleScope(t.elm,e);else for(var r=t;r;)o(e=r.context)&&o(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e),r=r.parent;o(e=Ye)&&e!==t.context&&e!==t.fnContext&&o(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e)}function w(t,e,r,n,i,o){for(;n<=i;++n)h(r[n],o,t,e,!1,r,n)}function b(t){var e,r,i=t.data;if(o(i))for(o(e=i.hook)&&o(e=e.destroy)&&e(t),e=0;e<n.destroy.length;++e)n.destroy[e](t);if(o(e=t.children))for(r=0;r<t.children.length;++r)b(t.children[r])}function _(t,e,r,n){for(;r<=n;++r){var i=e[r];o(i)&&(o(i.tag)?(E(i),b(i)):l(i.elm))}}function E(t,e){if(o(e)||o(t.data)){var r,i=n.remove.length+1;for(o(e)?e.listeners+=i:e=function(t,e){function r(){0==--r.listeners&&l(t)}return r.listeners=e,r}(t.elm,i),o(r=t.componentInstance)&&o(r=r._vnode)&&o(r.data)&&E(r,e),r=0;r<n.remove.length;++r)n.remove[r](t,e);o(r=t.data.hook)&&o(r=r.remove)?r(t,e):e()}else l(t.elm)}function C(t,e,r,n){for(var i=r;i<n;i++){var a=e[i];if(o(a)&&nn(t,a))return i}}function k(t,e,r,s,c,l){if(t!==e){o(e.elm)&&o(s)&&(e=s[c]=wt(e));var p=e.elm=t.elm;if(a(t.isAsyncPlaceholder))o(e.asyncFactory.resolved)?S(t.elm,e,r):e.isAsyncPlaceholder=!0;else if(a(e.isStatic)&&a(t.isStatic)&&e.key===t.key&&(a(e.isCloned)||a(e.isOnce)))e.componentInstance=t.componentInstance;else{var d,f=e.data;o(f)&&o(d=f.hook)&&o(d=d.prepatch)&&d(t,e);var m=t.children,y=e.children;if(o(f)&&g(e)){for(d=0;d<n.update.length;++d)n.update[d](t,e);o(d=f.hook)&&o(d=d.update)&&d(t,e)}i(e.text)?o(m)&&o(y)?m!==y&&function(t,e,r,n,a){var s,c,l,p=0,d=0,f=e.length-1,g=e[0],m=e[f],y=r.length-1,v=r[0],b=r[y],E=!a;for(0;p<=f&&d<=y;)i(g)?g=e[++p]:i(m)?m=e[--f]:nn(g,v)?(k(g,v,n,r,d),g=e[++p],v=r[++d]):nn(m,b)?(k(m,b,n,r,y),m=e[--f],b=r[--y]):nn(g,b)?(k(g,b,n,r,y),E&&u.insertBefore(t,g.elm,u.nextSibling(m.elm)),g=e[++p],b=r[--y]):nn(m,v)?(k(m,v,n,r,d),E&&u.insertBefore(t,m.elm,g.elm),m=e[--f],v=r[++d]):(i(s)&&(s=on(e,p,f)),i(c=o(v.key)?s[v.key]:C(v,e,p,f))?h(v,n,t,g.elm,!1,r,d):nn(l=e[c],v)?(k(l,v,n,r,d),e[c]=void 0,E&&u.insertBefore(t,l.elm,g.elm)):h(v,n,t,g.elm,!1,r,d),v=r[++d]);p>f?w(t,i(r[y+1])?null:r[y+1].elm,r,d,y,n):d>y&&_(0,e,p,f)}(p,m,y,r,l):o(y)?(o(t.text)&&u.setTextContent(p,""),w(p,null,y,0,y.length-1,r)):o(m)?_(0,m,0,m.length-1):o(t.text)&&u.setTextContent(p,""):t.text!==e.text&&u.setTextContent(p,e.text),o(f)&&o(d=f.hook)&&o(d=d.postpatch)&&d(t,e)}}}function x(t,e,r){if(a(r)&&o(t.parent))t.parent.data.pendingInsert=e;else for(var n=0;n<e.length;++n)e[n].data.hook.insert(e[n])}var T=m("attrs,class,staticClass,staticStyle,key");function S(t,e,r,n){var i,s=e.tag,c=e.data,u=e.children;if(n=n||c&&c.pre,e.elm=t,a(e.isComment)&&o(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(o(c)&&(o(i=c.hook)&&o(i=i.init)&&i(e,!0),o(i=e.componentInstance)))return p(e,r),!0;if(o(s)){if(o(u))if(t.hasChildNodes())if(o(i=c)&&o(i=i.domProps)&&o(i=i.innerHTML)){if(i!==t.innerHTML)return!1}else{for(var l=!0,h=t.firstChild,d=0;d<u.length;d++){if(!h||!S(h,u[d],r,n)){l=!1;break}h=h.nextSibling}if(!l||h)return!1}else f(e,u,r);if(o(c)){var g=!1;for(var m in c)if(!T(m)){g=!0,y(e,r);break}!g&&c.class&&ne(c.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,r,s){if(!i(e)){var c,l=!1,p=[];if(i(t))l=!0,h(e,p);else{var d=o(t.nodeType);if(!d&&nn(t,e))k(t,e,p,null,null,s);else{if(d){if(1===t.nodeType&&t.hasAttribute(M)&&(t.removeAttribute(M),r=!0),a(r)&&S(t,e,p))return x(e,p,!0),t;c=t,t=new gt(u.tagName(c).toLowerCase(),{},[],void 0,c)}var f=t.elm,m=u.parentNode(f);if(h(e,p,f._leaveCb?null:m,u.nextSibling(f)),o(e.parent))for(var y=e.parent,v=g(e);y;){for(var w=0;w<n.destroy.length;++w)n.destroy[w](y);if(y.elm=e.elm,v){for(var E=0;E<n.create.length;++E)n.create[E](en,y);var C=y.data.hook.insert;if(C.merged)for(var T=1;T<C.fns.length;T++)C.fns[T]()}else tn(y);y=y.parent}o(m)?_(0,[t],0,0):o(t.tag)&&b(t)}}return x(e,p,l),e.elm}o(t)&&b(t)}}({nodeOps:Xr,modules:[mn,wn,An,Pn,Un,J?{create:fi,activate:fi,remove:function(t,e){!0!==t.data.show?hi(t,e):e()}}:{}].concat(pn)});Y&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&Ci(t,"input")});var mi={inserted:function(t,e,r,n){"select"===r.tag?(n.elm&&!n.elm._vOptions?se(r,"postpatch",function(){mi.componentUpdated(t,e,r)}):yi(t,e,r.context),t._vOptions=[].map.call(t.options,bi)):("textarea"===r.tag||Yr(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",_i),t.addEventListener("compositionend",Ei),t.addEventListener("change",Ei),Y&&(t.vmodel=!0)))},componentUpdated:function(t,e,r){if("select"===r.tag){yi(t,e,r.context);var n=t._vOptions,i=t._vOptions=[].map.call(t.options,bi);if(i.some(function(t,e){return!R(t,n[e])}))(t.multiple?e.value.some(function(t){return wi(t,i)}):e.value!==e.oldValue&&wi(e.value,i))&&Ci(t,"change")}}};function yi(t,e,r){vi(t,e,r),(Q||X)&&setTimeout(function(){vi(t,e,r)},0)}function vi(t,e,r){var n=e.value,i=t.multiple;if(!i||Array.isArray(n)){for(var o,a,s=0,c=t.options.length;s<c;s++)if(a=t.options[s],i)o=j(n,bi(a))>-1,a.selected!==o&&(a.selected=o);else if(R(bi(a),n))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function wi(t,e){return e.every(function(e){return!R(e,t)})}function bi(t){return"_value"in t?t._value:t.value}function _i(t){t.target.composing=!0}function Ei(t){t.target.composing&&(t.target.composing=!1,Ci(t.target,"input"))}function Ci(t,e){var r=document.createEvent("HTMLEvents");r.initEvent(e,!0,!0),t.dispatchEvent(r)}function ki(t){return!t.componentInstance||t.data&&t.data.transition?t:ki(t.componentInstance._vnode)}var xi={model:mi,show:{bind:function(t,e,r){var n=e.value,i=(r=ki(r)).data&&r.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;n&&i?(r.data.show=!0,li(r,function(){t.style.display=o})):t.style.display=n?o:"none"},update:function(t,e,r){var n=e.value;!n!=!e.oldValue&&((r=ki(r)).data&&r.data.transition?(r.data.show=!0,n?li(r,function(){t.style.display=t.__vOriginalDisplay}):hi(r,function(){t.style.display="none"})):t.style.display=n?t.__vOriginalDisplay:"none")},unbind:function(t,e,r,n,i){i||(t.style.display=t.__vOriginalDisplay)}}},Ti={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Si(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Si(Je(e.children)):t}function Ai(t){var e={},r=t.$options;for(var n in r.propsData)e[n]=t[n];var i=r._parentListeners;for(var o in i)e[C(o)]=i[o];return e}function Ii(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var Ni=function(t){return t.tag||He(t)},Pi=function(t){return"show"===t.name},Di={name:"transition",props:Ti,abstract:!0,render:function(t){var e=this,r=this.$slots.default;if(r&&(r=r.filter(Ni)).length){0;var n=this.mode;0;var i=r[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return i;var o=Si(i);if(!o)return i;if(this._leaving)return Ii(t,i);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:s(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var c=(o.data||(o.data={})).transition=Ai(this),u=this._vnode,l=Si(u);if(o.data.directives&&o.data.directives.some(Pi)&&(o.data.show=!0),l&&l.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(o,l)&&!He(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var h=l.data.transition=I({},c);if("out-in"===n)return this._leaving=!0,se(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),Ii(t,i);if("in-out"===n){if(He(o))return u;var p,d=function(){p()};se(c,"afterEnter",d),se(c,"enterCancelled",d),se(h,"delayLeave",function(t){p=t})}}return i}}},Oi=I({tag:String,moveClass:String},Ti);function Ri(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function ji(t){t.data.newPos=t.elm.getBoundingClientRect()}function Bi(t){var e=t.data.pos,r=t.data.newPos,n=e.left-r.left,i=e.top-r.top;if(n||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+n+"px,"+i+"px)",o.transitionDuration="0s"}}delete Oi.mode;var Mi={Transition:Di,TransitionGroup:{props:Oi,beforeMount:function(){var t=this,e=this._update;this._update=function(r,n){var i=Xe(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,r,n)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",r=Object.create(null),n=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=Ai(this),s=0;s<i.length;s++){var c=i[s];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))o.push(c),r[c.key]=c,(c.data||(c.data={})).transition=a;else;}if(n){for(var u=[],l=[],h=0;h<n.length;h++){var p=n[h];p.data.transition=a,p.data.pos=p.elm.getBoundingClientRect(),r[p.key]?u.push(p):l.push(p)}this.kept=t(e,null,u),this.removed=l}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Ri),t.forEach(ji),t.forEach(Bi),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var r=t.elm,n=r.style;ni(r,e),n.transform=n.WebkitTransform=n.transitionDuration="",r.addEventListener(Xn,r._moveCb=function t(n){n&&n.target!==r||n&&!/transform$/.test(n.propertyName)||(r.removeEventListener(Xn,t),r._moveCb=null,ii(r,e))})}}))},methods:{hasMove:function(t,e){if(!Kn)return!1;if(this._hasMove)return this._hasMove;var r=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){Hn(r,t)}),zn(r,e),r.style.display="none",this.$el.appendChild(r);var n=si(r);return this.$el.removeChild(r),this._hasMove=n.hasTransform}}}};kr.config.mustUseProp=function(t,e,r){return"value"===r&&Or(t)&&"button"!==e||"selected"===r&&"option"===t||"checked"===r&&"input"===t||"muted"===r&&"video"===t},kr.config.isReservedTag=$r,kr.config.isReservedAttr=Dr,kr.config.getTagNamespace=function(t){return Kr(t)?"svg":"math"===t?"math":void 0},kr.config.isUnknownElement=function(t){if(!J)return!0;if($r(t))return!1;if(t=t.toLowerCase(),null!=Qr[t])return Qr[t];var e=document.createElement(t);return t.indexOf("-")>-1?Qr[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Qr[t]=/HTMLUnknownElement/.test(e.toString())},I(kr.options.directives,xi),I(kr.options.components,Mi),kr.prototype.__patch__=J?gi:P,kr.prototype.$mount=function(t,e){return function(t,e,r){var n;return t.$el=e,t.$options.render||(t.$options.render=yt),er(t,"beforeMount"),n=function(){t._update(t._render(),r)},new dr(t,n,P,{before:function(){t._isMounted&&!t._isDestroyed&&er(t,"beforeUpdate")}},!0),r=!1,null==t.$vnode&&(t._isMounted=!0,er(t,"mounted")),t}(this,t=t&&J?function(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}(t):void 0,e)},J&&setTimeout(function(){q.devtools&&ot&&ot.emit("init",kr)},0),e.default=kr},function(t,e,r){var n=r(11),i=r(15),o=r(25),a=r(18),s=r(81),c=function(t,e,r){var u,l,h,p,d=t&c.F,f=t&c.G,g=t&c.S,m=t&c.P,y=t&c.B,v=f?n:g?n[e]||(n[e]={}):(n[e]||{}).prototype,w=f?i:i[e]||(i[e]={}),b=w.prototype||(w.prototype={});for(u in f&&(r=e),r)h=((l=!d&&v&&void 0!==v[u])?v:r)[u],p=y&&l?s(h,n):m&&"function"==typeof h?s(Function.call,h):h,v&&a(v,u,h,t&c.U),w[u]!=h&&o(w,u,p),m&&b[u]!=h&&(b[u]=h)};n.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,r){"use strict";r.d(e,"i",function(){return s}),r.d(e,"l",function(){return c}),r.d(e,"h",function(){return l}),r.d(e,"g",function(){return h}),r.d(e,"d",function(){return p}),r.d(e,"b",function(){return u}),r.d(e,"f",function(){return d}),r.d(e,"a",function(){return f}),r.d(e,"j",function(){return g}),r.d(e,"e",function(){return v}),r.d(e,"c",function(){return m}),r.d(e,"k",function(){return y});r(158),r(53);var n=r(109),i=(r(35),r(44),r(10),r(14)),o=(r(54),r(55),r(7),r(159),r(160),r(154),r(166),r(111)),a=r.n(o);function s(){return 1200<=window.innerWidth?"xl":992<=window.innerWidth&&window.innerWidth<1200?"l":768<=window.innerWidth&&window.innerWidth<992?"md":576<=window.innerWidth&&window.innerWidth<768?"s":"xs"}function c(){var t=Date.now();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?r:3&r|8).toString(16)})}function u(){var t=document.querySelector("div.vue-treeselect__menu"),e=t.offsetHeight;r.e(1).then(r.t.bind(null,266,7)).then(function(r){r.default(t,function(){if(t.offsetHeight!=e){e=t.offsetHeight;var r=document.querySelector("li.category-filter").offsetWidth;document.querySelector("li.category-filter").style.width=r-.001+"px",setTimeout(function(){document.querySelector("li.category-filter").style.width=""},1)}})})}function l(){return{id:[],tag:{},children:{}}}function h(t,e){"Home"==(t=t.slice())[0]&&(t=t.slice(1));var r=e.Home,n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;if(null==(r=r.children[c])||null==r)return null}}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}function p(t){var e=Object(i.a)(t.id);for(var r in t.children)e=[].concat(Object(i.a)(e),Object(i.a)(p(t.children[r])));return e}function d(t,e){var r=a.a.extend(!0,{},t);return function t(r){var n=[];r.id.forEach(function(t){e.includes(t)&&n.push(t)}),r.id=n;var i=n.length;for(var o in r.children){var a=t(r.children[o]);i+=a,0==a&&delete r.children[o]}return r.id_count=i,i}(r.Home),r}function f(t){if(Object(n.a)(t)==Object(n.a)("string")&&0==t.length)throw"Can not do ToDateString";var e=(t=new Date(t)).getFullYear(),r=t.getMonth()+1,i=t.getDate();return"".concat(e,"-").concat(r,"-").concat(i)}function g(){Array.prototype.equals&&console.warn("Overriding existing Array.prototype.equals. Possible causes: New API defines the method, there's a framework conflict or you've got double inclusions in your code."),Array.prototype.equals=function(t){if(!t)return!1;if(this.length!=t.length)return!1;for(var e=0,r=this.length;e<r;e++)if(this[e]instanceof Array&&t[e]instanceof Array){if(!this[e].equals(t[e]))return!1}else if(this[e]!=t[e])return!1;return!0},Object.defineProperty(Array.prototype,"equals",{enumerable:!1})}function m(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}function y(){if(0==arguments.length)return null;for(var t=arguments[0],e=1;e<arguments.length;e++){var r=new RegExp("\\{"+(e-1)+"\\}","gm");t=t.replace(r,arguments[e])}return t}var v=["/","/category/","/tag/","/archive/","/search/"]},function(t,e,r){var n=r(61)("wks"),i=r(46),o=r(11).Symbol,a="function"==typeof o;(t.exports=function(t){return n[t]||(n[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=n},function(t,e,r){for(var n=r(171),i=r(36),o=r(18),a=r(11),s=r(25),c=r(83),u=r(6),l=u("iterator"),h=u("toStringTag"),p=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=i(d),g=0;g<f.length;g++){var m,y=f[g],v=d[y],w=a[y],b=w&&w.prototype;if(b&&(b[l]||s(b,l,p),b[h]||s(b,h,y),c[y]=p,v))for(m in n)b[m]||o(b,m,n[m],!0)}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,r){t.exports=!r(8)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,r){"use strict";var n=r(4),i=r(56)(0),o=r(57)([].forEach,!0);n(n.P+n.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e,r){var n=r(13),i=r(122),o=r(63),a=Object.defineProperty;e.f=r(9)?Object.defineProperty:function(t,e,r){if(n(t),e=o(e,!0),n(r),i)try{return a(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){var n=r(20);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,r){"use strict";var n=r(74),i=r.n(n);var o=r(147),a=r.n(o),s=r(148),c=r.n(s);function u(t){return function(t){if(i()(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(c()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return a()(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r.d(e,"a",function(){return u})},function(t,e){var r=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=r)},function(t,e,r){var n=r(99)("wks"),i=r(69),o=r(26).Symbol,a="function"==typeof o;(t.exports=function(t){return n[t]||(n[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=n},function(t,e,r){"use strict";function n(t,e,r,n,i,o,a,s){var c,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=r,u._compiled=!0),n&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=c):i&&(c=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:u}}r.d(e,"a",function(){return n})},function(t,e,r){var n=r(11),i=r(25),o=r(24),a=r(46)("src"),s=r(172),c=(""+s).split("toString");r(15).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,r,s){var u="function"==typeof r;u&&(o(r,"name")||i(r,"name",e)),t[e]!==r&&(u&&(o(r,a)||i(r,a,t[e]?""+t[e]:c.join(String(e)))),t===n?t[e]=r:s?t[e]?t[e]=r:i(t,e,r):(delete t[e],i(t,e,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e){var r=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=r)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n={datetime_desc:function(t,e){return e.datetime_dt-t.datetime_dt},datetime_asc:function(t,e){return t.datetime_dt-e.datetime_dt},update_datetime_desc:function(t,e){return e.update_datetime_dt-t.update_datetime_dt},update_datetime_asc:function(t,e){return t.update_datetime_dt-e.update_datetime_dt},title_desc:function(t,e){return t.title>e.title?-1:t.title<e.title?1:0},title_asc:function(t,e){return t.title>e.title?1:t.title<e.title?-1:0}}},function(t,e,r){t.exports=r(222)},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r(75),i=r.n(n);function o(t,e,r){return e in t?i()(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e,r){var n=r(12),i=r(47);t.exports=r(9)?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e,r){var n=r(38),i=r(130),o=r(93),a=Object.defineProperty;e.f=r(30)?Object.defineProperty:function(t,e,r){if(n(t),e=o(e,!0),n(r),i)try{return a(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){var n=r(88),i=r(29);t.exports=function(t){return n(i(t))}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,r){t.exports=!r(66)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],r=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=63&i|128):55296==(64512&i)&&n+1<t.length&&56320==(64512&t.charCodeAt(n+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++n)),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=63&i|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=63&i|128)}return e},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,p=(15&s)<<2|u>>6,d=63&u;c||(d=64,a||(p=64)),n.push(r[l],r[h],r[p],r[d])}return n.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],r=0,n=0;r<t.length;){var i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[r++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[r++]))<<12|(63&(s=t[r++]))<<6|63&t[r++])-65536;e[n++]=String.fromCharCode(55296+(a>>10)),e[n++]=String.fromCharCode(56320+(1023&a))}else{o=t[r++];var s=t[r++];e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[],i=0;i<t.length;){var o=r[t.charAt(i++)],a=i<t.length?r[t.charAt(i)]:0,s=++i<t.length?r[t.charAt(i)]:64,c=++i<t.length?r[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==c)throw Error();var u=o<<2|a>>4;if(n.push(u),64!=s){var l=a<<4&240|s>>2;if(n.push(l),64!=c){var h=s<<6&192|c;n.push(h)}}}return n},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){try{return c.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)e.hasOwnProperty(r)&&(t[r]=l(t[r],e[r]));return t}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var h=function(){function t(){var t=this;this.promise=new Promise(function(e,r){t.resolve=e,t.reject=r})}return t.prototype.wrapCallback=function(t){var e=this;return function(r,n){r?e.reject(r):e.resolve(n),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(r):t(r,n))}},t}(),p=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},d="FirebaseError",f=Error.captureStackTrace;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g=function(t,e){if(this.code=t,this.message=e,f)f(this,m.prototype.create);else try{throw Error.apply(this,arguments)}catch(t){this.name=d,Object.defineProperty(this,"stack",{get:function(){return t.stack}})}};g.prototype=Object.create(Error.prototype),g.prototype.constructor=g,g.prototype.name=d;var m=function(){function t(t,e,r){this.service=t,this.serviceName=e,this.errors=r,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var r,n=this.errors[t],i=this.service+"/"+t;r=void 0===n?"Error":n.replace(this.pattern,function(t,r){var n=e[r];return void 0!==n?n.toString():"<"+r+"?>"}),r=this.serviceName+": "+r+" ("+i+").";var o=new g(i,r);for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=e[a]);return o},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(t){return JSON.parse(t)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var v=function(t){var e={},r={},n={},i="";try{var o=t.split(".");e=y(u(o[0])||""),r=y(u(o[1])||""),i=o[2],n=r.d||{},delete r.d}catch(t){}return{header:e,claims:r,data:n,signature:i}},w=function(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])},b=function(t,e){return w(e,function(e,r){t[e]=r}),t},_=function(t,e,r){for(var n in t)if(e.call(r,t[n],n,t))return n},E=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var r=1;r<e.blockSize;++r)e.pad_[r]=0;return e.reset(),e}return n.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var r=this.W_;if("string"==typeof t)for(var n=0;n<16;n++)r[n]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(n=0;n<16;n++)r[n]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(n=16;n<80;n++){var i=r[n-3]^r[n-8]^r[n-14]^r[n-16];r[n]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],c=this.chain_[1],u=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(n=0;n<80;n++){n<40?n<20?(o=l^c&(u^l),a=1518500249):(o=c^u^l,a=1859775393):n<60?(o=c&u|l&(c|u),a=2400959708):(o=c^u^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+r[n]&4294967295;h=l,l=u,u=4294967295&(c<<30|c>>>2),c=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var r=e-this.blockSize,n=0,i=this.buf_,o=this.inbuf_;n<e;){if(0==o)for(;n<=r;)this.compress_(t,n),n+=this.blockSize;if("string"==typeof t){for(;n<e;)if(i[o]=t.charCodeAt(n),++n,++o==this.blockSize){this.compress_(i),o=0;break}}else for(;n<e;)if(i[o]=t[n],++n,++o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&e,e/=256;this.compress_(this.buf_);var n=0;for(r=0;r<5;r++)for(var i=24;i>=0;i-=8)t[n]=this.chain_[r]>>i&255,++n;return t},e}(function(){this.blockSize=-1});var C=function(){function t(t,e){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(r)}).catch(function(t){r.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,r){var n,i=this;if(void 0===t&&void 0===e&&void 0===r)throw new Error("Missing Observer.");void 0===(n=function(t,e){if("object"!=typeof t||null===t)return!1;for(var r=0,n=e;r<n.length;r++){var i=n[r];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:r}).next&&(n.next=k),void 0===n.error&&(n.error=k),void 0===n.complete&&(n.complete=k);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?n.error(i.finalError):n.complete()}catch(t){}}),this.observers.push(n),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var r=this;this.task.then(function(){if(void 0!==r.observers&&void 0!==r.observers[t])try{e(r.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function k(){}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x(t,e,r){var n="";switch(e){case 1:n=r?"first":"First";break;case 2:n=r?"second":"Second";break;case 3:n=r?"third":"Third";break;case 4:n=r?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=n+" argument "}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e.assert=o,e.assertionError=a,e.base64=c,e.base64Decode=u,e.base64Encode=function(t){var e=s(t);return c.encodeByteArray(e,!0)},e.CONSTANTS=i,e.deepCopy=
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){return l(void 0,t)},e.deepExtend=l,e.patchProperty=function(t,e,r){t[e]=r},e.Deferred=h,e.getUA=p,e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.ErrorFactory=m,e.FirebaseError=g,e.patchCapture=function(t){var e=f;return f=t,e},e.jsonEval=y,e.stringify=function(t){return JSON.stringify(t)},e.decode=v,e.isAdmin=function(t){var e=v(t).claims;return"object"==typeof e&&!0===e.admin},e.issuedAtTime=function(t){var e=v(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.isValidFormat=function(t){var e=v(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,r,n=v(t).claims,i=Math.floor((new Date).getTime()/1e3);return"object"==typeof n&&(n.hasOwnProperty("nbf")?e=n.nbf:n.hasOwnProperty("iat")&&(e=n.iat),r=n.hasOwnProperty("exp")?n.exp:e+86400),i&&e&&r&&i>=e&&i<=r},e.clone=function(t){return b({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.every=function(t,e){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&!e(r,t[r]))return!1;return!0},e.extend=b,e.findKey=_,e.findValue=function(t,e,r){var n=_(t,e,r);return n&&t[n]},e.forEach=w,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var r in t)e++;return e},e.getValues=function(t){var e=[],r=0;for(var n in t)e[r++]=t[n];return e},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.map=function(t,e,r){var n={};for(var i in t)n[i]=e.call(r,t[i],i,t);return n},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.querystring=function(t){var e=[];return w(t,function(t,r){Array.isArray(r)?r.forEach(function(r){e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var r=t.split("=");e[r[0]]=r[1]}}),e},e.Sha1=E,e.async=function(t,e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];Promise.resolve(!0).then(function(){t.apply(void 0,r)}).catch(function(t){e&&e(t)})}},e.createSubscribe=function(t,e){var r=new C(t,e);return r.subscribe.bind(r)},e.errorPrefix=x,e.validateArgCount=function(t,e,r,n){var i;if(n<e?i="at least "+e:n>r&&(i=0===r?"none":"no more than "+r),i)throw new Error(t+" failed: Was called with "+n+(1===n?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,r,n){if((!n||r)&&"function"!=typeof r)throw new Error(x(t,e,n)+"must be a valid function.")},e.validateContextObject=function(t,e,r,n){if((!n||r)&&("object"!=typeof r||null===r))throw new Error(x(t,e,n)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,e.validateNamespace=function(t,e,r,n){if((!n||r)&&"string"!=typeof r)throw new Error(x(t,e,n)+"must be a valid firebase namespace.")},e.stringLength=function(t){for(var e=0,r=0;r<t.length;r++){var n=t.charCodeAt(r);n<128?e++:n<2048?e+=2:n>=55296&&n<=56319?(e+=4,r++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],r=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i>=55296&&i<=56319){var a=i-55296;o(++n<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(n)-56320)}i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=63&i|128):i<65536?(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=63&i|128):(e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=63&i|128)}return e}},function(t,e,r){"use strict";var n=r(4),i=r(56)(2);n(n.P+n.F*!r(57)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,r){var n=r(29);t.exports=function(t){return Object(n(t))}},function(t,e,r){"use strict";var n=r(4),i=r(89)(!0);n(n.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(58)("includes")},function(t,e,r){var n=r(125),i=r(91);t.exports=Object.keys||function(t){return n(t,i)}},function(t,e,r){var n=r(27),i=r(52);t.exports=r(30)?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){var n=r(51);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports={}},function(t,e,r){var n=r(204),i=r(96);t.exports=function(t){return n(i(t))}},function(t,e,r){"use strict";var n=r(3);e.a=new n.default},function(t,e,r){var n=r(34),i=r(36);r(236)("keys",function(){return function(t){return i(n(t))}})},function(t,e,r){var n=r(45),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},function(t,e,r){"use strict";var n=r(4),i=r(127);n(n.P+n.F*r(128)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+n).toString(36))}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e,r){var n=r(125),i=r(91).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},function(t,e,r){var n=r(26),i=r(19),o=r(129),a=r(37),s=r(31),c=function(t,e,r){var u,l,h,p=t&c.F,d=t&c.G,f=t&c.S,g=t&c.P,m=t&c.B,y=t&c.W,v=d?i:i[e]||(i[e]={}),w=v.prototype,b=d?n:f?n[e]:(n[e]||{}).prototype;for(u in d&&(r=e),r)(l=!p&&b&&void 0!==b[u])&&s(v,u)||(h=l?b[u]:r[u],v[u]=d&&"function"!=typeof b[u]?r[u]:m&&l?o(h,n):y&&b[u]==h?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):g&&"function"==typeof h?o(Function.call,h):h,g&&((v.virtual||(v.virtual={}))[u]=h,t&c.R&&w&&!w[u]&&a(w,u,h)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,r){var n=r(4);n(n.S+n.F*!r(9),"Object",{defineProperty:r(12).f})},function(t,e,r){r(106)("asyncIterator")},function(t,e,r){"use strict";var n=r(11),i=r(24),o=r(9),a=r(4),s=r(18),c=r(153).KEY,u=r(8),l=r(61),h=r(85),p=r(46),d=r(6),f=r(107),g=r(106),m=r(231),y=r(119),v=r(13),w=r(20),b=r(28),_=r(63),E=r(47),C=r(84),k=r(232),x=r(64),T=r(12),S=r(36),A=x.f,I=T.f,N=k.f,P=n.Symbol,D=n.JSON,O=D&&D.stringify,R=d("_hidden"),j=d("toPrimitive"),B={}.propertyIsEnumerable,M=l("symbol-registry"),F=l("symbols"),L=l("op-symbols"),q=Object.prototype,V="function"==typeof P,U=n.QObject,W=!U||!U.prototype||!U.prototype.findChild,z=o&&u(function(){return 7!=C(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(t,e,r){var n=A(q,e);n&&delete q[e],I(t,e,r),n&&t!==q&&I(q,e,n)}:I,H=function(t){var e=F[t]=C(P.prototype);return e._k=t,e},J=V&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},G=function(t,e,r){return t===q&&G(L,e,r),v(t),e=_(e,!0),v(r),i(F,e)?(r.enumerable?(i(t,R)&&t[R][e]&&(t[R][e]=!1),r=C(r,{enumerable:E(0,!1)})):(i(t,R)||I(t,R,E(1,{})),t[R][e]=!0),z(t,e,r)):I(t,e,r)},K=function(t,e){v(t);for(var r,n=m(e=b(e)),i=0,o=n.length;o>i;)G(t,r=n[i++],e[r]);return t},$=function(t){var e=B.call(this,t=_(t,!0));return!(this===q&&i(F,t)&&!i(L,t))&&(!(e||!i(this,t)||!i(F,t)||i(this,R)&&this[R][t])||e)},Q=function(t,e){if(t=b(t),e=_(e,!0),t!==q||!i(F,e)||i(L,e)){var r=A(t,e);return!r||!i(F,e)||i(t,R)&&t[R][e]||(r.enumerable=!0),r}},Y=function(t){for(var e,r=N(b(t)),n=[],o=0;r.length>o;)i(F,e=r[o++])||e==R||e==c||n.push(e);return n},X=function(t){for(var e,r=t===q,n=N(r?L:b(t)),o=[],a=0;n.length>a;)!i(F,e=n[a++])||r&&!i(q,e)||o.push(F[e]);return o};V||(s((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(r){this===q&&e.call(L,r),i(this,R)&&i(this[R],t)&&(this[R][t]=!1),z(this,t,E(1,r))};return o&&W&&z(q,t,{configurable:!0,set:e}),H(t)}).prototype,"toString",function(){return this._k}),x.f=Q,T.f=G,r(49).f=k.f=Y,r(65).f=$,r(71).f=X,o&&!r(62)&&s(q,"propertyIsEnumerable",$,!0),f.f=function(t){return H(d(t))}),a(a.G+a.W+a.F*!V,{Symbol:P});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)d(Z[tt++]);for(var et=S(d.store),rt=0;et.length>rt;)g(et[rt++]);a(a.S+a.F*!V,"Symbol",{for:function(t){return i(M,t+="")?M[t]:M[t]=P(t)},keyFor:function(t){if(!J(t))throw TypeError(t+" is not a symbol!");for(var e in M)if(M[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!V,"Object",{create:function(t,e){return void 0===e?C(t):K(C(t),e)},defineProperty:G,defineProperties:K,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Y,getOwnPropertySymbols:X}),D&&a(a.S+a.F*(!V||u(function(){var t=P();return"[null]"!=O([t])||"{}"!=O({a:t})||"{}"!=O(Object(t))})),"JSON",{stringify:function(t){for(var e,r,n=[t],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=e=n[1],(w(e)||void 0!==t)&&!J(t))return y(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!J(e))return e}),n[1]=e,O.apply(D,n)}}),P.prototype[j]||r(25)(P.prototype,j,P.prototype.valueOf),h(P,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},function(t,e,r){var n=r(81),i=r(88),o=r(34),a=r(43),s=r(176);t.exports=function(t,e){var r=1==t,c=2==t,u=3==t,l=4==t,h=6==t,p=5==t||h,d=e||s;return function(e,s,f){for(var g,m,y=o(e),v=i(y),w=n(s,f,3),b=a(v.length),_=0,E=r?d(e,b):c?d(e,0):void 0;b>_;_++)if((p||_ in v)&&(m=w(g=v[_],_,y),t))if(r)E[_]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return _;case 2:E.push(g)}else if(l)return!1;return h?-1:u||l?l:E}}},function(t,e,r){"use strict";var n=r(8);t.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,r){var n=r(6)("unscopables"),i=Array.prototype;null==i[n]&&r(25)(i,n,{}),t.exports=function(t){i[n][t]=!0}},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.d(e,"a",function(){return n})},function(t,e,r){"use strict";r.d(e,"a",function(){return a});var n=r(75),i=r.n(n);function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),i()(t,n.key,n)}}function a(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),t}},function(t,e,r){var n=r(15),i=r(11),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:r(62)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e,r){var n=r(20);t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,r){var n=r(65),i=r(47),o=r(28),a=r(63),s=r(24),c=r(122),u=Object.getOwnPropertyDescriptor;e.f=r(9)?u:function(t,e){if(t=o(t),e=a(e,!0),c)try{return u(t,e)}catch(t){}if(s(t,e))return i(!n.f.call(t,e),t[e])}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,r){"use strict";var n=r(201)(!0);r(133)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})})},function(t,e){t.exports=!0},function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+n).toString(36))}},function(t,e,r){"use strict";var n=r(13);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,r){},function(t,e,r){},function(t,e,r){t.exports=r(197)},function(t,e,r){t.exports=r(219)},function(t,e,r){"use strict";r.d(e,"c",function(){return w}),r.d(e,"b",function(){return b});var n="undefined"!=typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function i(t,e){Object.keys(t).forEach(function(r){return e(t[r],r)})}var o=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=("function"==typeof r?r():r)||{}},a={namespaced:{configurable:!0}};a.namespaced.get=function(){return!!this._rawModule.namespaced},o.prototype.addChild=function(t,e){this._children[t]=e},o.prototype.removeChild=function(t){delete this._children[t]},o.prototype.getChild=function(t){return this._children[t]},o.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},o.prototype.forEachChild=function(t){i(this._children,t)},o.prototype.forEachGetter=function(t){this._rawModule.getters&&i(this._rawModule.getters,t)},o.prototype.forEachAction=function(t){this._rawModule.actions&&i(this._rawModule.actions,t)},o.prototype.forEachMutation=function(t){this._rawModule.mutations&&i(this._rawModule.mutations,t)},Object.defineProperties(o.prototype,a);var s=function(t){this.register([],t,!1)};s.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},s.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,r){return t+((e=e.getChild(r)).namespaced?r+"/":"")},"")},s.prototype.update=function(t){!function t(e,r,n){0;r.update(n);if(n.modules)for(var i in n.modules){if(!r.getChild(i))return void 0;t(e.concat(i),r.getChild(i),n.modules[i])}}([],this.root,t)},s.prototype.register=function(t,e,r){var n=this;void 0===r&&(r=!0);var a=new o(e,r);0===t.length?this.root=a:this.get(t.slice(0,-1)).addChild(t[t.length-1],a);e.modules&&i(e.modules,function(e,i){n.register(t.concat(i),e,r)})},s.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),r=t[t.length-1];e.getChild(r).runtime&&e.removeChild(r)};var c;var u=function(t){var e=this;void 0===t&&(t={}),!c&&"undefined"!=typeof window&&window.Vue&&y(window.Vue);var r=t.plugins;void 0===r&&(r=[]);var i=t.strict;void 0===i&&(i=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new s(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new c;var o=this,a=this.dispatch,u=this.commit;this.dispatch=function(t,e){return a.call(o,t,e)},this.commit=function(t,e,r){return u.call(o,t,e,r)},this.strict=i;var l=this._modules.root.state;f(this,l,[],this._modules.root),d(this,l),r.forEach(function(t){return t(e)}),(void 0!==t.devtools?t.devtools:c.config.devtools)&&function(t){n&&(t._devtoolHook=n,n.emit("vuex:init",t),n.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){n.emit("vuex:mutation",t,e)}))}(this)},l={state:{configurable:!0}};function h(t,e){return e.indexOf(t)<0&&e.push(t),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function p(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var r=t.state;f(t,r,[],t._modules.root,!0),d(t,r,e)}function d(t,e,r){var n=t._vm;t.getters={};var o=t._wrappedGetters,a={};i(o,function(e,r){a[r]=function(){return e(t)},Object.defineProperty(t.getters,r,{get:function(){return t._vm[r]},enumerable:!0})});var s=c.config.silent;c.config.silent=!0,t._vm=new c({data:{$$state:e},computed:a}),c.config.silent=s,t.strict&&function(t){t._vm.$watch(function(){return this._data.$$state},function(){0},{deep:!0,sync:!0})}(t),n&&(r&&t._withCommit(function(){n._data.$$state=null}),c.nextTick(function(){return n.$destroy()}))}function f(t,e,r,n,i){var o=!r.length,a=t._modules.getNamespace(r);if(n.namespaced&&(t._modulesNamespaceMap[a]=n),!o&&!i){var s=g(e,r.slice(0,-1)),u=r[r.length-1];t._withCommit(function(){c.set(s,u,n.state)})}var l=n.context=function(t,e,r){var n=""===e,i={dispatch:n?t.dispatch:function(r,n,i){var o=m(r,n,i),a=o.payload,s=o.options,c=o.type;return s&&s.root||(c=e+c),t.dispatch(c,a)},commit:n?t.commit:function(r,n,i){var o=m(r,n,i),a=o.payload,s=o.options,c=o.type;s&&s.root||(c=e+c),t.commit(c,a,s)}};return Object.defineProperties(i,{getters:{get:n?function(){return t.getters}:function(){return function(t,e){var r={},n=e.length;return Object.keys(t.getters).forEach(function(i){if(i.slice(0,n)===e){var o=i.slice(n);Object.defineProperty(r,o,{get:function(){return t.getters[i]},enumerable:!0})}}),r}(t,e)}},state:{get:function(){return g(t.state,r)}}}),i}(t,a,r);n.forEachMutation(function(e,r){!function(t,e,r,n){(t._mutations[e]||(t._mutations[e]=[])).push(function(e){r.call(t,n.state,e)})}(t,a+r,e,l)}),n.forEachAction(function(e,r){var n=e.root?r:a+r,i=e.handler||e;!function(t,e,r,n){(t._actions[e]||(t._actions[e]=[])).push(function(e,i){var o,a=r.call(t,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:t.getters,rootState:t.state},e,i);return(o=a)&&"function"==typeof o.then||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):a})}(t,n,i,l)}),n.forEachGetter(function(e,r){!function(t,e,r,n){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return r(n.state,n.getters,t.state,t.getters)}}(t,a+r,e,l)}),n.forEachChild(function(n,o){f(t,e,r.concat(o),n,i)})}function g(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function m(t,e,r){var n;return null!==(n=t)&&"object"==typeof n&&t.type&&(r=e,e=t,t=t.type),{type:t,payload:e,options:r}}function y(t){c&&t===c||
/**
 * vuex v3.1.0
 * (c) 2019 Evan You
 * @license MIT
 */
function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:r});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[r].concat(t.init):r,e.call(this,t)}}function r(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}(c=t)}l.state.get=function(){return this._vm._data.$$state},l.state.set=function(t){0},u.prototype.commit=function(t,e,r){var n=this,i=m(t,e,r),o=i.type,a=i.payload,s=(i.options,{type:o,payload:a}),c=this._mutations[o];c&&(this._withCommit(function(){c.forEach(function(t){t(a)})}),this._subscribers.forEach(function(t){return t(s,n.state)}))},u.prototype.dispatch=function(t,e){var r=this,n=m(t,e),i=n.type,o=n.payload,a={type:i,payload:o},s=this._actions[i];if(s){try{this._actionSubscribers.filter(function(t){return t.before}).forEach(function(t){return t.before(a,r.state)})}catch(t){0}return(s.length>1?Promise.all(s.map(function(t){return t(o)})):s[0](o)).then(function(t){try{r._actionSubscribers.filter(function(t){return t.after}).forEach(function(t){return t.after(a,r.state)})}catch(t){0}return t})}},u.prototype.subscribe=function(t){return h(t,this._subscribers)},u.prototype.subscribeAction=function(t){return h("function"==typeof t?{before:t}:t,this._actionSubscribers)},u.prototype.watch=function(t,e,r){var n=this;return this._watcherVM.$watch(function(){return t(n.state,n.getters)},e,r)},u.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},u.prototype.registerModule=function(t,e,r){void 0===r&&(r={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),f(this,this.state,t,this._modules.get(t),r.preserveState),d(this,this.state)},u.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=g(e.state,t.slice(0,-1));c.delete(r,t[t.length-1])}),p(this)},u.prototype.hotUpdate=function(t){this._modules.update(t),p(this,!0)},u.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(u.prototype,l);var v=C(function(t,e){var r={};return E(e).forEach(function(e){var n=e.key,i=e.val;r[n]=function(){var e=this.$store.state,r=this.$store.getters;if(t){var n=k(this.$store,"mapState",t);if(!n)return;e=n.context.state,r=n.context.getters}return"function"==typeof i?i.call(this,e,r):e[i]},r[n].vuex=!0}),r}),w=C(function(t,e){var r={};return E(e).forEach(function(e){var n=e.key,i=e.val;r[n]=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=this.$store.commit;if(t){var o=k(this.$store,"mapMutations",t);if(!o)return;n=o.context.commit}return"function"==typeof i?i.apply(this,[n].concat(e)):n.apply(this.$store,[i].concat(e))}}),r}),b=C(function(t,e){var r={};return E(e).forEach(function(e){var n=e.key,i=e.val;i=t+i,r[n]=function(){if(!t||k(this.$store,"mapGetters",t))return this.$store.getters[i]},r[n].vuex=!0}),r}),_=C(function(t,e){var r={};return E(e).forEach(function(e){var n=e.key,i=e.val;r[n]=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=this.$store.dispatch;if(t){var o=k(this.$store,"mapActions",t);if(!o)return;n=o.context.dispatch}return"function"==typeof i?i.apply(this,[n].concat(e)):n.apply(this.$store,[i].concat(e))}}),r});function E(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function C(t){return function(e,r){return"string"!=typeof e?(r=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,r)}}function k(t,e,r){return t._modulesNamespaceMap[r]}var x={Store:u,install:y,version:"3.1.0",mapState:v,mapMutations:w,mapGetters:b,mapActions:_,createNamespacedHelpers:function(t){return{mapState:v.bind(null,t),mapGetters:b.bind(null,t),mapMutations:w.bind(null,t),mapActions:_.bind(null,t)}}};e.a=x},function(t,e,r){var n=r(4);n(n.S+n.F*!r(9),"Object",{defineProperties:r(124)})},function(t,e,r){var n=r(4),i=r(237),o=r(28),a=r(64),s=r(167);n(n.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,r,n=o(t),c=a.f,u=i(n),l={},h=0;u.length>h;)void 0!==(r=c(n,e=u[h++]))&&s(l,e,r);return l}})},function(t,e,r){"use strict";var n=r(4),i=r(82),o=r(34),a=r(8),s=[].sort,c=[1,2,3];n(n.P+n.F*(a(function(){c.sort(void 0)})||!a(function(){c.sort(null)})||!r(57)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),i(t))}})},function(t,e,r){var n=r(12).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||r(9)&&n(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,r){var n=r(82);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports={}},function(t,e,r){var n=r(13),i=r(124),o=r(91),a=r(90)("IE_PROTO"),s=function(){},c=function(){var t,e=r(123)("iframe"),n=o.length;for(e.style.display="none",r(174).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;n--;)delete c.prototype[o[n]];return c()};t.exports=Object.create||function(t,e){var r;return null!==t?(s.prototype=n(t),r=new s,s.prototype=null,r[a]=t):r=c(),void 0===e?r:i(r,e)}},function(t,e,r){var n=r(12).f,i=r(24),o=r(6)("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,e,r){"use strict";var n=r(116),i=RegExp.prototype.exec;t.exports=function(t,e){var r=t.exec;if("function"==typeof r){var o=r.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,r){"use strict";r(234);var n=r(18),i=r(25),o=r(8),a=r(29),s=r(6),c=r(108),u=s("species"),l=!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();t.exports=function(t,e,r){var p=s(t),d=!o(function(){var e={};return e[p]=function(){return 7},7!=""[t](e)}),f=d?!o(function(){var e=!1,r=/a/;return r.exec=function(){return e=!0,null},"split"===t&&(r.constructor={},r.constructor[u]=function(){return r}),r[p](""),!e}):void 0;if(!d||!f||"replace"===t&&!l||"split"===t&&!h){var g=/./[p],m=r(a,p,""[t],function(t,e,r,n,i){return e.exec===c?d&&!i?{done:!0,value:g.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}),y=m[0],v=m[1];n(String.prototype,t,y),i(RegExp.prototype,p,2==e?function(t,e){return v.call(t,this,e)}:function(t){return v.call(t,this)})}}},function(t,e,r){var n=r(48);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,r){var n=r(28),i=r(43),o=r(157);t.exports=function(t){return function(e,r,a){var s,c=n(e),u=i(c.length),l=o(a,u);if(t&&r!=r){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===r)return t||l||0;return!t&&-1}}},function(t,e,r){var n=r(61)("keys"),i=r(46);t.exports=function(t){return n[t]||(n[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,r){var n=r(20),i=r(48),o=r(6)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,r){var n=r(51);t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,r){var n=r(136),i=r(100);t.exports=Object.keys||function(t){return n(t,i)}},function(t,e,r){var n=r(99)("keys"),i=r(69);t.exports=function(t){return n[t]||(n[t]=i(t))}},function(t,e,r){var n=r(19),i=r(26),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:r(68)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,r){var n=r(27).f,i=r(31),o=r(16)("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,e,r){r(215);for(var n=r(26),i=r(37),o=r(39),a=r(16)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var u=s[c],l=n[u],h=l&&l.prototype;h&&!h[a]&&i(h,a,u),o[u]=o.Array}},function(t,e,r){e.f=r(16)},function(t,e,r){var n=r(26),i=r(19),o=r(68),a=r(103),s=r(27).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,r){var n=r(11),i=r(15),o=r(62),a=r(107),s=r(12).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,r){e.f=r(6)},function(t,e,r){"use strict";var n,i,o=r(70),a=RegExp.prototype.exec,s=String.prototype.replace,c=a,u=(n=/a/,i=/b*/g,a.call(n,"a"),a.call(i,"a"),0!==n.lastIndex||0!==i.lastIndex),l=void 0!==/()??/.exec("")[1];(u||l)&&(c=function(t){var e,r,n,i,c=this;return l&&(r=new RegExp("^"+c.source+"$(?!\\s)",o.call(c))),u&&(e=c.lastIndex),n=a.call(c,t),u&&n&&(c.lastIndex=c.global?n.index+n[0].length:e),l&&n&&n.length>1&&s.call(n[0],r,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)}),n}),t.exports=c},function(t,e,r){"use strict";r.d(e,"a",function(){return c});var n=r(110),i=r.n(n),o=r(22),a=r.n(o);function s(t){return(s="function"==typeof a.a&&"symbol"==typeof i.a?function(t){return typeof t}:function(t){return t&&"function"==typeof a.a&&t.constructor===a.a&&t!==a.a.prototype?"symbol":typeof t})(t)}function c(t){return(c="function"==typeof a.a&&"symbol"===s(i.a)?function(t){return s(t)}:function(t){return t&&"function"==typeof a.a&&t.constructor===a.a&&t!==a.a.prototype?"symbol":s(t)})(t)}},function(t,e,r){t.exports=r(221)},function(t,e,r){var n;
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
!function(e,r){"use strict";"object"==typeof t.exports?t.exports=e.document?r(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return r(t)}:r(e)}("undefined"!=typeof window?window:this,function(r,i){"use strict";var o=[],a=r.document,s=Object.getPrototypeOf,c=o.slice,u=o.concat,l=o.push,h=o.indexOf,p={},d=p.toString,f=p.hasOwnProperty,g=f.toString,m=g.call(Object),y={},v=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},w=function(t){return null!=t&&t===t.window},b={type:!0,src:!0,noModule:!0};function _(t,e,r){var n,i=(e=e||a).createElement("script");if(i.text=t,r)for(n in b)r[n]&&(i[n]=r[n]);e.head.appendChild(i).parentNode.removeChild(i)}function E(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?p[d.call(t)]||"object":typeof t}var C=function(t,e){return new C.fn.init(t,e)},k=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function x(t){var e=!!t&&"length"in t&&t.length,r=E(t);return!v(t)&&!w(t)&&("array"===r||0===e||"number"==typeof e&&e>0&&e-1 in t)}C.fn=C.prototype={jquery:"3.3.1",constructor:C,length:0,toArray:function(){return c.call(this)},get:function(t){return null==t?c.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=C.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return C.each(this,t)},map:function(t){return this.pushStack(C.map(this,function(e,r){return t.call(e,r,e)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,r=+t+(t<0?e:0);return this.pushStack(r>=0&&r<e?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:o.sort,splice:o.splice},C.extend=C.fn.extend=function(){var t,e,r,n,i,o,a=arguments[0]||{},s=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(t=arguments[s]))for(e in t)r=a[e],a!==(n=t[e])&&(u&&n&&(C.isPlainObject(n)||(i=Array.isArray(n)))?(i?(i=!1,o=r&&Array.isArray(r)?r:[]):o=r&&C.isPlainObject(r)?r:{},a[e]=C.extend(u,o,n)):void 0!==n&&(a[e]=n));return a},C.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,r;return!(!t||"[object Object]"!==d.call(t))&&(!(e=s(t))||"function"==typeof(r=f.call(e,"constructor")&&e.constructor)&&g.call(r)===m)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){_(t)},each:function(t,e){var r,n=0;if(x(t))for(r=t.length;n<r&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(k,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(x(Object(t))?C.merge(r,"string"==typeof t?[t]:t):l.call(r,t)),r},inArray:function(t,e,r){return null==e?-1:h.call(e,t,r)},merge:function(t,e){for(var r=+e.length,n=0,i=t.length;n<r;n++)t[i++]=e[n];return t.length=i,t},grep:function(t,e,r){for(var n=[],i=0,o=t.length,a=!r;i<o;i++)!e(t[i],i)!==a&&n.push(t[i]);return n},map:function(t,e,r){var n,i,o=0,a=[];if(x(t))for(n=t.length;o<n;o++)null!=(i=e(t[o],o,r))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,r))&&a.push(i);return u.apply([],a)},guid:1,support:y}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=o[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){p["[object "+e+"]"]=e.toLowerCase()});var T=
/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(t){var e,r,n,i,o,a,s,c,u,l,h,p,d,f,g,m,y,v,w,b="sizzle"+1*new Date,_=t.document,E=0,C=0,k=at(),x=at(),T=at(),S=function(t,e){return t===e&&(h=!0),0},A={}.hasOwnProperty,I=[],N=I.pop,P=I.push,D=I.push,O=I.slice,R=function(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+B+"*("+M+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+B+"*\\]",L=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",q=new RegExp(B+"+","g"),V=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),U=new RegExp("^"+B+"*,"+B+"*"),W=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),z=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),H=new RegExp(L),J=new RegExp("^"+M+"$"),G={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+L),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,$=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,X=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),tt=function(t,e,r){var n="0x"+e-65536;return n!=n||r?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},nt=function(){p()},it=vt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{D.apply(I=O.call(_.childNodes),_.childNodes),I[_.childNodes.length].nodeType}catch(t){D={apply:I.length?function(t,e){P.apply(t,O.call(e))}:function(t,e){for(var r=t.length,n=0;t[r++]=e[n++];);t.length=r-1}}}function ot(t,e,n,i){var o,s,u,l,h,f,y,v=e&&e.ownerDocument,E=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==E&&9!==E&&11!==E)return n;if(!i&&((e?e.ownerDocument||e:_)!==d&&p(e),e=e||d,g)){if(11!==E&&(h=Y.exec(t)))if(o=h[1]){if(9===E){if(!(u=e.getElementById(o)))return n;if(u.id===o)return n.push(u),n}else if(v&&(u=v.getElementById(o))&&w(e,u)&&u.id===o)return n.push(u),n}else{if(h[2])return D.apply(n,e.getElementsByTagName(t)),n;if((o=h[3])&&r.getElementsByClassName&&e.getElementsByClassName)return D.apply(n,e.getElementsByClassName(o)),n}if(r.qsa&&!T[t+" "]&&(!m||!m.test(t))){if(1!==E)v=e,y=t;else if("object"!==e.nodeName.toLowerCase()){for((l=e.getAttribute("id"))?l=l.replace(et,rt):e.setAttribute("id",l=b),s=(f=a(t)).length;s--;)f[s]="#"+l+" "+yt(f[s]);y=f.join(","),v=X.test(t)&&gt(e.parentNode)||e}if(y)try{return D.apply(n,v.querySelectorAll(y)),n}catch(t){}finally{l===b&&e.removeAttribute("id")}}}return c(t.replace(V,"$1"),e,n,i)}function at(){var t=[];return function e(r,i){return t.push(r+" ")>n.cacheLength&&delete e[t.shift()],e[r+" "]=i}}function st(t){return t[b]=!0,t}function ct(t){var e=d.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ut(t,e){for(var r=t.split("|"),i=r.length;i--;)n.attrHandle[r[i]]=e}function lt(t,e){var r=e&&t,n=r&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(r)for(;r=r.nextSibling;)if(r===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var r=e.nodeName.toLowerCase();return("input"===r||"button"===r)&&e.type===t}}function dt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&it(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ft(t){return st(function(e){return e=+e,st(function(r,n){for(var i,o=t([],r.length,e),a=o.length;a--;)r[i=o[a]]&&(r[i]=!(n[i]=r[i]))})})}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in r=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},p=ot.setDocument=function(t){var e,i,a=t?t.ownerDocument||t:_;return a!==d&&9===a.nodeType&&a.documentElement?(f=(d=a).documentElement,g=!o(d),_!==d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",nt,!1):i.attachEvent&&i.attachEvent("onunload",nt)),r.attributes=ct(function(t){return t.className="i",!t.getAttribute("className")}),r.getElementsByTagName=ct(function(t){return t.appendChild(d.createComment("")),!t.getElementsByTagName("*").length}),r.getElementsByClassName=Q.test(d.getElementsByClassName),r.getById=ct(function(t){return f.appendChild(t).id=b,!d.getElementsByName||!d.getElementsByName(b).length}),r.getById?(n.filter.ID=function(t){var e=t.replace(Z,tt);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var r=e.getElementById(t);return r?[r]:[]}}):(n.filter.ID=function(t){var e=t.replace(Z,tt);return function(t){var r=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return r&&r.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var r,n,i,o=e.getElementById(t);if(o){if((r=o.getAttributeNode("id"))&&r.value===t)return[o];for(i=e.getElementsByName(t),n=0;o=i[n++];)if((r=o.getAttributeNode("id"))&&r.value===t)return[o]}return[]}}),n.find.TAG=r.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):r.qsa?e.querySelectorAll(t):void 0}:function(t,e){var r,n=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;r=o[i++];)1===r.nodeType&&n.push(r);return n}return o},n.find.CLASS=r.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},y=[],m=[],(r.qsa=Q.test(d.querySelectorAll))&&(ct(function(t){f.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+B+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+B+"*(?:value|"+j+")"),t.querySelectorAll("[id~="+b+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]")}),ct(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=d.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+B+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(r.matchesSelector=Q.test(v=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ct(function(t){r.disconnectedMatch=v.call(t,"*"),v.call(t,"[s!='']:x"),y.push("!=",L)}),m=m.length&&new RegExp(m.join("|")),y=y.length&&new RegExp(y.join("|")),e=Q.test(f.compareDocumentPosition),w=e||Q.test(f.contains)?function(t,e){var r=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},S=e?function(t,e){if(t===e)return h=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!r.sortDetached&&e.compareDocumentPosition(t)===n?t===d||t.ownerDocument===_&&w(_,t)?-1:e===d||e.ownerDocument===_&&w(_,e)?1:l?R(l,t)-R(l,e):0:4&n?-1:1)}:function(t,e){if(t===e)return h=!0,0;var r,n=0,i=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!i||!o)return t===d?-1:e===d?1:i?-1:o?1:l?R(l,t)-R(l,e):0;if(i===o)return lt(t,e);for(r=t;r=r.parentNode;)a.unshift(r);for(r=e;r=r.parentNode;)s.unshift(r);for(;a[n]===s[n];)n++;return n?lt(a[n],s[n]):a[n]===_?-1:s[n]===_?1:0},d):d},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==d&&p(t),e=e.replace(z,"='$1']"),r.matchesSelector&&g&&!T[e+" "]&&(!y||!y.test(e))&&(!m||!m.test(e)))try{var n=v.call(t,e);if(n||r.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return ot(e,d,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==d&&p(t),w(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==d&&p(t);var i=n.attrHandle[e.toLowerCase()],o=i&&A.call(n.attrHandle,e.toLowerCase())?i(t,e,!g):void 0;return void 0!==o?o:r.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,rt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,n=[],i=0,o=0;if(h=!r.detectDuplicates,l=!r.sortStable&&t.slice(0),t.sort(S),h){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return l=null,t},i=ot.getText=function(t){var e,r="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)r+=i(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)r+=i(e);return r},(n=ot.selectors={cacheLength:50,createPseudo:st,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Z,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(Z,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,r=!t[6]&&t[2];return G.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":r&&H.test(r)&&(e=a(r,!0))&&(e=r.indexOf(")",r.length-e)-r.length)&&(t[0]=t[0].slice(0,e),t[2]=r.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Z,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=k[t+" "];return e||(e=new RegExp("(^|"+B+")"+t+"("+B+"|$)"))&&k(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,r){return function(n){var i=ot.attr(n,t);return null==i?"!="===e:!e||(i+="","="===e?i===r:"!="===e?i!==r:"^="===e?r&&0===i.indexOf(r):"*="===e?r&&i.indexOf(r)>-1:"$="===e?r&&i.slice(-r.length)===r:"~="===e?(" "+i.replace(q," ")+" ").indexOf(r)>-1:"|="===e&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,r,n,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===i?function(t){return!!t.parentNode}:function(e,r,c){var u,l,h,p,d,f,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,y=s&&e.nodeName.toLowerCase(),v=!c&&!s,w=!1;if(m){if(o){for(;g;){for(p=e;p=p[g];)if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&v){for(w=(d=(u=(l=(h=(p=m)[b]||(p[b]={}))[p.uniqueID]||(h[p.uniqueID]={}))[t]||[])[0]===E&&u[1])&&u[2],p=d&&m.childNodes[d];p=++d&&p&&p[g]||(w=d=0)||f.pop();)if(1===p.nodeType&&++w&&p===e){l[t]=[E,d,w];break}}else if(v&&(w=d=(u=(l=(h=(p=e)[b]||(p[b]={}))[p.uniqueID]||(h[p.uniqueID]={}))[t]||[])[0]===E&&u[1]),!1===w)for(;(p=++d&&p&&p[g]||(w=d=0)||f.pop())&&((s?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++w||(v&&((l=(h=p[b]||(p[b]={}))[p.uniqueID]||(h[p.uniqueID]={}))[t]=[E,w]),p!==e)););return(w-=i)===n||w%n==0&&w/n>=0}}},PSEUDO:function(t,e){var r,i=n.pseudos[t]||n.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return i[b]?i(e):i.length>1?(r=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?st(function(t,r){for(var n,o=i(t,e),a=o.length;a--;)t[n=R(t,o[a])]=!(r[n]=o[a])}):function(t){return i(t,0,r)}):i}},pseudos:{not:st(function(t){var e=[],r=[],n=s(t.replace(V,"$1"));return n[b]?st(function(t,e,r,i){for(var o,a=n(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,n(e,null,o,r),e[0]=null,!r.pop()}}),has:st(function(t){return function(e){return ot(t,e).length>0}}),contains:st(function(t){return t=t.replace(Z,tt),function(e){return(e.textContent||e.innerText||i(e)).indexOf(t)>-1}}),lang:st(function(t){return J.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(Z,tt).toLowerCase(),function(e){var r;do{if(r=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(r=r.toLowerCase())===t||0===r.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var r=t.location&&t.location.hash;return r&&r.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:dt(!1),disabled:dt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return $.test(t.nodeName)},input:function(t){return K.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ft(function(){return[0]}),last:ft(function(t,e){return[e-1]}),eq:ft(function(t,e,r){return[r<0?r+e:r]}),even:ft(function(t,e){for(var r=0;r<e;r+=2)t.push(r);return t}),odd:ft(function(t,e){for(var r=1;r<e;r+=2)t.push(r);return t}),lt:ft(function(t,e,r){for(var n=r<0?r+e:r;--n>=0;)t.push(n);return t}),gt:ft(function(t,e,r){for(var n=r<0?r+e:r;++n<e;)t.push(n);return t})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=pt(e);function mt(){}function yt(t){for(var e=0,r=t.length,n="";e<r;e++)n+=t[e].value;return n}function vt(t,e,r){var n=e.dir,i=e.next,o=i||n,a=r&&"parentNode"===o,s=C++;return e.first?function(e,r,i){for(;e=e[n];)if(1===e.nodeType||a)return t(e,r,i);return!1}:function(e,r,c){var u,l,h,p=[E,s];if(c){for(;e=e[n];)if((1===e.nodeType||a)&&t(e,r,c))return!0}else for(;e=e[n];)if(1===e.nodeType||a)if(l=(h=e[b]||(e[b]={}))[e.uniqueID]||(h[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[n]||e;else{if((u=l[o])&&u[0]===E&&u[1]===s)return p[2]=u[2];if(l[o]=p,p[2]=t(e,r,c))return!0}return!1}}function wt(t){return t.length>1?function(e,r,n){for(var i=t.length;i--;)if(!t[i](e,r,n))return!1;return!0}:t[0]}function bt(t,e,r,n,i){for(var o,a=[],s=0,c=t.length,u=null!=e;s<c;s++)(o=t[s])&&(r&&!r(o,n,i)||(a.push(o),u&&e.push(s)));return a}function _t(t,e,r,n,i,o){return n&&!n[b]&&(n=_t(n)),i&&!i[b]&&(i=_t(i,o)),st(function(o,a,s,c){var u,l,h,p=[],d=[],f=a.length,g=o||function(t,e,r){for(var n=0,i=e.length;n<i;n++)ot(t,e[n],r);return r}(e||"*",s.nodeType?[s]:s,[]),m=!t||!o&&e?g:bt(g,p,t,s,c),y=r?i||(o?t:f||n)?[]:a:m;if(r&&r(m,y,s,c),n)for(u=bt(y,d),n(u,[],s,c),l=u.length;l--;)(h=u[l])&&(y[d[l]]=!(m[d[l]]=h));if(o){if(i||t){if(i){for(u=[],l=y.length;l--;)(h=y[l])&&u.push(m[l]=h);i(null,y=[],u,c)}for(l=y.length;l--;)(h=y[l])&&(u=i?R(o,h):p[l])>-1&&(o[u]=!(a[u]=h))}}else y=bt(y===a?y.splice(f,y.length):y),i?i(null,a,y,c):D.apply(a,y)})}function Et(t){for(var e,r,i,o=t.length,a=n.relative[t[0].type],s=a||n.relative[" "],c=a?1:0,l=vt(function(t){return t===e},s,!0),h=vt(function(t){return R(e,t)>-1},s,!0),p=[function(t,r,n){var i=!a&&(n||r!==u)||((e=r).nodeType?l(t,r,n):h(t,r,n));return e=null,i}];c<o;c++)if(r=n.relative[t[c].type])p=[vt(wt(p),r)];else{if((r=n.filter[t[c].type].apply(null,t[c].matches))[b]){for(i=++c;i<o&&!n.relative[t[i].type];i++);return _t(c>1&&wt(p),c>1&&yt(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace(V,"$1"),r,c<i&&Et(t.slice(c,i)),i<o&&Et(t=t.slice(i)),i<o&&yt(t))}p.push(r)}return wt(p)}return mt.prototype=n.filters=n.pseudos,n.setFilters=new mt,a=ot.tokenize=function(t,e){var r,i,o,a,s,c,u,l=x[t+" "];if(l)return e?0:l.slice(0);for(s=t,c=[],u=n.preFilter;s;){for(a in r&&!(i=U.exec(s))||(i&&(s=s.slice(i[0].length)||s),c.push(o=[])),r=!1,(i=W.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(V," ")}),s=s.slice(r.length)),n.filter)!(i=G[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return e?s.length:s?ot.error(t):x(t,c).slice(0)},s=ot.compile=function(t,e){var r,i=[],o=[],s=T[t+" "];if(!s){for(e||(e=a(t)),r=e.length;r--;)(s=Et(e[r]))[b]?i.push(s):o.push(s);(s=T(t,function(t,e){var r=e.length>0,i=t.length>0,o=function(o,a,s,c,l){var h,f,m,y=0,v="0",w=o&&[],b=[],_=u,C=o||i&&n.find.TAG("*",l),k=E+=null==_?1:Math.random()||.1,x=C.length;for(l&&(u=a===d||a||l);v!==x&&null!=(h=C[v]);v++){if(i&&h){for(f=0,a||h.ownerDocument===d||(p(h),s=!g);m=t[f++];)if(m(h,a||d,s)){c.push(h);break}l&&(E=k)}r&&((h=!m&&h)&&y--,o&&w.push(h))}if(y+=v,r&&v!==y){for(f=0;m=e[f++];)m(w,b,a,s);if(o){if(y>0)for(;v--;)w[v]||b[v]||(b[v]=N.call(c));b=bt(b)}D.apply(c,b),l&&!o&&b.length>0&&y+e.length>1&&ot.uniqueSort(c)}return l&&(E=k,u=_),w};return r?st(o):o}(o,i))).selector=t}return s},c=ot.select=function(t,e,r,i){var o,c,u,l,h,p="function"==typeof t&&t,d=!i&&a(t=p.selector||t);if(r=r||[],1===d.length){if((c=d[0]=d[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&9===e.nodeType&&g&&n.relative[c[1].type]){if(!(e=(n.find.ID(u.matches[0].replace(Z,tt),e)||[])[0]))return r;p&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(o=G.needsContext.test(t)?0:c.length;o--&&(u=c[o],!n.relative[l=u.type]);)if((h=n.find[l])&&(i=h(u.matches[0].replace(Z,tt),X.test(c[0].type)&&gt(e.parentNode)||e))){if(c.splice(o,1),!(t=i.length&&yt(c)))return D.apply(r,i),r;break}}return(p||s(t,d))(i,e,!g,r,!e||X.test(t)&&gt(e.parentNode)||e),r},r.sortStable=b.split("").sort(S).join("")===b,r.detectDuplicates=!!h,p(),r.sortDetached=ct(function(t){return 1&t.compareDocumentPosition(d.createElement("fieldset"))}),ct(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ut("type|href|height|width",function(t,e,r){if(!r)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),r.attributes&&ct(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ut("value",function(t,e,r){if(!r&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ct(function(t){return null==t.getAttribute("disabled")})||ut(j,function(t,e,r){var n;if(!r)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),ot}(r);C.find=T,C.expr=T.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=T.uniqueSort,C.text=T.getText,C.isXMLDoc=T.isXML,C.contains=T.contains,C.escapeSelector=T.escape;var S=function(t,e,r){for(var n=[],i=void 0!==r;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&C(t).is(r))break;n.push(t)}return n},A=function(t,e){for(var r=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&r.push(t);return r},I=C.expr.match.needsContext;function N(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(t,e,r){return v(e)?C.grep(t,function(t,n){return!!e.call(t,n,t)!==r}):e.nodeType?C.grep(t,function(t){return t===e!==r}):"string"!=typeof e?C.grep(t,function(t){return h.call(e,t)>-1!==r}):C.filter(e,t,r)}C.filter=function(t,e,r){var n=e[0];return r&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?C.find.matchesSelector(n,t)?[n]:[]:C.find.matches(t,C.grep(e,function(t){return 1===t.nodeType}))},C.fn.extend({find:function(t){var e,r,n=this.length,i=this;if("string"!=typeof t)return this.pushStack(C(t).filter(function(){for(e=0;e<n;e++)if(C.contains(i[e],this))return!0}));for(r=this.pushStack([]),e=0;e<n;e++)C.find(t,i[e],r);return n>1?C.uniqueSort(r):r},filter:function(t){return this.pushStack(D(this,t||[],!1))},not:function(t){return this.pushStack(D(this,t||[],!0))},is:function(t){return!!D(this,"string"==typeof t&&I.test(t)?C(t):t||[],!1).length}});var O,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(t,e,r){var n,i;if(!t)return this;if(r=r||O,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:R.exec(t))||!n[1]&&e)return!e||e.jquery?(e||r).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof C?e[0]:e,C.merge(this,C.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:a,!0)),P.test(n[1])&&C.isPlainObject(e))for(n in e)v(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(i=a.getElementById(n[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==r.ready?r.ready(t):t(C):C.makeArray(t,this)}).prototype=C.fn,O=C(a);var j=/^(?:parents|prev(?:Until|All))/,B={children:!0,contents:!0,next:!0,prev:!0};function M(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}C.fn.extend({has:function(t){var e=C(t,this),r=e.length;return this.filter(function(){for(var t=0;t<r;t++)if(C.contains(this,e[t]))return!0})},closest:function(t,e){var r,n=0,i=this.length,o=[],a="string"!=typeof t&&C(t);if(!I.test(t))for(;n<i;n++)for(r=this[n];r&&r!==e;r=r.parentNode)if(r.nodeType<11&&(a?a.index(r)>-1:1===r.nodeType&&C.find.matchesSelector(r,t))){o.push(r);break}return this.pushStack(o.length>1?C.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?h.call(C(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),C.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return S(t,"parentNode")},parentsUntil:function(t,e,r){return S(t,"parentNode",r)},next:function(t){return M(t,"nextSibling")},prev:function(t){return M(t,"previousSibling")},nextAll:function(t){return S(t,"nextSibling")},prevAll:function(t){return S(t,"previousSibling")},nextUntil:function(t,e,r){return S(t,"nextSibling",r)},prevUntil:function(t,e,r){return S(t,"previousSibling",r)},siblings:function(t){return A((t.parentNode||{}).firstChild,t)},children:function(t){return A(t.firstChild)},contents:function(t){return N(t,"iframe")?t.contentDocument:(N(t,"template")&&(t=t.content||t),C.merge([],t.childNodes))}},function(t,e){C.fn[t]=function(r,n){var i=C.map(this,e,r);return"Until"!==t.slice(-5)&&(n=r),n&&"string"==typeof n&&(i=C.filter(n,i)),this.length>1&&(B[t]||C.uniqueSort(i),j.test(t)&&i.reverse()),this.pushStack(i)}});var F=/[^\x20\t\r\n\f]+/g;function L(t){return t}function q(t){throw t}function V(t,e,r,n){var i;try{t&&v(i=t.promise)?i.call(t).done(e).fail(r):t&&v(i=t.then)?i.call(t,e,r):e.apply(void 0,[t].slice(n))}catch(t){r.apply(void 0,[t])}}C.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return C.each(t.match(F)||[],function(t,r){e[r]=!0}),e}(t):C.extend({},t);var e,r,n,i,o=[],a=[],s=-1,c=function(){for(i=i||t.once,n=e=!0;a.length;s=-1)for(r=a.shift();++s<o.length;)!1===o[s].apply(r[0],r[1])&&t.stopOnFalse&&(s=o.length,r=!1);t.memory||(r=!1),e=!1,i&&(o=r?[]:"")},u={add:function(){return o&&(r&&!e&&(s=o.length-1,a.push(r)),function e(r){C.each(r,function(r,n){v(n)?t.unique&&u.has(n)||o.push(n):n&&n.length&&"string"!==E(n)&&e(n)})}(arguments),r&&!e&&c()),this},remove:function(){return C.each(arguments,function(t,e){for(var r;(r=C.inArray(e,o,r))>-1;)o.splice(r,1),r<=s&&s--}),this},has:function(t){return t?C.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=r="",this},disabled:function(){return!o},lock:function(){return i=a=[],r||e||(o=r=""),this},locked:function(){return!!i},fireWith:function(t,r){return i||(r=[t,(r=r||[]).slice?r.slice():r],a.push(r),e||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},C.extend({Deferred:function(t){var e=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return C.Deferred(function(r){C.each(e,function(e,n){var i=v(t[n[4]])&&t[n[4]];o[n[1]](function(){var t=i&&i.apply(this,arguments);t&&v(t.promise)?t.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[n[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(t,n,i){var o=0;function a(t,e,n,i){return function(){var s=this,c=arguments,u=function(){var r,u;if(!(t<o)){if((r=n.apply(s,c))===e.promise())throw new TypeError("Thenable self-resolution");u=r&&("object"==typeof r||"function"==typeof r)&&r.then,v(u)?i?u.call(r,a(o,e,L,i),a(o,e,q,i)):(o++,u.call(r,a(o,e,L,i),a(o,e,q,i),a(o,e,L,e.notifyWith))):(n!==L&&(s=void 0,c=[r]),(i||e.resolveWith)(s,c))}},l=i?u:function(){try{u()}catch(r){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(r,l.stackTrace),t+1>=o&&(n!==q&&(s=void 0,c=[r]),e.rejectWith(s,c))}};t?l():(C.Deferred.getStackHook&&(l.stackTrace=C.Deferred.getStackHook()),r.setTimeout(l))}}return C.Deferred(function(r){e[0][3].add(a(0,r,v(i)?i:L,r.notifyWith)),e[1][3].add(a(0,r,v(t)?t:L)),e[2][3].add(a(0,r,v(n)?n:q))}).promise()},promise:function(t){return null!=t?C.extend(t,i):i}},o={};return C.each(e,function(t,r){var a=r[2],s=r[5];i[r[1]]=a.add,s&&a.add(function(){n=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,r=e,n=Array(r),i=c.call(arguments),o=C.Deferred(),a=function(t){return function(r){n[t]=this,i[t]=arguments.length>1?c.call(arguments):r,--e||o.resolveWith(n,i)}};if(e<=1&&(V(t,o.done(a(r)).resolve,o.reject,!e),"pending"===o.state()||v(i[r]&&i[r].then)))return o.then();for(;r--;)V(i[r],a(r),o.reject);return o.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(t,e){r.console&&r.console.warn&&t&&U.test(t.name)&&r.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},C.readyException=function(t){r.setTimeout(function(){throw t})};var W=C.Deferred();function z(){a.removeEventListener("DOMContentLoaded",z),r.removeEventListener("load",z),C.ready()}C.fn.ready=function(t){return W.then(t).catch(function(t){C.readyException(t)}),this},C.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==t&&--C.readyWait>0||W.resolveWith(a,[C]))}}),C.ready.then=W.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?r.setTimeout(C.ready):(a.addEventListener("DOMContentLoaded",z),r.addEventListener("load",z));var H=function(t,e,r,n,i,o,a){var s=0,c=t.length,u=null==r;if("object"===E(r))for(s in i=!0,r)H(t,e,s,r[s],!0,o,a);else if(void 0!==n&&(i=!0,v(n)||(a=!0),u&&(a?(e.call(t,n),e=null):(u=e,e=function(t,e,r){return u.call(C(t),r)})),e))for(;s<c;s++)e(t[s],r,a?n:n.call(t[s],s,e(t[s],r)));return i?t:u?e.call(t):c?e(t[0],r):o},J=/^-ms-/,G=/-([a-z])/g;function K(t,e){return e.toUpperCase()}function $(t){return t.replace(J,"ms-").replace(G,K)}var Q=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Y(){this.expando=C.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Q(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,r){var n,i=this.cache(t);if("string"==typeof e)i[$(e)]=r;else for(n in e)i[$(n)]=e[n];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][$(e)]},access:function(t,e,r){return void 0===e||e&&"string"==typeof e&&void 0===r?this.get(t,e):(this.set(t,e,r),void 0!==r?r:e)},remove:function(t,e){var r,n=t[this.expando];if(void 0!==n){if(void 0!==e){r=(e=Array.isArray(e)?e.map($):(e=$(e))in n?[e]:e.match(F)||[]).length;for(;r--;)delete n[e[r]]}(void 0===e||C.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!C.isEmptyObject(e)}};var X=new Y,Z=new Y,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function rt(t,e,r){var n;if(void 0===r&&1===t.nodeType)if(n="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(r=t.getAttribute(n))){try{r=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(r)}catch(t){}Z.set(t,e,r)}else r=void 0;return r}C.extend({hasData:function(t){return Z.hasData(t)||X.hasData(t)},data:function(t,e,r){return Z.access(t,e,r)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,r){return X.access(t,e,r)},_removeData:function(t,e){X.remove(t,e)}}),C.fn.extend({data:function(t,e){var r,n,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=Z.get(o),1===o.nodeType&&!X.get(o,"hasDataAttrs"))){for(r=a.length;r--;)a[r]&&0===(n=a[r].name).indexOf("data-")&&(n=$(n.slice(5)),rt(o,n,i[n]));X.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){Z.set(this,t)}):H(this,function(e){var r;if(o&&void 0===e)return void 0!==(r=Z.get(o,t))?r:void 0!==(r=rt(o,t))?r:void 0;this.each(function(){Z.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Z.remove(this,t)})}}),C.extend({queue:function(t,e,r){var n;if(t)return e=(e||"fx")+"queue",n=X.get(t,e),r&&(!n||Array.isArray(r)?n=X.access(t,e,C.makeArray(r)):n.push(r)),n||[]},dequeue:function(t,e){e=e||"fx";var r=C.queue(t,e),n=r.length,i=r.shift(),o=C._queueHooks(t,e);"inprogress"===i&&(i=r.shift(),n--),i&&("fx"===e&&r.unshift("inprogress"),delete o.stop,i.call(t,function(){C.dequeue(t,e)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var r=e+"queueHooks";return X.get(t,r)||X.access(t,r,{empty:C.Callbacks("once memory").add(function(){X.remove(t,[e+"queue",r])})})}}),C.fn.extend({queue:function(t,e){var r=2;return"string"!=typeof t&&(e=t,t="fx",r--),arguments.length<r?C.queue(this[0],t):void 0===e?this:this.each(function(){var r=C.queue(this,t,e);C._queueHooks(this,t),"fx"===t&&"inprogress"!==r[0]&&C.dequeue(this,t)})},dequeue:function(t){return this.each(function(){C.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var r,n=1,i=C.Deferred(),o=this,a=this.length,s=function(){--n||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(r=X.get(o[a],t+"queueHooks"))&&r.empty&&(n++,r.empty.add(s));return s(),i.promise(e)}});var nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+nt+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],at=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&C.contains(t.ownerDocument,t)&&"none"===C.css(t,"display")},st=function(t,e,r,n){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in i=r.apply(t,n||[]),e)t.style[o]=a[o];return i};function ct(t,e,r,n){var i,o,a=20,s=n?function(){return n.cur()}:function(){return C.css(t,e,"")},c=s(),u=r&&r[3]||(C.cssNumber[e]?"":"px"),l=(C.cssNumber[e]||"px"!==u&&+c)&&it.exec(C.css(t,e));if(l&&l[3]!==u){for(c/=2,u=u||l[3],l=+c||1;a--;)C.style(t,e,l+u),(1-o)*(1-(o=s()/c||.5))<=0&&(a=0),l/=o;l*=2,C.style(t,e,l+u),r=r||[]}return r&&(l=+l||+c||0,i=r[1]?l+(r[1]+1)*r[2]:+r[2],n&&(n.unit=u,n.start=l,n.end=i)),i}var ut={};function lt(t){var e,r=t.ownerDocument,n=t.nodeName,i=ut[n];return i||(e=r.body.appendChild(r.createElement(n)),i=C.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),ut[n]=i,i)}function ht(t,e){for(var r,n,i=[],o=0,a=t.length;o<a;o++)(n=t[o]).style&&(r=n.style.display,e?("none"===r&&(i[o]=X.get(n,"display")||null,i[o]||(n.style.display="")),""===n.style.display&&at(n)&&(i[o]=lt(n))):"none"!==r&&(i[o]="none",X.set(n,"display",r)));for(o=0;o<a;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}C.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){at(this)?C(this).show():C(this).hide()})}});var pt=/^(?:checkbox|radio)$/i,dt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ft=/^$|^module$|\/(?:java|ecma)script/i,gt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function mt(t,e){var r;return r=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&N(t,e)?C.merge([t],r):r}function yt(t,e){for(var r=0,n=t.length;r<n;r++)X.set(t[r],"globalEval",!e||X.get(e[r],"globalEval"))}gt.optgroup=gt.option,gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td;var vt,wt,bt=/<|&#?\w+;/;function _t(t,e,r,n,i){for(var o,a,s,c,u,l,h=e.createDocumentFragment(),p=[],d=0,f=t.length;d<f;d++)if((o=t[d])||0===o)if("object"===E(o))C.merge(p,o.nodeType?[o]:o);else if(bt.test(o)){for(a=a||h.appendChild(e.createElement("div")),s=(dt.exec(o)||["",""])[1].toLowerCase(),c=gt[s]||gt._default,a.innerHTML=c[1]+C.htmlPrefilter(o)+c[2],l=c[0];l--;)a=a.lastChild;C.merge(p,a.childNodes),(a=h.firstChild).textContent=""}else p.push(e.createTextNode(o));for(h.textContent="",d=0;o=p[d++];)if(n&&C.inArray(o,n)>-1)i&&i.push(o);else if(u=C.contains(o.ownerDocument,o),a=mt(h.appendChild(o),"script"),u&&yt(a),r)for(l=0;o=a[l++];)ft.test(o.type||"")&&r.push(o);return h}vt=a.createDocumentFragment().appendChild(a.createElement("div")),(wt=a.createElement("input")).setAttribute("type","radio"),wt.setAttribute("checked","checked"),wt.setAttribute("name","t"),vt.appendChild(wt),y.checkClone=vt.cloneNode(!0).cloneNode(!0).lastChild.checked,vt.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!vt.cloneNode(!0).lastChild.defaultValue;var Et=a.documentElement,Ct=/^key/,kt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,xt=/^([^.]*)(?:\.(.+)|)/;function Tt(){return!0}function St(){return!1}function At(){try{return a.activeElement}catch(t){}}function It(t,e,r,n,i,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof r&&(n=n||r,r=void 0),e)It(t,s,r,n,e[s],o);return t}if(null==n&&null==i?(i=r,n=r=void 0):null==i&&("string"==typeof r?(i=n,n=void 0):(i=n,n=r,r=void 0)),!1===i)i=St;else if(!i)return t;return 1===o&&(a=i,(i=function(t){return C().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=C.guid++)),t.each(function(){C.event.add(this,e,i,n,r)})}C.event={global:{},add:function(t,e,r,n,i){var o,a,s,c,u,l,h,p,d,f,g,m=X.get(t);if(m)for(r.handler&&(r=(o=r).handler,i=o.selector),i&&C.find.matchesSelector(Et,i),r.guid||(r.guid=C.guid++),(c=m.events)||(c=m.events={}),(a=m.handle)||(a=m.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(F)||[""]).length;u--;)d=g=(s=xt.exec(e[u])||[])[1],f=(s[2]||"").split(".").sort(),d&&(h=C.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,h=C.event.special[d]||{},l=C.extend({type:d,origType:g,data:n,handler:r,guid:r.guid,selector:i,needsContext:i&&C.expr.match.needsContext.test(i),namespace:f.join(".")},o),(p=c[d])||((p=c[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,n,f,a)||t.addEventListener&&t.addEventListener(d,a)),h.add&&(h.add.call(t,l),l.handler.guid||(l.handler.guid=r.guid)),i?p.splice(p.delegateCount++,0,l):p.push(l),C.event.global[d]=!0)},remove:function(t,e,r,n,i){var o,a,s,c,u,l,h,p,d,f,g,m=X.hasData(t)&&X.get(t);if(m&&(c=m.events)){for(u=(e=(e||"").match(F)||[""]).length;u--;)if(d=g=(s=xt.exec(e[u])||[])[1],f=(s[2]||"").split(".").sort(),d){for(h=C.event.special[d]||{},p=c[d=(n?h.delegateType:h.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)l=p[o],!i&&g!==l.origType||r&&r.guid!==l.guid||s&&!s.test(l.namespace)||n&&n!==l.selector&&("**"!==n||!l.selector)||(p.splice(o,1),l.selector&&p.delegateCount--,h.remove&&h.remove.call(t,l));a&&!p.length&&(h.teardown&&!1!==h.teardown.call(t,f,m.handle)||C.removeEvent(t,d,m.handle),delete c[d])}else for(d in c)C.event.remove(t,d+e[u],r,n,!0);C.isEmptyObject(c)&&X.remove(t,"handle events")}},dispatch:function(t){var e,r,n,i,o,a,s=C.event.fix(t),c=new Array(arguments.length),u=(X.get(this,"events")||{})[s.type]||[],l=C.event.special[s.type]||{};for(c[0]=s,e=1;e<arguments.length;e++)c[e]=arguments[e];if(s.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,s)){for(a=C.event.handlers.call(this,s,u),e=0;(i=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,r=0;(o=i.handlers[r++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(n=((C.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,c))&&!1===(s.result=n)&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(t,e){var r,n,i,o,a,s=[],c=e.delegateCount,u=t.target;if(c&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],a={},r=0;r<c;r++)void 0===a[i=(n=e[r]).selector+" "]&&(a[i]=n.needsContext?C(i,this).index(u)>-1:C.find(i,this,null,[u]).length),a[i]&&o.push(n);o.length&&s.push({elem:u,handlers:o})}return u=this,c<e.length&&s.push({elem:u,handlers:e.slice(c)}),s},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[C.expando]?t:new C.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==At()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===At()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&N(this,"input"))return this.click(),!1},_default:function(t){return N(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},C.removeEvent=function(t,e,r){t.removeEventListener&&t.removeEventListener(e,r)},C.Event=function(t,e){if(!(this instanceof C.Event))return new C.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Tt:St,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&C.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:St,isPropagationStopped:St,isImmediatePropagationStopped:St,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Tt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Tt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Tt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Ct.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&kt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},C.event.addProp),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){C.event.special[t]={delegateType:e,bindType:e,handle:function(t){var r,n=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===n||C.contains(n,i))||(t.type=o.origType,r=o.handler.apply(this,arguments),t.type=e),r}}}),C.fn.extend({on:function(t,e,r,n){return It(this,t,e,r,n)},one:function(t,e,r,n){return It(this,t,e,r,n,1)},off:function(t,e,r){var n,i;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,C(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(r=e,e=void 0),!1===r&&(r=St),this.each(function(){C.event.remove(this,t,r,e)})}});var Nt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Pt=/<script|<style|<link/i,Dt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Rt(t,e){return N(t,"table")&&N(11!==e.nodeType?e:e.firstChild,"tr")&&C(t).children("tbody")[0]||t}function jt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Bt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Mt(t,e){var r,n,i,o,a,s,c,u;if(1===e.nodeType){if(X.hasData(t)&&(o=X.access(t),a=X.set(e,o),u=o.events))for(i in delete a.handle,a.events={},u)for(r=0,n=u[i].length;r<n;r++)C.event.add(e,i,u[i][r]);Z.hasData(t)&&(s=Z.access(t),c=C.extend({},s),Z.set(e,c))}}function Ft(t,e){var r=e.nodeName.toLowerCase();"input"===r&&pt.test(t.type)?e.checked=t.checked:"input"!==r&&"textarea"!==r||(e.defaultValue=t.defaultValue)}function Lt(t,e,r,n){e=u.apply([],e);var i,o,a,s,c,l,h=0,p=t.length,d=p-1,f=e[0],g=v(f);if(g||p>1&&"string"==typeof f&&!y.checkClone&&Dt.test(f))return t.each(function(i){var o=t.eq(i);g&&(e[0]=f.call(this,i,o.html())),Lt(o,e,r,n)});if(p&&(o=(i=_t(e,t[0].ownerDocument,!1,t,n)).firstChild,1===i.childNodes.length&&(i=o),o||n)){for(s=(a=C.map(mt(i,"script"),jt)).length;h<p;h++)c=i,h!==d&&(c=C.clone(c,!0,!0),s&&C.merge(a,mt(c,"script"))),r.call(t[h],c,h);if(s)for(l=a[a.length-1].ownerDocument,C.map(a,Bt),h=0;h<s;h++)c=a[h],ft.test(c.type||"")&&!X.access(c,"globalEval")&&C.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?C._evalUrl&&C._evalUrl(c.src):_(c.textContent.replace(Ot,""),l,c))}return t}function qt(t,e,r){for(var n,i=e?C.filter(e,t):t,o=0;null!=(n=i[o]);o++)r||1!==n.nodeType||C.cleanData(mt(n)),n.parentNode&&(r&&C.contains(n.ownerDocument,n)&&yt(mt(n,"script")),n.parentNode.removeChild(n));return t}C.extend({htmlPrefilter:function(t){return t.replace(Nt,"<$1></$2>")},clone:function(t,e,r){var n,i,o,a,s=t.cloneNode(!0),c=C.contains(t.ownerDocument,t);if(!(y.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||C.isXMLDoc(t)))for(a=mt(s),n=0,i=(o=mt(t)).length;n<i;n++)Ft(o[n],a[n]);if(e)if(r)for(o=o||mt(t),a=a||mt(s),n=0,i=o.length;n<i;n++)Mt(o[n],a[n]);else Mt(t,s);return(a=mt(s,"script")).length>0&&yt(a,!c&&mt(t,"script")),s},cleanData:function(t){for(var e,r,n,i=C.event.special,o=0;void 0!==(r=t[o]);o++)if(Q(r)){if(e=r[X.expando]){if(e.events)for(n in e.events)i[n]?C.event.remove(r,n):C.removeEvent(r,n,e.handle);r[X.expando]=void 0}r[Z.expando]&&(r[Z.expando]=void 0)}}}),C.fn.extend({detach:function(t){return qt(this,t,!0)},remove:function(t){return qt(this,t)},text:function(t){return H(this,function(t){return void 0===t?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Lt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Rt(this,t).appendChild(t)})},prepend:function(){return Lt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Rt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Lt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Lt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(C.cleanData(mt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return C.clone(this,t,e)})},html:function(t){return H(this,function(t){var e=this[0]||{},r=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Pt.test(t)&&!gt[(dt.exec(t)||["",""])[1].toLowerCase()]){t=C.htmlPrefilter(t);try{for(;r<n;r++)1===(e=this[r]||{}).nodeType&&(C.cleanData(mt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Lt(this,arguments,function(e){var r=this.parentNode;C.inArray(this,t)<0&&(C.cleanData(mt(this)),r&&r.replaceChild(e,this))},t)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){C.fn[t]=function(t){for(var r,n=[],i=C(t),o=i.length-1,a=0;a<=o;a++)r=a===o?this:this.clone(!0),C(i[a])[e](r),l.apply(n,r.get());return this.pushStack(n)}});var Vt=new RegExp("^("+nt+")(?!px)[a-z%]+$","i"),Ut=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=r),e.getComputedStyle(t)},Wt=new RegExp(ot.join("|"),"i");function zt(t,e,r){var n,i,o,a,s=t.style;return(r=r||Ut(t))&&(""!==(a=r.getPropertyValue(e)||r[e])||C.contains(t.ownerDocument,t)||(a=C.style(t,e)),!y.pixelBoxStyles()&&Vt.test(a)&&Wt.test(e)&&(n=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=r.width,s.width=n,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Ht(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Et.appendChild(u).appendChild(l);var t=r.getComputedStyle(l);n="1%"!==t.top,c=12===e(t.marginLeft),l.style.right="60%",s=36===e(t.right),i=36===e(t.width),l.style.position="absolute",o=36===l.offsetWidth||"absolute",Et.removeChild(u),l=null}}function e(t){return Math.round(parseFloat(t))}var n,i,o,s,c,u=a.createElement("div"),l=a.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,C.extend(y,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),c},scrollboxSize:function(){return t(),o}}))}();var Jt=/^(none|table(?!-c[ea]).+)/,Gt=/^--/,Kt={position:"absolute",visibility:"hidden",display:"block"},$t={letterSpacing:"0",fontWeight:"400"},Qt=["Webkit","Moz","ms"],Yt=a.createElement("div").style;function Xt(t){var e=C.cssProps[t];return e||(e=C.cssProps[t]=function(t){if(t in Yt)return t;for(var e=t[0].toUpperCase()+t.slice(1),r=Qt.length;r--;)if((t=Qt[r]+e)in Yt)return t}(t)||t),e}function Zt(t,e,r){var n=it.exec(e);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):e}function te(t,e,r,n,i,o){var a="width"===e?1:0,s=0,c=0;if(r===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===r&&(c+=C.css(t,r+ot[a],!0,i)),n?("content"===r&&(c-=C.css(t,"padding"+ot[a],!0,i)),"margin"!==r&&(c-=C.css(t,"border"+ot[a]+"Width",!0,i))):(c+=C.css(t,"padding"+ot[a],!0,i),"padding"!==r?c+=C.css(t,"border"+ot[a]+"Width",!0,i):s+=C.css(t,"border"+ot[a]+"Width",!0,i));return!n&&o>=0&&(c+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-c-s-.5))),c}function ee(t,e,r){var n=Ut(t),i=zt(t,e,n),o="border-box"===C.css(t,"boxSizing",!1,n),a=o;if(Vt.test(i)){if(!r)return i;i="auto"}return a=a&&(y.boxSizingReliable()||i===t.style[e]),("auto"===i||!parseFloat(i)&&"inline"===C.css(t,"display",!1,n))&&(i=t["offset"+e[0].toUpperCase()+e.slice(1)],a=!0),(i=parseFloat(i)||0)+te(t,e,r||(o?"border":"content"),a,n,i)+"px"}function re(t,e,r,n,i){return new re.prototype.init(t,e,r,n,i)}C.extend({cssHooks:{opacity:{get:function(t,e){if(e){var r=zt(t,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,r,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=$(e),c=Gt.test(e),u=t.style;if(c||(e=Xt(s)),a=C.cssHooks[e]||C.cssHooks[s],void 0===r)return a&&"get"in a&&void 0!==(i=a.get(t,!1,n))?i:u[e];"string"===(o=typeof r)&&(i=it.exec(r))&&i[1]&&(r=ct(t,e,i),o="number"),null!=r&&r==r&&("number"===o&&(r+=i&&i[3]||(C.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==r||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(r=a.set(t,r,n))||(c?u.setProperty(e,r):u[e]=r))}},css:function(t,e,r,n){var i,o,a,s=$(e);return Gt.test(e)||(e=Xt(s)),(a=C.cssHooks[e]||C.cssHooks[s])&&"get"in a&&(i=a.get(t,!0,r)),void 0===i&&(i=zt(t,e,n)),"normal"===i&&e in $t&&(i=$t[e]),""===r||r?(o=parseFloat(i),!0===r||isFinite(o)?o||0:i):i}}),C.each(["height","width"],function(t,e){C.cssHooks[e]={get:function(t,r,n){if(r)return!Jt.test(C.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ee(t,e,n):st(t,Kt,function(){return ee(t,e,n)})},set:function(t,r,n){var i,o=Ut(t),a="border-box"===C.css(t,"boxSizing",!1,o),s=n&&te(t,e,n,a,o);return a&&y.scrollboxSize()===o.position&&(s-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-te(t,e,"border",!1,o)-.5)),s&&(i=it.exec(r))&&"px"!==(i[3]||"px")&&(t.style[e]=r,r=C.css(t,e)),Zt(0,r,s)}}}),C.cssHooks.marginLeft=Ht(y.reliableMarginLeft,function(t,e){if(e)return(parseFloat(zt(t,"marginLeft"))||t.getBoundingClientRect().left-st(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(t,e){C.cssHooks[t+e]={expand:function(r){for(var n=0,i={},o="string"==typeof r?r.split(" "):[r];n<4;n++)i[t+ot[n]+e]=o[n]||o[n-2]||o[0];return i}},"margin"!==t&&(C.cssHooks[t+e].set=Zt)}),C.fn.extend({css:function(t,e){return H(this,function(t,e,r){var n,i,o={},a=0;if(Array.isArray(e)){for(n=Ut(t),i=e.length;a<i;a++)o[e[a]]=C.css(t,e[a],!1,n);return o}return void 0!==r?C.style(t,e,r):C.css(t,e)},t,e,arguments.length>1)}}),C.Tween=re,re.prototype={constructor:re,init:function(t,e,r,n,i,o){this.elem=t,this.prop=r,this.easing=i||C.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(C.cssNumber[r]?"":"px")},cur:function(){var t=re.propHooks[this.prop];return t&&t.get?t.get(this):re.propHooks._default.get(this)},run:function(t){var e,r=re.propHooks[this.prop];return this.options.duration?this.pos=e=C.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):re.propHooks._default.set(this),this}},re.prototype.init.prototype=re.prototype,re.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=C.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){C.fx.step[t.prop]?C.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[C.cssProps[t.prop]]&&!C.cssHooks[t.prop]?t.elem[t.prop]=t.now:C.style(t.elem,t.prop,t.now+t.unit)}}},re.propHooks.scrollTop=re.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},C.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},C.fx=re.prototype.init,C.fx.step={};var ne,ie,oe=/^(?:toggle|show|hide)$/,ae=/queueHooks$/;function se(){ie&&(!1===a.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(se):r.setTimeout(se,C.fx.interval),C.fx.tick())}function ce(){return r.setTimeout(function(){ne=void 0}),ne=Date.now()}function ue(t,e){var r,n=0,i={height:t};for(e=e?1:0;n<4;n+=2-e)i["margin"+(r=ot[n])]=i["padding"+r]=t;return e&&(i.opacity=i.width=t),i}function le(t,e,r){for(var n,i=(he.tweeners[e]||[]).concat(he.tweeners["*"]),o=0,a=i.length;o<a;o++)if(n=i[o].call(r,e,t))return n}function he(t,e,r){var n,i,o=0,a=he.prefilters.length,s=C.Deferred().always(function(){delete c.elem}),c=function(){if(i)return!1;for(var e=ne||ce(),r=Math.max(0,u.startTime+u.duration-e),n=1-(r/u.duration||0),o=0,a=u.tweens.length;o<a;o++)u.tweens[o].run(n);return s.notifyWith(t,[u,n,r]),n<1&&a?r:(a||s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},r),originalProperties:e,originalOptions:r,startTime:ne||ce(),duration:r.duration,tweens:[],createTween:function(e,r){var n=C.Tween(t,u.opts,e,r,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(n),n},stop:function(e){var r=0,n=e?u.tweens.length:0;if(i)return this;for(i=!0;r<n;r++)u.tweens[r].run(1);return e?(s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u,e])):s.rejectWith(t,[u,e]),this}}),l=u.props;for(!function(t,e){var r,n,i,o,a;for(r in t)if(i=e[n=$(r)],o=t[r],Array.isArray(o)&&(i=o[1],o=t[r]=o[0]),r!==n&&(t[n]=o,delete t[r]),(a=C.cssHooks[n])&&"expand"in a)for(r in o=a.expand(o),delete t[n],o)r in t||(t[r]=o[r],e[r]=i);else e[n]=i}(l,u.opts.specialEasing);o<a;o++)if(n=he.prefilters[o].call(u,t,l,u.opts))return v(n.stop)&&(C._queueHooks(u.elem,u.opts.queue).stop=n.stop.bind(n)),n;return C.map(l,le,u),v(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),C.fx.timer(C.extend(c,{elem:t,anim:u,queue:u.opts.queue})),u}C.Animation=C.extend(he,{tweeners:{"*":[function(t,e){var r=this.createTween(t,e);return ct(r.elem,t,it.exec(e),r),r}]},tweener:function(t,e){v(t)?(e=t,t=["*"]):t=t.match(F);for(var r,n=0,i=t.length;n<i;n++)r=t[n],he.tweeners[r]=he.tweeners[r]||[],he.tweeners[r].unshift(e)},prefilters:[function(t,e,r){var n,i,o,a,s,c,u,l,h="width"in e||"height"in e,p=this,d={},f=t.style,g=t.nodeType&&at(t),m=X.get(t,"fxshow");for(n in r.queue||(null==(a=C._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,C.queue(t,"fx").length||a.empty.fire()})})),e)if(i=e[n],oe.test(i)){if(delete e[n],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!m||void 0===m[n])continue;g=!0}d[n]=m&&m[n]||C.style(t,n)}if((c=!C.isEmptyObject(e))||!C.isEmptyObject(d))for(n in h&&1===t.nodeType&&(r.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=m&&m.display)&&(u=X.get(t,"display")),"none"===(l=C.css(t,"display"))&&(u?l=u:(ht([t],!0),u=t.style.display||u,l=C.css(t,"display"),ht([t]))),("inline"===l||"inline-block"===l&&null!=u)&&"none"===C.css(t,"float")&&(c||(p.done(function(){f.display=u}),null==u&&(l=f.display,u="none"===l?"":l)),f.display="inline-block")),r.overflow&&(f.overflow="hidden",p.always(function(){f.overflow=r.overflow[0],f.overflowX=r.overflow[1],f.overflowY=r.overflow[2]})),c=!1,d)c||(m?"hidden"in m&&(g=m.hidden):m=X.access(t,"fxshow",{display:u}),o&&(m.hidden=!g),g&&ht([t],!0),p.done(function(){for(n in g||ht([t]),X.remove(t,"fxshow"),d)C.style(t,n,d[n])})),c=le(g?m[n]:0,n,p),n in m||(m[n]=c.start,g&&(c.end=c.start,c.start=0))}],prefilter:function(t,e){e?he.prefilters.unshift(t):he.prefilters.push(t)}}),C.speed=function(t,e,r){var n=t&&"object"==typeof t?C.extend({},t):{complete:r||!r&&e||v(t)&&t,duration:t,easing:r&&e||e&&!v(e)&&e};return C.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in C.fx.speeds?n.duration=C.fx.speeds[n.duration]:n.duration=C.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){v(n.old)&&n.old.call(this),n.queue&&C.dequeue(this,n.queue)},n},C.fn.extend({fadeTo:function(t,e,r,n){return this.filter(at).css("opacity",0).show().end().animate({opacity:e},t,r,n)},animate:function(t,e,r,n){var i=C.isEmptyObject(t),o=C.speed(e,r,n),a=function(){var e=he(this,C.extend({},t),o);(i||X.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,r){var n=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof t&&(r=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=C.timers,a=X.get(this);if(i)a[i]&&a[i].stop&&n(a[i]);else for(i in a)a[i]&&a[i].stop&&ae.test(i)&&n(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(r),e=!1,o.splice(i,1));!e&&r||C.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,r=X.get(this),n=r[t+"queue"],i=r[t+"queueHooks"],o=C.timers,a=n?n.length:0;for(r.finish=!0,C.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete r.finish})}}),C.each(["toggle","show","hide"],function(t,e){var r=C.fn[e];C.fn[e]=function(t,n,i){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(ue(e,!0),t,n,i)}}),C.each({slideDown:ue("show"),slideUp:ue("hide"),slideToggle:ue("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){C.fn[t]=function(t,r,n){return this.animate(e,t,r,n)}}),C.timers=[],C.fx.tick=function(){var t,e=0,r=C.timers;for(ne=Date.now();e<r.length;e++)(t=r[e])()||r[e]!==t||r.splice(e--,1);r.length||C.fx.stop(),ne=void 0},C.fx.timer=function(t){C.timers.push(t),C.fx.start()},C.fx.interval=13,C.fx.start=function(){ie||(ie=!0,se())},C.fx.stop=function(){ie=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(t,e){return t=C.fx&&C.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,n){var i=r.setTimeout(e,t);n.stop=function(){r.clearTimeout(i)}})},function(){var t=a.createElement("input"),e=a.createElement("select").appendChild(a.createElement("option"));t.type="checkbox",y.checkOn=""!==t.value,y.optSelected=e.selected,(t=a.createElement("input")).value="t",t.type="radio",y.radioValue="t"===t.value}();var pe,de=C.expr.attrHandle;C.fn.extend({attr:function(t,e){return H(this,C.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){C.removeAttr(this,t)})}}),C.extend({attr:function(t,e,r){var n,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?C.prop(t,e,r):(1===o&&C.isXMLDoc(t)||(i=C.attrHooks[e.toLowerCase()]||(C.expr.match.bool.test(e)?pe:void 0)),void 0!==r?null===r?void C.removeAttr(t,e):i&&"set"in i&&void 0!==(n=i.set(t,r,e))?n:(t.setAttribute(e,r+""),r):i&&"get"in i&&null!==(n=i.get(t,e))?n:null==(n=C.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!y.radioValue&&"radio"===e&&N(t,"input")){var r=t.value;return t.setAttribute("type",e),r&&(t.value=r),e}}}},removeAttr:function(t,e){var r,n=0,i=e&&e.match(F);if(i&&1===t.nodeType)for(;r=i[n++];)t.removeAttribute(r)}}),pe={set:function(t,e,r){return!1===e?C.removeAttr(t,r):t.setAttribute(r,r),r}},C.each(C.expr.match.bool.source.match(/\w+/g),function(t,e){var r=de[e]||C.find.attr;de[e]=function(t,e,n){var i,o,a=e.toLowerCase();return n||(o=de[a],de[a]=i,i=null!=r(t,e,n)?a:null,de[a]=o),i}});var fe=/^(?:input|select|textarea|button)$/i,ge=/^(?:a|area)$/i;function me(t){return(t.match(F)||[]).join(" ")}function ye(t){return t.getAttribute&&t.getAttribute("class")||""}function ve(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(F)||[]}C.fn.extend({prop:function(t,e){return H(this,C.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[C.propFix[t]||t]})}}),C.extend({prop:function(t,e,r){var n,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&C.isXMLDoc(t)||(e=C.propFix[e]||e,i=C.propHooks[e]),void 0!==r?i&&"set"in i&&void 0!==(n=i.set(t,r,e))?n:t[e]=r:i&&"get"in i&&null!==(n=i.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=C.find.attr(t,"tabindex");return e?parseInt(e,10):fe.test(t.nodeName)||ge.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(C.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),C.fn.extend({addClass:function(t){var e,r,n,i,o,a,s,c=0;if(v(t))return this.each(function(e){C(this).addClass(t.call(this,e,ye(this)))});if((e=ve(t)).length)for(;r=this[c++];)if(i=ye(r),n=1===r.nodeType&&" "+me(i)+" "){for(a=0;o=e[a++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");i!==(s=me(n))&&r.setAttribute("class",s)}return this},removeClass:function(t){var e,r,n,i,o,a,s,c=0;if(v(t))return this.each(function(e){C(this).removeClass(t.call(this,e,ye(this)))});if(!arguments.length)return this.attr("class","");if((e=ve(t)).length)for(;r=this[c++];)if(i=ye(r),n=1===r.nodeType&&" "+me(i)+" "){for(a=0;o=e[a++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");i!==(s=me(n))&&r.setAttribute("class",s)}return this},toggleClass:function(t,e){var r=typeof t,n="string"===r||Array.isArray(t);return"boolean"==typeof e&&n?e?this.addClass(t):this.removeClass(t):v(t)?this.each(function(r){C(this).toggleClass(t.call(this,r,ye(this),e),e)}):this.each(function(){var e,i,o,a;if(n)for(i=0,o=C(this),a=ve(t);e=a[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==r||((e=ye(this))&&X.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":X.get(this,"__className__")||""))})},hasClass:function(t){var e,r,n=0;for(e=" "+t+" ";r=this[n++];)if(1===r.nodeType&&(" "+me(ye(r))+" ").indexOf(e)>-1)return!0;return!1}});var we=/\r/g;C.fn.extend({val:function(t){var e,r,n,i=this[0];return arguments.length?(n=v(t),this.each(function(r){var i;1===this.nodeType&&(null==(i=n?t.call(this,r,C(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=C.map(i,function(t){return null==t?"":t+""})),(e=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))})):i?(e=C.valHooks[i.type]||C.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(r=e.get(i,"value"))?r:"string"==typeof(r=i.value)?r.replace(we,""):null==r?"":r:void 0}}),C.extend({valHooks:{option:{get:function(t){var e=C.find.attr(t,"value");return null!=e?e:me(C.text(t))}},select:{get:function(t){var e,r,n,i=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],c=a?o+1:i.length;for(n=o<0?c:a?o:0;n<c;n++)if(((r=i[n]).selected||n===o)&&!r.disabled&&(!r.parentNode.disabled||!N(r.parentNode,"optgroup"))){if(e=C(r).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var r,n,i=t.options,o=C.makeArray(e),a=i.length;a--;)((n=i[a]).selected=C.inArray(C.valHooks.option.get(n),o)>-1)&&(r=!0);return r||(t.selectedIndex=-1),o}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=C.inArray(C(t).val(),e)>-1}},y.checkOn||(C.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),y.focusin="onfocusin"in r;var be=/^(?:focusinfocus|focusoutblur)$/,_e=function(t){t.stopPropagation()};C.extend(C.event,{trigger:function(t,e,n,i){var o,s,c,u,l,h,p,d,g=[n||a],m=f.call(t,"type")?t.type:t,y=f.call(t,"namespace")?t.namespace.split("."):[];if(s=d=c=n=n||a,3!==n.nodeType&&8!==n.nodeType&&!be.test(m+C.event.triggered)&&(m.indexOf(".")>-1&&(y=m.split("."),m=y.shift(),y.sort()),l=m.indexOf(":")<0&&"on"+m,(t=t[C.expando]?t:new C.Event(m,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:C.makeArray(e,[t]),p=C.event.special[m]||{},i||!p.trigger||!1!==p.trigger.apply(n,e))){if(!i&&!p.noBubble&&!w(n)){for(u=p.delegateType||m,be.test(u+m)||(s=s.parentNode);s;s=s.parentNode)g.push(s),c=s;c===(n.ownerDocument||a)&&g.push(c.defaultView||c.parentWindow||r)}for(o=0;(s=g[o++])&&!t.isPropagationStopped();)d=s,t.type=o>1?u:p.bindType||m,(h=(X.get(s,"events")||{})[t.type]&&X.get(s,"handle"))&&h.apply(s,e),(h=l&&s[l])&&h.apply&&Q(s)&&(t.result=h.apply(s,e),!1===t.result&&t.preventDefault());return t.type=m,i||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(g.pop(),e)||!Q(n)||l&&v(n[m])&&!w(n)&&((c=n[l])&&(n[l]=null),C.event.triggered=m,t.isPropagationStopped()&&d.addEventListener(m,_e),n[m](),t.isPropagationStopped()&&d.removeEventListener(m,_e),C.event.triggered=void 0,c&&(n[l]=c)),t.result}},simulate:function(t,e,r){var n=C.extend(new C.Event,r,{type:t,isSimulated:!0});C.event.trigger(n,null,e)}}),C.fn.extend({trigger:function(t,e){return this.each(function(){C.event.trigger(t,e,this)})},triggerHandler:function(t,e){var r=this[0];if(r)return C.event.trigger(t,e,r,!0)}}),y.focusin||C.each({focus:"focusin",blur:"focusout"},function(t,e){var r=function(t){C.event.simulate(e,t.target,C.event.fix(t))};C.event.special[e]={setup:function(){var n=this.ownerDocument||this,i=X.access(n,e);i||n.addEventListener(t,r,!0),X.access(n,e,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=X.access(n,e)-1;i?X.access(n,e,i):(n.removeEventListener(t,r,!0),X.remove(n,e))}}});var Ee=r.location,Ce=Date.now(),ke=/\?/;C.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new r.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+t),e};var xe=/\[\]$/,Te=/\r?\n/g,Se=/^(?:submit|button|image|reset|file)$/i,Ae=/^(?:input|select|textarea|keygen)/i;function Ie(t,e,r,n){var i;if(Array.isArray(e))C.each(e,function(e,i){r||xe.test(t)?n(t,i):Ie(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,r,n)});else if(r||"object"!==E(e))n(t,e);else for(i in e)Ie(t+"["+i+"]",e[i],r,n)}C.param=function(t,e){var r,n=[],i=function(t,e){var r=v(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==r?"":r)};if(Array.isArray(t)||t.jquery&&!C.isPlainObject(t))C.each(t,function(){i(this.name,this.value)});else for(r in t)Ie(r,t[r],e,i);return n.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=C.prop(this,"elements");return t?C.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!C(this).is(":disabled")&&Ae.test(this.nodeName)&&!Se.test(t)&&(this.checked||!pt.test(t))}).map(function(t,e){var r=C(this).val();return null==r?null:Array.isArray(r)?C.map(r,function(t){return{name:e.name,value:t.replace(Te,"\r\n")}}):{name:e.name,value:r.replace(Te,"\r\n")}}).get()}});var Ne=/%20/g,Pe=/#.*$/,De=/([?&])_=[^&]*/,Oe=/^(.*?):[ \t]*([^\r\n]*)$/gm,Re=/^(?:GET|HEAD)$/,je=/^\/\//,Be={},Me={},Fe="*/".concat("*"),Le=a.createElement("a");function qe(t){return function(e,r){"string"!=typeof e&&(r=e,e="*");var n,i=0,o=e.toLowerCase().match(F)||[];if(v(r))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(r)):(t[n]=t[n]||[]).push(r)}}function Ve(t,e,r,n){var i={},o=t===Me;function a(s){var c;return i[s]=!0,C.each(t[s]||[],function(t,s){var u=s(e,r,n);return"string"!=typeof u||o||i[u]?o?!(c=u):void 0:(e.dataTypes.unshift(u),a(u),!1)}),c}return a(e.dataTypes[0])||!i["*"]&&a("*")}function Ue(t,e){var r,n,i=C.ajaxSettings.flatOptions||{};for(r in e)void 0!==e[r]&&((i[r]?t:n||(n={}))[r]=e[r]);return n&&C.extend(!0,t,n),t}Le.href=Ee.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ee.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ee.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Fe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ue(Ue(t,C.ajaxSettings),e):Ue(C.ajaxSettings,t)},ajaxPrefilter:qe(Be),ajaxTransport:qe(Me),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i,o,s,c,u,l,h,p,d,f=C.ajaxSetup({},e),g=f.context||f,m=f.context&&(g.nodeType||g.jquery)?C(g):C.event,y=C.Deferred(),v=C.Callbacks("once memory"),w=f.statusCode||{},b={},_={},E="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(l){if(!s)for(s={};e=Oe.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(t,e){return null==l&&(t=_[t.toLowerCase()]=_[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==l&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)k.always(t[k.status]);else for(e in t)w[e]=[w[e],t[e]];return this},abort:function(t){var e=t||E;return n&&n.abort(e),x(0,e),this}};if(y.promise(k),f.url=((t||f.url||Ee.href)+"").replace(je,Ee.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(F)||[""],null==f.crossDomain){u=a.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=Le.protocol+"//"+Le.host!=u.protocol+"//"+u.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=C.param(f.data,f.traditional)),Ve(Be,f,e,k),l)return k;for(p in(h=C.event&&f.global)&&0==C.active++&&C.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Re.test(f.type),i=f.url.replace(Pe,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Ne,"+")):(d=f.url.slice(i.length),f.data&&(f.processData||"string"==typeof f.data)&&(i+=(ke.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(i=i.replace(De,"$1"),d=(ke.test(i)?"&":"?")+"_="+Ce+++d),f.url=i+d),f.ifModified&&(C.lastModified[i]&&k.setRequestHeader("If-Modified-Since",C.lastModified[i]),C.etag[i]&&k.setRequestHeader("If-None-Match",C.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Fe+"; q=0.01":""):f.accepts["*"]),f.headers)k.setRequestHeader(p,f.headers[p]);if(f.beforeSend&&(!1===f.beforeSend.call(g,k,f)||l))return k.abort();if(E="abort",v.add(f.complete),k.done(f.success),k.fail(f.error),n=Ve(Me,f,e,k)){if(k.readyState=1,h&&m.trigger("ajaxSend",[k,f]),l)return k;f.async&&f.timeout>0&&(c=r.setTimeout(function(){k.abort("timeout")},f.timeout));try{l=!1,n.send(b,x)}catch(t){if(l)throw t;x(-1,t)}}else x(-1,"No Transport");function x(t,e,a,s){var u,p,d,b,_,E=e;l||(l=!0,c&&r.clearTimeout(c),n=void 0,o=s||"",k.readyState=t>0?4:0,u=t>=200&&t<300||304===t,a&&(b=function(t,e,r){for(var n,i,o,a,s=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(i in s)if(s[i]&&s[i].test(n)){c.unshift(i);break}if(c[0]in r)o=c[0];else{for(i in r){if(!c[0]||t.converters[i+" "+c[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==c[0]&&c.unshift(o),r[o]}(f,k,a)),b=function(t,e,r,n){var i,o,a,s,c,u={},l=t.dataTypes.slice();if(l[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=l.shift();o;)if(t.responseFields[o]&&(r[t.responseFields[o]]=e),!c&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=o,o=l.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(a=u[c+" "+o]||u["* "+o]))for(i in u)if((s=i.split(" "))[1]===o&&(a=u[c+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[i]:!0!==u[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+c+" to "+o}}}return{state:"success",data:e}}(f,b,k,u),u?(f.ifModified&&((_=k.getResponseHeader("Last-Modified"))&&(C.lastModified[i]=_),(_=k.getResponseHeader("etag"))&&(C.etag[i]=_)),204===t||"HEAD"===f.type?E="nocontent":304===t?E="notmodified":(E=b.state,p=b.data,u=!(d=b.error))):(d=E,!t&&E||(E="error",t<0&&(t=0))),k.status=t,k.statusText=(e||E)+"",u?y.resolveWith(g,[p,E,k]):y.rejectWith(g,[k,E,d]),k.statusCode(w),w=void 0,h&&m.trigger(u?"ajaxSuccess":"ajaxError",[k,f,u?p:d]),v.fireWith(g,[k,E]),h&&(m.trigger("ajaxComplete",[k,f]),--C.active||C.event.trigger("ajaxStop")))}return k},getJSON:function(t,e,r){return C.get(t,e,r,"json")},getScript:function(t,e){return C.get(t,void 0,e,"script")}}),C.each(["get","post"],function(t,e){C[e]=function(t,r,n,i){return v(r)&&(i=i||n,n=r,r=void 0),C.ajax(C.extend({url:t,type:e,dataType:i,data:r,success:n},C.isPlainObject(t)&&t))}}),C._evalUrl=function(t){return C.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},C.fn.extend({wrapAll:function(t){var e;return this[0]&&(v(t)&&(t=t.call(this[0])),e=C(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return v(t)?this.each(function(e){C(this).wrapInner(t.call(this,e))}):this.each(function(){var e=C(this),r=e.contents();r.length?r.wrapAll(t):e.append(t)})},wrap:function(t){var e=v(t);return this.each(function(r){C(this).wrapAll(e?t.call(this,r):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(t){return!C.expr.pseudos.visible(t)},C.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(t){}};var We={0:200,1223:204},ze=C.ajaxSettings.xhr();y.cors=!!ze&&"withCredentials"in ze,y.ajax=ze=!!ze,C.ajaxTransport(function(t){var e,n;if(y.cors||ze&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);e=function(t){return function(){e&&(e=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(We[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),n=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&r.setTimeout(function(){e&&n()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),C.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return C.globalEval(t),t}}}),C.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),C.ajaxTransport("script",function(t){var e,r;if(t.crossDomain)return{send:function(n,i){e=C("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",r=function(t){e.remove(),r=null,t&&i("error"===t.type?404:200,t.type)}),a.head.appendChild(e[0])},abort:function(){r&&r()}}});var He,Je=[],Ge=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Je.pop()||C.expando+"_"+Ce++;return this[t]=!0,t}}),C.ajaxPrefilter("json jsonp",function(t,e,n){var i,o,a,s=!1!==t.jsonp&&(Ge.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ge.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ge,"$1"+i):!1!==t.jsonp&&(t.url+=(ke.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||C.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=r[i],r[i]=function(){a=arguments},n.always(function(){void 0===o?C(r).removeProp(i):r[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,Je.push(i)),a&&v(o)&&o(a[0]),a=o=void 0}),"script"}),y.createHTMLDocument=((He=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===He.childNodes.length),C.parseHTML=function(t,e,r){return"string"!=typeof t?[]:("boolean"==typeof e&&(r=e,e=!1),e||(y.createHTMLDocument?((n=(e=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,e.head.appendChild(n)):e=a),o=!r&&[],(i=P.exec(t))?[e.createElement(i[1])]:(i=_t([t],e,o),o&&o.length&&C(o).remove(),C.merge([],i.childNodes)));var n,i,o},C.fn.load=function(t,e,r){var n,i,o,a=this,s=t.indexOf(" ");return s>-1&&(n=me(t.slice(s)),t=t.slice(0,s)),v(e)?(r=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&C.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(n?C("<div>").append(C.parseHTML(t)).find(n):t)}).always(r&&function(t,e){a.each(function(){r.apply(this,o||[t.responseText,e,t])})}),this},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){C.fn[e]=function(t){return this.on(e,t)}}),C.expr.pseudos.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length},C.offset={setOffset:function(t,e,r){var n,i,o,a,s,c,u=C.css(t,"position"),l=C(t),h={};"static"===u&&(t.style.position="relative"),s=l.offset(),o=C.css(t,"top"),c=C.css(t,"left"),("absolute"===u||"fixed"===u)&&(o+c).indexOf("auto")>-1?(a=(n=l.position()).top,i=n.left):(a=parseFloat(o)||0,i=parseFloat(c)||0),v(e)&&(e=e.call(t,r,C.extend({},s))),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+i),"using"in e?e.using.call(t,h):l.css(h)}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){C.offset.setOffset(this,t,e)});var e,r,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),r=n.ownerDocument.defaultView,{top:e.top+r.pageYOffset,left:e.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,r,n=this[0],i={top:0,left:0};if("fixed"===C.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),r=n.ownerDocument,t=n.offsetParent||r.documentElement;t&&(t===r.body||t===r.documentElement)&&"static"===C.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((i=C(t).offset()).top+=C.css(t,"borderTopWidth",!0),i.left+=C.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-C.css(n,"marginTop",!0),left:e.left-i.left-C.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===C.css(t,"position");)t=t.offsetParent;return t||Et})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var r="pageYOffset"===e;C.fn[t]=function(n){return H(this,function(t,n,i){var o;if(w(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[n];o?o.scrollTo(r?o.pageXOffset:i,r?i:o.pageYOffset):t[n]=i},t,n,arguments.length)}}),C.each(["top","left"],function(t,e){C.cssHooks[e]=Ht(y.pixelPosition,function(t,r){if(r)return r=zt(t,e),Vt.test(r)?C(t).position()[e]+"px":r})}),C.each({Height:"height",Width:"width"},function(t,e){C.each({padding:"inner"+t,content:e,"":"outer"+t},function(r,n){C.fn[n]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(!0===i||!0===o?"margin":"border");return H(this,function(e,r,i){var o;return w(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?C.css(e,r,s):C.style(e,r,i,s)},e,a?i:void 0,a)}})}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){C.fn[e]=function(t,r){return arguments.length>0?this.on(e,null,t,r):this.trigger(e)}}),C.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),C.fn.extend({bind:function(t,e,r){return this.on(t,null,e,r)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,r,n){return this.on(e,t,r,n)},undelegate:function(t,e,r){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",r)}}),C.proxy=function(t,e){var r,n,i;if("string"==typeof e&&(r=t[e],e=t,t=r),v(t))return n=c.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(c.call(arguments)))}).guid=t.guid=t.guid||C.guid++,i},C.holdReady=function(t){t?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=N,C.isFunction=v,C.isWindow=w,C.camelCase=$,C.type=E,C.now=Date.now,C.isNumeric=function(t){var e=C.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(n=function(){return C}.apply(e,[]))||(t.exports=n);var Ke=r.jQuery,$e=r.$;return C.noConflict=function(t){return r.$===C&&(r.$=$e),t&&r.jQuery===C&&(r.jQuery=Ke),C},i||(r.jQuery=r.$=C),C})},function(t,e){var r="Expected a function",n=NaN,i="[object Symbol]",o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt,l="object"==typeof global&&global&&global.Object===Object&&global,h="object"==typeof self&&self&&self.Object===Object&&self,p=l||h||Function("return this")(),d=Object.prototype.toString,f=Math.max,g=Math.min,m=function(){return p.Date.now()};function y(t,e,n){var i,o,a,s,c,u,l=0,h=!1,p=!1,d=!0;if("function"!=typeof t)throw new TypeError(r);function y(e){var r=i,n=o;return i=o=void 0,l=e,s=t.apply(n,r)}function b(t){var r=t-u;return void 0===u||r>=e||r<0||p&&t-l>=a}function _(){var t=m();if(b(t))return E(t);c=setTimeout(_,function(t){var r=e-(t-u);return p?g(r,a-(t-l)):r}(t))}function E(t){return c=void 0,d&&i?y(t):(i=o=void 0,s)}function C(){var t=m(),r=b(t);if(i=arguments,o=this,u=t,r){if(void 0===c)return function(t){return l=t,c=setTimeout(_,e),h?y(t):s}(u);if(p)return c=setTimeout(_,e),y(u)}return void 0===c&&(c=setTimeout(_,e)),s}return e=w(e)||0,v(n)&&(h=!!n.leading,a=(p="maxWait"in n)?f(w(n.maxWait)||0,e):a,d="trailing"in n?!!n.trailing:d),C.cancel=function(){void 0!==c&&clearTimeout(c),l=0,i=u=o=c=void 0},C.flush=function(){return void 0===c?s:E(m())},C}function v(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function w(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&d.call(t)==i}(t))return n;if(v(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=v(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var r=s.test(t);return r||c.test(t)?u(t.slice(2),r?2:8):a.test(t)?n:+t}t.exports=function(t,e,n){var i=!0,o=!0;if("function"!=typeof t)throw new TypeError(r);return v(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),y(t,e,{leading:i,maxWait:e,trailing:o})}},function(t,e,r){"use strict";var n=r(92),i=r(13),o=r(235),a=r(121),s=r(43),c=r(86),u=r(108),l=r(8),h=Math.min,p=[].push,d=!l(function(){RegExp(4294967295,"y")});r(87)("split",2,function(t,e,r,l){var f;return f="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!n(t))return r.call(i,t,e);for(var o,a,s,c=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,d=void 0===e?4294967295:e>>>0,f=new RegExp(t.source,l+"g");(o=u.call(f,i))&&!((a=f.lastIndex)>h&&(c.push(i.slice(h,o.index)),o.length>1&&o.index<i.length&&p.apply(c,o.slice(1)),s=o[0].length,h=a,c.length>=d));)f.lastIndex===o.index&&f.lastIndex++;return h===i.length?!s&&f.test("")||c.push(""):c.push(i.slice(h)),c.length>d?c.slice(0,d):c}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:r.call(this,t,e)}:r,[function(r,n){var i=t(this),o=null==r?void 0:r[e];return void 0!==o?o.call(r,i,n):f.call(String(i),r,n)},function(t,e){var n=l(f,t,this,e,f!==r);if(n.done)return n.value;var u=i(t),p=String(this),g=o(u,RegExp),m=u.unicode,y=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(d?"y":"g"),v=new g(d?u:"^(?:"+u.source+")",y),w=void 0===e?4294967295:e>>>0;if(0===w)return[];if(0===p.length)return null===c(v,p)?[p]:[];for(var b=0,_=0,E=[];_<p.length;){v.lastIndex=d?_:0;var C,k=c(v,d?p:p.slice(_));if(null===k||(C=h(s(v.lastIndex+(d?0:_)),p.length))===b)_=a(p,_,m);else{if(E.push(p.slice(b,_)),E.length===w)return E;for(var x=1;x<=k.length-1;x++)if(E.push(k[x]),E.length===w)return E;_=b=C}}return E.push(p.slice(b)),E}]})},function(t,e,r){"use strict";e.a={default_title:"no title",screen_size:{sm:576}}},function(t,e,r){"use strict";var n=r(143)(!0);r(118)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})})},function(t,e,r){var n=r(48),i=r(6)("toStringTag"),o="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,r,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?r:o?n(e):"Object"==(a=n(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,r){"use strict";var n=r(4),i=r(89)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(a||!r(57)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,r){"use strict";var n=r(62),i=r(4),o=r(18),a=r(25),s=r(83),c=r(173),u=r(85),l=r(175),h=r(6)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,r,f,g,m,y){c(r,e,f);var v,w,b,_=function(t){if(!p&&t in x)return x[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},E=e+" Iterator",C="values"==g,k=!1,x=t.prototype,T=x[h]||x["@@iterator"]||g&&x[g],S=T||_(g),A=g?C?_("entries"):S:void 0,I="Array"==e&&x.entries||T;if(I&&(b=l(I.call(new t)))!==Object.prototype&&b.next&&(u(b,E,!0),n||"function"==typeof b[h]||a(b,h,d)),C&&T&&"values"!==T.name&&(k=!0,S=function(){return T.call(this)}),n&&!y||!p&&!k&&x[h]||a(x,h,S),s[e]=S,s[E]=d,g)if(v={values:C?S:_("values"),keys:m?S:_("keys"),entries:A},y)for(w in v)w in x||o(x,w,v[w]);else i(i.P+i.F*(p||k),e,v);return v}},function(t,e,r){var n=r(48);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,r){var n=r(20),i=r(194).set;t.exports=function(t,e,r){var o,a=e.constructor;return a!==r&&"function"==typeof a&&(o=a.prototype)!==r.prototype&&n(o)&&i&&i(t,o),t}},function(t,e,r){"use strict";var n=r(143)(!0);t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},function(t,e,r){t.exports=!r(9)&&!r(8)(function(){return 7!=Object.defineProperty(r(123)("div"),"a",{get:function(){return 7}}).a})},function(t,e,r){var n=r(20),i=r(11).document,o=n(i)&&n(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,r){var n=r(12),i=r(13),o=r(36);t.exports=r(9)?Object.defineProperties:function(t,e){i(t);for(var r,a=o(e),s=a.length,c=0;s>c;)n.f(t,r=a[c++],e[r]);return t}},function(t,e,r){var n=r(24),i=r(28),o=r(89)(!1),a=r(90)("IE_PROTO");t.exports=function(t,e){var r,s=i(t),c=0,u=[];for(r in s)r!=a&&n(s,r)&&u.push(r);for(;e.length>c;)n(s,r=e[c++])&&(~o(u,r)||u.push(r));return u}},function(t,e,r){},function(t,e,r){var n=r(92),i=r(29);t.exports=function(t,e,r){if(n(e))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(t))}},function(t,e,r){var n=r(6)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,r){var n=r(199);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,r){t.exports=!r(30)&&!r(66)(function(){return 7!=Object.defineProperty(r(131)("div"),"a",{get:function(){return 7}}).a})},function(t,e,r){var n=r(51),i=r(26).document,o=n(i)&&n(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,r){var n=r(94);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,r){"use strict";var n=r(68),i=r(50),o=r(134),a=r(37),s=r(39),c=r(202),u=r(101),l=r(208),h=r(16)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,r,f,g,m,y){c(r,e,f);var v,w,b,_=function(t){if(!p&&t in x)return x[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},E=e+" Iterator",C="values"==g,k=!1,x=t.prototype,T=x[h]||x["@@iterator"]||g&&x[g],S=T||_(g),A=g?C?_("entries"):S:void 0,I="Array"==e&&x.entries||T;if(I&&(b=l(I.call(new t)))!==Object.prototype&&b.next&&(u(b,E,!0),n||"function"==typeof b[h]||a(b,h,d)),C&&T&&"values"!==T.name&&(k=!0,S=function(){return T.call(this)}),n&&!y||!p&&!k&&x[h]||a(x,h,S),s[e]=S,s[E]=d,g)if(v={values:C?S:_("values"),keys:m?S:_("keys"),entries:A},y)for(w in v)w in x||o(x,w,v[w]);else i(i.P+i.F*(p||k),e,v);return v}},function(t,e,r){t.exports=r(37)},function(t,e,r){var n=r(38),i=r(203),o=r(100),a=r(98)("IE_PROTO"),s=function(){},c=function(){var t,e=r(131)("iframe"),n=o.length;for(e.style.display="none",r(207).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;n--;)delete c.prototype[o[n]];return c()};t.exports=Object.create||function(t,e){var r;return null!==t?(s.prototype=n(t),r=new s,s.prototype=null,r[a]=t):r=c(),void 0===e?r:i(r,e)}},function(t,e,r){var n=r(31),i=r(40),o=r(205)(!1),a=r(98)("IE_PROTO");t.exports=function(t,e){var r,s=i(t),c=0,u=[];for(r in s)r!=a&&n(s,r)&&u.push(r);for(;e.length>c;)n(s,r=e[c++])&&(~o(u,r)||u.push(r));return u}},function(t,e,r){var n=r(95),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},function(t,e,r){var n=r(96);t.exports=function(t){return Object(n(t))}},function(t,e,r){var n=r(140),i=r(16)("iterator"),o=r(39);t.exports=r(19).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[n(t)]}},function(t,e,r){var n=r(94),i=r(16)("toStringTag"),o="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,r,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?r:o?n(e):"Object"==(a=n(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,r){var n=r(136),i=r(100).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},function(t,e,r){var n=r(45),i=r(29);t.exports=function(t){return function(e,r){var o,a,s=String(i(e)),c=n(r),u=s.length;return c<0||c>=u?t?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):o:t?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},function(t,e,r){"use strict";r.r(e),r.d(e,"setLogLevel",function(){return c}),r.d(e,"Logger",function(){return s}),r.d(e,"LogLevel",function(){return n});
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var n,i=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(n||(n={}));var o=n.INFO,a=function(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case n.DEBUG:case n.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(r));break;case n.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(r));break;case n.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(r));break;case n.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(r));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},s=function(){function t(t){this.name=t,this._logLevel=o,this._logHandler=a,i.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in n))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,n.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,n.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,n.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,n.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,n.ERROR].concat(t))},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function c(t){i.forEach(function(e){e.logLevel=t})}},function(t,e,r){"undefined"!=typeof self&&self,t.exports=function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=1)}([function(t,e,r){"use strict";var n=r(9),i=n.a.languages,o=n.a.defaults;e.a={name:"v-page",props:["setting"],data:function(){var t=Object.assign({},o,this.setting),e=i[t.language];return{config:t,pageNumber:1,pageSize:t.pageSizeMenu&&Array.isArray(t.pageSizeMenu)&&t.pageSizeMenu.length?t.pageSizeMenu[0]:10,totalRow:t.totalRow,totalPage:0,currentPage:1,lengthList:t.pageSizeMenu,pageNumberSize:5,language:t.language,i18n:e,pageClass:{vPagination:!0,vPaginationRight:!1,vPaginationCenter:!1}}},computed:{pageNumbers:function(){var t=void 0,e=void 0,r=[],n=this.currentPage,i=Math.floor(this.pageNumberSize/2);this.totalPage<this.pageNumberSize?(t=1,e=this.totalPage):n<=i?(t=1,e=this.pageNumberSize):n>=this.totalPage-i?(t=this.totalPage-this.pageNumberSize+1,e=this.totalPage):e=(t=n-i)+this.pageNumberSize-1;for(var o=t;o<=e;o++)r.push(o);return r}},watch:{currentPage:function(t){this.goPage(t)},"setting.totalRow":function(t){this.totalRow=t,this.calcTotalPage()}},methods:{goPage:function(t){this.currentPage=t,this.$emit("page-change",{pageNumber:t,pageSize:Number(this.pageSize)}),this.calcTotalPage()},calcTotalPage:function(){this.totalPage=Math.ceil(this.totalRow/this.pageSize)},switchPage:function(t){if("string"==typeof t)switch(t){case"first":1!==this.currentPage&&(this.currentPage=1);break;case"previous":1!==this.currentPage&&this.currentPage--;break;case"next":this.currentPage!==this.totalPage&&this.currentPage++;break;case"last":this.currentPage!==this.totalPage&&(this.currentPage=this.totalPage)}else"number"==typeof t&&(this.currentPage=t)},switchLength:function(){this.goPage(1)}},mounted:function(){"center"===this.config.align?this.pageClass.vPaginationCenter=!0:"right"===this.config.align&&(this.pageClass.vPaginationRight=!0),this.goPage(1)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),i={install:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],t.component(n.a.name,n.a)}};e.default=i},function(t,e,r){"use strict";var n=r(0),i=r(10),o=function(t){r(3)},a=r(8)(n.a,i.a,!1,o,"data-v-5ffd519b",null);e.a=a.exports},function(t,e,r){var n=r(4);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),r(6)("22166f2d",n,!0,{})},function(t,e,r){(t.exports=r(5)(!1)).push([t.i,"div.vPagination[data-v-5ffd519b]{margin:0;display:block}div.vPagination.vPaginationRight[data-v-5ffd519b]{text-align:right}div.vPagination.vPaginationCenter[data-v-5ffd519b]{text-align:center}div.vPagination>ul[data-v-5ffd519b]{display:inline-block;margin-bottom:0;margin-left:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-box-shadow:0 1px 2px rgba(0,0,0,.05);-moz-box-shadow:0 1px 2px rgba(0,0,0,.05);box-shadow:0 1px 2px rgba(0,0,0,.05);padding:0}div.vPagination>ul>li[data-v-5ffd519b]{text-align:center;display:inline;box-sizing:border-box;margin:0}div.vPagination>ul>li>a[data-v-5ffd519b]{margin:0;border:1px solid #ddd;border-radius:0;padding:6px 12px;line-height:20px;box-shadow:none;-moz-box-shadow:none;-webkit-box-shadow:none;background-color:#fff;float:left;text-decoration:none;border-left-width:0;box-sizing:content-box;color:#000;-webkit-transition:all .5s cubic-bezier(.175,.885,.32,1);transition:all .5s cubic-bezier(.175,.885,.32,1)}div.vPagination>ul>li>a[data-v-5ffd519b]:hover{box-shadow:0 0 12px rgba(0,0,0,.2);-moz-box-shadow:0 0 12px rgba(0,0,0,.2);-webkit-box-shadow:0 0 12px rgba(0,0,0,.2)}div.vPagination>ul>li.disabled>a[data-v-5ffd519b]{color:#999;cursor:default}div.vPagination>ul>li.disabled>a[data-v-5ffd519b]:hover{color:#999;background-color:#fff;box-shadow:none}div.vPagination>ul>li.active>a[data-v-5ffd519b],div.vPagination>ul>li.active>span[data-v-5ffd519b]{cursor:default;color:#999;background-color:#eee}div.vPagination>ul>li.active>a[data-v-5ffd519b]:hover,div.vPagination>ul>li.active>span[data-v-5ffd519b]:hover{box-shadow:none}div.vPagination>ul>li:first-child>a[data-v-5ffd519b],div.vPagination>ul>li:first-child>span[data-v-5ffd519b]{border-left-width:1px;-webkit-border-bottom-left-radius:2px;border-bottom-left-radius:2px;-webkit-border-top-left-radius:2px;border-top-left-radius:2px;-moz-border-radius-bottomleft:2px;-moz-border-radius-topleft:2px}div.vPagination>ul>li:last-child>a[data-v-5ffd519b],div.vPagination>ul>li:last-child>span[data-v-5ffd519b]{-webkit-border-bottom-right-radius:2px;border-bottom-right-radius:2px;-webkit-border-top-right-radius:2px;border-top-right-radius:2px;-moz-border-radius-bottomright:2px;-moz-border-radius-topright:2px}div.vPagination>ul>li.vPaginationList a[data-v-5ffd519b]{line-height:20px;height:20px}div.vPagination>ul>li.vPaginationList select[data-v-5ffd519b]{margin:-2px 0 0 5px;width:auto!important;vertical-align:middle;height:22px;line-height:22px;font-size:12px;padding:0;display:inline-block;border:1px solid #ccc}div.vPagination>ul>li.vPaginationList select[data-v-5ffd519b]:hover{box-shadow:0 0 8px rgba(0,0,0,.2);-moz-box-shadow:0 0 8px rgba(0,0,0,.2);-webkit-box-shadow:0 0 8px rgba(0,0,0,.2)}",""])},function(t,e){function r(t,e){var r=t[1]||"",n=t[3];if(!n)return r;if(e&&"function"==typeof btoa){var i=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(n);return[r].concat(n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"})).concat([i]).join("\n")}return[r].join("\n")}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=r(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),e.push(a))}},e}},function(t,e,r){function n(t){for(var e=0;e<t.length;e++){var r=t[e],n=u[r.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](r.parts[i]);for(;i<r.parts.length;i++)n.parts.push(o(r.parts[i]));n.parts.length>r.parts.length&&(n.parts.length=r.parts.length)}else{var a=[];for(i=0;i<r.parts.length;i++)a.push(o(r.parts[i]));u[r.id]={id:r.id,refs:1,parts:a}}}}function i(){var t=document.createElement("style");return t.type="text/css",l.appendChild(t),t}function o(t){var e,r,n=document.querySelector("style["+m+'~="'+t.id+'"]');if(n){if(d)return f;n.parentNode.removeChild(n)}if(y){var o=p++;n=h||(h=i()),e=a.bind(null,n,o,!1),r=a.bind(null,n,o,!0)}else n=i(),e=function(t,e){var r=e.css,n=e.media,i=e.sourceMap;if(n&&t.setAttribute("media",n),g.ssrId&&t.setAttribute(m,e.id),i&&(r+="\n/*# sourceURL="+i.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}.bind(null,n),r=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else r()}}function a(t,e,r,n){var i=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=v(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=r(7),u={},l=s&&(document.head||document.getElementsByTagName("head")[0]),h=null,p=0,d=!1,f=function(){},g=null,m="data-vue-ssr-id",y="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,r,i){d=r,g=i||{};var o=c(t,e);return n(o),function(e){for(var r=[],i=0;i<o.length;i++){var a=o[i];(s=u[a.id]).refs--,r.push(s)}for(e?n(o=c(t,e)):o=[],i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete u[s.id]}}}};var v=function(){var t=[];return function(e,r){return t[e]=r,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t,e){for(var r=[],n={},i=0;i<e.length;i++){var o=e[i],a=o[0],s={id:t+":"+i,css:o[1],media:o[2],sourceMap:o[3]};n[a]?n[a].parts.push(s):r.push(n[a]={id:a,parts:[s]})}return r}},function(t,e){t.exports=function(t,e,r,n,i,o){var a,s=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(a=t,s=t.default);var u,l="function"==typeof s?s.options:s;if(e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0),r&&(l.functional=!0),i&&(l._scopeId=i),o?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):n&&(u=n),u){var h=l.functional,p=h?l.render:l.beforeCreate;h?(l._injectStyles=u,l.render=function(t,e){return u.call(e),p(t,e)}):l.beforeCreate=p?[].concat(p,u):[u]}return{esModule:a,exports:s,options:l}}},function(t,e,r){"use strict";e.a={languages:{cn:{pageLength:"每页记录数 ",pageInfo:"当前显示第 #pageNumber# / #totalPage# 页（共#totalRow#条记录）",first:"首页",previous:"«",next:"»",last:"尾页"},en:{pageLength:"Page length ",pageInfo:"Current #pageNumber# / #totalPage# （total #totalRow# records）",first:"First",previous:"«",next:"»",last:"Last"},jp:{pageLength:"ページごとの記録数",pageInfo:"現在の第 #pageNumber# / #totalPage# ページ（全部で #totalRow# 条の記録）",first:"トップページ",previous:"«",next:"»",last:"尾のページ"}},defaults:{totalRow:0,info:!0,pageSizeMenu:[10,20,50,100],language:"cn",align:"right"}}},function(t,e,r){"use strict";var n={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:[t.pageClass]},[r("ul",[t.config.pageSizeMenu?r("li",{staticClass:"disabled vPaginationList"},[r("a",[t._v(t._s(t.i18n.pageLength)+"\n                "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.pageSize,expression:"pageSize"}],on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.pageSize=e.target.multiple?r:r[0]},t.switchLength]}},t._l(t.lengthList,function(e){return r("option",[t._v(t._s(e))])}))])]):t._e(),t._v(" "),t.config.info?r("li",{staticClass:"disabled bPageInfo"},[r("a",[t._v(t._s(t.i18n.pageInfo.replace("#pageNumber#",t.currentPage).replace("#totalPage#",t.totalPage).replace("#totalRow#",t.totalRow)))])]):t._e(),t._v(" "),r("li",{class:{disabled:1===t.currentPage,bPageControlButton:!0}},[r("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){t.switchPage("first")}}},[t._v(t._s(t.i18n.first))])]),t._v(" "),r("li",{class:{disabled:1===t.currentPage,bPageControlButton:!0}},[r("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){t.switchPage("previous")}}},[t._v(t._s(t.i18n.previous))])]),t._v(" "),t._l(t.pageNumbers,function(e,n){return r("li",{class:{active:e===t.currentPage}},[r("a",{attrs:{href:"javascript:void(0);"},on:{click:function(r){t.switchPage(e)}}},[t._v(t._s(e))])])}),t._v(" "),r("li",{class:{bPageControlButton:!0,disabled:t.currentPage===t.totalPage}},[r("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){t.switchPage("next")}}},[t._v(t._s(t.i18n.next))])]),t._v(" "),r("li",{class:{bPageControlButton:!0,disabled:t.currentPage===t.totalPage}},[r("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){t.switchPage("last")}}},[t._v(t._s(t.i18n.last))])])],2)])},staticRenderFns:[]};e.a=n}])},function(t,e,r){var n;n=function(t){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.i=function(t){return t},r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=4)}([function(e,r){e.exports=t},function(t,e,r){"use strict";(function(t){var n=r(0),i=r.n(n),o=r(5);e.a={install:function(e,n){var a=n.name,s=void 0===a?"viewer":a,c=n.debug,u=void 0!==c&&c;function l(t,r){e.nextTick(function(){h(t),t["$"+s]=new i.a(t,r),d("viewer created")})}function h(t){t["$"+s]&&(t["$"+s].destroy(),delete t["$"+s],d("viewer destroyed"))}function p(t){t.$viewerMutationObserver&&(t.$viewerMutationObserver.disconnect(),delete t.$viewerMutationObserver,d("observer destroyed"))}function d(){var t;u&&(t=console).log.apply(t,arguments)}e.directive("viewer",{bind:function(e,n,i){d("viewer bind");var a=r.i(o.a)(50,l);a(e,n.value),function(t,e,r,n){var i=e.expression;i&&/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/.test(i)?(t.$viewerUnwatch=r.context.$watch(i,function(e,r){d("change detected by watcher: ",i),n(t,e)},{deep:!0}),d("watcher created, expression: ",i)):d("only simple dot-delimited paths can create watcher")}(e,n,i,a),n.modifiers.static||function(e,r,n){p(e);var i=t.MutationObserver||t.WebKitMutationObserver||t.MozMutationObserver;if(i){var o=new i(function(t){t.forEach(function(t){d("viewer mutation:"+t.type),n(e,r)})});o.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.$viewerMutationObserver=o,d("observer created")}else d("observer not supported")}(e,n.value,a)},unbind:function(t,e){d("viewer unbind"),p(t),function(t){t.$viewerUnwatch&&(t.$viewerUnwatch(),delete t.$viewerUnwatch,d("watcher destroyed"))}(t),h(t)}})}}}).call(e,r(7))},function(t,e,r){"use strict";e.a=function t(){var e={};var r=!1;var n=0;var i=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(r=arguments[0],n++);function o(n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r&&"[object Object]"===Object.prototype.toString.call(n[i])?e[i]=t(!0,e[i],n[i]):e[i]=n[i])}for(;n<i;n++){var a=arguments[n];o(a)}return e}},function(t,e,r){var n=r(8)(r(6),r(9),null,null);n.options.__file="D:\\Workspaces\\Web\\Git\\v-viewer\\src\\component.vue",n.esModule&&Object.keys(n.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] component.vue: functional components are not supported with templates, they should use render functions."),t.exports=n.exports},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),i=r(3),o=r.n(i),a=r(1),s=r(0),c=r.n(s);e.default={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.name,s=void 0===i?"viewer":i,u=e.debug,l=void 0!==u&&u,h=e.defaultOptions;c.a.setDefaults(h),t.component(s,r.i(n.a)(o.a,{name:s})),t.use(a.a,{name:s,debug:l})},setDefaults:function(t){c.a.setDefaults(t)}}},function(t,e,r){"use strict";function n(t,e,r,n){var i,o=0;return"boolean"!=typeof e&&(n=r,r=e,e=void 0),function(){var a=this,s=Number(new Date)-o,c=arguments;function u(){o=Number(new Date),r.apply(a,c)}n&&!i&&u(),i&&clearTimeout(i),void 0===n&&s>t?u():!0!==e&&(i=setTimeout(n?function(){i=void 0}:u,void 0===n?t-s:t))}}function i(t,e,r){return void 0===r?n(t,e,!1):n(t,r,!1!==e)}r.d(e,"a",function(){return i})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=r.n(n);e.default={props:{images:{type:Array},trigger:{},options:{type:Object}},data:function(){return{}},computed:{},methods:{createViewer:function(){this.$viewer&&this.$viewer.destroy(),this.$viewer=new i.a(this.$el,this.options),this.$emit("inited",this.$viewer)}},watch:{images:function(){var t=this;this.$nextTick(function(){t.createViewer()})},trigger:{handler:function(){var t=this;this.$nextTick(function(){t.createViewer()})},deep:!0},options:{handler:function(){var t=this;this.$nextTick(function(){t.createViewer()})},deep:!0}},mounted:function(){this.createViewer()},destroyed:function(){this.$viewer&&this.$viewer.destroy()}}},function(t,e){var r,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}t.exports=r},function(t,e){t.exports=function(t,e,r,n){var i,o=t=t||{},a=typeof t.default;"object"!==a&&"function"!==a||(i=t,o=t.default);var s="function"==typeof o?o.options:o;if(e&&(s.render=e.render,s.staticRenderFns=e.staticRenderFns),r&&(s._scopeId=r),n){var c=Object.create(s.computed||null);Object.keys(n).forEach(function(t){var e=n[t];c[t]=function(){return e}}),s.computed=c}return{esModule:i,exports:o,options:s}}},function(t,e,r){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default",null,{images:this.images,options:this.options})],2)},staticRenderFns:[]},t.exports.render._withStripped=!0}])},t.exports=n(r(193))},function(t,e,r){t.exports=r(200)},function(t,e,r){t.exports=r(214)},function(t,e,r){
/*! lozad.js - v1.9.0 - 2019-02-09
* https://github.com/ApoorvSaxena/lozad.js
* Copyright (c) 2019 Apoorv Saxena; Licensed MIT */
t.exports=function(){"use strict";var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e="undefined"!=typeof document&&document.documentMode,r={rootMargin:"0px",threshold:0,load:function(t){if("picture"===t.nodeName.toLowerCase()){var r=document.createElement("img");e&&t.getAttribute("data-iesrc")&&(r.src=t.getAttribute("data-iesrc")),t.getAttribute("data-alt")&&(r.alt=t.getAttribute("data-alt")),t.appendChild(r)}if("video"===t.nodeName.toLowerCase()&&!t.getAttribute("data-src")&&t.children){for(var n=t.children,i=void 0,o=0;o<=n.length-1;o++)(i=n[o].getAttribute("data-src"))&&(n[o].src=i);t.load()}t.getAttribute("data-src")&&(t.src=t.getAttribute("data-src")),t.getAttribute("data-srcset")&&t.setAttribute("srcset",t.getAttribute("data-srcset")),t.getAttribute("data-background-image")&&(t.style.backgroundImage="url('"+t.getAttribute("data-background-image")+"')"),t.getAttribute("data-toggle-class")&&t.classList.toggle(t.getAttribute("data-toggle-class"))},loaded:function(){}};function n(t){t.setAttribute("data-loaded",!0)}var i=function(t){return"true"===t.getAttribute("data-loaded")};return function(){var e,o,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".lozad",s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=t({},r,s),u=c.root,l=c.rootMargin,h=c.threshold,p=c.load,d=c.loaded,f=void 0;return window.IntersectionObserver&&(f=new IntersectionObserver((e=p,o=d,function(t,r){t.forEach(function(t){(0<t.intersectionRatio||t.isIntersecting)&&(r.unobserve(t.target),i(t.target)||(e(t.target),n(t.target),o(t.target)))})}),{root:u,rootMargin:l,threshold:h})),{observe:function(){for(var t=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return t instanceof Element?[t]:t instanceof NodeList?t:e.querySelectorAll(t)}(a,u),e=0;e<t.length;e++)i(t[e])||(f?f.observe(t[e]):(p(t[e]),n(t[e]),d(t[e])))},triggerLoad:function(t){i(t)||(p(t),n(t),d(t))},observer:f}}}()},function(t,e,r){t.exports=function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,r){var n,i;!function(){var o=function(t){var e=new o.Index;return e.pipeline.add(o.trimmer,o.stopWordFilter,o.stemmer),t&&t.call(e,e),e};o.version="0.7.2",
/*!
 * lunr.utils
 * Copyright (C) 2016 Oliver Nightingale
 */
o.utils={},o.utils.warn=function(t){return function(e){t.console&&console.warn&&console.warn(e)}}(this),o.utils.asString=function(t){return null==t?"":t.toString()},
/*!
 * lunr.EventEmitter
 * Copyright (C) 2016 Oliver Nightingale
 */
o.EventEmitter=function(){this.events={}},o.EventEmitter.prototype.addListener=function(){var t=Array.prototype.slice.call(arguments),e=t.pop(),r=t;if("function"!=typeof e)throw new TypeError("last argument must be a function");r.forEach(function(t){this.hasHandler(t)||(this.events[t]=[]),this.events[t].push(e)},this)},o.EventEmitter.prototype.removeListener=function(t,e){if(this.hasHandler(t)){var r=this.events[t].indexOf(e);this.events[t].splice(r,1),this.events[t].length||delete this.events[t]}},o.EventEmitter.prototype.emit=function(t){if(this.hasHandler(t)){var e=Array.prototype.slice.call(arguments,1);this.events[t].forEach(function(t){t.apply(void 0,e)})}},o.EventEmitter.prototype.hasHandler=function(t){return t in this.events},
/*!
 * lunr.tokenizer
 * Copyright (C) 2016 Oliver Nightingale
 */
o.tokenizer=function(t){if(!arguments.length||null==t||null==t)return[];if(Array.isArray(t))return t.map(function(t){return o.utils.asString(t).toLowerCase()});var e=o.tokenizer.seperator||o.tokenizer.separator;return t.toString().trim().toLowerCase().split(e)},o.tokenizer.seperator=!1,o.tokenizer.separator=/[\s\-]+/,o.tokenizer.load=function(t){var e=this.registeredFunctions[t];if(!e)throw new Error("Cannot load un-registered function: "+t);return e},o.tokenizer.label="default",o.tokenizer.registeredFunctions={default:o.tokenizer},o.tokenizer.registerFunction=function(t,e){e in this.registeredFunctions&&o.utils.warn("Overwriting existing tokenizer: "+e),t.label=e,this.registeredFunctions[e]=t
/*!
 * lunr.Pipeline
 * Copyright (C) 2016 Oliver Nightingale
 */},o.Pipeline=function(){this._stack=[]},o.Pipeline.registeredFunctions={},o.Pipeline.registerFunction=function(t,e){e in this.registeredFunctions&&o.utils.warn("Overwriting existing registered function: "+e),t.label=e,o.Pipeline.registeredFunctions[t.label]=t},o.Pipeline.warnIfFunctionNotRegistered=function(t){t.label&&t.label in this.registeredFunctions||o.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",t)},o.Pipeline.load=function(t){var e=new o.Pipeline;return t.forEach(function(t){var r=o.Pipeline.registeredFunctions[t];if(!r)throw new Error("Cannot load un-registered function: "+t);e.add(r)}),e},o.Pipeline.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(t){o.Pipeline.warnIfFunctionNotRegistered(t),this._stack.push(t)},this)},o.Pipeline.prototype.after=function(t,e){o.Pipeline.warnIfFunctionNotRegistered(e);var r=this._stack.indexOf(t);if(-1==r)throw new Error("Cannot find existingFn");r+=1,this._stack.splice(r,0,e)},o.Pipeline.prototype.before=function(t,e){o.Pipeline.warnIfFunctionNotRegistered(e);var r=this._stack.indexOf(t);if(-1==r)throw new Error("Cannot find existingFn");this._stack.splice(r,0,e)},o.Pipeline.prototype.remove=function(t){var e=this._stack.indexOf(t);-1!=e&&this._stack.splice(e,1)},o.Pipeline.prototype.run=function(t){for(var e=[],r=t.length,n=this._stack.length,i=0;i<r;i++){for(var o=t[i],a=0;a<n&&void 0!==(o=this._stack[a](o,i,t))&&""!==o;a++);void 0!==o&&""!==o&&e.push(o)}return e},o.Pipeline.prototype.reset=function(){this._stack=[]},o.Pipeline.prototype.toJSON=function(){return this._stack.map(function(t){return o.Pipeline.warnIfFunctionNotRegistered(t),t.label})},
/*!
 * lunr.Vector
 * Copyright (C) 2016 Oliver Nightingale
 */
o.Vector=function(){this._magnitude=null,this.list=void 0,this.length=0},o.Vector.Node=function(t,e,r){this.idx=t,this.val=e,this.next=r},o.Vector.prototype.insert=function(t,e){this._magnitude=void 0;var r=this.list;if(!r)return this.list=new o.Vector.Node(t,e,r),this.length++;if(t<r.idx)return this.list=new o.Vector.Node(t,e,r),this.length++;for(var n=r,i=r.next;null!=i;){if(t<i.idx)return n.next=new o.Vector.Node(t,e,i),this.length++;n=i,i=i.next}return n.next=new o.Vector.Node(t,e,i),this.length++},o.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var t,e=this.list,r=0;e;)r+=(t=e.val)*t,e=e.next;return this._magnitude=Math.sqrt(r)},o.Vector.prototype.dot=function(t){for(var e=this.list,r=t.list,n=0;e&&r;)e.idx<r.idx?e=e.next:e.idx>r.idx?r=r.next:(n+=e.val*r.val,e=e.next,r=r.next);return n},o.Vector.prototype.similarity=function(t){return this.dot(t)/(this.magnitude()*t.magnitude())},
/*!
 * lunr.SortedSet
 * Copyright (C) 2016 Oliver Nightingale
 */
o.SortedSet=function(){this.length=0,this.elements=[]},o.SortedSet.load=function(t){var e=new this;return e.elements=t,e.length=t.length,e},o.SortedSet.prototype.add=function(){var t,e;for(t=0;t<arguments.length;t++)e=arguments[t],~this.indexOf(e)||this.elements.splice(this.locationFor(e),0,e);this.length=this.elements.length},o.SortedSet.prototype.toArray=function(){return this.elements.slice()},o.SortedSet.prototype.map=function(t,e){return this.elements.map(t,e)},o.SortedSet.prototype.forEach=function(t,e){return this.elements.forEach(t,e)},o.SortedSet.prototype.indexOf=function(t){for(var e=0,r=this.elements.length,n=r-e,i=e+Math.floor(n/2),o=this.elements[i];n>1;){if(o===t)return i;o<t&&(e=i),o>t&&(r=i),n=r-e,i=e+Math.floor(n/2),o=this.elements[i]}return o===t?i:-1},o.SortedSet.prototype.locationFor=function(t){for(var e=0,r=this.elements.length,n=r-e,i=e+Math.floor(n/2),o=this.elements[i];n>1;)o<t&&(e=i),o>t&&(r=i),n=r-e,i=e+Math.floor(n/2),o=this.elements[i];return o>t?i:o<t?i+1:void 0},o.SortedSet.prototype.intersect=function(t){for(var e=new o.SortedSet,r=0,n=0,i=this.length,a=t.length,s=this.elements,c=t.elements;!(r>i-1||n>a-1);)s[r]!==c[n]?s[r]<c[n]?r++:s[r]>c[n]&&n++:(e.add(s[r]),r++,n++);return e},o.SortedSet.prototype.clone=function(){var t=new o.SortedSet;return t.elements=this.toArray(),t.length=t.elements.length,t},o.SortedSet.prototype.union=function(t){var e,r,n;this.length>=t.length?(e=this,r=t):(e=t,r=this),n=e.clone();for(var i=0,o=r.toArray();i<o.length;i++)n.add(o[i]);return n},o.SortedSet.prototype.toJSON=function(){return this.toArray()},
/*!
 * lunr.Index
 * Copyright (C) 2016 Oliver Nightingale
 */
o.Index=function(){this._fields=[],this._ref="id",this.pipeline=new o.Pipeline,this.documentStore=new o.Store,this.tokenStore=new o.TokenStore,this.corpusTokens=new o.SortedSet,this.eventEmitter=new o.EventEmitter,this.tokenizerFn=o.tokenizer,this._idfCache={},this.on("add","remove","update",function(){this._idfCache={}}.bind(this))},o.Index.prototype.on=function(){var t=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,t)},o.Index.prototype.off=function(t,e){return this.eventEmitter.removeListener(t,e)},o.Index.load=function(t){t.version!==o.version&&o.utils.warn("version mismatch: current "+o.version+" importing "+t.version);var e=new this;return e._fields=t.fields,e._ref=t.ref,e.tokenizer(o.tokenizer.load(t.tokenizer)),e.documentStore=o.Store.load(t.documentStore),e.tokenStore=o.TokenStore.load(t.tokenStore),e.corpusTokens=o.SortedSet.load(t.corpusTokens),e.pipeline=o.Pipeline.load(t.pipeline),e},o.Index.prototype.field=function(t,e){var r={name:t,boost:(e=e||{}).boost||1};return this._fields.push(r),this},o.Index.prototype.ref=function(t){return this._ref=t,this},o.Index.prototype.tokenizer=function(t){return t.label&&t.label in o.tokenizer.registeredFunctions||o.utils.warn("Function is not a registered tokenizer. This may cause problems when serialising the index"),this.tokenizerFn=t,this},o.Index.prototype.add=function(t,e){var r={},n=new o.SortedSet,i=t[this._ref];e=void 0===e||e,this._fields.forEach(function(e){var i=this.pipeline.run(this.tokenizerFn(t[e.name]));r[e.name]=i;for(var o=0;o<i.length;o++){var a=i[o];n.add(a),this.corpusTokens.add(a)}},this),this.documentStore.set(i,n);for(var a=0;a<n.length;a++){for(var s=n.elements[a],c=0,u=0;u<this._fields.length;u++){var l=this._fields[u],h=r[l.name],p=h.length;if(p){for(var d=0,f=0;f<p;f++)h[f]===s&&d++;c+=d/p*l.boost}}this.tokenStore.add(s,{ref:i,tf:c})}e&&this.eventEmitter.emit("add",t,this)},o.Index.prototype.remove=function(t,e){var r=t[this._ref];if(e=void 0===e||e,this.documentStore.has(r)){var n=this.documentStore.get(r);this.documentStore.remove(r),n.forEach(function(t){this.tokenStore.remove(t,r)},this),e&&this.eventEmitter.emit("remove",t,this)}},o.Index.prototype.update=function(t,e){e=void 0===e||e,this.remove(t,!1),this.add(t,!1),e&&this.eventEmitter.emit("update",t,this)},o.Index.prototype.idf=function(t){var e="@"+t;if(Object.prototype.hasOwnProperty.call(this._idfCache,e))return this._idfCache[e];var r=this.tokenStore.count(t),n=1;return r>0&&(n=1+Math.log(this.documentStore.length/r)),this._idfCache[e]=n},o.Index.prototype.search=function(t){var e=this.pipeline.run(this.tokenizerFn(t)),r=new o.Vector,n=[],i=this._fields.reduce(function(t,e){return t+e.boost},0);return e.some(function(t){return this.tokenStore.has(t)},this)?(e.forEach(function(t,e,a){var s=1/a.length*this._fields.length*i,c=this,u=this.tokenStore.expand(t).reduce(function(e,n){var i=c.corpusTokens.indexOf(n),a=c.idf(n),u=1,l=new o.SortedSet;if(n!==t){var h=Math.max(3,n.length-t.length);u=1/Math.log(h)}i>-1&&r.insert(i,s*a*u);for(var p=c.tokenStore.get(n),d=Object.keys(p),f=d.length,g=0;g<f;g++)l.add(p[d[g]].ref);return e.union(l)},new o.SortedSet);n.push(u)},this),n.reduce(function(t,e){return t.intersect(e)}).map(function(t){return{ref:t,score:r.similarity(this.documentVector(t))}},this).sort(function(t,e){return e.score-t.score})):[]},o.Index.prototype.documentVector=function(t){for(var e=this.documentStore.get(t),r=e.length,n=new o.Vector,i=0;i<r;i++){var a=e.elements[i],s=this.tokenStore.get(a)[t].tf,c=this.idf(a);n.insert(this.corpusTokens.indexOf(a),s*c)}return n},o.Index.prototype.toJSON=function(){return{version:o.version,fields:this._fields,ref:this._ref,tokenizer:this.tokenizerFn.label,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},o.Index.prototype.use=function(t){var e=Array.prototype.slice.call(arguments,1);e.unshift(this),t.apply(this,e)},
/*!
 * lunr.Store
 * Copyright (C) 2016 Oliver Nightingale
 */
o.Store=function(){this.store={},this.length=0},o.Store.load=function(t){var e=new this;return e.length=t.length,e.store=Object.keys(t.store).reduce(function(e,r){return e[r]=o.SortedSet.load(t.store[r]),e},{}),e},o.Store.prototype.set=function(t,e){this.has(t)||this.length++,this.store[t]=e},o.Store.prototype.get=function(t){return this.store[t]},o.Store.prototype.has=function(t){return t in this.store},o.Store.prototype.remove=function(t){this.has(t)&&(delete this.store[t],this.length--)},o.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},
/*!
 * lunr.stemmer
 * Copyright (C) 2016 Oliver Nightingale
 * Includes code from - http://tartarus.org/~martin/PorterStemmer/js.txt
 */
o.stemmer=function(){var t={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},e={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},r="[aeiouy]",n="[^aeiou][^aeiouy]*",i=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*"),o=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*"),a=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$"),s=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy]"),c=/^(.+?)(ss|i)es$/,u=/^(.+?)([^s])s$/,l=/^(.+?)eed$/,h=/^(.+?)(ed|ing)$/,p=/.$/,d=/(at|bl|iz)$/,f=new RegExp("([^aeiouylsz])\\1$"),g=new RegExp("^"+n+r+"[^aeiouwxy]$"),m=/^(.+?[^aeiou])y$/,y=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,v=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,w=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,b=/^(.+?)(s|t)(ion)$/,_=/^(.+?)e$/,E=/ll$/,C=new RegExp("^"+n+r+"[^aeiouwxy]$");return function(r){var n,k,x,T,S,A,I;if(r.length<3)return r;if("y"==(x=r.substr(0,1))&&(r=x.toUpperCase()+r.substr(1)),S=u,(T=c).test(r)?r=r.replace(T,"$1$2"):S.test(r)&&(r=r.replace(S,"$1$2")),S=h,(T=l).test(r)){var N=T.exec(r);(T=i).test(N[1])&&(T=p,r=r.replace(T,""))}else S.test(r)&&(n=(N=S.exec(r))[1],(S=s).test(n)&&(A=f,I=g,(S=d).test(r=n)?r+="e":A.test(r)?(T=p,r=r.replace(T,"")):I.test(r)&&(r+="e")));return(T=m).test(r)&&(r=(n=(N=T.exec(r))[1])+"i"),(T=y).test(r)&&(n=(N=T.exec(r))[1],k=N[2],(T=i).test(n)&&(r=n+t[k])),(T=v).test(r)&&(n=(N=T.exec(r))[1],k=N[2],(T=i).test(n)&&(r=n+e[k])),S=b,(T=w).test(r)?(n=(N=T.exec(r))[1],(T=o).test(n)&&(r=n)):S.test(r)&&(n=(N=S.exec(r))[1]+N[2],(S=o).test(n)&&(r=n)),(T=_).test(r)&&(n=(N=T.exec(r))[1],S=a,A=C,((T=o).test(n)||S.test(n)&&!A.test(n))&&(r=n)),S=o,(T=E).test(r)&&S.test(r)&&(T=p,r=r.replace(T,"")),"y"==x&&(r=x.toLowerCase()+r.substr(1)),r}}(),o.Pipeline.registerFunction(o.stemmer,"stemmer"),
/*!
 * lunr.stopWordFilter
 * Copyright (C) 2016 Oliver Nightingale
 */
o.generateStopWordFilter=function(t){var e=t.reduce(function(t,e){return t[e]=e,t},{});return function(t){if(t&&e[t]!==t)return t}},o.stopWordFilter=o.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),o.Pipeline.registerFunction(o.stopWordFilter,"stopWordFilter"),
/*!
 * lunr.trimmer
 * Copyright (C) 2016 Oliver Nightingale
 */
o.trimmer=function(t){return t.replace(/^\W+/,"").replace(/\W+$/,"")},o.Pipeline.registerFunction(o.trimmer,"trimmer"),
/*!
 * lunr.stemmer
 * Copyright (C) 2016 Oliver Nightingale
 * Includes code from - http://tartarus.org/~martin/PorterStemmer/js.txt
 */
o.TokenStore=function(){this.root={docs:{}},this.length=0},o.TokenStore.load=function(t){var e=new this;return e.root=t.root,e.length=t.length,e},o.TokenStore.prototype.add=function(t,e,r){r=r||this.root;var n=t.charAt(0),i=t.slice(1);return n in r||(r[n]={docs:{}}),0===i.length?(r[n].docs[e.ref]=e,void(this.length+=1)):this.add(i,e,r[n])},o.TokenStore.prototype.has=function(t){if(!t)return!1;for(var e=this.root,r=0;r<t.length;r++){if(!e[t.charAt(r)])return!1;e=e[t.charAt(r)]}return!0},o.TokenStore.prototype.getNode=function(t){if(!t)return{};for(var e=this.root,r=0;r<t.length;r++){if(!e[t.charAt(r)])return{};e=e[t.charAt(r)]}return e},o.TokenStore.prototype.get=function(t,e){return this.getNode(t,e).docs||{}},o.TokenStore.prototype.count=function(t,e){return Object.keys(this.get(t,e)).length},o.TokenStore.prototype.remove=function(t,e){if(t){for(var r=this.root,n=0;n<t.length;n++){if(!(t.charAt(n)in r))return;r=r[t.charAt(n)]}delete r.docs[e]}},o.TokenStore.prototype.expand=function(t,e){var r=this.getNode(t),n=r.docs||{};return e=e||[],Object.keys(n).length&&e.push(t),Object.keys(r).forEach(function(r){"docs"!==r&&e.concat(this.expand(t+r,e))},this),e},o.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},void 0!==(i="function"==typeof(n=function(){return o})?n.call(e,r,e,t):n)&&(t.exports=i)}()},function(t,e,r){const n=r(0);n.trimmer=function(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")},n.init=function(t){return n.Index.load(t)},n.Pipeline.registerFunction(n.trimmer,"trimmer"),t.exports=n}])},function(t,e,r){t.exports=r(260)},function(t,e,r){"use strict";var n=r(11),i=r(24),o=r(48),a=r(120),s=r(63),c=r(8),u=r(49).f,l=r(64).f,h=r(12).f,p=r(164).trim,d=n.Number,f=d,g=d.prototype,m="Number"==o(r(84)(g)),y="trim"in String.prototype,v=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var r,n,i,o=(e=y?e.trim():p(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+e}for(var a,c=e.slice(2),u=0,l=c.length;u<l;u++)if((a=c.charCodeAt(u))<48||a>i)return NaN;return parseInt(c,n)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof d&&(m?c(function(){g.valueOf.call(r)}):"Number"!=o(r))?a(new f(v(e)),r,d):v(e)};for(var w,b=r(9)?u(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;b.length>_;_++)i(f,w=b[_])&&!i(d,w)&&h(d,w,l(f,w));d.prototype=g,g.constructor=d,r(18)(n,"Number",d)}},function(t,e,r){var n=r(46)("meta"),i=r(20),o=r(24),a=r(12).f,s=0,c=Object.isExtensible||function(){return!0},u=!r(8)(function(){return c(Object.preventExtensions({}))}),l=function(t){a(t,n,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!c(t))return"F";if(!e)return"E";l(t)}return t[n].i},getWeak:function(t,e){if(!o(t,n)){if(!c(t))return!0;if(!e)return!1;l(t)}return t[n].w},onFreeze:function(t){return u&&h.NEED&&c(t)&&!o(t,n)&&l(t),t}}},function(t,e,r){"use strict";var n=r(13),i=r(34),o=r(43),a=r(45),s=r(121),c=r(86),u=Math.max,l=Math.min,h=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g;r(87)("replace",2,function(t,e,r,f){return[function(n,i){var o=t(this),a=null==n?void 0:n[e];return void 0!==a?a.call(n,o,i):r.call(String(o),n,i)},function(t,e){var i=f(r,t,this,e);if(i.done)return i.value;var h=n(t),p=String(this),d="function"==typeof e;d||(e=String(e));var m=h.global;if(m){var y=h.unicode;h.lastIndex=0}for(var v=[];;){var w=c(h,p);if(null===w)break;if(v.push(w),!m)break;""===String(w[0])&&(h.lastIndex=s(p,o(h.lastIndex),y))}for(var b,_="",E=0,C=0;C<v.length;C++){w=v[C];for(var k=String(w[0]),x=u(l(a(w.index),p.length),0),T=[],S=1;S<w.length;S++)T.push(void 0===(b=w[S])?b:String(b));var A=w.groups;if(d){var I=[k].concat(T,x,p);void 0!==A&&I.push(A);var N=String(e.apply(void 0,I))}else N=g(k,p,x,T,A,e);x>=E&&(_+=p.slice(E,x)+N,E=x+k.length)}return _+p.slice(E)}];function g(t,e,n,o,a,s){var c=n+t.length,u=o.length,l=d;return void 0!==a&&(a=i(a),l=p),r.call(s,l,function(r,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(c);case"<":s=a[i.slice(1,-1)];break;default:var l=+i;if(0===l)return r;if(l>u){var p=h(l/10);return 0===p?r:p<=u?void 0===o[p-1]?i.charAt(1):o[p-1]+i.charAt(1):r}s=o[l-1]}return void 0===s?"":s})}})},function(t,e,r){"use strict";var n=r(13),i=r(238),o=r(86);r(87)("search",1,function(t,e,r,a){return[function(r){var n=t(this),i=null==r?void 0:r[e];return void 0!==i?i.call(r,n):new RegExp(r)[e](String(n))},function(t){var e=a(r,t,this);if(e.done)return e.value;var s=n(t),c=String(this),u=s.lastIndex;i(u,0)||(s.lastIndex=0);var l=o(s,c);return i(s.lastIndex,u)||(s.lastIndex=u),null===l?-1:l.index}]})},function(t,e,r){"use strict";var n=r(116),i={};i[r(6)("toStringTag")]="z",i+""!="[object z]"&&r(18)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(t,e,r){var n=r(45),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=n(t))<0?i(t+e,0):o(t,e)}},function(t,e,r){var n=r(11),i=r(120),o=r(12).f,a=r(49).f,s=r(92),c=r(70),u=n.RegExp,l=u,h=u.prototype,p=/a/g,d=/a/g,f=new u(p)!==p;if(r(9)&&(!f||r(8)(function(){return d[r(6)("match")]=!1,u(p)!=p||u(d)==d||"/a/i"!=u(p,"i")}))){u=function(t,e){var r=this instanceof u,n=s(t),o=void 0===e;return!r&&n&&t.constructor===u&&o?t:i(f?new l(n&&!o?t.source:t,e):l((n=t instanceof u)?t.source:t,n&&o?c.call(t):e),r?this:h,u)};for(var g=function(t){t in u||o(u,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})},m=a(l),y=0;m.length>y;)g(m[y++]);h.constructor=u,u.prototype=h,r(18)(n,"RegExp",u)}r(165)("RegExp")},function(t,e,r){"use strict";r(233);var n=r(13),i=r(70),o=r(9),a=/./.toString,s=function(t){r(18)(RegExp.prototype,"toString",t,!0)};r(8)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(t,e,r){var n=Date.prototype,i=n.toString,o=n.getTime;new Date(NaN)+""!="Invalid Date"&&r(18)(n,"toString",function(){var t=o.call(this);return t==t?i.call(this):"Invalid Date"})},function(t,e,r){"use strict";var n=r(4),i=r(56)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),n(n.P+n.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(58)("find")},function(t,e,r){"use strict";var n=r(4),i=r(43),o=r(127),a="".startsWith;n(n.P+n.F*r(128)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),r=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return a?a.call(e,n,r):e.slice(r,r+n.length)===n}})},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,r){var n=r(4),i=r(29),o=r(8),a=r(195),s="["+a+"]",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),l=function(t,e,r){var i={},s=o(function(){return!!a[t]()||"​"!="​"[t]()}),c=i[t]=s?e(h):a[t];r&&(i[r]=c),n(n.P+n.F*s,"String",i)},h=l.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=l},function(t,e,r){"use strict";var n=r(11),i=r(12),o=r(9),a=r(6)("species");t.exports=function(t){var e=n[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,r){var n=r(4);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,r){"use strict";var n=r(12),i=r(47);t.exports=function(t,e,r){e in t?n.f(t,e,i(0,r)):t[e]=r}},function(t,e,r){r(244),t.exports=r(15).Object.assign},function(t,e,r){"use strict";var n=r(36),i=r(71),o=r(65),a=r(34),s=r(88),c=Object.assign;t.exports=!c||r(8)(function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(t){e[t]=t}),7!=c({},t)[r]||Object.keys(c({},e)).join("")!=n})?function(t,e){for(var r=a(t),c=arguments.length,u=1,l=i.f,h=o.f;c>u;)for(var p,d=s(arguments[u++]),f=l?n(d).concat(l(d)):n(d),g=f.length,m=0;g>m;)h.call(d,p=f[m++])&&(r[p]=d[p]);return r}:c},function(t,e,r){t.exports=r(264)},function(t,e,r){"use strict";var n=r(58),i=r(163),o=r(83),a=r(28);t.exports=r(118)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(t,e,r){t.exports=r(61)("native-function-to-string",Function.toString)},function(t,e,r){"use strict";var n=r(84),i=r(47),o=r(85),a={};r(25)(a,r(6)("iterator"),function(){return this}),t.exports=function(t,e,r){t.prototype=n(a,{next:i(1,r)}),o(t,e+" Iterator")}},function(t,e,r){var n=r(11).document;t.exports=n&&n.documentElement},function(t,e,r){var n=r(24),i=r(34),o=r(90)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,r){var n=r(177);t.exports=function(t,e){return new(n(t))(e)}},function(t,e,r){var n=r(20),i=r(119),o=r(6)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),n(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){
/*!
 * Viewer.js v1.3.3
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2019-04-06T14:06:28.301Z
 */
t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,zoomable:!0,rotatable:!0,scalable:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,zoom:null,zoomed:null},n="undefined"!=typeof window,i=n?window:{},o=!!n&&"ontouchstart"in i.document.documentElement,a=!!n&&"PointerEvent"in i,s="".concat("viewer","-active"),c="".concat("viewer","-close"),u="".concat("viewer","-fade"),l="".concat("viewer","-fixed"),h="".concat("viewer","-fullscreen"),p="".concat("viewer","-fullscreen-exit"),d="".concat("viewer","-hide"),f="".concat("viewer","-hide-md-down"),g="".concat("viewer","-hide-sm-down"),m="".concat("viewer","-hide-xs-down"),y="".concat("viewer","-in"),v="".concat("viewer","-invisible"),w="".concat("viewer","-loading"),b="".concat("viewer","-move"),_="".concat("viewer","-open"),E="".concat("viewer","-show"),C="".concat("viewer","-transition"),k=o?"touchstart":"mousedown",x=o?"touchmove":"mousemove",T=o?"touchend touchcancel":"mouseup",S=a?"pointerdown":k,A=a?"pointermove":x,I=a?"pointerup pointercancel":T,N="".concat("viewer","Action"),P=/\s\s*/,D=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function O(t){return"string"==typeof t}var R=Number.isNaN||i.isNaN;function j(t){return"number"==typeof t&&!R(t)}function B(t){return void 0===t}function M(e){return"object"===t(e)&&null!==e}var F=Object.prototype.hasOwnProperty;function L(t){if(!M(t))return!1;try{var e=t.constructor,r=e.prototype;return e&&r&&F.call(r,"isPrototypeOf")}catch(t){return!1}}function q(t){return"function"==typeof t}function V(t,e){if(t&&q(e))if(Array.isArray(t)||j(t.length)){var r,n=t.length;for(r=0;r<n&&!1!==e.call(t,t[r],r,t);r+=1);}else M(t)&&Object.keys(t).forEach(function(r){e.call(t,t[r],r,t)});return t}var U=Object.assign||function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return M(t)&&r.length>0&&r.forEach(function(e){M(e)&&Object.keys(e).forEach(function(r){t[r]=e[r]})}),t},W=/^(?:width|height|left|top|marginLeft|marginTop)$/;function z(t,e){var r=t.style;V(e,function(t,e){W.test(e)&&j(t)&&(t+="px"),r[e]=t})}function H(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function J(t,e){if(e)if(j(t.length))V(t,function(t){J(t,e)});else if(t.classList)t.classList.add(e);else{var r=t.className.trim();r?r.indexOf(e)<0&&(t.className="".concat(r," ").concat(e)):t.className=e}}function G(t,e){e&&(j(t.length)?V(t,function(t){G(t,e)}):t.classList?t.classList.remove(e):t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,"")))}function K(t,e,r){e&&(j(t.length)?V(t,function(t){K(t,e,r)}):r?J(t,e):G(t,e))}var $=/([a-z\d])([A-Z])/g;function Q(t){return t.replace($,"$1-$2").toLowerCase()}function Y(t,e){return M(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(Q(e)))}function X(t,e,r){M(r)?t[e]=r:t.dataset?t.dataset[e]=r:t.setAttribute("data-".concat(Q(e)),r)}var Z=function(){var t=!1;if(n){var e=!1,r=function(){},o=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});i.addEventListener("test",r,o),i.removeEventListener("test",r,o)}return t}();function tt(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r;e.trim().split(P).forEach(function(e){if(!Z){var o=t.listeners;o&&o[e]&&o[e][r]&&(i=o[e][r],delete o[e][r],0===Object.keys(o[e]).length&&delete o[e],0===Object.keys(o).length&&delete t.listeners)}t.removeEventListener(e,i,n)})}function et(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r;e.trim().split(P).forEach(function(e){if(n.once&&!Z){var o=t.listeners,a=void 0===o?{}:o;i=function(){delete a[e][r],t.removeEventListener(e,i,n);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];r.apply(t,s)},a[e]||(a[e]={}),a[e][r]&&t.removeEventListener(e,a[e][r],n),a[e][r]=i,t.listeners=a}t.addEventListener(e,i,n)})}function rt(t,e,r){var n;return q(Event)&&q(CustomEvent)?n=new CustomEvent(e,{detail:r,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,r),t.dispatchEvent(n)}function nt(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function it(t){var e=t.rotate,r=t.scaleX,n=t.scaleY,i=t.translateX,o=t.translateY,a=[];j(i)&&0!==i&&a.push("translateX(".concat(i,"px)")),j(o)&&0!==o&&a.push("translateY(".concat(o,"px)")),j(e)&&0!==e&&a.push("rotate(".concat(e,"deg)")),j(r)&&1!==r&&a.push("scaleX(".concat(r,")")),j(n)&&1!==n&&a.push("scaleY(".concat(n,")"));var s=a.length?a.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}var ot=i.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(i.navigator.userAgent);function at(t,e){var r=document.createElement("img");if(t.naturalWidth&&!ot)return e(t.naturalWidth,t.naturalHeight),r;var n=document.body||document.documentElement;return r.onload=function(){e(r.width,r.height),ot||n.removeChild(r)},r.src=t.src,ot||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",n.appendChild(r)),r}function st(t){switch(t){case 2:return m;case 3:return g;case 4:return f;default:return""}}function ct(t,e){var r=t.pageX,n=t.pageY,i={endX:r,endY:n};return e?i:U({timeStamp:Date.now(),startX:r,startY:n},i)}function ut(t){var e=0,r=0,n=0;return V(t,function(t){var i=t.startX,o=t.startY;e+=i,r+=o,n+=1}),{pageX:e/=n,pageY:r/=n}}var lt={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var t,e=this.options,r=this.parent;e.inline&&(t={width:Math.max(r.offsetWidth,e.minWidth),height:Math.max(r.offsetHeight,e.minHeight)},this.parentData=t),!this.fulled&&t||(t=this.containerData),this.viewerData=U({},t)},renderViewer:function(){this.options.inline&&!this.fulled&&z(this.viewer,this.viewerData)},initList:function(){var t=this,e=this.element,r=this.options,n=this.list,i=[];V(this.images,function(e,n){var o=e.src,a=e.alt||function(t){return O(t)?t.replace(/^.*\//,"").replace(/[?&#].*$/,""):""}(o),s=r.url;O(s)?s=e.getAttribute(s):q(s)&&(s=s.call(t,e)),(o||s)&&i.push("<li><img"+' src="'.concat(o||s,'"')+' role="button" data-viewer-action="view"'+' data-index="'.concat(n,'"')+' data-original-url="'.concat(s||o,'"')+' alt="'.concat(a,'"')+"></li>")}),n.innerHTML=i.join(""),this.items=n.getElementsByTagName("li"),V(this.items,function(e){var n=e.firstElementChild;X(n,"filled",!0),r.loading&&J(e,w),et(n,"load",function(n){r.loading&&G(e,w),t.loadImage(n)},{once:!0})}),r.transition&&et(e,"viewed",function(){J(n,C)},{once:!0})},renderList:function(t){var e=t||this.index,r=this.items[e].offsetWidth||30,n=r+1;z(this.list,U({width:n*this.length},it({translateX:(this.viewerData.width-r)/2-n*e})))},resetList:function(){var t=this.list;t.innerHTML="",G(t,C),z(t,it({translateX:0}))},initImage:function(t){var e,r=this,n=this.options,i=this.image,o=this.viewerData,a=this.footer.offsetHeight,s=o.width,c=Math.max(o.height-a,a),u=this.imageData||{};this.imageInitializing={abort:function(){e.onload=null}},e=at(i,function(e,i){var o=e/i,a=s,l=c;r.imageInitializing=!1,c*o>s?l=s/o:a=c*o;var h={naturalWidth:e,naturalHeight:i,aspectRatio:o,ratio:(a=Math.min(.9*a,e))/e,width:a,height:l=Math.min(.9*l,i),left:(s-a)/2,top:(c-l)/2},p=U({},h);n.rotatable&&(h.rotate=u.rotate||0,p.rotate=0),n.scalable&&(h.scaleX=u.scaleX||1,h.scaleY=u.scaleY||1,p.scaleX=1,p.scaleY=1),r.imageData=h,r.initialImageData=p,t&&t()})},renderImage:function(t){var e=this,r=this.image,n=this.imageData;if(z(r,U({width:n.width,height:n.height,marginLeft:n.left,marginTop:n.top},it(n))),t)if((this.viewing||this.zooming)&&this.options.transition){var i=function(){e.imageRendering=!1,t()};this.imageRendering={abort:function(){tt(r,"transitionend",i)}},et(r,"transitionend",i,{once:!0})}else t()},resetImage:function(){if(this.viewing||this.viewed){var t=this.image;this.viewing&&this.viewing.abort(),t.parentNode.removeChild(t),this.image=null}}},ht={bind:function(){var t=this.options,e=this.viewer,r=this.canvas,n=this.element.ownerDocument;et(e,"click",this.onClick=this.click.bind(this)),et(e,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),et(e,"dragstart",this.onDragStart=this.dragstart.bind(this)),et(r,S,this.onPointerDown=this.pointerdown.bind(this)),et(n,A,this.onPointerMove=this.pointermove.bind(this)),et(n,I,this.onPointerUp=this.pointerup.bind(this)),et(n,"keydown",this.onKeyDown=this.keydown.bind(this)),et(window,"resize",this.onResize=this.resize.bind(this)),t.toggleOnDblclick&&et(r,"dblclick",this.onDblclick=this.dblclick.bind(this))},unbind:function(){var t=this.options,e=this.viewer,r=this.canvas,n=this.element.ownerDocument;tt(e,"click",this.onClick),tt(e,"wheel",this.onWheel,{passive:!1,capture:!0}),tt(e,"dragstart",this.onDragStart),tt(r,S,this.onPointerDown),tt(n,A,this.onPointerMove),tt(n,I,this.onPointerUp),tt(n,"keydown",this.onKeyDown),tt(window,"resize",this.onResize),t.toggleOnDblclick&&tt(r,"dblclick",this.onDblclick)}},pt={click:function(t){var e=t.target,r=this.options,n=this.imageData,i=Y(e,N);switch(o&&t.isTrusted&&e===this.canvas&&clearTimeout(this.clickCanvasTimeout),i){case"mix":this.played?this.stop():r.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.hide();break;case"view":this.view(Y(e,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(r.loop);break;case"play":this.play(r.fullscreen);break;case"next":this.next(r.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-n.scaleX||-1);break;case"flip-vertical":this.scaleY(-n.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(t){t.preventDefault(),this.viewed&&t.target===this.image&&(o&&t.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle())},load:function(){var t=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var e=this.element,r=this.options,n=this.image,i=this.index,o=this.viewerData;G(n,v),r.loading&&G(this.canvas,w),n.style.cssText="height:0;"+"margin-left:".concat(o.width/2,"px;")+"margin-top:".concat(o.height/2,"px;")+"max-width:none!important;position:absolute;width:0;",this.initImage(function(){K(n,b,r.movable),K(n,C,r.transition),t.renderImage(function(){t.viewed=!0,t.viewing=!1,q(r.viewed)&&et(e,"viewed",r.viewed,{once:!0}),rt(e,"viewed",{originalImage:t.images[i],index:i,image:n})})})},loadImage:function(t){var e=t.target,r=e.parentNode,n=r.offsetWidth||30,i=r.offsetHeight||50,o=!!Y(e,"filled");at(e,function(t,r){var a=t/r,s=n,c=i;i*a>n?o?s=i*a:c=n/a:o?c=n/a:s=i*a,z(e,U({width:s,height:c},it({translateX:(n-s)/2,translateY:(i-c)/2})))})},keydown:function(t){var e=this.options;if(this.fulled&&e.keyboard)switch(t.keyCode||t.which||t.charCode){case 27:this.played?this.stop():e.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.prev(e.loop);break;case 38:t.preventDefault(),this.zoom(e.zoomRatio,!0);break;case 39:this.next(e.loop);break;case 40:t.preventDefault(),this.zoom(-e.zoomRatio,!0);break;case 48:case 49:t.ctrlKey&&(t.preventDefault(),this.toggle())}},dragstart:function(t){"img"===t.target.tagName.toLowerCase()&&t.preventDefault()},pointerdown:function(t){var e=this.options,r=this.pointers,n=t.buttons,i=t.button;if(!(!this.viewed||this.showing||this.viewing||this.hiding||j(n)&&1!==n||j(i)&&0!==i||t.ctrlKey)){t.preventDefault(),t.changedTouches?V(t.changedTouches,function(t){r[t.identifier]=ct(t)}):r[t.pointerId||0]=ct(t);var o=!!e.movable&&"move";Object.keys(r).length>1?o="zoom":"touch"!==t.pointerType&&"touchstart"!==t.type||!this.isSwitchable()||(o="switch"),!e.transition||"move"!==o&&"zoom"!==o||G(this.image,C),this.action=o}},pointermove:function(t){var e=this.pointers,r=this.action;this.viewed&&r&&(t.preventDefault(),t.changedTouches?V(t.changedTouches,function(t){U(e[t.identifier]||{},ct(t,!0))}):U(e[t.pointerId||0]||{},ct(t,!0)),this.change(t))},pointerup:function(t){var e,r=this,n=this.options,i=this.action,a=this.pointers;t.changedTouches?V(t.changedTouches,function(t){e=a[t.identifier],delete a[t.identifier]}):(e=a[t.pointerId||0],delete a[t.pointerId||0]),i&&(t.preventDefault(),!n.transition||"move"!==i&&"zoom"!==i||J(this.image,C),this.action=!1,o&&"zoom"!==i&&e&&Date.now()-e.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),n.toggleOnDblclick&&this.viewed&&t.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){rt(r.image,"dblclick")},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){r.imageClicked=!1},500)):(this.imageClicked=!1,n.backdrop&&"static"!==n.backdrop&&t.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){rt(r.canvas,"click")},50)))))},resize:function(){var t=this;if(this.isShown&&!this.hiding&&(this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){t.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement))return void this.stop();V(this.player.getElementsByTagName("img"),function(e){et(e,"load",t.loadImage.bind(t),{once:!0}),rt(e,"load")})}},wheel:function(t){var e=this;if(this.viewed&&(t.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){e.wheeling=!1},50);var r=Number(this.options.zoomRatio)||.1,n=1;t.deltaY?n=t.deltaY>0?1:-1:t.wheelDelta?n=-t.wheelDelta/120:t.detail&&(n=t.detail>0?1:-1),this.zoom(-n*r,!0,t)}}},dt={show:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.element,r=this.options;if(r.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(t),this;if(q(r.show)&&et(e,"show",r.show,{once:!0}),!1===rt(e,"show")||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var n=this.viewer;if(G(n,d),r.transition&&!t){var i=this.shown.bind(this);this.transitioning={abort:function(){tt(n,"transitionend",i),G(n,y)}},J(n,C),n.offsetWidth,et(n,"transitionend",i,{once:!0}),J(n,y)}else J(n,y),this.shown();return this},hide:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.element,r=this.options;if(r.inline||this.hiding||!this.isShown&&!this.showing)return this;if(q(r.hide)&&et(e,"hide",r.hide,{once:!0}),!1===rt(e,"hide"))return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var n=this.viewer;if(r.transition&&!t){var i=this.hidden.bind(this),o=function(){et(n,"transitionend",i,{once:!0}),G(n,y)};this.transitioning={abort:function(){this.viewed?tt(this.image,"transitionend",o):tt(n,"transitionend",i)}},this.viewed&&H(this.image,C)?(et(this.image,"transitionend",o,{once:!0}),this.zoomTo(0,!1,!1,!0)):o()}else G(n,y),this.hidden();return this},view:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.initialViewIndex;if(e=Number(e)||0,!this.isShown)return this.index=e,this.show();if(this.hiding||this.played||e<0||e>=this.length||this.viewed&&e===this.index)return this;this.viewing&&this.viewing.abort();var r=this.element,n=this.options,i=this.title,o=this.canvas,a=this.items[e],c=a.querySelector("img"),u=Y(c,"originalUrl"),l=c.getAttribute("alt"),h=document.createElement("img");if(h.src=u,h.alt=l,q(n.view)&&et(r,"view",n.view,{once:!0}),!1===rt(r,"view",{originalImage:this.images[e],index:e,image:h})||!this.isShown||this.hiding||this.played)return this;this.image=h,G(this.items[this.index],s),J(a,s),this.viewed=!1,this.index=e,this.imageData={},J(h,v),n.loading&&J(o,w),o.innerHTML="",o.appendChild(h),this.renderList(),i.innerHTML="";var p,d=function(){var e=t.imageData,r=Array.isArray(n.title)?n.title[1]:n.title;i.innerHTML=q(r)?r.call(t,h,e):"".concat(l," (").concat(e.naturalWidth," × ").concat(e.naturalHeight,")")};return et(r,"viewed",d,{once:!0}),this.viewing={abort:function(){tt(r,"viewed",d),h.complete?this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort():(h.src="",tt(h,"load",p),this.timeout&&clearTimeout(this.timeout))}},h.complete?this.load():(et(h,"load",p=this.load.bind(this),{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){G(h,v),t.timeout=!1},1e3)),this},prev:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.index-1;return e<0&&(e=t?this.length-1:0),this.view(e),this},next:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.length-1,r=this.index+1;return r>e&&(r=t?0:e),this.view(r),this},move:function(t,e){var r=this.imageData;return this.moveTo(B(t)?t:r.left+Number(t),B(e)?e:r.top+Number(e)),this},moveTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=this.imageData;if(t=Number(t),e=Number(e),this.viewed&&!this.played&&this.options.movable){var n=!1;j(t)&&(r.left=t,n=!0),j(e)&&(r.top=e,n=!0),n&&this.renderImage()}return this},zoom:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.imageData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(n.width*t/n.naturalWidth,e,r),this},zoomTo:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.element,a=this.options,s=this.pointers,c=this.imageData,u=c.width,l=c.height,h=c.left,p=c.top,d=c.naturalWidth,f=c.naturalHeight;if(j(t=Math.max(0,t))&&this.viewed&&!this.played&&(i||a.zoomable)){if(!i){var g=Math.max(.01,a.minZoomRatio),m=Math.min(100,a.maxZoomRatio);t=Math.min(Math.max(t,g),m)}n&&t>.95&&t<1.05&&(t=1);var y=d*t,v=f*t,w=y-u,b=v-l,_=u/d;if(q(a.zoom)&&et(o,"zoom",a.zoom,{once:!0}),!1===rt(o,"zoom",{ratio:t,oldRatio:_,originalEvent:n}))return this;if(this.zooming=!0,n){var E=nt(this.viewer),C=s&&Object.keys(s).length?ut(s):{pageX:n.pageX,pageY:n.pageY};c.left-=w*((C.pageX-E.left-h)/u),c.top-=b*((C.pageY-E.top-p)/l)}else c.left-=w/2,c.top-=b/2;c.width=y,c.height=v,c.ratio=t,this.renderImage(function(){e.zooming=!1,q(a.zoomed)&&et(o,"zoomed",a.zoomed,{once:!0}),rt(o,"zoomed",{ratio:t,oldRatio:_,originalEvent:n})}),r&&this.tooltip()}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t)),this},rotateTo:function(t){var e=this.imageData;return j(t=Number(t))&&this.viewed&&!this.played&&this.options.rotatable&&(e.rotate=t,this.renderImage()),this},scaleX:function(t){return this.scale(t,this.imageData.scaleY),this},scaleY:function(t){return this.scale(this.imageData.scaleX,t),this},scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=this.imageData;if(t=Number(t),e=Number(e),this.viewed&&!this.played&&this.options.scalable){var n=!1;j(t)&&(r.scaleX=t,n=!0),j(e)&&(r.scaleY=e,n=!0),n&&this.renderImage()}return this},play:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isShown||this.played)return this;var r=this.options,n=this.player,i=this.loadImage.bind(this),o=[],a=0,c=0;if(this.played=!0,this.onLoadWhenPlay=i,e&&this.requestFullscreen(),J(n,E),V(this.items,function(t,e){var l=t.querySelector("img"),h=document.createElement("img");h.src=Y(l,"originalUrl"),h.alt=l.getAttribute("alt"),a+=1,J(h,u),K(h,C,r.transition),H(t,s)&&(J(h,y),c=e),o.push(h),et(h,"load",i,{once:!0}),n.appendChild(h)}),j(r.interval)&&r.interval>0){var l=function e(){t.playing=setTimeout(function(){G(o[c],y),J(o[c=(c+=1)<a?c:0],y),e()},r.interval)};a>1&&l()}return this},stop:function(){var t=this;if(!this.played)return this;var e=this.player;return this.played=!1,clearTimeout(this.playing),V(e.getElementsByTagName("img"),function(e){tt(e,"load",t.onLoadWhenPlay)}),G(e,E),e.innerHTML="",this.exitFullscreen(),this},full:function(){var t=this,e=this.options,r=this.viewer,n=this.image,i=this.list;return!this.isShown||this.played||this.fulled||!e.inline?this:(this.fulled=!0,this.open(),J(this.button,p),e.transition&&(G(i,C),this.viewed&&G(n,C)),J(r,l),r.setAttribute("style",""),z(r,{zIndex:e.zIndex}),this.initContainer(),this.viewerData=U({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){t.renderImage(function(){e.transition&&setTimeout(function(){J(n,C),J(i,C)},0)})}),this)},exit:function(){var t=this,e=this.options,r=this.viewer,n=this.image,i=this.list;return this.isShown&&!this.played&&this.fulled&&e.inline?(this.fulled=!1,this.close(),G(this.button,p),e.transition&&(G(i,C),this.viewed&&G(n,C)),G(r,l),z(r,{zIndex:e.zIndexInline}),this.viewerData=U({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){t.renderImage(function(){e.transition&&setTimeout(function(){J(n,C),J(i,C)},0)})}),this):this},tooltip:function(){var t=this,e=this.options,r=this.tooltipBox,n=this.imageData;return this.viewed&&!this.played&&e.tooltip?(r.textContent="".concat(Math.round(100*n.ratio),"%"),this.tooltipping?clearTimeout(this.tooltipping):e.transition?(this.fading&&rt(r,"transitionend"),J(r,E),J(r,u),J(r,C),r.offsetWidth,J(r,y)):J(r,E),this.tooltipping=setTimeout(function(){e.transition?(et(r,"transitionend",function(){G(r,E),G(r,u),G(r,C),t.fading=!1},{once:!0}),G(r,y),t.fading=!0):G(r,E),t.tooltipping=!1},1e3),this):this},toggle:function(){return 1===this.imageData.ratio?this.zoomTo(this.initialImageData.ratio,!0):this.zoomTo(1,!0),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=U({},this.initialImageData),this.renderImage()),this},update:function(){var t=this.element,e=this.options,r=this.isImg;if(r&&!t.parentNode)return this.destroy();var n=[];if(V(r?[t]:t.querySelectorAll("img"),function(t){e.filter?e.filter(t)&&n.push(t):n.push(t)}),!n.length)return this;if(this.images=n,this.length=n.length,this.ready){var i=[];if(V(this.items,function(t,e){var r=t.querySelector("img"),o=n[e];o?o.src!==r.src&&i.push(e):i.push(e)}),z(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var o=i.indexOf(this.index);o>=0?(this.viewed=!1,this.view(Math.max(this.index-(o+1),0))):J(this.items[this.index],s)}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var t=this.element,e=this.options;return t.viewer?(this.destroyed=!0,this.ready?(this.played&&this.stop(),e.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):e.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),e.inline||tt(t,"click",this.onStart),t.viewer=void 0,this):this}},ft={open:function(){var t=this.body;J(t,_),t.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyPaddingRight)||0),"px")},close:function(){var t=this.body;G(t,_),t.style.paddingRight=this.initialBodyPaddingRight},shown:function(){var t=this.element,e=this.options;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,q(e.shown)&&et(t,"shown",e.shown,{once:!0}),!1!==rt(t,"shown")&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var t=this.element,e=this.options;this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),J(this.viewer,d),this.resetList(),this.resetImage(),this.hiding=!1,this.destroyed||(q(e.hidden)&&et(t,"hidden",e.hidden,{once:!0}),rt(t,"hidden"))},requestFullscreen:function(){var t=this.element.ownerDocument;if(this.fulled&&!(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)){var e=t.documentElement;e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()}},exitFullscreen:function(){var t=this.element.ownerDocument;this.fulled&&(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)&&(t.exitFullscreen?t.exitFullscreen():t.webkitExitFullscreen?t.webkitExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen())},change:function(t){var e=this.options,r=this.pointers,n=r[Object.keys(r)[0]],i=n.endX-n.startX,o=n.endY-n.startY;switch(this.action){case"move":this.move(i,o);break;case"zoom":this.zoom(function(t){var e=U({},t),r=[];return V(t,function(t,n){delete e[n],V(e,function(e){var n=Math.abs(t.startX-e.startX),i=Math.abs(t.startY-e.startY),o=Math.abs(t.endX-e.endX),a=Math.abs(t.endY-e.endY),s=Math.sqrt(n*n+i*i),c=(Math.sqrt(o*o+a*a)-s)/s;r.push(c)})}),r.sort(function(t,e){return Math.abs(t)<Math.abs(e)}),r[0]}(r),!1,t);break;case"switch":this.action="switched";var a=Math.abs(i);a>1&&a>Math.abs(o)&&(this.pointers={},i>1?this.prev(e.loop):i<-1&&this.next(e.loop))}V(r,function(t){t.startX=t.endX,t.startY=t.endY})},isSwitchable:function(){var t=this.imageData,e=this.viewerData;return this.length>1&&t.left>=0&&t.top>=0&&t.width<=e.width&&t.height<=e.height}},gt=i.Viewer,mt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e||1!==e.nodeType)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=U({},r,L(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.init()}var n,i,o;return n=t,o=[{key:"noConflict",value:function(){return window.Viewer=gt,t}},{key:"setDefaults",value:function(t){U(r,L(t)&&t)}}],(i=[{key:"init",value:function(){var t=this,e=this.element,r=this.options;if(!e.viewer){e.viewer=this;var n="img"===e.tagName.toLowerCase(),i=[];V(n?[e]:e.querySelectorAll("img"),function(e){q(r.filter)?r.filter.call(t,e)&&i.push(e):i.push(e)}),this.isImg=n,this.length=i.length,this.images=i;var o=e.ownerDocument,a=o.body||o.documentElement;if(this.body=a,this.scrollbarWidth=window.innerWidth-o.documentElement.clientWidth,this.initialBodyPaddingRight=window.getComputedStyle(a).paddingRight,B(document.createElement("viewer").style.transition)&&(r.transition=!1),r.inline){var s=0,c=function(){var e;(s+=1)===t.length&&(t.initializing=!1,t.delaying={abort:function(){clearTimeout(e)}},e=setTimeout(function(){t.delaying=!1,t.build()},0))};this.initializing={abort:function(){V(i,function(t){t.complete||tt(t,"load",c)})}},V(i,function(t){t.complete?c():et(t,"load",c,{once:!0})})}else et(e,"click",this.onStart=function(e){var n=e.target;"img"!==n.tagName.toLowerCase()||q(r.filter)&&!r.filter.call(t,n)||t.view(t.images.indexOf(n))})}}},{key:"build",value:function(){if(!this.ready){var t=this.element,e=this.options,r=t.parentNode,n=document.createElement("div");n.innerHTML='<div class="viewer-container" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list"></ul></div></div><div class="viewer-tooltip"></div><div role="button" class="viewer-button" data-viewer-action="mix"></div><div class="viewer-player"></div></div>';var i=n.querySelector(".".concat("viewer","-container")),o=i.querySelector(".".concat("viewer","-title")),a=i.querySelector(".".concat("viewer","-toolbar")),s=i.querySelector(".".concat("viewer","-navbar")),p=i.querySelector(".".concat("viewer","-button")),f=i.querySelector(".".concat("viewer","-canvas"));if(this.parent=r,this.viewer=i,this.title=o,this.toolbar=a,this.navbar=s,this.button=p,this.canvas=f,this.footer=i.querySelector(".".concat("viewer","-footer")),this.tooltipBox=i.querySelector(".".concat("viewer","-tooltip")),this.player=i.querySelector(".".concat("viewer","-player")),this.list=i.querySelector(".".concat("viewer","-list")),J(o,e.title?st(Array.isArray(e.title)?e.title[0]:e.title):d),J(s,e.navbar?st(e.navbar):d),K(p,d,!e.button),e.backdrop&&(J(i,"".concat("viewer","-backdrop")),e.inline||"static"===e.backdrop||X(f,N,"hide")),O(e.className)&&e.className&&e.className.split(P).forEach(function(t){J(i,t)}),e.toolbar){var g=document.createElement("ul"),m=L(e.toolbar),y=D.slice(0,3),w=D.slice(7,9),b=D.slice(9);m||J(a,st(e.toolbar)),V(m?e.toolbar:D,function(t,r){var n=m&&L(t),i=m?Q(r):t,o=n&&!B(t.show)?t.show:t;if(o&&(e.zoomable||-1===y.indexOf(i))&&(e.rotatable||-1===w.indexOf(i))&&(e.scalable||-1===b.indexOf(i))){var a=n&&!B(t.size)?t.size:t,s=n&&!B(t.click)?t.click:t,c=document.createElement("li");c.setAttribute("role","button"),J(c,"".concat("viewer","-").concat(i)),q(s)||X(c,N,i),j(o)&&J(c,st(o)),-1!==["small","large"].indexOf(a)?J(c,"".concat("viewer","-").concat(a)):"play"===i&&J(c,"".concat("viewer","-large")),q(s)&&et(c,"click",s),g.appendChild(c)}}),a.appendChild(g)}else J(a,d);if(!e.rotatable){var _=a.querySelectorAll('li[class*="rotate"]');J(_,v),V(_,function(t){a.appendChild(t)})}if(e.inline)J(p,h),z(i,{zIndex:e.zIndexInline}),"static"===window.getComputedStyle(r).position&&z(r,{position:"relative"}),r.insertBefore(i,t.nextSibling);else{J(p,c),J(i,l),J(i,u),J(i,d),z(i,{zIndex:e.zIndex});var E=e.container;O(E)&&(E=t.ownerDocument.querySelector(E)),E||(E=this.body),E.appendChild(i)}e.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,q(e.ready)&&et(t,"ready",e.ready,{once:!0}),!1!==rt(t,"ready")?this.ready&&e.inline&&this.view(this.index):this.ready=!1}}}])&&e(n.prototype,i),o&&e(n,o),t}();return U(mt.prototype,lt,ht,pt,dt,ft),mt}()},function(t,e,r){var n=r(20),i=r(13),o=function(t,e){if(i(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=r(81)(Function.call,r(64).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return o(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:o}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e){var r=function(t,e){var r=document.querySelector("#"+t+" > .particles-js-canvas-el");this.pJS={canvas:{el:r,w:r.offsetWidth,h:r.offsetHeight},particles:{number:{value:400,density:{enable:!0,value_area:800}},color:{value:"#fff"},shape:{type:"circle",stroke:{width:0,color:"#ff0000"},polygon:{nb_sides:5},image:{src:"",width:100,height:100}},opacity:{value:1,random:!1,anim:{enable:!1,speed:2,opacity_min:0,sync:!1}},size:{value:20,random:!1,anim:{enable:!1,speed:20,size_min:0,sync:!1}},line_linked:{enable:!0,distance:100,color:"#fff",opacity:1,width:1},move:{enable:!0,speed:2,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:3e3,rotateY:3e3}},array:[]},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:100,line_linked:{opacity:1}},bubble:{distance:200,size:80,duration:.4},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}},mouse:{}},retina_detect:!1,fn:{interact:{},modes:{},vendors:{}},tmp:{}};var o=this.pJS;e&&Object.deepExtend(o,e),o.tmp.obj={size_value:o.particles.size.value,size_anim_speed:o.particles.size.anim.speed,move_speed:o.particles.move.speed,line_linked_distance:o.particles.line_linked.distance,line_linked_width:o.particles.line_linked.width,mode_grab_distance:o.interactivity.modes.grab.distance,mode_bubble_distance:o.interactivity.modes.bubble.distance,mode_bubble_size:o.interactivity.modes.bubble.size,mode_repulse_distance:o.interactivity.modes.repulse.distance},o.fn.retinaInit=function(){o.retina_detect&&window.devicePixelRatio>1?(o.canvas.pxratio=window.devicePixelRatio,o.tmp.retina=!0):(o.canvas.pxratio=1,o.tmp.retina=!1),o.canvas.w=o.canvas.el.offsetWidth*o.canvas.pxratio,o.canvas.h=o.canvas.el.offsetHeight*o.canvas.pxratio,o.particles.size.value=o.tmp.obj.size_value*o.canvas.pxratio,o.particles.size.anim.speed=o.tmp.obj.size_anim_speed*o.canvas.pxratio,o.particles.move.speed=o.tmp.obj.move_speed*o.canvas.pxratio,o.particles.line_linked.distance=o.tmp.obj.line_linked_distance*o.canvas.pxratio,o.interactivity.modes.grab.distance=o.tmp.obj.mode_grab_distance*o.canvas.pxratio,o.interactivity.modes.bubble.distance=o.tmp.obj.mode_bubble_distance*o.canvas.pxratio,o.particles.line_linked.width=o.tmp.obj.line_linked_width*o.canvas.pxratio,o.interactivity.modes.bubble.size=o.tmp.obj.mode_bubble_size*o.canvas.pxratio,o.interactivity.modes.repulse.distance=o.tmp.obj.mode_repulse_distance*o.canvas.pxratio},o.fn.canvasInit=function(){o.canvas.ctx=o.canvas.el.getContext("2d")},o.fn.canvasSize=function(){o.canvas.el.width=o.canvas.w,o.canvas.el.height=o.canvas.h,o&&o.interactivity.events.resize&&window.addEventListener("resize",function(){o.canvas.w=o.canvas.el.offsetWidth,o.canvas.h=o.canvas.el.offsetHeight,o.tmp.retina&&(o.canvas.w*=o.canvas.pxratio,o.canvas.h*=o.canvas.pxratio),o.canvas.el.width=o.canvas.w,o.canvas.el.height=o.canvas.h,o.particles.move.enable||(o.fn.particlesEmpty(),o.fn.particlesCreate(),o.fn.particlesDraw(),o.fn.vendors.densityAutoParticles()),o.fn.vendors.densityAutoParticles()})},o.fn.canvasPaint=function(){o.canvas.ctx.fillRect(0,0,o.canvas.w,o.canvas.h)},o.fn.canvasClear=function(){o.canvas.ctx.clearRect(0,0,o.canvas.w,o.canvas.h)},o.fn.particle=function(t,e,r){if(this.radius=(o.particles.size.random?Math.random():1)*o.particles.size.value,o.particles.size.anim.enable&&(this.size_status=!1,this.vs=o.particles.size.anim.speed/100,o.particles.size.anim.sync||(this.vs=this.vs*Math.random())),this.x=r?r.x:Math.random()*o.canvas.w,this.y=r?r.y:Math.random()*o.canvas.h,this.x>o.canvas.w-2*this.radius?this.x=this.x-this.radius:this.x<2*this.radius&&(this.x=this.x+this.radius),this.y>o.canvas.h-2*this.radius?this.y=this.y-this.radius:this.y<2*this.radius&&(this.y=this.y+this.radius),o.particles.move.bounce&&o.fn.vendors.checkOverlap(this,r),this.color={},"object"==typeof t.value)if(t.value instanceof Array){var i=t.value[Math.floor(Math.random()*o.particles.color.value.length)];this.color.rgb=n(i)}else null!=t.value.r&&null!=t.value.g&&null!=t.value.b&&(this.color.rgb={r:t.value.r,g:t.value.g,b:t.value.b}),null!=t.value.h&&null!=t.value.s&&null!=t.value.l&&(this.color.hsl={h:t.value.h,s:t.value.s,l:t.value.l});else"random"==t.value?this.color.rgb={r:Math.floor(256*Math.random())+0,g:Math.floor(256*Math.random())+0,b:Math.floor(256*Math.random())+0}:"string"==typeof t.value&&(this.color=t,this.color.rgb=n(this.color.value));this.opacity=(o.particles.opacity.random?Math.random():1)*o.particles.opacity.value,o.particles.opacity.anim.enable&&(this.opacity_status=!1,this.vo=o.particles.opacity.anim.speed/100,o.particles.opacity.anim.sync||(this.vo=this.vo*Math.random()));var a={};switch(o.particles.move.direction){case"top":a={x:0,y:-1};break;case"top-right":a={x:.5,y:-.5};break;case"right":a={x:1,y:-0};break;case"bottom-right":a={x:.5,y:.5};break;case"bottom":a={x:0,y:1};break;case"bottom-left":a={x:-.5,y:1};break;case"left":a={x:-1,y:0};break;case"top-left":a={x:-.5,y:-.5};break;default:a={x:0,y:0}}o.particles.move.straight?(this.vx=a.x,this.vy=a.y,o.particles.move.random&&(this.vx=this.vx*Math.random(),this.vy=this.vy*Math.random())):(this.vx=a.x+Math.random()-.5,this.vy=a.y+Math.random()-.5),this.vx_i=this.vx,this.vy_i=this.vy;var s=o.particles.shape.type;if("object"==typeof s){if(s instanceof Array){var c=s[Math.floor(Math.random()*s.length)];this.shape=c}}else this.shape=s;if("image"==this.shape){var u=o.particles.shape;this.img={src:u.image.src,ratio:u.image.width/u.image.height},this.img.ratio||(this.img.ratio=1),"svg"==o.tmp.img_type&&null!=o.tmp.source_svg&&(o.fn.vendors.createSvgImg(this),o.tmp.pushing&&(this.img.loaded=!1))}},o.fn.particle.prototype.draw=function(){var t=this;if(null!=t.radius_bubble)var e=t.radius_bubble;else e=t.radius;if(null!=t.opacity_bubble)var r=t.opacity_bubble;else r=t.opacity;if(t.color.rgb)var n="rgba("+t.color.rgb.r+","+t.color.rgb.g+","+t.color.rgb.b+","+r+")";else n="hsla("+t.color.hsl.h+","+t.color.hsl.s+"%,"+t.color.hsl.l+"%,"+r+")";switch(o.canvas.ctx.fillStyle=n,o.canvas.ctx.beginPath(),t.shape){case"circle":o.canvas.ctx.arc(t.x,t.y,e,0,2*Math.PI,!1);break;case"edge":o.canvas.ctx.rect(t.x-e,t.y-e,2*e,2*e);break;case"triangle":o.fn.vendors.drawShape(o.canvas.ctx,t.x-e,t.y+e/1.66,2*e,3,2);break;case"polygon":o.fn.vendors.drawShape(o.canvas.ctx,t.x-e/(o.particles.shape.polygon.nb_sides/3.5),t.y-e/.76,2.66*e/(o.particles.shape.polygon.nb_sides/3),o.particles.shape.polygon.nb_sides,1);break;case"star":o.fn.vendors.drawShape(o.canvas.ctx,t.x-2*e/(o.particles.shape.polygon.nb_sides/4),t.y-e/1.52,2*e*2.66/(o.particles.shape.polygon.nb_sides/3),o.particles.shape.polygon.nb_sides,2);break;case"image":;if("svg"==o.tmp.img_type)var i=t.img.obj;else i=o.tmp.img_obj;i&&o.canvas.ctx.drawImage(i,t.x-e,t.y-e,2*e,2*e/t.img.ratio)}o.canvas.ctx.closePath(),o.particles.shape.stroke.width>0&&(o.canvas.ctx.strokeStyle=o.particles.shape.stroke.color,o.canvas.ctx.lineWidth=o.particles.shape.stroke.width,o.canvas.ctx.stroke()),o.canvas.ctx.fill()},o.fn.particlesCreate=function(){for(var t=0;t<o.particles.number.value;t++)o.particles.array.push(new o.fn.particle(o.particles.color,o.particles.opacity.value))},o.fn.particlesUpdate=function(){for(var t=0;t<o.particles.array.length;t++){var e=o.particles.array[t];if(o.particles.move.enable){var r=o.particles.move.speed/2;e.x+=e.vx*r,e.y+=e.vy*r}if(o.particles.opacity.anim.enable&&(1==e.opacity_status?(e.opacity>=o.particles.opacity.value&&(e.opacity_status=!1),e.opacity+=e.vo):(e.opacity<=o.particles.opacity.anim.opacity_min&&(e.opacity_status=!0),e.opacity-=e.vo),e.opacity<0&&(e.opacity=0)),o.particles.size.anim.enable&&(1==e.size_status?(e.radius>=o.particles.size.value&&(e.size_status=!1),e.radius+=e.vs):(e.radius<=o.particles.size.anim.size_min&&(e.size_status=!0),e.radius-=e.vs),e.radius<0&&(e.radius=0)),"bounce"==o.particles.move.out_mode)var n={x_left:e.radius,x_right:o.canvas.w,y_top:e.radius,y_bottom:o.canvas.h};else n={x_left:-e.radius,x_right:o.canvas.w+e.radius,y_top:-e.radius,y_bottom:o.canvas.h+e.radius};switch(e.x-e.radius>o.canvas.w?(e.x=n.x_left,e.y=Math.random()*o.canvas.h):e.x+e.radius<0&&(e.x=n.x_right,e.y=Math.random()*o.canvas.h),e.y-e.radius>o.canvas.h?(e.y=n.y_top,e.x=Math.random()*o.canvas.w):e.y+e.radius<0&&(e.y=n.y_bottom,e.x=Math.random()*o.canvas.w),o.particles.move.out_mode){case"bounce":e.x+e.radius>o.canvas.w?e.vx=-e.vx:e.x-e.radius<0&&(e.vx=-e.vx),e.y+e.radius>o.canvas.h?e.vy=-e.vy:e.y-e.radius<0&&(e.vy=-e.vy)}if(i("grab",o.interactivity.events.onhover.mode)&&o.fn.modes.grabParticle(e),(i("bubble",o.interactivity.events.onhover.mode)||i("bubble",o.interactivity.events.onclick.mode))&&o.fn.modes.bubbleParticle(e),(i("repulse",o.interactivity.events.onhover.mode)||i("repulse",o.interactivity.events.onclick.mode))&&o.fn.modes.repulseParticle(e),o.particles.line_linked.enable||o.particles.move.attract.enable)for(var a=t+1;a<o.particles.array.length;a++){var s=o.particles.array[a];o.particles.line_linked.enable&&o.fn.interact.linkParticles(e,s),o.particles.move.attract.enable&&o.fn.interact.attractParticles(e,s),o.particles.move.bounce&&o.fn.interact.bounceParticles(e,s)}}},o.fn.particlesDraw=function(){o.canvas.ctx.clearRect(0,0,o.canvas.w,o.canvas.h),o.fn.particlesUpdate();for(var t=0;t<o.particles.array.length;t++){o.particles.array[t].draw()}},o.fn.particlesEmpty=function(){o.particles.array=[]},o.fn.particlesRefresh=function(){cancelRequestAnimFrame(o.fn.checkAnimFrame),cancelRequestAnimFrame(o.fn.drawAnimFrame),o.tmp.source_svg=void 0,o.tmp.img_obj=void 0,o.tmp.count_svg=0,o.fn.particlesEmpty(),o.fn.canvasClear(),o.fn.vendors.start()},o.fn.interact.linkParticles=function(t,e){var r=t.x-e.x,n=t.y-e.y,i=Math.sqrt(r*r+n*n);if(i<=o.particles.line_linked.distance){var a=o.particles.line_linked.opacity-i/(1/o.particles.line_linked.opacity)/o.particles.line_linked.distance;if(a>0){var s=o.particles.line_linked.color_rgb_line;o.canvas.ctx.strokeStyle="rgba("+s.r+","+s.g+","+s.b+","+a+")",o.canvas.ctx.lineWidth=o.particles.line_linked.width,o.canvas.ctx.beginPath(),o.canvas.ctx.moveTo(t.x,t.y),o.canvas.ctx.lineTo(e.x,e.y),o.canvas.ctx.stroke(),o.canvas.ctx.closePath()}}},o.fn.interact.attractParticles=function(t,e){var r=t.x-e.x,n=t.y-e.y;if(Math.sqrt(r*r+n*n)<=o.particles.line_linked.distance){var i=r/(1e3*o.particles.move.attract.rotateX),a=n/(1e3*o.particles.move.attract.rotateY);t.vx-=i,t.vy-=a,e.vx+=i,e.vy+=a}},o.fn.interact.bounceParticles=function(t,e){var r=t.x-e.x,n=t.y-e.y;Math.sqrt(r*r+n*n)<=t.radius+e.radius&&(t.vx=-t.vx,t.vy=-t.vy,e.vx=-e.vx,e.vy=-e.vy)},o.fn.modes.pushParticles=function(t,e){o.tmp.pushing=!0;for(var r=0;r<t;r++)o.particles.array.push(new o.fn.particle(o.particles.color,o.particles.opacity.value,{x:e?e.pos_x:Math.random()*o.canvas.w,y:e?e.pos_y:Math.random()*o.canvas.h})),r==t-1&&(o.particles.move.enable||o.fn.particlesDraw(),o.tmp.pushing=!1)},o.fn.modes.removeParticles=function(t){o.particles.array.splice(0,t),o.particles.move.enable||o.fn.particlesDraw()},o.fn.modes.bubbleParticle=function(t){if(o.interactivity.events.onhover.enable&&i("bubble",o.interactivity.events.onhover.mode)){var e=t.x-o.interactivity.mouse.pos_x,r=t.y-o.interactivity.mouse.pos_y,n=1-(l=Math.sqrt(e*e+r*r))/o.interactivity.modes.bubble.distance;function a(){t.opacity_bubble=t.opacity,t.radius_bubble=t.radius}if(l<=o.interactivity.modes.bubble.distance){if(n>=0&&"mousemove"==o.interactivity.status){if(o.interactivity.modes.bubble.size!=o.particles.size.value)if(o.interactivity.modes.bubble.size>o.particles.size.value){(c=t.radius+o.interactivity.modes.bubble.size*n)>=0&&(t.radius_bubble=c)}else{var s=t.radius-o.interactivity.modes.bubble.size,c=t.radius-s*n;t.radius_bubble=c>0?c:0}var u;if(o.interactivity.modes.bubble.opacity!=o.particles.opacity.value)if(o.interactivity.modes.bubble.opacity>o.particles.opacity.value)(u=o.interactivity.modes.bubble.opacity*n)>t.opacity&&u<=o.interactivity.modes.bubble.opacity&&(t.opacity_bubble=u);else(u=t.opacity-(o.particles.opacity.value-o.interactivity.modes.bubble.opacity)*n)<t.opacity&&u>=o.interactivity.modes.bubble.opacity&&(t.opacity_bubble=u)}}else a();"mouseleave"==o.interactivity.status&&a()}else if(o.interactivity.events.onclick.enable&&i("bubble",o.interactivity.events.onclick.mode)){if(o.tmp.bubble_clicking){e=t.x-o.interactivity.mouse.click_pos_x,r=t.y-o.interactivity.mouse.click_pos_y;var l=Math.sqrt(e*e+r*r),h=((new Date).getTime()-o.interactivity.mouse.click_time)/1e3;h>o.interactivity.modes.bubble.duration&&(o.tmp.bubble_duration_end=!0),h>2*o.interactivity.modes.bubble.duration&&(o.tmp.bubble_clicking=!1,o.tmp.bubble_duration_end=!1)}function p(e,r,n,i,a){if(e!=r)if(o.tmp.bubble_duration_end)null!=n&&(c=e+(e-(i-h*(i-e)/o.interactivity.modes.bubble.duration)),"size"==a&&(t.radius_bubble=c),"opacity"==a&&(t.opacity_bubble=c));else if(l<=o.interactivity.modes.bubble.distance){if(null!=n)var s=n;else s=i;if(s!=e){var c=i-h*(i-e)/o.interactivity.modes.bubble.duration;"size"==a&&(t.radius_bubble=c),"opacity"==a&&(t.opacity_bubble=c)}}else"size"==a&&(t.radius_bubble=void 0),"opacity"==a&&(t.opacity_bubble=void 0)}o.tmp.bubble_clicking&&(p(o.interactivity.modes.bubble.size,o.particles.size.value,t.radius_bubble,t.radius,"size"),p(o.interactivity.modes.bubble.opacity,o.particles.opacity.value,t.opacity_bubble,t.opacity,"opacity"))}},o.fn.modes.repulseParticle=function(t){if(o.interactivity.events.onhover.enable&&i("repulse",o.interactivity.events.onhover.mode)&&"mousemove"==o.interactivity.status){var e=t.x-o.interactivity.mouse.pos_x,r=t.y-o.interactivity.mouse.pos_y,n=Math.sqrt(e*e+r*r),a={x:e/n,y:r/n},s=o.interactivity.modes.repulse.distance,c=(f=1/s*(-1*Math.pow(n/s,2)+1)*s*100,g=0,m=50,Math.min(Math.max(f,g),m)),u={x:t.x+a.x*c,y:t.y+a.y*c};"bounce"==o.particles.move.out_mode?(u.x-t.radius>0&&u.x+t.radius<o.canvas.w&&(t.x=u.x),u.y-t.radius>0&&u.y+t.radius<o.canvas.h&&(t.y=u.y)):(t.x=u.x,t.y=u.y)}else if(o.interactivity.events.onclick.enable&&i("repulse",o.interactivity.events.onclick.mode))if(o.tmp.repulse_finish||(o.tmp.repulse_count++,o.tmp.repulse_count==o.particles.array.length&&(o.tmp.repulse_finish=!0)),o.tmp.repulse_clicking){s=Math.pow(o.interactivity.modes.repulse.distance/6,3);var l=o.interactivity.mouse.click_pos_x-t.x,h=o.interactivity.mouse.click_pos_y-t.y,p=l*l+h*h,d=-s/p*1;p<=s&&function(){var e=Math.atan2(h,l);if(t.vx=d*Math.cos(e),t.vy=d*Math.sin(e),"bounce"==o.particles.move.out_mode){var r={x:t.x+t.vx,y:t.y+t.vy};r.x+t.radius>o.canvas.w?t.vx=-t.vx:r.x-t.radius<0&&(t.vx=-t.vx),r.y+t.radius>o.canvas.h?t.vy=-t.vy:r.y-t.radius<0&&(t.vy=-t.vy)}}()}else 0==o.tmp.repulse_clicking&&(t.vx=t.vx_i,t.vy=t.vy_i);var f,g,m},o.fn.modes.grabParticle=function(t){if(o.interactivity.events.onhover.enable&&"mousemove"==o.interactivity.status){var e=t.x-o.interactivity.mouse.pos_x,r=t.y-o.interactivity.mouse.pos_y,n=Math.sqrt(e*e+r*r);if(n<=o.interactivity.modes.grab.distance){var i=o.interactivity.modes.grab.line_linked.opacity-n/(1/o.interactivity.modes.grab.line_linked.opacity)/o.interactivity.modes.grab.distance;if(i>0){var a=o.particles.line_linked.color_rgb_line;o.canvas.ctx.strokeStyle="rgba("+a.r+","+a.g+","+a.b+","+i+")",o.canvas.ctx.lineWidth=o.particles.line_linked.width,o.canvas.ctx.beginPath(),o.canvas.ctx.moveTo(t.x,t.y),o.canvas.ctx.lineTo(o.interactivity.mouse.pos_x,o.interactivity.mouse.pos_y),o.canvas.ctx.stroke(),o.canvas.ctx.closePath()}}}},o.fn.vendors.eventsListeners=function(){"window"==o.interactivity.detect_on?o.interactivity.el=window:o.interactivity.el=o.canvas.el,(o.interactivity.events.onhover.enable||o.interactivity.events.onclick.enable)&&(o.interactivity.el.addEventListener("mousemove",function(t){if(o.interactivity.el==window)var e=t.clientX,r=t.clientY;else e=t.offsetX||t.clientX,r=t.offsetY||t.clientY;o.interactivity.mouse.pos_x=e,o.interactivity.mouse.pos_y=r,o.tmp.retina&&(o.interactivity.mouse.pos_x*=o.canvas.pxratio,o.interactivity.mouse.pos_y*=o.canvas.pxratio),o.interactivity.status="mousemove"}),o.interactivity.el.addEventListener("mouseleave",function(t){o.interactivity.mouse.pos_x=null,o.interactivity.mouse.pos_y=null,o.interactivity.status="mouseleave"})),o.interactivity.events.onclick.enable&&o.interactivity.el.addEventListener("click",function(){if(o.interactivity.mouse.click_pos_x=o.interactivity.mouse.pos_x,o.interactivity.mouse.click_pos_y=o.interactivity.mouse.pos_y,o.interactivity.mouse.click_time=(new Date).getTime(),o.interactivity.events.onclick.enable)switch(o.interactivity.events.onclick.mode){case"push":o.particles.move.enable?o.fn.modes.pushParticles(o.interactivity.modes.push.particles_nb,o.interactivity.mouse):1==o.interactivity.modes.push.particles_nb?o.fn.modes.pushParticles(o.interactivity.modes.push.particles_nb,o.interactivity.mouse):o.interactivity.modes.push.particles_nb>1&&o.fn.modes.pushParticles(o.interactivity.modes.push.particles_nb);break;case"remove":o.fn.modes.removeParticles(o.interactivity.modes.remove.particles_nb);break;case"bubble":o.tmp.bubble_clicking=!0;break;case"repulse":o.tmp.repulse_clicking=!0,o.tmp.repulse_count=0,o.tmp.repulse_finish=!1,setTimeout(function(){o.tmp.repulse_clicking=!1},1e3*o.interactivity.modes.repulse.duration)}})},o.fn.vendors.densityAutoParticles=function(){if(o.particles.number.density.enable){var t=o.canvas.el.width*o.canvas.el.height/1e3;o.tmp.retina&&(t/=2*o.canvas.pxratio);var e=t*o.particles.number.value/o.particles.number.density.value_area,r=o.particles.array.length-e;r<0?o.fn.modes.pushParticles(Math.abs(r)):o.fn.modes.removeParticles(r)}},o.fn.vendors.checkOverlap=function(t,e){for(var r=0;r<o.particles.array.length;r++){var n=o.particles.array[r],i=t.x-n.x,a=t.y-n.y;Math.sqrt(i*i+a*a)<=t.radius+n.radius&&(t.x=e?e.x:Math.random()*o.canvas.w,t.y=e?e.y:Math.random()*o.canvas.h,o.fn.vendors.checkOverlap(t))}},o.fn.vendors.createSvgImg=function(t){var e=o.tmp.source_svg.replace(/#([0-9A-F]{3,6})/gi,function(e,r,n,i){if(t.color.rgb)var o="rgba("+t.color.rgb.r+","+t.color.rgb.g+","+t.color.rgb.b+","+t.opacity+")";else o="hsla("+t.color.hsl.h+","+t.color.hsl.s+"%,"+t.color.hsl.l+"%,"+t.opacity+")";return o}),r=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),n=window.URL||window.webkitURL||window,i=n.createObjectURL(r),a=new Image;a.addEventListener("load",function(){t.img.obj=a,t.img.loaded=!0,n.revokeObjectURL(i),o.tmp.count_svg++}),a.src=i},o.fn.vendors.destroypJS=function(){cancelAnimationFrame(o.fn.drawAnimFrame),r.remove(),pJSDom=null},o.fn.vendors.drawShape=function(t,e,r,n,i,o){var a=i*o,s=i/o,c=180*(s-2)/s,u=Math.PI-Math.PI*c/180;t.save(),t.beginPath(),t.translate(e,r),t.moveTo(0,0);for(var l=0;l<a;l++)t.lineTo(n,0),t.translate(n,0),t.rotate(u);t.fill(),t.restore()},o.fn.vendors.exportImg=function(){window.open(o.canvas.el.toDataURL("image/png"),"_blank")},o.fn.vendors.loadImg=function(t){if(o.tmp.img_error=void 0,""!=o.particles.shape.image.src)if("svg"==t){var e=new XMLHttpRequest;e.open("GET",o.particles.shape.image.src),e.onreadystatechange=function(t){4==e.readyState&&(200==e.status?(o.tmp.source_svg=t.currentTarget.response,o.fn.vendors.checkBeforeDraw()):(console.log("Error pJS - Image not found"),o.tmp.img_error=!0))},e.send()}else{var r=new Image;r.addEventListener("load",function(){o.tmp.img_obj=r,o.fn.vendors.checkBeforeDraw()}),r.src=o.particles.shape.image.src}else console.log("Error pJS - No image.src"),o.tmp.img_error=!0},o.fn.vendors.draw=function(){"image"==o.particles.shape.type?"svg"==o.tmp.img_type?o.tmp.count_svg>=o.particles.number.value?(o.fn.particlesDraw(),o.particles.move.enable?o.fn.drawAnimFrame=requestAnimFrame(o.fn.vendors.draw):cancelRequestAnimFrame(o.fn.drawAnimFrame)):o.tmp.img_error||(o.fn.drawAnimFrame=requestAnimFrame(o.fn.vendors.draw)):null!=o.tmp.img_obj?(o.fn.particlesDraw(),o.particles.move.enable?o.fn.drawAnimFrame=requestAnimFrame(o.fn.vendors.draw):cancelRequestAnimFrame(o.fn.drawAnimFrame)):o.tmp.img_error||(o.fn.drawAnimFrame=requestAnimFrame(o.fn.vendors.draw)):(o.fn.particlesDraw(),o.particles.move.enable?o.fn.drawAnimFrame=requestAnimFrame(o.fn.vendors.draw):cancelRequestAnimFrame(o.fn.drawAnimFrame))},o.fn.vendors.checkBeforeDraw=function(){"image"==o.particles.shape.type?"svg"==o.tmp.img_type&&null==o.tmp.source_svg?o.tmp.checkAnimFrame=requestAnimFrame(check):(cancelRequestAnimFrame(o.tmp.checkAnimFrame),o.tmp.img_error||(o.fn.vendors.init(),o.fn.vendors.draw())):(o.fn.vendors.init(),o.fn.vendors.draw())},o.fn.vendors.init=function(){o.fn.retinaInit(),o.fn.canvasInit(),o.fn.canvasSize(),o.fn.canvasPaint(),o.fn.particlesCreate(),o.fn.vendors.densityAutoParticles(),o.particles.line_linked.color_rgb_line=n(o.particles.line_linked.color)},o.fn.vendors.start=function(){i("image",o.particles.shape.type)?(o.tmp.img_type=o.particles.shape.image.src.substr(o.particles.shape.image.src.length-3),o.fn.vendors.loadImg(o.tmp.img_type)):o.fn.vendors.checkBeforeDraw()},o.fn.vendors.eventsListeners(),o.fn.vendors.start()};function n(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,r,n){return e+e+r+r+n+n});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function i(t,e){return e.indexOf(t)>-1}Object.deepExtend=function(t,e){for(var r in e)e[r]&&e[r].constructor&&e[r].constructor===Object?(t[r]=t[r]||{},arguments.callee(t[r],e[r])):t[r]=e[r];return t},window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},window.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,window.pJSDom=[],window.particlesJS=function(t,e){"string"!=typeof t&&(e=t,t="particles-js"),t||(t="particles-js");var n=document.getElementById(t),i=n.getElementsByClassName("particles-js-canvas-el");if(i.length)for(;i.length>0;)n.removeChild(i[0]);var o=document.createElement("canvas");o.className="particles-js-canvas-el",o.style.width="100%",o.style.height="100%",null!=document.getElementById(t).appendChild(o)&&pJSDom.push(new r(t,e))},window.particlesJS.load=function(t,e,r){var n=new XMLHttpRequest;n.open("GET",e),n.onreadystatechange=function(e){if(4==n.readyState)if(200==n.status){var i=JSON.parse(e.currentTarget.response);window.particlesJS(t,i),r&&r()}else console.log("Error pJS - XMLHttpRequest status: "+n.status),console.log("Error pJS - File config not found")},n.send()}},function(t,e,r){r(198),t.exports=r(19).Array.isArray},function(t,e,r){var n=r(50);n(n.S,"Array",{isArray:r(132)})},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,r){r(67),r(209),t.exports=r(19).Array.from},function(t,e,r){var n=r(95),i=r(96);t.exports=function(t){return function(e,r){var o,a,s=String(i(e)),c=n(r),u=s.length;return c<0||c>=u?t?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):o:t?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},function(t,e,r){"use strict";var n=r(135),i=r(52),o=r(101),a={};r(37)(a,r(16)("iterator"),function(){return this}),t.exports=function(t,e,r){t.prototype=n(a,{next:i(1,r)}),o(t,e+" Iterator")}},function(t,e,r){var n=r(27),i=r(38),o=r(97);t.exports=r(30)?Object.defineProperties:function(t,e){i(t);for(var r,a=o(e),s=a.length,c=0;s>c;)n.f(t,r=a[c++],e[r]);return t}},function(t,e,r){var n=r(94);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,r){var n=r(40),i=r(137),o=r(206);t.exports=function(t){return function(e,r,a){var s,c=n(e),u=i(c.length),l=o(a,u);if(t&&r!=r){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===r)return t||l||0;return!t&&-1}}},function(t,e,r){var n=r(95),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=n(t))<0?i(t+e,0):o(t,e)}},function(t,e,r){var n=r(26).document;t.exports=n&&n.documentElement},function(t,e,r){var n=r(31),i=r(138),o=r(98)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,r){"use strict";var n=r(129),i=r(50),o=r(138),a=r(210),s=r(211),c=r(137),u=r(212),l=r(139);i(i.S+i.F*!r(213)(function(t){Array.from(t)}),"Array",{from:function(t){var e,r,i,h,p=o(t),d="function"==typeof this?this:Array,f=arguments.length,g=f>1?arguments[1]:void 0,m=void 0!==g,y=0,v=l(p);if(m&&(g=n(g,f>2?arguments[2]:void 0,2)),null==v||d==Array&&s(v))for(r=new d(e=c(p.length));e>y;y++)u(r,y,m?g(p[y],y):p[y]);else for(h=v.call(p),r=new d;!(i=h.next()).done;y++)u(r,y,m?a(h,g,[i.value,y],!0):i.value);return r.length=y,r}})},function(t,e,r){var n=r(38);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&n(o.call(t)),e}}},function(t,e,r){var n=r(39),i=r(16)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[i]===t)}},function(t,e,r){"use strict";var n=r(27),i=r(52);t.exports=function(t,e,r){e in t?n.f(t,e,i(0,r)):t[e]=r}},function(t,e,r){var n=r(16)("iterator"),i=!1;try{var o=[7][n]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:r=!0}},o[n]=function(){return a},t(o)}catch(t){}return r}},function(t,e,r){r(102),r(67),t.exports=r(218)},function(t,e,r){"use strict";var n=r(216),i=r(217),o=r(39),a=r(40);t.exports=r(133)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,r){var n=r(140),i=r(16)("iterator"),o=r(39);t.exports=r(19).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(n(e))}},function(t,e,r){r(220);var n=r(19).Object;t.exports=function(t,e,r){return n.defineProperty(t,e,r)}},function(t,e,r){var n=r(50);n(n.S+n.F*!r(30),"Object",{defineProperty:r(27).f})},function(t,e,r){r(67),r(102),t.exports=r(103).f("iterator")},function(t,e,r){r(223),r(228),r(229),r(230),t.exports=r(19).Symbol},function(t,e,r){"use strict";var n=r(26),i=r(31),o=r(30),a=r(50),s=r(134),c=r(224).KEY,u=r(66),l=r(99),h=r(101),p=r(69),d=r(16),f=r(103),g=r(104),m=r(225),y=r(132),v=r(38),w=r(51),b=r(40),_=r(93),E=r(52),C=r(135),k=r(226),x=r(227),T=r(27),S=r(97),A=x.f,I=T.f,N=k.f,P=n.Symbol,D=n.JSON,O=D&&D.stringify,R=d("_hidden"),j=d("toPrimitive"),B={}.propertyIsEnumerable,M=l("symbol-registry"),F=l("symbols"),L=l("op-symbols"),q=Object.prototype,V="function"==typeof P,U=n.QObject,W=!U||!U.prototype||!U.prototype.findChild,z=o&&u(function(){return 7!=C(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(t,e,r){var n=A(q,e);n&&delete q[e],I(t,e,r),n&&t!==q&&I(q,e,n)}:I,H=function(t){var e=F[t]=C(P.prototype);return e._k=t,e},J=V&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},G=function(t,e,r){return t===q&&G(L,e,r),v(t),e=_(e,!0),v(r),i(F,e)?(r.enumerable?(i(t,R)&&t[R][e]&&(t[R][e]=!1),r=C(r,{enumerable:E(0,!1)})):(i(t,R)||I(t,R,E(1,{})),t[R][e]=!0),z(t,e,r)):I(t,e,r)},K=function(t,e){v(t);for(var r,n=m(e=b(e)),i=0,o=n.length;o>i;)G(t,r=n[i++],e[r]);return t},$=function(t){var e=B.call(this,t=_(t,!0));return!(this===q&&i(F,t)&&!i(L,t))&&(!(e||!i(this,t)||!i(F,t)||i(this,R)&&this[R][t])||e)},Q=function(t,e){if(t=b(t),e=_(e,!0),t!==q||!i(F,e)||i(L,e)){var r=A(t,e);return!r||!i(F,e)||i(t,R)&&t[R][e]||(r.enumerable=!0),r}},Y=function(t){for(var e,r=N(b(t)),n=[],o=0;r.length>o;)i(F,e=r[o++])||e==R||e==c||n.push(e);return n},X=function(t){for(var e,r=t===q,n=N(r?L:b(t)),o=[],a=0;n.length>a;)!i(F,e=n[a++])||r&&!i(q,e)||o.push(F[e]);return o};V||(s((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(r){this===q&&e.call(L,r),i(this,R)&&i(this[R],t)&&(this[R][t]=!1),z(this,t,E(1,r))};return o&&W&&z(q,t,{configurable:!0,set:e}),H(t)}).prototype,"toString",function(){return this._k}),x.f=Q,T.f=G,r(142).f=k.f=Y,r(105).f=$,r(141).f=X,o&&!r(68)&&s(q,"propertyIsEnumerable",$,!0),f.f=function(t){return H(d(t))}),a(a.G+a.W+a.F*!V,{Symbol:P});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)d(Z[tt++]);for(var et=S(d.store),rt=0;et.length>rt;)g(et[rt++]);a(a.S+a.F*!V,"Symbol",{for:function(t){return i(M,t+="")?M[t]:M[t]=P(t)},keyFor:function(t){if(!J(t))throw TypeError(t+" is not a symbol!");for(var e in M)if(M[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!V,"Object",{create:function(t,e){return void 0===e?C(t):K(C(t),e)},defineProperty:G,defineProperties:K,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Y,getOwnPropertySymbols:X}),D&&a(a.S+a.F*(!V||u(function(){var t=P();return"[null]"!=O([t])||"{}"!=O({a:t})||"{}"!=O(Object(t))})),"JSON",{stringify:function(t){for(var e,r,n=[t],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=e=n[1],(w(e)||void 0!==t)&&!J(t))return y(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!J(e))return e}),n[1]=e,O.apply(D,n)}}),P.prototype[j]||r(37)(P.prototype,j,P.prototype.valueOf),h(P,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},function(t,e,r){var n=r(69)("meta"),i=r(51),o=r(31),a=r(27).f,s=0,c=Object.isExtensible||function(){return!0},u=!r(66)(function(){return c(Object.preventExtensions({}))}),l=function(t){a(t,n,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!c(t))return"F";if(!e)return"E";l(t)}return t[n].i},getWeak:function(t,e){if(!o(t,n)){if(!c(t))return!0;if(!e)return!1;l(t)}return t[n].w},onFreeze:function(t){return u&&h.NEED&&c(t)&&!o(t,n)&&l(t),t}}},function(t,e,r){var n=r(97),i=r(141),o=r(105);t.exports=function(t){var e=n(t),r=i.f;if(r)for(var a,s=r(t),c=o.f,u=0;s.length>u;)c.call(t,a=s[u++])&&e.push(a);return e}},function(t,e,r){var n=r(40),i=r(142).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(n(t))}},function(t,e,r){var n=r(105),i=r(52),o=r(40),a=r(93),s=r(31),c=r(130),u=Object.getOwnPropertyDescriptor;e.f=r(30)?u:function(t,e){if(t=o(t),e=a(e,!0),c)try{return u(t,e)}catch(t){}if(s(t,e))return i(!n.f.call(t,e),t[e])}},function(t,e){},function(t,e,r){r(104)("asyncIterator")},function(t,e,r){r(104)("observable")},function(t,e,r){var n=r(36),i=r(71),o=r(65);t.exports=function(t){var e=n(t),r=i.f;if(r)for(var a,s=r(t),c=o.f,u=0;s.length>u;)c.call(t,a=s[u++])&&e.push(a);return e}},function(t,e,r){var n=r(28),i=r(49).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(n(t))}},function(t,e,r){r(9)&&"g"!=/./g.flags&&r(12).f(RegExp.prototype,"flags",{configurable:!0,get:r(70)})},function(t,e,r){"use strict";var n=r(108);r(4)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},function(t,e,r){var n=r(13),i=r(82),o=r(6)("species");t.exports=function(t,e){var r,a=n(t).constructor;return void 0===a||null==(r=n(a)[o])?e:i(r)}},function(t,e,r){var n=r(4),i=r(15),o=r(8);t.exports=function(t,e){var r=(i.Object||{})[t]||Object[t],a={};a[t]=e(r),n(n.S+n.F*o(function(){r(1)}),"Object",a)}},function(t,e,r){var n=r(49),i=r(71),o=r(13),a=r(11).Reflect;t.exports=a&&a.ownKeys||function(t){var e=n.f(o(t)),r=i.f;return r?e.concat(r(t)):e}},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,r){"use strict";r(265);var n,i=(n=r(2))&&"object"==typeof n&&"default"in n?n.default:n;r(252),r(253),r(254),r(256),r(257),r(258),
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),t.exports=i},function(t,e,r){"use strict";var n=setTimeout;function i(){}function o(t){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn(function(){var r=1===t._state?e.onFulfilled:e.onRejected;if(null!==r){var n;try{n=r(t._value)}catch(t){return void c(e.promise,t)}s(e.promise,n)}else(1===t._state?s:c)(e.promise,t._value)})):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if(e instanceof o)return t._state=3,t._value=e,void u(t);if("function"==typeof r)return void h((n=r,i=e,function(){n.apply(i,arguments)}),t)}t._state=1,t._value=e,u(t)}catch(e){c(t,e)}var n,i}function c(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)a(t,t._deferreds[e]);t._deferreds=null}function l(t,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=r}function h(t,e){var r=!1;try{t(function(t){r||(r=!0,s(e,t))},function(t){r||(r=!0,c(e,t))})}catch(t){if(r)return;r=!0,c(e,t)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var r=new this.constructor(i);return a(this,new l(t,e,r)),r},o.prototype.finally=function(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){return e.reject(r)})})},o.all=function(t){return new o(function(e,r){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var n=Array.prototype.slice.call(t);if(0===n.length)return e([]);var i=n.length;function o(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){o(t,e)},r)}n[t]=a,0==--i&&e(n)}catch(t){r(t)}}for(var a=0;a<n.length;a++)o(a,n[a])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,r){r(t)})},o.race=function(t){return new o(function(e,r){for(var n=0,i=t.length;n<i;n++)t[n].then(e,r)})},o._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){n(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var p=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();p.Promise||(p.Promise=o)},function(t,e,r){r(161),t.exports=r(15).Array.find},function(t,e,r){r(243),t.exports=r(15).Array.findIndex},function(t,e,r){"use strict";var n=r(4),i=r(56)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),n(n.P+n.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(58)(o)},function(t,e,r){var n=r(4);n(n.S+n.F,"Object",{assign:r(169)})},function(t,e,r){r(162),t.exports=r(15).String.startsWith},function(t,e,r){r(247),t.exports=r(15).String.repeat},function(t,e,r){var n=r(4);n(n.P,"String",{repeat:r(248)})},function(t,e,r){"use strict";var n=r(45),i=r(29);t.exports=function(t){var e=String(i(this)),r="",o=n(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(r+=e);return r}},function(t,e,r){r(55),r(156),r(54),r(250),t.exports=r(15).Symbol},function(t,e,r){r(106)("observable")},function(t,e,r){r(115),r(7),t.exports=r(107).f("iterator")},function(t,e,r){"use strict";r.r(e);var n=r(2),i=r.n(n);(function(){var t,e=e||{},r=this;function n(t){return"string"==typeof t}function o(t){return"boolean"==typeof t}function a(){}function s(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var r=Object.prototype.toString.call(t);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function c(t){return null===t}function u(t){return"array"==s(t)}function l(t){var e=s(t);return"array"==e||"object"==e&&"number"==typeof t.length}function h(t){return"function"==s(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),f=0;function g(t,e,r){return t.call.apply(t.bind,arguments)}function m(t,e,r){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function y(t,e,r){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:m).apply(null,arguments)}function v(t,e){var r=Array.prototype.slice.call(arguments,1);return function(){var e=r.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function b(t,e){function r(){}r.prototype=e.prototype,t.ob=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.ed=function(t,r,n){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[r].apply(t,i)}}function _(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0}function E(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function C(t){if(Error.captureStackTrace)Error.captureStackTrace(this,C);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function k(t,e){for(var r="",n=(t=t.split("%s")).length-1,i=0;i<n;i++)r+=t[i]+(i<e.length?e[i]:"%s");C.call(this,r+t[n])}function x(t,e){throw new k("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function T(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function S(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function A(){this.b=this.a=null}b(C,Error),C.prototype.name="CustomError",b(k,C),k.prototype.name="AssertionError",T.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var I=new T(function(){return new P},function(t){t.reset()});function N(){var t=dt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function P(){this.next=this.b=this.a=null}A.prototype.add=function(t,e){var r=I.get();r.set(t,e),this.b?this.b.next=r:this.a=r,this.b=r},P.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},P.prototype.reset=function(){this.next=this.b=this.a=null};var D=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(n(t))return n(e)&&1==e.length?t.indexOf(e,0):-1;for(var r=0;r<t.length;r++)if(r in t&&t[r]===e)return r;return-1},O=Array.prototype.forEach?function(t,e,r){Array.prototype.forEach.call(t,e,r)}:function(t,e,r){for(var i=t.length,o=n(t)?t.split(""):t,a=0;a<i;a++)a in o&&e.call(r,o[a],a,t)};var R=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var r=t.length,i=Array(r),o=n(t)?t.split(""):t,a=0;a<r;a++)a in o&&(i[a]=e.call(void 0,o[a],a,t));return i},j=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var r=t.length,i=n(t)?t.split(""):t,o=0;o<r;o++)if(o in i&&e.call(void 0,i[o],o,t))return!0;return!1};function B(t,e){return 0<=D(t,e)}function M(t,e){var r;return(r=0<=(e=D(t,e)))&&Array.prototype.splice.call(t,e,1),r}function F(t,e){!function(t,e){var r=t.length,i=n(t)?t.split(""):t;for(--r;0<=r;--r)r in i&&e.call(void 0,i[r],r,t)}(t,function(r,n){e.call(void 0,r,n,t)&&1==Array.prototype.splice.call(t,n,1).length&&0})}function L(t){return Array.prototype.concat.apply([],arguments)}function q(t){var e=t.length;if(0<e){for(var r=Array(e),n=0;n<e;n++)r[n]=t[n];return r}return[]}function V(t,e){for(var r=t.split("%s"),n="",i=Array.prototype.slice.call(arguments,1);i.length&&1<r.length;)n+=r.shift()+i.shift();return n+r.join("%s")}var U=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function W(t){return Y.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(H,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(J,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(G,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(K,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace($,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(Q,"&#0;")),t):t}var z,H=/&/g,J=/</g,G=/>/g,K=/"/g,$=/'/g,Q=/\x00/g,Y=/[\x00&<>"']/;function X(t,e){return-1!=t.indexOf(e)}function Z(t,e){return t<e?-1:t>e?1:0}t:{var tt=r.navigator;if(tt){var et=tt.userAgent;if(et){z=et;break t}}z=""}function rt(t){return X(z,t)}function nt(t,e){for(var r in t)e.call(void 0,t[r],r,t)}function it(t){for(var e in t)return!1;return!0}function ot(t){var e,r={};for(e in t)r[e]=t[e];return r}var at,st,ct="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(t,e){for(var r,n,i=1;i<arguments.length;i++){for(r in n=arguments[i])t[r]=n[r];for(var o=0;o<ct.length;o++)r=ct[o],Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}}function lt(t){r.setTimeout(function(){throw t},0)}function ht(t,e){st||function(){if(r.Promise&&r.Promise.resolve){var t=r.Promise.resolve(void 0);st=function(){t.then(ft)}}else st=function(){var t=ft;!h(r.setImmediate)||r.Window&&r.Window.prototype&&!rt("Edge")&&r.Window.prototype.setImmediate==r.setImmediate?(at||(at=function(){var t=r.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!rt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var r="callImmediate"+Math.random(),n="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=y(function(t){"*"!=n&&t.origin!=n||t.data!=r||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(r,n)}}}),void 0!==t&&!rt("Trident")&&!rt("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).wb;n.wb=null,t()}},function(t){i.next={wb:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){r.setTimeout(t,0)}}()),at(t)):r.setImmediate(t)}}(),pt||(st(),pt=!0),dt.add(t,e)}var pt=!1,dt=new A;function ft(){for(var t;t=N();){try{t.a.call(t.b)}catch(t){lt(t)}S(I,t)}pt=!1}function gt(t,e){if(this.a=mt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=a)try{var r=this;t.call(e,function(t){At(r,yt,t)},function(t){if(!(t instanceof jt))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}At(r,vt,t)})}catch(t){At(this,vt,t)}}var mt=0,yt=2,vt=3;function wt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}wt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var bt=new T(function(){return new wt},function(t){t.reset()});function _t(t,e,r){var n=bt.get();return n.g=t,n.b=e,n.f=r,n}function Et(t){if(t instanceof gt)return t;var e=new gt(a);return At(e,yt,t),e}function Ct(t){return new gt(function(e,r){r(t)})}function kt(t,e,r){It(t,e,r,null)||ht(v(e,t))}function xt(t){return new gt(function(e){var r=t.length,n=[];if(r)for(var i=function(t,i,o){r--,n[t]=i?{Db:!0,value:o}:{Db:!1,reason:o},0==r&&e(n)},o=0;o<t.length;o++)kt(t[o],v(i,o,!0),v(i,o,!1));else e(n)})}function Tt(t,e){t.b||t.a!=yt&&t.a!=vt||Nt(t),t.f?t.f.next=e:t.b=e,t.f=e}function St(t,e,r,n){var i=_t(null,null,null);return i.a=new gt(function(t,o){i.g=e?function(r){try{var i=e.call(n,r);t(i)}catch(t){o(t)}}:t,i.b=r?function(e){try{var i=r.call(n,e);void 0===i&&e instanceof jt?o(e):t(i)}catch(t){o(t)}}:o}),i.a.c=t,Tt(t,i),i.a}function At(t,e,r){t.a==mt&&(t===r&&(e=vt,r=new TypeError("Promise cannot resolve to itself")),t.a=1,It(r,t.Nc,t.Oc,t)||(t.i=r,t.a=e,t.c=null,Nt(t),e!=vt||r instanceof jt||function(t,e){t.g=!0,ht(function(){t.g&&Rt.call(null,e)})}(t,r)))}function It(t,e,r,n){if(t instanceof gt)return Tt(t,_t(e||a,r||null,n)),!0;if(E(t))return t.then(e,r,n),!0;if(p(t))try{var i=t.then;if(h(i))return function(t,e,r,n,i){function o(t){a||(a=!0,n.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,r.call(i,t))},o)}catch(t){o(t)}}(t,i,e,r,n),!0}catch(t){return r.call(n,t),!0}return!1}function Nt(t){t.h||(t.h=!0,ht(t.Yb,t))}function Pt(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Dt(t,e,r,n){if(r==vt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ot(e,r,n);else try{e.c?e.g.call(e.f):Ot(e,r,n)}catch(t){Rt.call(null,t)}S(bt,e)}function Ot(t,e,r){e==yt?t.g.call(t.f,r):t.b&&t.b.call(t.f,r)}gt.prototype.then=function(t,e,r){return St(this,h(t)?t:null,h(e)?e:null,r)},_(gt),(t=gt.prototype).ia=function(t,e){return(t=_t(t,t,e)).c=!0,Tt(this,t),this},t.s=function(t,e){return St(this,null,t,e)},t.cancel=function(t){this.a==mt&&ht(function(){!function t(e,r){if(e.a==mt)if(e.c){var n=e.c;if(n.b){for(var i=0,o=null,a=null,s=n.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(n.a==mt&&1==i?t(n,r):(a?((i=a).next==n.f&&(n.f=i),i.next=i.next.next):Pt(n),Dt(n,o,vt,r)))}e.c=null}else At(e,vt,r)}(this,new jt(t))},this)},t.Nc=function(t){this.a=mt,At(this,yt,t)},t.Oc=function(t){this.a=mt,At(this,vt,t)},t.Yb=function(){for(var t;t=Pt(this);)Dt(this,t,this.a,this.i);this.h=!1};var Rt=lt;function jt(t){C.call(this,t)}function Bt(){0!=Mt&&(Ft[this[d]||(this[d]=++f)]=this),this.qa=this.qa,this.ja=this.ja}b(jt,C),jt.prototype.name="cancel";var Mt=0,Ft={};function Lt(t){if(!t.qa&&(t.qa=!0,t.va(),0!=Mt)){var e=t[d]||(t[d]=++f);if(0!=Mt&&t.ja&&0<t.ja.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ft[e]}}function qt(t){return qt[" "](t),t}Bt.prototype.qa=!1,Bt.prototype.va=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},qt[" "]=a;var Vt,Ut,Wt=rt("Opera"),zt=rt("Trident")||rt("MSIE"),Ht=rt("Edge"),Jt=Ht||zt,Gt=rt("Gecko")&&!(X(z.toLowerCase(),"webkit")&&!rt("Edge"))&&!(rt("Trident")||rt("MSIE"))&&!rt("Edge"),Kt=X(z.toLowerCase(),"webkit")&&!rt("Edge");function $t(){var t=r.document;return t?t.documentMode:void 0}t:{var Qt="",Yt=(Ut=z,Gt?/rv:([^\);]+)(\)|;)/.exec(Ut):Ht?/Edge\/([\d\.]+)/.exec(Ut):zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ut):Kt?/WebKit\/(\S+)/.exec(Ut):Wt?/(?:Version)[ \/]?(\S+)/.exec(Ut):void 0);if(Yt&&(Qt=Yt?Yt[1]:""),zt){var Xt=$t();if(null!=Xt&&Xt>parseFloat(Qt)){Vt=String(Xt);break t}}Vt=Qt}var Zt,te={};function ee(t){return function(t,e){var r=te;return Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=e(t)}(t,function(){for(var e=0,r=U(String(Vt)).split("."),n=U(String(t)).split("."),i=Math.max(r.length,n.length),o=0;0==e&&o<i;o++){var a=r[o]||"",s=n[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=Z(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Z(0==a[2].length,0==s[2].length)||Z(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var re=r.document;Zt=re&&zt?$t()||("CSS1Compat"==re.compatMode?parseInt(Vt,10):5):void 0;var ne=Object.freeze||function(t){return t},ie=!zt||9<=Number(Zt),oe=zt&&!ee("9"),ae=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return r.addEventListener("test",a,e),r.removeEventListener("test",a,e),t}();function se(t,e){this.type=t,this.b=this.target=e,this.Kb=!0}function ce(t,e){if(se.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var r=this.type=t.type,i=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Gt){t:{try{qt(e.nodeName);var o=!0;break t}catch(t){}o=!1}o||(e=null)}}else"mouseover"==r?e=t.fromElement:"mouseout"==r&&(e=t.toElement);this.relatedTarget=e,null===i?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=n(t.pointerType)?t.pointerType:ue[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}se.prototype.preventDefault=function(){this.Kb=!1},b(ce,se);var ue=ne({2:"touch",3:"pen",4:"mouse"});ce.prototype.preventDefault=function(){ce.ob.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,oe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},ce.prototype.f=function(){return this.a};var le="closure_listenable_"+(1e6*Math.random()|0),he=0;function pe(t,e,r,n,i){this.listener=t,this.proxy=null,this.src=e,this.type=r,this.capture=!!n,this.La=i,this.key=++he,this.oa=this.Ia=!1}function de(t){t.oa=!0,t.listener=null,t.proxy=null,t.src=null,t.La=null}function fe(t){this.src=t,this.a={},this.b=0}function ge(t,e){var r=e.type;r in t.a&&M(t.a[r],e)&&(de(e),0==t.a[r].length&&(delete t.a[r],t.b--))}function me(t,e,r,n){for(var i=0;i<t.length;++i){var o=t[i];if(!o.oa&&o.listener==e&&o.capture==!!r&&o.La==n)return i}return-1}fe.prototype.add=function(t,e,r,n,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=me(t,e,n,i);return-1<a?(e=t[a],r||(e.Ia=!1)):((e=new pe(e,this.src,o,!!n,i)).Ia=r,t.push(e)),e};var ye="closure_lm_"+(1e6*Math.random()|0),ve={};function we(t,e,r,n,i){if(n&&n.once)_e(t,e,r,n,i);else if(u(e))for(var o=0;o<e.length;o++)we(t,e[o],r,n,i);else r=Ne(r),t&&t[le]?De(t,e,r,p(n)?!!n.capture:!!n,i):be(t,e,r,!1,n,i)}function be(t,e,r,n,i,o){if(!e)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i,s=Ae(t);if(s||(t[ye]=s=new fe(t)),!(r=s.add(e,r,n,a,o)).proxy){if(n=function(){var t=Se,e=ie?function(r){return t.call(e.src,e.listener,r)}:function(r){if(!(r=t.call(e.src,e.listener,r)))return r};return e}(),r.proxy=n,n.src=t,n.listener=r,t.addEventListener)ae||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),n,i);else if(t.attachEvent)t.attachEvent(ke(e.toString()),n);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(n)}0}}function _e(t,e,r,n,i){if(u(e))for(var o=0;o<e.length;o++)_e(t,e[o],r,n,i);else r=Ne(r),t&&t[le]?Oe(t,e,r,p(n)?!!n.capture:!!n,i):be(t,e,r,!0,n,i)}function Ee(t,e,r,n,i){if(u(e))for(var o=0;o<e.length;o++)Ee(t,e[o],r,n,i);else n=p(n)?!!n.capture:!!n,r=Ne(r),t&&t[le]?(t=t.l,(e=String(e).toString())in t.a&&(-1<(r=me(o=t.a[e],r,n,i))&&(de(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Ae(t))&&(e=t.a[e.toString()],t=-1,e&&(t=me(e,r,n,i)),(r=-1<t?e[t]:null)&&Ce(r))}function Ce(t){if("number"!=typeof t&&t&&!t.oa){var e=t.src;if(e&&e[le])ge(e.l,t);else{var r=t.type,n=t.proxy;e.removeEventListener?e.removeEventListener(r,n,t.capture):e.detachEvent?e.detachEvent(ke(r),n):e.addListener&&e.removeListener&&e.removeListener(n),0,(r=Ae(e))?(ge(r,t),0==r.b&&(r.src=null,e[ye]=null)):de(t)}}}function ke(t){return t in ve?ve[t]:ve[t]="on"+t}function xe(t,e,r,n){var i=!0;if((t=Ae(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==r&&!o.oa&&(o=Te(o,n),i=i&&!1!==o)}return i}function Te(t,e){var r=t.listener,n=t.La||t.src;return t.Ia&&Ce(t),r.call(n,e)}function Se(t,e){if(t.oa)return!0;if(!ie){if(!e)t:{e=["window","event"];for(var n=r,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}if(e=new ce(i=e,this),n=!0,!(0>i.keyCode||null!=i.returnValue)){t:{var o=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(t){o=!0}(o||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],o=e.b;o;o=o.parentNode)i.push(o);for(t=t.type,o=i.length-1;0<=o;o--){e.b=i[o];var a=xe(i[o],t,!0,e);n=n&&a}for(o=0;o<i.length;o++)e.b=i[o],a=xe(i[o],t,!1,e),n=n&&a}return n}return Te(t,new ce(e,this))}function Ae(t){return(t=t[ye])instanceof fe?t:null}var Ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ne(t){return h(t)?t:(t[Ie]||(t[Ie]=function(e){return t.handleEvent(e)}),t[Ie])}function Pe(){Bt.call(this),this.l=new fe(this),this.Rb=this,this.Va=null}function De(t,e,r,n,i){t.l.add(String(e),r,!1,n,i)}function Oe(t,e,r,n,i){t.l.add(String(e),r,!0,n,i)}function Re(t,e,r,n){if(!(e=t.l.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.oa&&a.capture==r){var s=a.listener,c=a.La||a.src;a.Ia&&ge(t.l,a),i=!1!==s.call(c,n)&&i}}return i&&0!=n.Kb}function je(t,e,n){if(h(t))n&&(t=y(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=y(t.handleEvent,t)}return 2147483647<Number(e)?-1:r.setTimeout(t,e||0)}function Be(t){var e=null;return new gt(function(r,n){-1==(e=je(function(){r(void 0)},t))&&n(Error("Failed to schedule timer."))}).s(function(t){throw r.clearTimeout(e),t})}function Me(t){if(t.S&&"function"==typeof t.S)return t.S();if(n(t))return t.split("");if(l(t)){for(var e=[],r=t.length,i=0;i<r;i++)e.push(t[i]);return e}for(i in e=[],r=0,t)e[r++]=t[i];return e}function Fe(t){if(t.U&&"function"==typeof t.U)return t.U();if(!t.S||"function"!=typeof t.S){if(l(t)||n(t)){var e=[];t=t.length;for(var r=0;r<t;r++)e.push(r);return e}for(var i in e=[],r=0,t)e[r++]=i;return e}}function Le(t,e){this.b={},this.a=[],this.c=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var n=0;n<r;n+=2)this.set(arguments[n],arguments[n+1])}else if(t)if(t instanceof Le)for(r=t.U(),n=0;n<r.length;n++)this.set(r[n],t.get(r[n]));else for(n in t)this.set(n,t[n])}function qe(t){if(t.c!=t.a.length){for(var e=0,r=0;e<t.a.length;){var n=t.a[e];Ve(t.b,n)&&(t.a[r++]=n),e++}t.a.length=r}if(t.c!=t.a.length){var i={};for(r=e=0;e<t.a.length;)Ve(i,n=t.a[e])||(t.a[r++]=n,i[n]=1),e++;t.a.length=r}}function Ve(t,e){return Object.prototype.hasOwnProperty.call(t,e)}b(Pe,Bt),Pe.prototype[le]=!0,Pe.prototype.addEventListener=function(t,e,r,n){we(this,t,e,r,n)},Pe.prototype.removeEventListener=function(t,e,r,n){Ee(this,t,e,r,n)},Pe.prototype.dispatchEvent=function(t){var e,r=this.Va;if(r)for(e=[];r;r=r.Va)e.push(r);r=this.Rb;var i=t.type||t;if(n(t))t=new se(t,r);else if(t instanceof se)t.target=t.target||r;else{var o=t;ut(t=new se(i,r),o)}if(o=!0,e)for(var a=e.length-1;0<=a;a--){var s=t.b=e[a];o=Re(s,i,!0,t)&&o}if(o=Re(s=t.b=r,i,!0,t)&&o,o=Re(s,i,!1,t)&&o,e)for(a=0;a<e.length;a++)o=Re(s=t.b=e[a],i,!1,t)&&o;return o},Pe.prototype.va=function(){if(Pe.ob.va.call(this),this.l){var t,e=this.l;for(t in e.a){for(var r=e.a[t],n=0;n<r.length;n++)0,de(r[n]);delete e.a[t],e.b--}}this.Va=null},(t=Le.prototype).S=function(){qe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.U=function(){return qe(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Ve(this.b,t)?this.b[t]:e},t.set=function(t,e){Ve(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var r=this.U(),n=0;n<r.length;n++){var i=r[n],o=this.get(i);t.call(e,o,i,this)}};var Ue=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function We(t,e){if(this.b=this.l=this.c="",this.i=null,this.h=this.g="",this.f=!1,t instanceof We){this.f=void 0!==e?e:t.f,ze(this,t.c),this.l=t.l,this.b=t.b,He(this,t.i),this.g=t.g,e=t.a;var r=new or;r.c=e.c,e.a&&(r.a=new Le(e.a),r.b=e.b),Je(this,r),this.h=t.h}else t&&(r=String(t).match(Ue))?(this.f=!!e,ze(this,r[1]||"",!0),this.l=Ye(r[2]||""),this.b=Ye(r[3]||"",!0),He(this,r[4]),this.g=Ye(r[5]||"",!0),Je(this,r[6]||"",!0),this.h=Ye(r[7]||"")):(this.f=!!e,this.a=new or(null,this.f))}function ze(t,e,r){t.c=r?Ye(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function He(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Je(t,e,r){e instanceof or?(t.a=e,function(t,e){e&&!t.f&&(ar(t),t.c=null,t.a.forEach(function(t,e){var r=e.toLowerCase();e!=r&&(cr(this,e),lr(this,r,t))},t)),t.f=e}(t.a,t.f)):(r||(e=Xe(e,nr)),t.a=new or(e,t.f))}function Ge(t,e,r){t.a.set(e,r)}function Ke(t,e){return t.a.get(e)}function $e(t){return t instanceof We?new We(t):new We(t,void 0)}function Qe(t,e){var r=new We(null,void 0);return ze(r,"https"),t&&(r.b=t),e&&(r.g=e),r}function Ye(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Xe(t,e,r){return n(t)?(t=encodeURI(t).replace(e,Ze),r&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}We.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Xe(e,tr,!0),":");var r=this.b;return(r||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Xe(e,tr,!0),"@"),t.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.i)&&t.push(":",String(r))),(r=this.g)&&(this.b&&"/"!=r.charAt(0)&&t.push("/"),t.push(Xe(r,"/"==r.charAt(0)?rr:er,!0))),(r=this.a.toString())&&t.push("?",r),(r=this.h)&&t.push("#",Xe(r,ir)),t.join("")};var tr=/[#\/\?@]/g,er=/[#\?:]/g,rr=/[#\?]/g,nr=/[#\?@]/g,ir=/#/g;function or(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ar(t){t.a||(t.a=new Le,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var r=0;r<t.length;r++){var n=t[r].indexOf("="),i=null;if(0<=n){var o=t[r].substring(0,n);i=t[r].substring(n+1)}else o=t[r];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,r){t.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function sr(t){var e=Fe(t);if(void 0===e)throw Error("Keys are undefined");var r=new or(null,void 0);t=Me(t);for(var n=0;n<e.length;n++){var i=e[n],o=t[n];u(o)?lr(r,i,o):r.add(i,o)}return r}function cr(t,e){ar(t),e=hr(t,e),Ve(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ve((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&qe(t)))}function ur(t,e){return ar(t),e=hr(t,e),Ve(t.a.b,e)}function lr(t,e,r){cr(t,e),0<r.length&&(t.c=null,t.a.set(hr(t,e),q(r)),t.b+=r.length)}function hr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=or.prototype).add=function(t,e){ar(this),this.c=null,t=hr(this,t);var r=this.a.get(t);return r||this.a.set(t,r=[]),r.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){ar(this),this.a.forEach(function(r,n){O(r,function(r){t.call(e,r,n,this)},this)},this)},t.U=function(){ar(this);for(var t=this.a.S(),e=this.a.U(),r=[],n=0;n<e.length;n++)for(var i=t[n],o=0;o<i.length;o++)r.push(e[n]);return r},t.S=function(t){ar(this);var e=[];if(n(t))ur(this,t)&&(e=L(e,this.a.get(hr(this,t))));else{t=this.a.S();for(var r=0;r<t.length;r++)e=L(e,t[r])}return e},t.set=function(t,e){return ar(this),this.c=null,ur(this,t=hr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return 0<(t=t?this.S(t):[]).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.U(),r=0;r<e.length;r++){var n=e[r],i=encodeURIComponent(String(n));n=this.S(n);for(var o=0;o<n.length;o++){var a=i;""!==n[o]&&(a+="="+encodeURIComponent(String(n[o]))),t.push(a)}}return this.c=t.join("&")};var pr=!zt||9<=Number(Zt);function dr(){this.a="",this.b=gr}function fr(t){return t instanceof dr&&t.constructor===dr&&t.b===gr?t.a:(x("expected object of type Const, got '"+t+"'"),"type_error:Const")}dr.prototype.na=!0,dr.prototype.ma=function(){return this.a},dr.prototype.toString=function(){return"Const{"+this.a+"}"};var gr={};function mr(t){var e=new dr;return e.a=t,e}function yr(){this.a="",this.b=Er}function vr(t){return t instanceof yr&&t.constructor===yr&&t.b===Er?t.a:(x("expected object of type TrustedResourceUrl, got '"+t+"' of type "+s(t)),"type_error:TrustedResourceUrl")}function wr(t,e){var r=fr(t);if(!_r.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return function(t){var e=new yr;return e.a=t,e}(t=r.replace(br,function(t,n){if(!Object.prototype.hasOwnProperty.call(e,n))throw Error('Found marker, "'+n+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[n])instanceof dr?fr(t):encodeURIComponent(String(t))}))}mr(""),yr.prototype.na=!0,yr.prototype.ma=function(){return this.a},yr.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var br=/%{(\w+)}/g,_r=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,Er={};function Cr(){this.a="",this.b=Sr}function kr(t){return t instanceof Cr&&t.constructor===Cr&&t.b===Sr?t.a:(x("expected object of type SafeUrl, got '"+t+"' of type "+s(t)),"type_error:SafeUrl")}Cr.prototype.na=!0,Cr.prototype.ma=function(){return this.a},Cr.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var xr=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Tr(t){return t instanceof Cr?t:(t=t.na?t.ma():String(t),xr.test(t)||(t="about:invalid#zClosurez"),Ar(t))}var Sr={};function Ar(t){var e=new Cr;return e.a=t,e}function Ir(){this.a="",this.b=Nr}Ar("about:blank"),Ir.prototype.na=!0,Ir.prototype.ma=function(){return this.a},Ir.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Nr={};function Pr(t){var e=new Ir;return e.a=t,e}function Dr(t){var e=document;return n(t)?e.getElementById(t):t}function Or(t,e){nt(e,function(e,r){e&&e.na&&(e=e.ma()),"style"==r?t.style.cssText=e:"class"==r?t.className=e:"for"==r?t.htmlFor=e:Rr.hasOwnProperty(r)?t.setAttribute(Rr[r],e):0==r.lastIndexOf("aria-",0)||0==r.lastIndexOf("data-",0)?t.setAttribute(r,e):t[r]=e})}Pr("<!DOCTYPE html>"),Pr(""),Pr("<br>");var Rr={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function jr(t,e,r){var i=arguments,o=document,a=String(i[0]),s=i[1];if(!pr&&s&&(s.name||s.type)){if(a=["<",a],s.name&&a.push(' name="',W(s.name),'"'),s.type){a.push(' type="',W(s.type),'"');var c={};ut(c,s),delete c.type,s=c}a.push(">"),a=a.join("")}return a=o.createElement(a),s&&(n(s)?a.className=s:u(s)?a.className=s.join(" "):Or(a,s)),2<i.length&&function(t,e,r){function i(r){r&&e.appendChild(n(r)?t.createTextNode(r):r)}for(var o=2;o<r.length;o++){var a=r[o];!l(a)||p(a)&&0<a.nodeType?i(a):O(Br(a)?q(a):a,i)}}(o,a,i),a}function Br(t){if(t&&"number"==typeof t.length){if(p(t))return"function"==typeof t.item||"string"==typeof t.item;if(h(t))return"function"==typeof t.item}return!1}function Mr(t){var e=[];return function t(e,r,n){if(null==r)n.push("null");else{if("object"==typeof r){if(u(r)){var i=r;r=i.length,n.push("[");for(var o="",a=0;a<r;a++)n.push(o),t(e,i[a],n),o=",";return void n.push("]")}if(!(r instanceof String||r instanceof Number||r instanceof Boolean)){for(i in n.push("{"),o="",r)Object.prototype.hasOwnProperty.call(r,i)&&("function"!=typeof(a=r[i])&&(n.push(o),Vr(i,n),n.push(":"),t(e,a,n),o=","));return void n.push("}")}r=r.valueOf()}switch(typeof r){case"string":Vr(r,n);break;case"number":n.push(isFinite(r)&&!isNaN(r)?String(r):"null");break;case"boolean":n.push(String(r));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof r)}}}(new Fr,t,e),e.join("")}function Fr(){}var Lr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},qr=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Vr(t,e){e.push('"',t.replace(qr,function(t){var e=Lr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Lr[t]=e),e}),'"')}function Ur(){var t=cn();return zt&&!!Zt&&11==Zt||/Edge\/\d+/.test(t)}function Wr(){return r.window&&r.window.location.href||self&&self.location&&self.location.href||""}function zr(t,e){e=e||r.window;var n="about:blank";t&&(n=kr(Tr(t))),e.location.href=n}function Hr(t){return!!((t=(t||cn()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Jr(t){t=t||r.window;try{t.close()}catch(t){}}function Gr(t,e,r){var n=Math.floor(1e9*Math.random()).toString();e=e||500,r=r||600;var i=(window.screen.availHeight-r)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:r,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},r=cn().toLowerCase(),n&&(e.target=n,X(r,"crios/")&&(e.target="_blank")),on(cn())==rn&&(t=t||"http://localhost",e.scrollbars=!0),r=t||"",(t=e)||(t={}),n=window,e=r instanceof Cr?r:Tr(void 0!==r.href?r.href:String(r)),r=t.target||r.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((rt("iPhone")&&!rt("iPod")&&!rt("iPad")||rt("iPad")||rt("iPod"))&&n.navigator&&n.navigator.standalone&&r&&"_self"!=r?(a=n.document.createElement("A"),e instanceof Cr||e instanceof Cr||(e=e.na?e.ma():String(e),xr.test(e)||(e="about:invalid#zClosurez"),e=Ar(e)),a.href=kr(e),a.setAttribute("target",r),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,n,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=n.open("",r,a),t=kr(e),a&&(Jt&&X(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,mr("b/12014412, meta tag with sanitized URL"),t=Pr(t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+W(t)+'">'),a.document.write(function(t){return t instanceof Ir&&t.constructor===Ir&&t.b===Nr?t.a:(x("expected object of type SafeHtml, got '"+t+"' of type "+s(t)),"type_error:SafeHtml")}(t)),a.document.close())):(a=n.open(kr(e),r,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var Kr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$r=/^[^@]+@[^@]+$/;function Qr(){var t=null;return new gt(function(e){"complete"==r.document.readyState?e():(t=function(){e()},_e(window,"load",t))}).s(function(e){throw Ee(window,"load",t),e})}function Yr(t){return t=t||cn(),!("file:"!==dn()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xr(){var t=r.window;try{return!(!t||t==t.top)}catch(t){return!1}}function Zr(){return"object"!=typeof r.window&&"function"==typeof r.importScripts}function tn(){return i.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":i.a.INTERNAL.hasOwnProperty("node")?"Node":Zr()?"Worker":"Browser"}function en(){var t=tn();return"ReactNative"===t||"Node"===t}var rn="Firefox",nn="Chrome";function on(t){var e=t.toLowerCase();return X(e,"opera/")||X(e,"opr/")||X(e,"opios/")?"Opera":X(e,"iemobile")?"IEMobile":X(e,"msie")||X(e,"trident/")?"IE":X(e,"edge/")?"Edge":X(e,"firefox/")?rn:X(e,"silk/")?"Silk":X(e,"blackberry")?"Blackberry":X(e,"webos")?"Webos":!X(e,"safari/")||X(e,"chrome/")||X(e,"crios/")||X(e,"android")?!X(e,"chrome/")&&!X(e,"crios/")||X(e,"edge/")?X(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":nn:"Safari"}var an={Uc:"FirebaseCore-web",Wc:"FirebaseUI-web"};function sn(t,e){e=e||[];var r,n=[],i={};for(r in an)i[an[r]]=!0;for(r=0;r<e.length;r++)void 0!==i[e[r]]&&(delete i[e[r]],n.push(e[r]));return n.sort(),(e=n).length||(e=["FirebaseCore-web"]),"Browser"===(n=tn())?n=on(i=cn()):"Worker"===n&&(n=on(i=cn())+"-"+n),n+"/JsCore/"+t+"/"+e.join(",")}function cn(){return r.navigator&&r.navigator.userAgent||""}function un(t,e){t=t.split("."),e=e||r;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function ln(){try{var t=r.localStorage,e=vn();if(t)return t.setItem(e,"1"),t.removeItem(e),!Ur()||!!r.indexedDB}catch(t){return Zr()&&!!r.indexedDB}return!1}function hn(){return(pn()||"chrome-extension:"===dn()||Yr())&&!en()&&ln()&&!Zr()}function pn(){return"http:"===dn()||"https:"===dn()}function dn(){return r.location&&r.location.protocol||null}function fn(t){return!Hr(t=t||cn())&&on(t)!=rn}function gn(t){return void 0===t?null:Mr(t)}function mn(t){var e,r={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(r[e]=t[e]);return r}function yn(t){if(null!==t)return JSON.parse(t)}function vn(t){return t||Math.floor(1e9*Math.random()).toString()}function wn(t){return"Safari"!=on(t=t||cn())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function bn(){var t=r.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function _n(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=cn(),e=tn(),this.b=Hr(t)||"ReactNative"===e}function En(){var t=r.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Cn(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function kn(){return!(!un("fireauth.oauthhelper",r)&&!un("fireauth.iframe",r))}_n.prototype.get=function(){var t=r.navigator;return!t||"boolean"!=typeof t.onLine||!pn()&&"chrome-extension:"!==dn()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var xn,Tn={};function Sn(t){Tn[t]||(Tn[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var An={};Object.defineProperty(An,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(An,"abcd",{configurable:!0,enumerable:!0,value:2}),xn=2==An.abcd}catch(Ut){xn=!1}function In(t,e,r){xn?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:r}):t[e]=r}function Nn(t,e){if(e)for(var r in e)e.hasOwnProperty(r)&&In(t,r,e[r])}function Pn(t){var e={};return Nn(e,t),e}function Dn(t){var e=t;if("object"==typeof t&&null!=t)for(var r in e="length"in t?[]:{},t)In(e,r,Dn(t[r]));return e}function On(t){var e={},r=t[jn],n=t[Bn];if(!(t=t[Mn])||t!=Rn&&!r)throw Error("Invalid provider user info!");e[Ln]=n||null,e[Fn]=r||null,In(this,Vn,t),In(this,qn,Dn(e))}var Rn="EMAIL_SIGNIN",jn="email",Bn="newEmail",Mn="requestType",Fn="email",Ln="fromEmail",qn="data",Vn="operation";function Un(t,e){this.code=zn+t,this.message=e||Hn[t]||""}function Wn(t){var e=t&&t.code;return e?new Un(e.substring(zn.length),t.message):null}b(Un,Error),Un.prototype.C=function(){return{code:this.code,message:this.message}},Un.prototype.toJSON=function(){return this.C()};var zn="auth/",Hn={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function Jn(t){var e=t[Yn];if(void 0===e)throw new Un("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Un("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var r=t[Gn];if(r&&"object"==typeof r){e=r[ti];var n=r[Xn];if(r=r[Zn],"string"==typeof e&&e.length){if(this.a=e,void 0!==n&&"boolean"!=typeof n)throw new Un("argument-error",Xn+" property must be a boolean when specified.");if(this.g=!!n,void 0!==r&&("string"!=typeof r||"string"==typeof r&&!r.length))throw new Un("argument-error",Zn+" property must be a non empty string when specified.");this.b=r||null}else{if(void 0!==e)throw new Un("argument-error",ti+" property must be a non empty string when specified.");if(void 0!==n||void 0!==r)throw new Un("missing-android-pkg-name")}}else if(void 0!==r)throw new Un("argument-error",Gn+" property must be a non null object when specified.");if(this.f=null,(e=t[Qn])&&"object"==typeof e){if("string"==typeof(e=e[ei])&&e.length)this.f=e;else if(void 0!==e)throw new Un("argument-error",ei+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Un("argument-error",Qn+" property must be a non null object when specified.");if(void 0!==(e=t[$n])&&"boolean"!=typeof e)throw new Un("argument-error",$n+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Kn])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new Un("argument-error",Kn+" property must be a non empty string when specified.");this.i=t||null}var Gn="android",Kn="dynamicLinkDomain",$n="handleCodeInApp",Qn="iOS",Yn="url",Xn="installApp",Zn="minimumVersion",ti="packageName",ei="bundleId";function ri(t){var e={};for(var r in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[r]&&delete e[r];return e}var ni=null,ii=null;function oi(t){var e="";return function(t,e){function r(e){for(;n<t.length;){var r=t.charAt(n++),i=ii[r];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(r))throw Error("Unknown base64 encoding at char: "+r)}return e}!function(){if(!ni){ni={},ii={};for(var t=0;65>t;t++)ni[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),ii[ni[t]]=t,62<=t&&(ii["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var n=0;;){var i=r(-1),o=r(0),a=r(64),s=r(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e+=String.fromCharCode(t)}),e}function ai(t){this.c=t.sub,w(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function si(t){return(t=ci(t))&&t.sub&&t.iss&&t.aud&&t.exp?new ai(t):null}function ci(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,r=0;r<e;r++)t+=".";try{return JSON.parse(oi(t))}catch(t){}return null}ai.prototype.f=function(){return this.b};var ui,li={$c:{ab:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},bd:{ab:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},cd:{ab:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function hi(t){for(var e in li)if(li[e].id===t)return{firebaseEndpoint:(t=li[e]).ab,secureTokenEndpoint:t.ib};return null}ui=hi("__EID__")?"__EID__":void 0;var pi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),di=["client_id","response_type","scope","redirect_uri","state"],fi={Vc:{Ma:"locale",Ba:500,Aa:600,Na:"facebook.com",hb:di},Xc:{Ma:null,Ba:500,Aa:620,Na:"github.com",hb:di},Yc:{Ma:"hl",Ba:515,Aa:680,Na:"google.com",hb:di},dd:{Ma:"lang",Ba:485,Aa:705,Na:"twitter.com",hb:pi}};function gi(t){for(var e in fi)if(fi[e].Na==t)return fi[e];return null}function mi(t){var e={};e["facebook.com"]=_i,e["google.com"]=Ci,e["github.com"]=Ei,e["twitter.com"]=ki;var r=t&&t[vi];try{if(r)return e[r]?new e[r](t):new bi(t);if(void 0!==t[yi])return new wi(t)}catch(t){}return null}var yi="idToken",vi="providerId";function wi(t){var e=t[vi];if(!e&&t[yi]){var r=si(t[yi]);r&&r.a&&(e=r.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),r=!1,void 0!==t.isNewUser?r=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(r=!0),In(this,"providerId",e),In(this,"isNewUser",r)}function bi(t){wi.call(this,t),In(this,"profile",Dn((t=yn(t.rawUserInfo||"{}"))||{}))}function _i(t){if(bi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ei(t){if(bi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");In(this,"username",this.profile&&this.profile.login||null)}function Ci(t){if(bi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ki(t){if(bi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");In(this,"username",t.screenName||null)}function xi(t){this.a=$e(t)}function Ti(t){var e=$e(t),r=Ke(e,"link"),n=Ke($e(r),"link");return e=Ke(e,"deep_link_id"),Ke($e(e),"link")||e||n||r||t}function Si(t,e){return t.then(function(t){if(t[ua]){var r=si(t[ua]);if(!r||e!=r.c)throw new Un("user-mismatch");return t}throw new Un("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==zn+"user-not-found"?new Un("user-mismatch"):t})}function Ai(t,e){if(!e)throw new Un("internal-error","failed to construct a credential");this.a=e,In(this,"providerId",t),In(this,"signInMethod",t)}function Ii(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function Ni(t,e,r){if(this.a=null,e.idToken||e.accessToken)e.idToken&&In(this,"idToken",e.idToken),e.accessToken&&In(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&In(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Un("internal-error","failed to construct a credential");In(this,"accessToken",e.oauthToken),In(this,"secret",e.oauthTokenSecret)}In(this,"providerId",t),In(this,"signInMethod",r)}function Pi(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:sr(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function Di(t,e){this.Dc=e||[],Nn(this,{providerId:t,isOAuthProvider:!0}),this.yb={},this.cb=(gi(t)||{}).Ma||null,this.$a=null}function Oi(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new Un("argument-error",'SAML provider IDs must be prefixed with "saml."');Di.call(this,t,[])}function Ri(t){Di.call(this,t,di),this.a=[]}function ji(){Ri.call(this,"facebook.com")}function Bi(t){if(!t)throw new Un("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new ji).credential(null,e)}function Mi(){Ri.call(this,"github.com")}function Fi(t){if(!t)throw new Un("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new Mi).credential(null,e)}function Li(){Ri.call(this,"google.com"),this.ua("profile")}function qi(t,e){var r=t;return p(t)&&(r=t.idToken,e=t.accessToken),(new Li).credential(r,e)}function Vi(){Di.call(this,"twitter.com",pi)}function Ui(t,e){var r=t;if(p(r)||(r={oauthToken:t,oauthTokenSecret:e}),!r.oauthToken||!r.oauthTokenSecret)throw new Un("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Ni("twitter.com",r,"twitter.com")}function Wi(t,e,r){this.a=t,this.c=e,In(this,"providerId","password"),In(this,"signInMethod",r===zi.EMAIL_LINK_SIGN_IN_METHOD?zi.EMAIL_LINK_SIGN_IN_METHOD:zi.EMAIL_PASSWORD_SIGN_IN_METHOD)}function zi(){Nn(this,{providerId:"password",isOAuthProvider:!1})}function Hi(t,e){if(!(e=Ji(e)))throw new Un("argument-error","Invalid email link!");return new Wi(t,e,zi.EMAIL_LINK_SIGN_IN_METHOD)}function Ji(t){var e=Ke((t=new xi(t=Ti(t))).a,"oobCode")||null;return"signIn"===(Ke(t.a,"mode")||null)&&e?e:null}function Gi(t){if(!(t.Ta&&t.Sa||t.Fa&&t.$))throw new Un("internal-error");this.a=t,In(this,"providerId","phone"),In(this,"signInMethod","phone")}function Ki(t){return t.a.Fa&&t.a.$?{temporaryProof:t.a.Fa,phoneNumber:t.a.$}:{sessionInfo:t.a.Ta,code:t.a.Sa}}function $i(t){try{this.a=t||i.a.auth()}catch(t){throw new Un("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Nn(this,{providerId:"phone",isOAuthProvider:!1})}function Qi(t,e){if(!t)throw new Un("missing-verification-id");if(!e)throw new Un("missing-verification-code");return new Gi({Ta:t,Sa:e})}function Yi(t){if(t.temporaryProof&&t.phoneNumber)return new Gi({Fa:t.temporaryProof,$:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var r=t&&t.oauthAccessToken,n=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return qi(o,r);case"facebook.com":return Bi(r);case"github.com":return Fi(r);case"twitter.com":return Ui(r,n);default:return r||n||o||a?a?0==e.indexOf("saml.")?new Ai(e,a):new Ni(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Ri(e).credential(o,r,i):null}}catch(t){return null}}function Xi(t){if(!t.isOAuthProvider)throw new Un("invalid-oauth-provider")}function Zi(t,e,r,n,i,o){if(this.b=t,this.c=e||null,this.f=r||null,this.g=n||null,this.h=o||null,this.a=i||null,!this.f&&!this.a)throw new Un("invalid-auth-event");if(this.f&&this.a)throw new Un("invalid-auth-event");if(this.f&&!this.g)throw new Un("invalid-auth-event")}function to(t){return(t=t||{}).type?new Zi(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Wn(t.error),t.postBody):null}function eo(){this.b=null,this.a=[]}b(bi,wi),b(_i,bi),b(Ei,bi),b(Ci,bi),b(ki,bi),Ai.prototype.la=function(t){return Sa(t,Ii(this))},Ai.prototype.b=function(t,e){var r=Ii(this);return r.idToken=e,Aa(t,r)},Ai.prototype.f=function(t,e){return Si(Ia(t,Ii(this)),e)},Ai.prototype.C=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Ni.prototype.la=function(t){return Sa(t,Pi(this))},Ni.prototype.b=function(t,e){var r=Pi(this);return r.idToken=e,Aa(t,r)},Ni.prototype.f=function(t,e){return Si(Ia(t,Pi(this)),e)},Ni.prototype.C=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Di.prototype.Da=function(t){return this.yb=ot(t),this},b(Oi,Di),b(Ri,Di),Ri.prototype.ua=function(t){return B(this.a,t)||this.a.push(t),this},Ri.prototype.Eb=function(){return q(this.a)},Ri.prototype.credential=function(t,e,r){if(!t&&!e)throw new Un("argument-error","credential failed: must provide the ID token and/or the access token.");return new Ni(this.providerId,{idToken:t||null,accessToken:e||null,nonce:r||null},this.providerId)},b(ji,Ri),In(ji,"PROVIDER_ID","facebook.com"),In(ji,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),b(Mi,Ri),In(Mi,"PROVIDER_ID","github.com"),In(Mi,"GITHUB_SIGN_IN_METHOD","github.com"),b(Li,Ri),In(Li,"PROVIDER_ID","google.com"),In(Li,"GOOGLE_SIGN_IN_METHOD","google.com"),b(Vi,Di),In(Vi,"PROVIDER_ID","twitter.com"),In(Vi,"TWITTER_SIGN_IN_METHOD","twitter.com"),Wi.prototype.la=function(t){return this.signInMethod==zi.EMAIL_LINK_SIGN_IN_METHOD?is(t,Ma,{email:this.a,oobCode:this.c}):is(t,ts,{email:this.a,password:this.c})},Wi.prototype.b=function(t,e){return this.signInMethod==zi.EMAIL_LINK_SIGN_IN_METHOD?is(t,Fa,{idToken:e,email:this.a,oobCode:this.c}):is(t,Ka,{idToken:e,email:this.a,password:this.c})},Wi.prototype.f=function(t,e){return Si(this.la(t),e)},Wi.prototype.C=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Nn(zi,{PROVIDER_ID:"password"}),Nn(zi,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Nn(zi,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Gi.prototype.la=function(t){return t.Ua(Ki(this))},Gi.prototype.b=function(t,e){var r=Ki(this);return r.idToken=e,is(t,rs,r)},Gi.prototype.f=function(t,e){var r=Ki(this);return r.operation="REAUTH",Si(t=is(t,ns,r),e)},Gi.prototype.C=function(){var t={providerId:"phone"};return this.a.Ta&&(t.verificationId=this.a.Ta),this.a.Sa&&(t.verificationCode=this.a.Sa),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.$&&(t.phoneNumber=this.a.$),t},$i.prototype.Ua=function(t,e){var r=this.a.b;return Et(e.verify()).then(function(i){if(!n(i))throw new Un("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return is(t,Ja,e)}(r,{phoneNumber:t,recaptchaToken:i}).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new Un("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Nn($i,{PROVIDER_ID:"phone"}),Nn($i,{PHONE_SIGN_IN_METHOD:"phone"}),Zi.prototype.C=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,postBody:this.h,error:this.a&&this.a.C()}};var ro,no=null;function io(t){var e="unauthorized-domain",r=void 0,n=$e(t);t=n.b,"chrome-extension"==(n=n.c)?r=V("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==n||"https"==n?r=V("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Un.call(this,e,r)}function oo(t,e,r){Un.call(this,t,r),(t=e||{}).zb&&In(this,"email",t.zb),t.$&&In(this,"phoneNumber",t.$),t.credential&&In(this,"credential",t.credential)}function ao(t){if(t.code){var e=t.code||"";0==e.indexOf(zn)&&(e=e.substring(zn.length));var r={credential:Yi(t)};if(t.email)r.zb=t.email;else if(t.phoneNumber)r.$=t.phoneNumber;else if(!r.credential)return new Un(e,t.message||void 0);return new oo(e,r,t.message)}return null}function so(){}function co(t){return t.c||(t.c=t.b())}function uo(){}function lo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],r=0;r<e.length;r++){var n=e[r];try{return new ActiveXObject(n),t.f=n}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function ho(){}function po(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=y(this.ec,this),this.a.onerror=y(this.Fb,this),this.a.onprogress=y(this.fc,this),this.a.ontimeout=y(this.ic,this)}function fo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function go(t,e,r){this.reset(t,e,r,void 0,void 0)}eo.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var r=0;r<e.a.length;r++)e.a[r](t)},"function"==typeof(t=un("universalLinks.subscribe",r))&&t(null,this.b))},eo.prototype.unsubscribe=function(t){F(this.a,function(e){return e==t})},b(io,Un),b(oo,Un),oo.prototype.C=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.C();return e&&ut(t,e),t},oo.prototype.toJSON=function(){return this.C()},so.prototype.c=null,b(uo,so),uo.prototype.a=function(){var t=lo(this);return t?new ActiveXObject(t):new XMLHttpRequest},uo.prototype.b=function(){var t={};return lo(this)&&(t[0]=!0,t[1]=!0),t},ro=new uo,b(ho,so),ho.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new po;throw Error("Unsupported browser")},ho.prototype.b=function(){return{}},(t=po.prototype).open=function(t,e,r){if(null!=r&&!r)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.ec=function(){this.status=200,this.responseText=this.a.responseText,fo(this,4)},t.Fb=function(){this.status=500,this.responseText="",fo(this,4)},t.ic=function(){this.Fb()},t.fc=function(){this.status=200,fo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},go.prototype.a=null;function mo(t){this.f=t,this.b=this.c=this.a=null}function yo(t,e){this.name=t,this.value=e}go.prototype.reset=function(t,e,r,n,i){"number"==typeof i||0,n||w(),delete this.a},yo.prototype.toString=function(){return this.name};var vo=new yo("SEVERE",1e3),wo=new yo("WARNING",900),bo=new yo("CONFIG",700),_o=new yo("FINE",500);mo.prototype.log=function(t,e,r){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(x("Root logger has no level set."),null)}(this).value)for(h(e)&&(e=e()),t=new go(t,String(e),this.f),r&&(t.a=r),r=this;r;)r=r.a};var Eo={},Co=null;function ko(t){var e;if(Co||(Co=new mo(""),Eo[""]=Co,Co.c=bo),!(e=Eo[t])){e=new mo(t);var r=t.lastIndexOf("."),n=t.substr(r+1);(r=ko(t.substr(0,r))).b||(r.b={}),r.b[n]=e,e.a=r,Eo[t]=e}return e}function xo(t,e){t&&t.log(_o,e,void 0)}function To(t){this.f=t}function So(t){Pe.call(this),this.i=t,this.readyState=Ao,this.status=0,this.responseText=this.statusText="",this.onreadystatechange=null,this.g=new Headers,this.b=null,this.h="GET",this.c="",this.a=!1,this.f=ko("goog.net.FetchXmlHttp")}b(To,so),To.prototype.a=function(){return new So(this.f)},To.prototype.b=function(t){return function(){return t}}({}),b(So,Pe);var Ao=0;function Io(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function No(t){Pe.call(this),this.headers=new Le,this.D=t||null,this.c=!1,this.w=this.a=null,this.h=this.N=this.m="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=Po,this.v=this.O=!1}(t=So.prototype).open=function(t,e){if(this.readyState!=Ao)throw this.abort(),Error("Error reopening a connection");this.h=t,this.c=e,this.readyState=1,Io(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.g,method:this.h,credentials:void 0,cache:void 0};t&&(e.body=t),this.i.fetch(new Request(this.c,e)).then(this.hc.bind(this),this.Gb.bind(this))},t.abort=function(){this.responseText="",this.g=new Headers,this.status=0,1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,Io(this)),this.readyState=Ao},t.hc=function(t){this.a&&(this.b||(this.b=t.headers,this.readyState=2,Io(this)),this.a&&(this.readyState=3,Io(this),this.a&&t.text().then(this.gc.bind(this,t),this.Gb.bind(this))))},t.gc=function(t,e){this.a&&(this.status=t.status,this.statusText=t.statusText,this.responseText=e,this.readyState=4,Io(this))},t.Gb=function(t){var e=this.f;e&&e.log(wo,"Failed to fetch url "+this.c,t instanceof Error?t:Error(t)),this.a&&(this.readyState=4,Io(this))},t.setRequestHeader=function(t,e){this.g.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.f)&&t.log(wo,"Attempting to get response header but no headers have been received for url: "+this.c,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.f;return t&&t.log(wo,"Attempting to get all response headers but no headers have been received for url: "+this.c,void 0),""}t=[];for(var e=this.b.entries(),r=e.next();!r.done;)r=r.value,t.push(r[0]+": "+r[1]),r=e.next();return t.join("\r\n")},b(No,Pe);var Po="";No.prototype.b=ko("goog.net.XhrIo");var Do=/^https?$/i,Oo=["POST","PUT"];function Ro(t,e,i,o,a){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.m+"; newUri="+e);i=i?i.toUpperCase():"GET",t.m=e,t.h="",t.N=i,t.G=!1,t.c=!0,t.a=t.D?t.D.a():ro.a(),t.w=t.D?co(t.D):co(ro),t.a.onreadystatechange=y(t.Jb,t);try{xo(t.b,Wo(t,"Opening Xhr")),t.I=!0,t.a.open(i,String(e),!0),t.I=!1}catch(e){return xo(t.b,Wo(t,"Error opening Xhr: "+e.message)),void Bo(t,e)}e=o||"";var s=new Le(t.headers);a&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(l(t)||n(t))O(t,e,void 0);else for(var r=Fe(t),i=Me(t),o=i.length,a=0;a<o;a++)e.call(void 0,i[a],r&&r[a],t)}(a,function(t,e){s.set(e,t)}),a=function(t){t:{for(var e=jo,r=t.length,i=n(t)?t.split(""):t,o=0;o<r;o++)if(o in i&&e.call(void 0,i[o],o,t)){e=o;break t}e=-1}return 0>e?null:n(t)?t.charAt(e):t[e]}(s.U()),o=r.FormData&&e instanceof r.FormData,!B(Oo,i)||a||o||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.o&&(t.a.responseType=t.o),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{qo(t),0<t.g&&(t.v=function(t){return zt&&ee(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),xo(t.b,Wo(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=y(t.Ga,t)):t.u=je(t.Ga,t.g,t)),xo(t.b,Wo(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){xo(t.b,Wo(t,"Send error: "+e.message)),Bo(t,e)}}function jo(t){return"content-type"==t.toLowerCase()}function Bo(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Mo(t),Lo(t)}function Mo(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Fo(t){if(t.c&&void 0!==e)if(t.w[1]&&4==Vo(t)&&2==Uo(t))xo(t.b,Wo(t,"Local request error detected and ignored"));else if(t.i&&4==Vo(t))je(t.Jb,0,t);else if(t.dispatchEvent("readystatechange"),4==Vo(t)){xo(t.b,Wo(t,"Request complete")),t.c=!1;try{var n,i=Uo(t);t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break t;default:o=!1}if(!(n=o)){var a;if(a=0===i){var s=String(t.m).match(Ue)[1]||null;if(!s&&r.self&&r.self.location){var c=r.self.location.protocol;s=c.substr(0,c.length-1)}a=!Do.test(s?s.toLowerCase():"")}n=a}if(n)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var u=2<Vo(t)?t.a.statusText:""}catch(e){xo(t.b,"Can not get status: "+e.message),u=""}t.h=u+" ["+Uo(t)+"]",Mo(t)}}finally{Lo(t)}}}function Lo(t,e){if(t.a){qo(t);var r=t.a,n=t.w[0]?a:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{r.onreadystatechange=n}catch(e){(t=t.b)&&t.log(vo,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function qo(t){t.a&&t.v&&(t.a.ontimeout=null),t.u&&(r.clearTimeout(t.u),t.u=null)}function Vo(t){return t.a?t.a.readyState:0}function Uo(t){try{return 2<Vo(t)?t.a.status:-1}catch(t){return-1}}function Wo(t,e){return e+" ["+t.N+" "+t.m+" "+Uo(t)+"]"}function zo(t,e){this.g=[],this.v=t,this.u=e||null,this.f=this.a=!1,this.c=void 0,this.m=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function Ho(t,e,r){t.a=!0,t.c=r,t.f=!e,$o(t)}function Jo(t){if(t.a){if(!t.m)throw new Qo(t);t.m=!1}}function Go(t,e,r,n){t.g.push([e,r,n]),t.a&&$o(t)}function Ko(t){return j(t.g,function(t){return h(t[1])})}function $o(t){if(t.h&&t.a&&Ko(t)){var e=t.h,n=Zo[e];n&&(r.clearTimeout(n.a),delete Zo[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var i=n=!1;t.g.length&&!t.i;){var o=t.g.shift(),a=o[0],s=o[1];if(o=o[2],a=t.f?s:a)try{var c=a.call(o||t.u,e);void 0!==c&&(t.f=t.f&&(c==e||c instanceof Error),t.c=e=c),(E(e)||"function"==typeof r.Promise&&e instanceof r.Promise)&&(i=!0,t.i=!0)}catch(r){e=r,t.f=!0,Ko(t)||(n=!0)}}t.c=e,i&&(c=y(t.o,t,!0),i=y(t.o,t,!1),e instanceof zo?(Go(e,c,i),e.w=!0):e.then(c,i)),n&&(e=new Xo(e),Zo[e.a]=e,t.h=e.a)}function Qo(){C.call(this)}function Yo(){C.call(this)}function Xo(t){this.a=r.setTimeout(y(this.c,this),0),this.b=t}(t=No.prototype).Ga=function(){void 0!==e&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",xo(this.b,Wo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(xo(this.b,Wo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Lo(this))},t.va=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Lo(this,!0)),No.ob.va.call(this)},t.Jb=function(){this.qa||(this.I||this.i||this.f?Fo(this):this.wc())},t.wc=function(){Fo(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case Po:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(vo,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(t){return xo(this.b,"Can not get response: "+t.message),null}},zo.prototype.cancel=function(t){if(this.a)this.c instanceof zo&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.v?this.v.call(this.u,this):this.m=!0,this.a||(t=new Yo(this),Jo(this),Ho(this,!1,t))}},zo.prototype.o=function(t,e){this.i=!1,Ho(this,t,e)},zo.prototype.D=function(){Jo(this),Ho(this,!0,null)},zo.prototype.then=function(t,e,r){var n,i,o=new gt(function(t,e){n=t,i=e});return Go(this,n,function(t){t instanceof Yo?o.cancel():i(t)}),o.then(t,e,r)},_(zo),b(Qo,C),Qo.prototype.message="Deferred has already fired",Qo.prototype.name="AlreadyCalledError",b(Yo,C),Yo.prototype.message="Deferred was canceled",Yo.prototype.name="CanceledError",Xo.prototype.c=function(){throw delete Zo[this.a],this.b};var Zo={};function ta(t){var e={},r=e.document||document,n=vr(t),i=document.createElement("SCRIPT"),o={Lb:i,Ga:void 0},a=new zo(ea,o),s=null,c=null!=e.timeout?e.timeout:5e3;return 0<c&&(s=window.setTimeout(function(){ra(i,!0);var t=new oa(ia,"Timeout reached for loading script "+n);Jo(a),Ho(a,!1,t)},c),o.Ga=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(ra(i,e.fd||!1,s),a.D())},i.onerror=function(){ra(i,!0,s);var t=new oa(na,"Error while loading script "+n);Jo(a),Ho(a,!1,t)},ut(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Or(i,o),i.src=vr(t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(r).appendChild(i),a}function ea(){if(this&&this.Lb){var t=this.Lb;t&&"SCRIPT"==t.tagName&&ra(t,!0,this.Ga)}}function ra(t,e,n){null!=n&&r.clearTimeout(n),t.onload=a,t.onerror=a,t.onreadystatechange=a,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var na=0,ia=1;function oa(t,e){var r="Jsloader error (code #"+t+")";e&&(r+=": "+e),C.call(this,r),this.code=t}function aa(t){this.f=t}function sa(t,e,n){if(this.b=t,t=e||{},this.i=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.l=t.secureTokenTimeout||la,this.f=ot(t.secureTokenHeaders||ha),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||pa,this.a=ot(t.firebaseHeaders||da),n&&(this.a["X-Client-Version"]=n,this.f["X-Client-Version"]=n),n="Node"==tn(),!(n=r.XMLHttpRequest||n&&i.a.INTERNAL.node&&i.a.INTERNAL.node.XMLHttpRequest)&&!Zr())throw new Un("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,Zr()?this.c=new To(self):en()?this.c=new aa(n):this.c=new ho}b(oa,C),b(aa,so),aa.prototype.a=function(){return new this.f},aa.prototype.b=function(){return{}};var ca,ua="idToken",la=new _n(3e4,6e4),ha={"Content-Type":"application/x-www-form-urlencoded"},pa=new _n(3e4,6e4),da={"Content-Type":"application/json"};function fa(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ga(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function ma(t,e,n,i,o,a,s){(function(){var t=cn();return!((t=on(t)!=nn?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!zt||!Zt||9<Zt)})()||Zr()?t=y(t.o,t):(ca||(ca=new gt(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{r[va]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Go(t,null,e,void 0)}(ta(wr(ya,{onload:va})),function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=y(t.m,t)),t(e,n,i,o,a,s)}sa.prototype.o=function(t,e,n,i,o,a){if(Zr()&&(void 0===r.fetch||void 0===r.Headers||void 0===r.Request))throw new Un("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new No(this.c);if(a){s.g=Math.max(0,a);var c=setTimeout(function(){s.dispatchEvent("timeout")},a)}De(s,"complete",function(){c&&clearTimeout(c);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return xo(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)}),Oe(s,"ready",function(){c&&clearTimeout(c),Lt(this)}),Oe(s,"timeout",function(){c&&clearTimeout(c),Lt(this),e&&e(null)}),Ro(s,t,n,i,o)};var ya=mr("https://apis.google.com/js/client.js?onload=%{onload}"),va="__fcb"+Math.floor(1e6*Math.random()).toString();function wa(t){if(!n(t=t.email)||!$r.test(t))throw new Un("invalid-email")}function ba(t){"email"in t&&wa(t)}function _a(t){if(!t[ua])throw new Un("internal-error")}function Ea(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Un("internal-error")}else{if(!t.sessionInfo)throw new Un("missing-verification-id");if(!t.code)throw new Un("missing-verification-code")}}sa.prototype.m=function(t,e,r,n,i){var o=this;ca.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:r,body:n,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},sa.prototype.Qa=function(){return is(this,$a,{})},sa.prototype.pb=function(t,e){return is(this,Ga,{idToken:t,email:e})},sa.prototype.qb=function(t,e){return is(this,Ka,{idToken:t,password:e})};var Ca={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ka(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new Un("internal-error")}function xa(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(ur(t=new or(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function Ta(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=ao(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=ao(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=ao(t)):t.errorMessage&&(e=os(t.errorMessage)),e)throw e;if(!t[ua])throw new Un("internal-error")}function Sa(t,e){return e.returnIdpCredential=!0,is(t,Qa,e)}function Aa(t,e){return e.returnIdpCredential=!0,is(t,Xa,e)}function Ia(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,is(t,Ya,e)}function Na(t){if(!t.oobCode)throw new Un("invalid-action-code")}(t=sa.prototype).rb=function(t,e){var r={idToken:t},n=[];return nt(Ca,function(t,i){var o=e[i];null===o?n.push(t):i in e&&(r[i]=o)}),n.length&&(r.deleteAttribute=n),is(this,Ga,r)},t.kb=function(t,e){return ut(t={requestType:"PASSWORD_RESET",email:t},e),is(this,Ua,t)},t.lb=function(t,e){return ut(t={requestType:"EMAIL_SIGNIN",email:t},e),is(this,qa,t)},t.jb=function(t,e){return ut(t={requestType:"VERIFY_EMAIL",idToken:t},e),is(this,Va,t)},t.Ua=function(t){return is(this,es,t)},t.Za=function(t,e){return is(this,Ha,{oobCode:t,newPassword:e})},t.Ja=function(t){return is(this,Da,{oobCode:t})},t.Wa=function(t){return is(this,Pa,{oobCode:t})};var Pa={endpoint:"setAccountInfo",B:Na,da:"email"},Da={endpoint:"resetPassword",B:Na,J:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Un("internal-error")}},Oa={endpoint:"signupNewUser",B:function(t){if(wa(t),!t.password)throw new Un("weak-password")},J:_a,R:!0},Ra={endpoint:"createAuthUri"},ja={endpoint:"deleteAccount",T:["idToken"]},Ba={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],B:function(t){if(!u(t.deleteProvider))throw new Un("internal-error")}},Ma={endpoint:"emailLinkSignin",T:["email","oobCode"],B:wa,J:_a,R:!0},Fa={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],B:wa,J:_a,R:!0},La={endpoint:"getAccountInfo"},qa={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Un("internal-error");wa(t)},da:"email"},Va={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Un("internal-error")},da:"email"},Ua={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Un("internal-error");wa(t)},da:"email"},Wa={ub:!0,endpoint:"getProjectConfig",Ib:"GET"},za={ub:!0,endpoint:"getRecaptchaParam",Ib:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new Un("internal-error")}},Ha={endpoint:"resetPassword",B:Na,da:"email"},Ja={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},Ga={endpoint:"setAccountInfo",T:["idToken"],B:ba,R:!0},Ka={endpoint:"setAccountInfo",T:["idToken"],B:function(t){if(ba(t),!t.password)throw new Un("weak-password")},J:_a,R:!0},$a={endpoint:"signupNewUser",J:_a,R:!0},Qa={endpoint:"verifyAssertion",B:ka,Oa:xa,J:Ta,R:!0},Ya={endpoint:"verifyAssertion",B:ka,Oa:xa,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Un("user-not-found");if(t.errorMessage)throw os(t.errorMessage);if(!t[ua])throw new Un("internal-error")},R:!0},Xa={endpoint:"verifyAssertion",B:function(t){if(ka(t),!t.idToken)throw new Un("internal-error")},Oa:xa,J:Ta,R:!0},Za={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new Un("invalid-custom-token")},J:_a,R:!0},ts={endpoint:"verifyPassword",B:function(t){if(wa(t),!t.password)throw new Un("wrong-password")},J:_a,R:!0},es={endpoint:"verifyPhoneNumber",B:Ea,J:_a},rs={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new Un("internal-error");Ea(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",ao(t);_a(t)}},ns={Xb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:Ea,J:_a};function is(t,e,r){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var r=0;r<e.length;r++){var n=t[e[r]];if(null==n||""===n)return!1}return!0}(r,e.T))return Ct(new Un("internal-error"));var n,i=e.Ib||"POST";return Et(r).then(e.B).then(function(){return e.R&&(r.returnSecureToken=!0),function(t,e,r,n,i,o){var a=$e(t.g+e);Ge(a,"key",t.b),o&&Ge(a,"cb",w().toString());var s="GET"==r;if(s)for(var c in n)n.hasOwnProperty(c)&&Ge(a,c,n[c]);return new gt(function(e,o){ma(t,a.toString(),function(t){t?t.error?o(as(t,i||{})):e(t):o(new Un("network-request-failed"))},r,s?void 0:Mr(mn(n)),t.a,t.h.get())})}(t,e.endpoint,i,r,e.Xb,e.ub||!1)}).then(function(t){return n=t,e.Oa?e.Oa(r,n):n}).then(e.J).then(function(){if(!e.da)return n;if(!(e.da in n))throw new Un("internal-error");return n[e.da]})}function os(t){return as({error:{errors:[{message:t}],code:400,message:t}})}function as(t,e){var r=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",n={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(r=n[r]?new Un(n[r]):null)return r;for(var i in r=t.error&&t.error.message||"",ut(n={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},e||{}),e=(e=r.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,n)if(0===r.indexOf(i))return new Un(n[i],e);return!e&&t&&(e=gn(t)),new Un("internal-error",e)}function ss(t){this.b=t,this.a=null,this.fb=function(t){return(hs||(hs=new gt(function(t,e){function n(){bn(),un("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){bn(),e(Error("Network Error"))},timeout:us.get()})}if(un("gapi.iframes.Iframe"))t();else if(un("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();r[i]=function(){un("gapi.load")?n():e(Error("Network Error"))},Et(ta(i=wr(cs,{onload:i}))).s(function(){e(Error("Network Error"))})}}).s(function(t){throw hs=null,t}))).then(function(){return new gt(function(e,r){un("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:un("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(n){function i(){clearTimeout(o),e()}t.a=n,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){r(Error("Network Error"))},ls.get());n.ping(i).then(i,function(){r(Error("Network Error"))})})})})}(this)}var cs=mr("https://apis.google.com/js/api.js?onload=%{onload}"),us=new _n(3e4,6e4),ls=new _n(5e3,15e3),hs=null;function ps(t,e,r){this.i=t,this.g=e,this.h=r,this.f=null,this.a=Qe(this.i,"/__/auth/iframe"),Ge(this.a,"apiKey",this.g),Ge(this.a,"appName",this.h),this.b=null,this.c=[]}function ds(t,e,r,n,i){this.o=t,this.m=e,this.c=r,this.l=n,this.h=this.g=this.i=null,this.a=i,this.f=null}function fs(t){try{return i.a.app(t).auth().ya()}catch(t){return[]}}function gs(t,e,r,n,i){this.m=t,this.f=e,this.b=r,this.c=n||null,this.h=i||null,this.o=this.u=this.v=null,this.g=[],this.l=this.a=null}function ms(t){var e=Wr();return function(t){return is(t,Wa,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var r=$e(e),n=r.c;r=r.b;for(var i=0;i<t.length;i++){var o=t[i],a=r,s=n;if(0==o.indexOf("chrome-extension://")?a=$e(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:Kr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new io(Wr())})}function ys(t){return t.l?t.l:(t.l=Qr().then(function(){if(!t.u){var e=t.c,r=t.h,n=fs(t.b),i=new ps(t.m,t.f,t.b);i.f=e,i.b=r,i.c=q(n||[]),t.u=i.toString()}t.i=new ss(t.u),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.fb.then(function(){t.a.register("authEvent",e,un("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.i,function(e){var r={};if(e&&e.authEvent){var n=!1;for(e=to(e.authEvent),r=0;r<t.g.length;r++)n=t.g[r](e)||n;return(r={}).status=n?"ACK":"ERROR",Et(r)}return r.status="ERROR",Et(r)})}(t)}),t.l)}function vs(t){return t.o||(t.v=t.c?sn(t.c,fs(t.b)):null,t.o=new sa(t.f,hi(t.h),t.v)),t.o}function ws(t,e,r,n,i,o,a,s,c,u){return(t=new ds(t,e,r,n,i)).i=o,t.g=a,t.h=s,t.b=ot(c||null),t.f=u,t.toString()}function bs(t){if(this.a=t||i.a.INTERNAL.reactNative&&i.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Un("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function _s(t){this.b=t,this.a={},this.c=y(this.f,this)}ps.prototype.toString=function(){return this.f?Ge(this.a,"v",this.f):cr(this.a.a,"v"),this.b?Ge(this.a,"eid",this.b):cr(this.a.a,"eid"),this.c.length?Ge(this.a,"fw",this.c.join(",")):cr(this.a.a,"fw"),this.a.toString()},ds.prototype.toString=function(){var t=Qe(this.o,"/__/auth/handler");if(Ge(t,"apiKey",this.m),Ge(t,"appName",this.c),Ge(t,"authType",this.l),this.a.isOAuthProvider){var e=this.a;try{var r=i.a.app(this.c).auth().ea()}catch(t){r=null}for(var n in e.$a=r,Ge(t,"providerId",this.a.providerId),r=mn((e=this.a).yb))r[n]=r[n].toString();n=e.Dc,r=ot(r);for(var o=0;o<n.length;o++){var a=n[o];a in r&&delete r[a]}e.cb&&e.$a&&!r[e.cb]&&(r[e.cb]=e.$a),it(r)||Ge(t,"customParameters",gn(r))}if("function"==typeof this.a.Eb&&((e=this.a.Eb()).length&&Ge(t,"scopes",e.join(","))),this.i?Ge(t,"redirectUrl",this.i):cr(t.a,"redirectUrl"),this.g?Ge(t,"eventId",this.g):cr(t.a,"eventId"),this.h?Ge(t,"v",this.h):cr(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Ke(t,s)&&Ge(t,s,this.b[s]);return this.f?Ge(t,"eid",this.f):cr(t.a,"eid"),(s=fs(this.c)).length&&Ge(t,"fw",s.join(",")),t.toString()},(t=gs.prototype).Ea=function(t,e,r){var n=new Un("popup-closed-by-user"),i=new Un("web-storage-unsupported"),o=this,a=!1;return this.ga().then(function(){(function(t){var e={type:"webStorageSupport"};return ys(t).then(function(){return function(t,e){return t.fb.then(function(){return new gt(function(r){t.a.send(e.type,e,r,un("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(r){r||(t&&Jr(t),e(i),a=!0)})}).s(function(){}).then(function(){if(!a)return function(t){return new gt(function(e){return function r(){Be(2e3).then(function(){if(t&&!t.closed)return r();e()})}()})}(t)}).then(function(){if(!a)return Be(r).then(function(){e(n)})})},t.Mb=function(){var t=cn();return!fn(t)&&!wn(t)},t.Hb=function(){return!1},t.Cb=function(t,e,r,n,i,o,a){if(!t)return Ct(new Un("popup-blocked"));if(a&&!fn())return this.ga().s(function(e){Jr(t),i(e)}),n(),Et();this.a||(this.a=ms(vs(this)));var s=this;return this.a.then(function(){var e=s.ga().s(function(e){throw Jr(t),i(e),e});return n(),e}).then(function(){(Xi(r),a)||zr(ws(s.m,s.f,s.b,e,r,null,o,s.c,void 0,s.h),t)}).s(function(t){throw"auth/network-request-failed"==t.code&&(s.a=null),t})},t.Ca=function(t,e,r){this.a||(this.a=ms(vs(this)));var n=this;return this.a.then(function(){Xi(e),zr(ws(n.m,n.f,n.b,t,e,Wr(),r,n.c,void 0,n.h))}).s(function(t){throw"auth/network-request-failed"==t.code&&(n.a=null),t})},t.ga=function(){var t=this;return ys(this).then(function(){return t.i.fb}).s(function(){throw t.a=null,new Un("network-request-failed")})},t.Qb=function(){return!0},t.wa=function(t){this.g.push(t)},t.Ka=function(t){F(this.g,function(e){return e==t})},(t=bs.prototype).get=function(t){return Et(this.a.getItem(t)).then(function(t){return t&&yn(t)})},t.set=function(t,e){return Et(this.a.setItem(t,gn(e)))},t.P=function(t){return Et(this.a.removeItem(t))},t.Y=function(){},t.ca=function(){};var Es,Cs=[];function ks(t){this.a=t}function xs(t){this.c=t,this.b=!1,this.a=[]}function Ts(t,e,r,n){var i,o,a,s,c=r||{},u=null;if(t.b)return Ct(Error("connection_unavailable"));var l=n?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new gt(function(r,n){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout(function(){n(Error("unsupported_event"))},l),u={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){n(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?r(t.data.response):n(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),n(Error("invalid_response"))))}},t.a.push(u),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:c},[h.port2])):n(Error("connection_unavailable"))}).then(function(e){return Ss(t,u),e}).s(function(e){throw Ss(t,u),e})}function Ss(t,e){if(e){var r=e.messageChannel,n=e.onMessage;r&&(r.port1.removeEventListener("message",n),r.port1.close()),F(t.a,function(t){return t==e})}}function As(){if(!Ps())throw new Un("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=r.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.u=!1,this.h=null;var t=this;Zr()&&self?(this.l=function(){var t=Zr()?self:null;if(O(Cs,function(r){r.b==t&&(e=r)}),!e){var e=new _s(t);Cs.push(e)}return e}(),this.l.subscribe("keyChanged",function(e,r){return Bs(t).then(function(e){return 0<e.length&&O(t.a,function(t){t(e)}),{keyProcessed:B(e,r.key)}})}),this.l.subscribe("ping",function(){return Et(["keyChanged"])})):function(){var t=r.navigator;return t&&t.serviceWorker?Et().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).s(function(){return null}):Et(null)}().then(function(e){(t.h=e)&&(t.g=new xs(new ks(e)),Ts(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&B(e[0].value,"keyChanged")&&(t.u=!0)}).s(function(){}))})}function Is(t){return new gt(function(e,r){var n=t.m.open("firebaseLocalStorageDb",1);n.onerror=function(t){try{t.preventDefault()}catch(t){}r(Error(t.target.error))},n.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){r(t)}},n.onsuccess=function(n){(n=n.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(n):function(t){return new gt(function(e,r){var n=t.m.deleteDatabase("firebaseLocalStorageDb");n.onsuccess=function(){e()},n.onerror=function(t){r(Error(t.target.error))}})}(t).then(function(){return Is(t)}).then(function(t){e(t)}).s(function(t){r(t)})}})}function Ns(t){return t.o||(t.o=Is(t)),t.o}function Ps(){try{return!!r.indexedDB}catch(t){return!1}}function Ds(t){return t.objectStore("firebaseLocalStorage")}function Os(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Rs(t){return new gt(function(e,r){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){r(t.target.error)}})}function js(t,e){return t.g&&t.h&&function(){var t=r.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Ts(t.g,"keyChanged",{key:e},t.u).then(function(){}).s(function(){}):Et()}function Bs(t){return Ns(t).then(function(t){var e=Ds(Os(t,!1));return e.getAll?Rs(e.getAll()):new gt(function(t,r){var n=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(n.push(e.value),e.continue()):t(n)},i.onerror=function(t){r(t.target.error)}})}).then(function(e){var r={},n=[];if(0==t.b){for(n=0;n<e.length;n++)r[e[n].fbase_key]=e[n].value;n=function t(e,r){var n,i=[];for(n in e)n in r?typeof e[n]!=typeof r[n]?i.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=r[n]?0<t(e[n],r[n]).length&&i.push(n):e[n]!==r[n]&&i.push(n):i.push(n);for(n in r)n in e||i.push(n);return i}(t.c,r),t.c=r}return n})}function Ms(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Fs(t){var e=this,r=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Et().then(function(){if(Ps()){var t=vn(),n="__sak"+t;return Es||(Es=new As),(r=Es).set(n,t).then(function(){return r.get(n)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return r.P(n)}).then(function(){return r}).s(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.Y(function(t){O(e.a,function(e){e(t)})}),t})}function Ls(){this.a={},this.type="inMemory"}function qs(){if(!function(){var t="Node"==tn();if(!(t=Vs()||t&&i.a.INTERNAL.node&&i.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==tn())throw new Un("internal-error","The LocalStorage compatibility library was not found.");throw new Un("web-storage-unsupported")}this.a=Vs()||i.a.INTERNAL.node.localStorage,this.type="localStorage"}function Vs(){try{var t=r.localStorage,e=vn();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Us(){this.type="nullStorage"}function Ws(){if(!function(){var t="Node"==tn();if(!(t=zs()||t&&i.a.INTERNAL.node&&i.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==tn())throw new Un("internal-error","The SessionStorage compatibility library was not found.");throw new Un("web-storage-unsupported")}this.a=zs()||i.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function zs(){try{var t=r.sessionStorage,e=vn();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Hs(){var t={};t.Browser=Ks,t.Node=$s,t.ReactNative=Qs,t.Worker=Ys,this.a=t[tn()]}_s.prototype.f=function(t){var e=t.data.eventType,r=t.data.eventId,n=this.a[e];if(n&&0<n.length){t.ports[0].postMessage({status:"ack",eventId:r,eventType:e,response:null});var i=[];O(n,function(e){i.push(Et().then(function(){return e(t.origin,t.data.data)}))}),xt(i).then(function(n){var i=[];O(n,function(t){i.push({fulfilled:t.Db,value:t.value,reason:t.reason?t.reason.message:void 0})}),O(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:r,eventType:e,response:i})})}},_s.prototype.subscribe=function(t,e){it(this.a)&&this.b.addEventListener("message",this.c),void 0===this.a[t]&&(this.a[t]=[]),this.a[t].push(e)},_s.prototype.unsubscribe=function(t,e){void 0!==this.a[t]&&e?(F(this.a[t],function(t){return t==e}),0==this.a[t].length&&delete this.a[t]):e||delete this.a[t],it(this.a)&&this.b.removeEventListener("message",this.c)},ks.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},xs.prototype.close=function(){for(;0<this.a.length;)Ss(this,this.a[0]);this.b=!0},(t=As.prototype).set=function(t,e){var r,n=!1,i=this;return Ns(this).then(function(e){return Rs((e=Ds(Os(r=e,!0))).get(t))}).then(function(o){var a=Ds(Os(r,!0));return o?(o.value=e,Rs(a.put(o))):(i.b++,n=!0,(o={}).fbase_key=t,o.value=e,Rs(a.add(o)))}).then(function(){return i.c[t]=e,js(i,t)}).ia(function(){n&&i.b--})},t.get=function(t){return Ns(this).then(function(e){return Rs(Ds(Os(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.P=function(t){var e=!1,r=this;return Ns(this).then(function(n){return e=!0,r.b++,Rs(Ds(Os(n,!0)).delete(t))}).then(function(){return delete r.c[t],js(r,t)}).ia(function(){e&&r.b--})},t.Y=function(t){0==this.a.length&&function(t){Ms(t),function e(){t.f=setTimeout(function(){t.i=Bs(t).then(function(e){0<e.length&&O(t.a,function(t){t(e)})}).then(function(){e()}).s(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ca=function(t){F(this.a,function(e){return e==t}),0==this.a.length&&Ms(this)},(t=Fs.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(r){return r.set(t,e)})},t.P=function(t){return this.b.then(function(e){return e.P(t)})},t.Y=function(t){this.a.push(t)},t.ca=function(t){F(this.a,function(e){return e==t})},(t=Ls.prototype).get=function(t){return Et(this.a[t])},t.set=function(t,e){return this.a[t]=e,Et()},t.P=function(t){return delete this.a[t],Et()},t.Y=function(){},t.ca=function(){},(t=qs.prototype).get=function(t){var e=this;return Et().then(function(){return yn(e.a.getItem(t))})},t.set=function(t,e){var r=this;return Et().then(function(){var n=gn(e);null===n?r.P(t):r.a.setItem(t,n)})},t.P=function(t){var e=this;return Et().then(function(){e.a.removeItem(t)})},t.Y=function(t){r.window&&we(r.window,"storage",t)},t.ca=function(t){r.window&&Ee(r.window,"storage",t)},(t=Us.prototype).get=function(){return Et(null)},t.set=function(){return Et()},t.P=function(){return Et()},t.Y=function(){},t.ca=function(){},(t=Ws.prototype).get=function(t){var e=this;return Et().then(function(){return yn(e.a.getItem(t))})},t.set=function(t,e){var r=this;return Et().then(function(){var n=gn(e);null===n?r.P(t):r.a.setItem(t,n)})},t.P=function(t){var e=this;return Et().then(function(){e.a.removeItem(t)})},t.Y=function(){},t.ca=function(){};var Js,Gs,Ks={A:qs,Ra:Ws},$s={A:qs,Ra:Ws},Qs={A:bs,Ra:Us},Ys={A:qs,Ra:Us},Xs={Zc:"local",NONE:"none",ad:"session"};function Zs(){var t=!(wn(cn())||!Xr()),e=fn(),n=ln();this.o=t,this.h=e,this.l=n,this.a={},Js||(Js=new Hs),t=Js;try{this.g=!Ur()&&kn()||!r.indexedDB?new t.a.A:new Fs(Zr()?new Ls:new t.a.A)}catch(t){this.g=new Ls,this.h=!0}try{this.i=new t.a.Ra}catch(t){this.i=new Ls}this.m=new Ls,this.f=y(this.Pb,this),this.b={}}function tc(){return Gs||(Gs=new Zs),Gs}function ec(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function rc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function nc(t,e,r){return r=rc(e,r),"local"==e.A&&(t.b[r]=null),ec(t,e.A).P(r)}function ic(t){t.c&&(clearInterval(t.c),t.c=null)}function oc(t){this.a=t,this.b=tc()}(t=Zs.prototype).get=function(t,e){return ec(this,t.A).get(rc(t,e))},t.set=function(t,e,r){var n=rc(t,r),i=this,o=ec(this,t.A);return o.set(n,e).then(function(){return o.get(n)}).then(function(e){"local"==t.A&&(i.b[n]=e)})},t.addListener=function(t,e,n){t=rc(t,e),this.l&&(this.b[t]=r.localStorage.getItem(t)),it(this.a)&&(ec(this,"local").Y(this.f),this.h||(Ur()||!kn())&&r.indexedDB||!this.l||function(t){ic(t),t.c=setInterval(function(){for(var e in t.a){var n=r.localStorage.getItem(e),i=t.b[e];n!=i&&(t.b[e]=n,n=new ce({type:"storage",key:e,target:window,oldValue:i,newValue:n,a:!0}),t.Pb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,r){t=rc(t,e),this.a[t]&&(F(this.a[t],function(t){return t==r}),0==this.a[t].length&&delete this.a[t]),it(this.a)&&(ec(this,"local").ca(this.f),ic(this))},t.Pb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var i=this.b[n];void 0===i&&(i=null);var o=r.localStorage.getItem(n);o!==i&&(this.b[n]=o,this.Xa(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?ec(this,"local").ca(this.f):ic(this),this.o)if(n=r.localStorage.getItem(e),(i=t.a.newValue)!==n)null!==i?r.localStorage.setItem(e,i):r.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var a=this;n=function(){void 0===t.a.a&&a.b[e]===r.localStorage.getItem(e)||(a.b[e]=r.localStorage.getItem(e),a.Xa(e))},zt&&Zt&&10==Zt&&r.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else O(t,y(this.Xa,this))},t.Xa=function(t){this.a[t]&&O(this.a[t],function(t){t()})};var ac,sc={name:"authEvent",A:"local"};function cc(){this.a=tc()}function uc(t,e){this.b=lc,this.f=r.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=r.Int32Array?new Int32Array(64):Array(64),void 0!==ac||(ac=r.Int32Array?new Int32Array(yc):yc),this.reset()}b(uc,function(){this.b=-1});for(var lc=64,hc=lc-1,pc=[],dc=0;dc<hc;dc++)pc[dc]=0;var fc=L(128,pc);function gc(t){for(var e=t.f,r=t.l,n=0,i=0;i<e.length;)r[n++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*n;for(e=16;64>e;e++){i=0|r[e-15],n=0|r[e-2];var o=(0|r[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|r[e-7])+((n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10)|0;r[e]=o+a|0}n=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],c=0|t.a[3],u=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var p=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&s^i&s)|0;a=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((a=(a=u&l^~u&h)+(0|ac[e])|0)+(0|r[e])|0)|0,o=h,h=l,l=u,u=c+a|0,c=s,s=i,i=n,n=a+p|0}t.a[0]=t.a[0]+n|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+c|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function mc(t,e,r){void 0===r&&(r=e.length);var i=0,o=t.c;if(n(e))for(;i<r;)t.f[o++]=e.charCodeAt(i++),o==t.b&&(gc(t),o=0);else{if(!l(e))throw Error("message must be string or array");for(;i<r;){var a=e[i++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");t.f[o++]=a,o==t.b&&(gc(t),o=0)}}t.c=o,t.g+=r}uc.prototype.reset=function(){this.g=this.c=0,this.a=r.Int32Array?new Int32Array(this.h):q(this.h)};var yc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function vc(){uc.call(this,8,wc)}b(vc,uc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function bc(t,e,r,n,i){this.m=t,this.i=e,this.l=r,this.o=n||null,this.u=i||null,this.h=e+":"+r,this.v=new cc,this.g=new oc(this.h),this.f=null,this.b=[],this.a=this.c=null}function _c(t){return new Un("invalid-cordova-configuration",t)}function Ec(t){var e=new vc;mc(e,t),t=[];var r=8*e.g;56>e.c?mc(e,fc,56-e.c):mc(e,fc,e.b-(e.c-56));for(var n=63;56<=n;n--)e.f[n]=255&r,r/=256;for(gc(e),n=r=0;n<e.i;n++)for(var i=24;0<=i;i-=8)t[r++]=e.a[n]>>i&255;return function(t){return R(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}function Cc(t,e){for(var r=0;r<t.b.length;r++)try{t.b[r](e)}catch(t){}}function kc(t){return t.f||(t.f=t.ga().then(function(){return new gt(function(e){t.wa(function r(n){return e(n),t.Ka(r),!1}),function(t){function e(e){i=!0,o&&o.cancel(),xc(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=Ti(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=yn(Ke(o=$e(i),"firebaseError")||null))?Wn(o):null)?new Zi(r.b,r.c,null,null,o):new Zi(r.b,r.c,i,r.g)),i=o||n}Cc(t,i)})}var n=new Zi("unknown",null,null,null,new Un("no-auth-event")),i=!1,o=Be(500).then(function(){return xc(t).then(function(){i||Cc(t,n)})}),a=r.handleOpenURL;r.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(un("BuildInfo.packageName",r).toLowerCase()+"://")&&e({url:t}),"function"==typeof a)try{a(t)}catch(t){console.error(t)}},no||(no=new eo),no.subscribe(e)}(t)})})),t.f}function xc(t){var e=null;return function(t){return t.b.get(sc,t.a).then(function(t){return to(t)})}(t.g).then(function(r){return e=r,nc((r=t.g).b,sc,r.a)}).then(function(){return e})}function Tc(t){this.a=t,this.b=tc()}(t=bc.prototype).ga=function(){return this.za?this.za:this.za=(Yr(void 0)?Qr().then(function(){return new gt(function(t,e){var n=r.document,i=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(i),t()},!1)})}):Ct(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof un("universalLinks.subscribe",r))throw _c("cordova-universal-links-plugin-fix is not installed");if(void 0===un("BuildInfo.packageName",r))throw _c("cordova-plugin-buildinfo is not installed");if("function"!=typeof un("cordova.plugins.browsertab.openUrl",r))throw _c("cordova-plugin-browsertab is not installed");if("function"!=typeof un("cordova.InAppBrowser.open",r))throw _c("cordova-plugin-inappbrowser is not installed")},function(){throw new Un("cordova-not-ready")})},t.Ea=function(t,e){return e(new Un("operation-not-supported-in-this-environment")),Et()},t.Cb=function(){return Ct(new Un("operation-not-supported-in-this-environment"))},t.Qb=function(){return!1},t.Mb=function(){return!0},t.Hb=function(){return!0},t.Ca=function(t,e,n){if(this.c)return Ct(new Un("redirect-operation-pending"));var i=this,o=r.document,a=null,s=null,c=null,u=null;return this.c=Et().then(function(){return Xi(e),kc(i)}).then(function(){return function(t,e,n,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Zi(e,i,null,o,new Un("no-auth-event")),s=un("BuildInfo.packageName",r);if("string"!=typeof s)throw new Un("invalid-cordova-configuration");var c=un("BuildInfo.displayName",r),u={};if(cn().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=s;else{if(!cn().toLowerCase().match(/android/))return Ct(new Un("operation-not-supported-in-this-environment"));u.apn=s}c&&(u.appDisplayName=c),o=Ec(o),u.sessionId=o;var l=ws(t.m,t.i,t.l,e,n,null,i,t.o,u,t.u);return t.ga().then(function(){var e=t.h;return t.v.a.set(sc,a.C(),e)}).then(function(){var e=un("cordova.plugins.browsertab.isAvailable",r);if("function"!=typeof e)throw new Un("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=un("cordova.plugins.browsertab.openUrl",r)))throw new Un("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=un("cordova.InAppBrowser.open",r)))throw new Un("invalid-cordova-configuration");e=!(!(e=cn()).match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.a=n(l,e?"_blank":"_system","location=yes")}})})}(i,t,e,n)}).then(function(){return new gt(function(t,e){s=function(){var e=un("cordova.plugins.browsertab.close",r);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.wa(s),c=function(){a||(a=Be(2e3).then(function(){e(new Un("redirect-cancelled-by-user"))}))},u=function(){En()&&c()},o.addEventListener("resume",c,!1),cn().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",u,!1)}).s(function(t){return xc(i).then(function(){throw t})})}).ia(function(){c&&o.removeEventListener("resume",c,!1),u&&o.removeEventListener("visibilitychange",u,!1),a&&a.cancel(),s&&i.Ka(s),i.c=null})},t.wa=function(t){this.b.push(t),kc(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Zi("unknown",null,null,null,new Un("no-auth-event")),t(e))})},t.Ka=function(t){F(this.b,function(e){return e==t})};var Sc={name:"pendingRedirect",A:"session"};function Ac(t){return nc(t.b,Sc,t.a)}function Ic(t,e,r){this.u=t,this.l=e,this.m=r,this.h=[],this.f=!1,this.i=y(this.bb,this),this.b=new Lc,this.o=new Wc,this.g=new Tc(this.l+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.o,this.c.linkViaPopup=this.o,this.c.reauthViaPopup=this.o,this.a=Nc(this.u,this.l,this.m,ui)}function Nc(t,e,r,n){var o=i.a.SDK_VERSION||null;return Yr()?new bc(t,e,r,o,n):new gs(t,e,r,o,n)}function Pc(t){t.f||(t.f=!0,t.a.wa(t.i));var e=t.a;return t.a.ga().s(function(r){throw t.a==e&&t.reset(),r})}function Dc(t){t.a.Mb()&&Pc(t).s(function(e){var r=new Zi("unknown",null,null,null,new Un("operation-not-supported-in-this-environment"));Bc(e)&&t.bb(r)}),t.a.Hb()||qc(t.b)}(t=Ic.prototype).reset=function(){this.f=!1,this.a.Ka(this.i),this.a=Nc(this.u,this.l,this.m)},t.Ya=function(){this.b.Ya()},t.subscribe=function(t){if(B(this.h,t)||this.h.push(t),!this.f){var e=this;(function(t){return t.b.get(Sc,t.a).then(function(t){return"pending"==t})})(this.g).then(function(t){t?Ac(e.g).then(function(){Pc(e).s(function(t){var r=new Zi("unknown",null,null,null,new Un("operation-not-supported-in-this-environment"));Bc(t)&&e.bb(r)})}):Dc(e)}).s(function(){Dc(e)})}},t.unsubscribe=function(t){F(this.h,function(e){return e==t})},t.bb=function(t){if(!t)throw new Un("invalid-auth-event");for(var e=!1,r=0;r<this.h.length;r++){var n=this.h[r];if(n.vb(t.b,t.c)){(e=this.c[t.b])&&e.h(t,n),e=!0;break}}return qc(this.b),e};var Oc=new _n(2e3,1e4),Rc=new _n(3e4,6e4);function jc(t,e,r,n,i,o){return t.a.Cb(e,r,n,function(){t.f||(t.f=!0,t.a.wa(t.i))},function(){t.reset()},i,o)}function Bc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}Ic.prototype.fa=function(){return this.b.fa()},Ic.prototype.Ca=function(t,e,r){var n,i=this;return function(t){return t.b.set(Sc,"pending",t.a)}(this.g).then(function(){return i.a.Ca(t,e,r).s(function(t){if(Bc(t))throw new Un("operation-not-supported-in-this-environment");return n=t,Ac(i.g).then(function(){throw n})}).then(function(){return i.a.Qb()?new gt(function(){}):Ac(i.g).then(function(){return i.fa()}).then(function(){}).s(function(){})})})},Ic.prototype.Ea=function(t,e,r,n){return this.a.Ea(r,function(r){t.ha(e,null,r,n)},Oc.get())};var Mc={};function Fc(t,e,r){var n=e+":"+r;return Mc[n]||(Mc[n]=new Ic(t,e,r)),Mc[n]}function Lc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function qc(t){t.g||(t.g=!0,Uc(t,!1,null,null))}function Vc(t,e){if(t.b=function(){return Et(e)},t.f.length)for(var r=0;r<t.f.length;r++)t.f[r](e)}function Uc(t,e,r,n){e?n?function(t,e){if(t.b=function(){return Ct(e)},t.c.length)for(var r=0;r<t.c.length;r++)t.c[r](e)}(t,n):Vc(t,r):Vc(t,{user:null}),t.f=[],t.c=[]}function Wc(){}function zc(){this.sb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.sb},set:function(t){this.sb=t},enumerable:!1})}function Hc(t,e){this.a=e,In(this,"verificationId",t)}function Jc(t,e,r,n){return new $i(t).Ua(e,r).then(function(t){return new Hc(t,n)})}function Gc(t){var e=ci(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Un("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Nn(this,{token:t,expirationTime:Cn(1e3*e.exp),authTime:Cn(1e3*e.auth_time),issuedAtTime:Cn(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function Kc(t,e,r){if(this.h=t,this.i=e,this.g=r,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function $c(t){this.f=t,this.b=this.a=null,this.c=0}function Qc(t,e){var r=e[ua],n=e.refreshToken;e=Yc(e.expiresIn),t.b=r,t.c=e,t.a=n}function Yc(t){return w()+1e3*parseInt(t,10)}function Xc(t,e){return function(t,e){return new gt(function(r,n){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ma(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?n(as(t)):t.access_token&&t.refresh_token?r(t):n(new Un("internal-error")):n(new Un("network-request-failed"))},"POST",sr(e).toString(),t.f,t.l.get()):n(new Un("internal-error"))})}(t.f,e).then(function(e){return t.b=e.access_token,t.c=Yc(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}function Zc(t,e){this.a=t||null,this.b=e||null,Nn(this,{lastSignInTime:Cn(e||null),creationTime:Cn(t||null)})}function tu(t,e,r,n,i,o){Nn(this,{uid:t,displayName:n||null,photoURL:i||null,email:r||null,phoneNumber:o||null,providerId:e})}function eu(t,e){for(var r in se.call(this,t),e)this[r]=e[r]}function ru(t,e,r){this.G=[],this.m=t.apiKey,this.o=t.appName,this.u=t.authDomain||null,t=i.a.SDK_VERSION?sn(i.a.SDK_VERSION):null,this.b=new sa(this.m,hi(ui),t),this.h=new $c(this.b),uu(this,e[ua]),Qc(this.h,e),In(this,"refreshToken",this.h.a),pu(this,r||{}),Pe.call(this),this.I=!1,this.u&&hn()&&(this.a=Fc(this.u,this.m,this.o)),this.N=[],this.i=null,this.w=function(t){return new Kc(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-w()-3e5;return 0<e?e:0})}(this),this.V=y(this.Ha,this);var n=this;this.ka=null,this.ta=function(t){n.pa(t.g)},this.X=null,this.O=[],this.sa=function(t){iu(n,t.c)},this.W=null}function nu(t,e){t.X&&Ee(t.X,"languageCodeChanged",t.ta),(t.X=e)&&we(e,"languageCodeChanged",t.ta)}function iu(t,e){t.O=e,ga(t.b,i.a.SDK_VERSION?sn(i.a.SDK_VERSION,t.O):null)}function ou(t,e){t.W&&Ee(t.W,"frameworkChanged",t.sa),(t.W=e)&&we(e,"frameworkChanged",t.sa)}function au(t){try{return i.a.app(t.o).auth()}catch(e){throw new Un("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.o+"'!")}}function su(t){t.D||t.w.b||(t.w.start(),Ee(t,"tokenChanged",t.V),we(t,"tokenChanged",t.V))}function cu(t){Ee(t,"tokenChanged",t.V),t.w.stop()}function uu(t,e){t.ra=e,In(t,"_lat",e)}function lu(t){for(var e=[],r=0;r<t.N.length;r++)e.push(t.N[r](t));return xt(e).then(function(){return t})}function hu(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function pu(t,e){Nn(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new Zc(e.createdAt,e.lastLoginAt),providerData:[]})}function du(){}function fu(t){return Et().then(function(){if(t.D)throw new Un("app-deleted")})}function gu(t){return R(t.providerData,function(t){return t.providerId})}function mu(t,e){e&&(yu(t,e.providerId),t.providerData.push(e))}function yu(t,e){F(t.providerData,function(t){return t.providerId==e})}function vu(t,e,r){("uid"!=e||r)&&t.hasOwnProperty(e)&&In(t,e,r)}function wu(t,e){t!=e&&(Nn(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),e.metadata?In(t,"metadata",function(t){return new Zc(t.a,t.b)}(e.metadata)):In(t,"metadata",new Zc),O(e.providerData,function(e){mu(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),In(t,"refreshToken",t.h.a))}function bu(t){return t.F().then(function(e){var r=t.isAnonymous;return function(t,e){return is(t.b,La,{idToken:e}).then(y(t.xc,t))}(t,e).then(function(){return r||vu(t,"isAnonymous",!1),e})})}function _u(t,e){e[ua]&&t.ra!=e[ua]&&(Qc(t.h,e),t.dispatchEvent(new eu("tokenChanged")),uu(t,e[ua]),vu(t,"refreshToken",t.h.a))}function Eu(t,e){return bu(t).then(function(){if(B(gu(t),e))return lu(t).then(function(){throw new Un("provider-already-linked")})})}function Cu(t,e,r){return Pn({user:t,credential:Yi(e),additionalUserInfo:e=mi(e),operationType:r})}function ku(t,e){return _u(t,e),t.reload().then(function(){return t})}function xu(t,e,r,n,o){if(!hn())return Ct(new Un("operation-not-supported-in-this-environment"));if(t.i&&!o)return Ct(t.i);var a=gi(r.providerId),s=vn(t.uid+":::"),c=null;(!fn()||Xr())&&t.u&&r.isOAuthProvider&&(c=ws(t.u,t.m,t.o,e,r,null,s,i.a.SDK_VERSION||null));var u=Gr(c,a&&a.Ba,a&&a.Aa);return n=n().then(function(){if(Su(t),!o)return t.F().then(function(){})}).then(function(){return jc(t.a,u,e,r,s,!!c)}).then(function(){return new gt(function(r,n){t.ha(e,null,new Un("cancelled-popup-request"),t.g||null),t.f=r,t.v=n,t.g=s,t.c=t.a.Ea(t,e,u,s)})}).then(function(t){return u&&Jr(u),t?Pn(t):null}).s(function(t){throw u&&Jr(u),t}),Au(t,n,o)}function Tu(t,e,r,n,i){if(!hn())return Ct(new Un("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ct(t.i);var o=null,a=vn(t.uid+":::");return n=n().then(function(){if(Su(t),!i)return t.F().then(function(){})}).then(function(){return t.aa=a,lu(t)}).then(function(e){return t.ba&&(e=(e=t.ba).b.set(Pu,t.C(),e.a)),e}).then(function(){return t.a.Ca(e,r,a)}).s(function(e){if(o=e,t.ba)return Du(t.ba);throw o}).then(function(){if(o)throw o}),Au(t,n,i)}function Su(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new Un("internal-error");throw new Un("auth-domain-config-required")}}function Au(t,e,r){var n=function(t,e,r){return t.i&&!r?(e.cancel(),Ct(t.i)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new eu("userInvalidated")),t.i=e),e})}(t,e,r);return t.G.push(n),n.ia(function(){M(t.G,n)}),n}function Iu(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},r={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;r[ua]=t.stsTokenManager.accessToken,r.refreshToken=t.stsTokenManager.refreshToken||null,r.expiresIn=(t.stsTokenManager.expirationTime-w())/1e3;var n=new ru(e,r,t);return t.providerData&&O(t.providerData,function(t){t&&mu(n,Pn(t))}),t.redirectEventId&&(n.aa=t.redirectEventId),n}function Nu(t){this.a=t,this.b=tc()}Lc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Lc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var r=t.b,n=t.c,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=r||i||o?t.a?(Uc(this,!0,null,t.a),Et()):e.xa(r,n)?function(t,e,r){r=r.xa(e.b,e.c);var n=e.f,i=e.g,o=e.h,a=!!e.b.match(/Redirect$/);r(n,i,o).then(function(e){Uc(t,a,e,null)}).s(function(e){Uc(t,a,null,e)})}(this,t,e):Ct(new Un("invalid-auth-event")):(Uc(this,!1,null,null),Et())}else Ct(new Un("invalid-auth-event"))},Lc.prototype.Ya=function(){this.g&&!this.i&&Uc(this,!1,null,null)},Lc.prototype.fa=function(){var t=this;return new gt(function(e,r){t.b?t.b().then(e,r):(t.f.push(e),t.c.push(r),function(t){var e=new Un("timeout");t.a&&t.a.cancel(),t.a=Be(Rc.get()).then(function(){t.b||(t.g=!0,Uc(t,!0,null,e))})}(t))})},Wc.prototype.h=function(t,e){if(t){var r=t.b,n=t.c;t.a?(e.ha(t.b,null,t.a,t.c),Et()):e.xa(r,n)?function(t,e){var r=t.c,n=t.b;e.xa(n,r)(t.f,t.g,t.h).then(function(t){e.ha(n,t,null,r)}).s(function(t){e.ha(n,null,t,r)})}(t,e):Ct(new Un("invalid-auth-event"))}else Ct(new Un("invalid-auth-event"))},Hc.prototype.confirm=function(t){return t=Qi(this.verificationId,t),this.a(t)},Kc.prototype.start=function(){this.a=this.c,function t(e,n){e.stop();e.b=Be(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then(function(){return function(){var t=r.document,e=null;return En()||!t?Et():new gt(function(r){e=function(){En()&&(t.removeEventListener("visibilitychange",e,!1),r())},t.addEventListener("visibilitychange",e,!1)}).s(function(r){throw t.removeEventListener("visibilitychange",e,!1),r})}()}).then(function(){return e.h()}).then(function(){t(e,!0)}).s(function(r){e.i(r)&&t(e,!1)})}(this,!0)},Kc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},$c.prototype.C=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},$c.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ct(new Un("user-token-expired")):t||!this.b||w()>this.c-3e4?this.a?Xc(this,{grant_type:"refresh_token",refresh_token:this.a}):Et(null):Et({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Zc.prototype.C=function(){return{lastLoginAt:this.b,createdAt:this.a}},b(eu,se),b(ru,Pe),ru.prototype.pa=function(t){this.ka=t,fa(this.b,t)},ru.prototype.ea=function(){return this.ka},ru.prototype.ya=function(){return q(this.O)},ru.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},In(ru.prototype,"providerId","firebase"),(t=ru.prototype).reload=function(){var t=this;return Au(this,fu(this).then(function(){return bu(t).then(function(){return lu(t)}).then(du)}))},t.dc=function(t){return this.F(t).then(function(t){return new Gc(t)})},t.F=function(t){var e=this;return Au(this,fu(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new Un("internal-error");return t.accessToken!=e.ra&&(uu(e,t.accessToken),e.dispatchEvent(new eu("tokenChanged"))),vu(e,"refreshToken",t.refreshToken),t.accessToken}))},t.xc=function(t){if(!(t=t.users)||!t.length)throw new Un("internal-error");pu(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?R(t,function(t){return new tu(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),r=0;r<e.length;r++)mu(this,e[r]);vu(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.gb=function(t){var e=this,r=null;return Au(this,t.f(this.b,this.uid).then(function(t){return _u(e,t),r=Cu(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return r}),!0)},t.yc=function(t){return Sn("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead."),this.gb(t).then(function(){})},t.eb=function(t){var e=this,r=null;return Au(this,Eu(this,t.providerId).then(function(){return e.F()}).then(function(r){return t.b(e.b,r)}).then(function(t){return r=Cu(e,t,"link"),ku(e,t)}).then(function(){return r}))},t.pc=function(t){return Sn("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead."),this.eb(t).then(function(t){return t.user})},t.qc=function(t,e){var r=this;return Au(this,Eu(this,"phone").then(function(){return Jc(au(r),t,e,y(r.eb,r))}))},t.zc=function(t,e){var r=this;return Au(this,Et().then(function(){return Jc(au(r),t,e,y(r.gb,r))}),!0)},t.pb=function(t){var e=this;return Au(this,this.F().then(function(r){return e.b.pb(r,t)}).then(function(t){return _u(e,t),e.reload()}))},t.Rc=function(t){var e=this;return Au(this,this.F().then(function(r){return t.b(e.b,r)}).then(function(t){return _u(e,t),e.reload()}))},t.qb=function(t){var e=this;return Au(this,this.F().then(function(r){return e.b.qb(r,t)}).then(function(t){return _u(e,t),e.reload()}))},t.rb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return fu(this);var e=this;return Au(this,this.F().then(function(r){return e.b.rb(r,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return _u(e,t),vu(e,"displayName",t.displayName||null),vu(e,"photoURL",t.photoUrl||null),O(e.providerData,function(t){"password"===t.providerId&&(In(t,"displayName",e.displayName),In(t,"photoURL",e.photoURL))}),lu(e)}).then(du))},t.Pc=function(t){var e=this;return Au(this,bu(this).then(function(r){return B(gu(e),t)?function(t,e,r){return is(t,Ba,{idToken:e,deleteProvider:r})}(e.b,r,[t]).then(function(t){var r={};return O(t.providerUserInfo||[],function(t){r[t.providerId]=!0}),O(gu(e),function(t){r[t]||yu(e,t)}),r[$i.PROVIDER_ID]||In(e,"phoneNumber",null),lu(e)}):lu(e).then(function(){throw new Un("no-such-provider")})}))},t.delete=function(){var t=this;return Au(this,this.F().then(function(e){return is(t.b,ja,{idToken:e})}).then(function(){t.dispatchEvent(new eu("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");nu(t,null),ou(t,null),t.G=[],t.D=!0,cu(t),In(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},t.vb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.aa||null)==e||"reauthViaRedirect"==t&&(this.aa||null)==e)},t.ha=function(t,e,r,n){"linkViaPopup"!=t&&"reauthViaPopup"!=t||n!=(this.g||null)||(r&&this.v?this.v(r):e&&!r&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.xa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?y(this.Ab,this):"reauthViaPopup"==t&&e==(this.g||null)?y(this.Bb,this):"linkViaRedirect"==t&&(this.aa||null)==e?y(this.Ab,this):"reauthViaRedirect"==t&&(this.aa||null)==e?y(this.Bb,this):null},t.rc=function(t){var e=this;return xu(this,"linkViaPopup",t,function(){return Eu(e,t.providerId).then(function(){return lu(e)})},!1)},t.Ac=function(t){return xu(this,"reauthViaPopup",t,function(){return Et()},!0)},t.sc=function(t){var e=this;return Tu(this,"linkViaRedirect",t,function(){return Eu(e,t.providerId)},!1)},t.Bc=function(t){return Tu(this,"reauthViaRedirect",t,function(){return Et()},!0)},t.Ab=function(t,e,r){var n=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return Au(this,this.F().then(function(i){return Aa(n.b,{requestUri:t,postBody:r,sessionId:e,idToken:i})}).then(function(t){return i=Cu(n,t,"link"),ku(n,t)}).then(function(){return i}))},t.Bb=function(t,e,r){var n=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return Au(this,Et().then(function(){return Si(Ia(n.b,{requestUri:t,sessionId:e,postBody:r}),n.uid)}).then(function(t){return i=Cu(n,t,"reauthenticate"),_u(n,t),n.i=null,n.reload()}).then(function(){return i}),!0)},t.jb=function(t){var e=this,r=null;return Au(this,this.F().then(function(e){return r=e,void 0===t||it(t)?{}:ri(new Jn(t))}).then(function(t){return e.b.jb(r,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.toJSON=function(){return this.C()},t.C=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.m,appName:this.o,authDomain:this.u,stsTokenManager:this.h.C(),redirectEventId:this.aa||null};return this.metadata&&ut(t,this.metadata.C()),O(this.providerData,function(e){t.providerData.push(function(t){var e,r={};for(e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r}(e))}),t};var Pu={name:"redirectUser",A:"session"};function Du(t){return nc(t.b,Pu,t.a)}function Ou(t){this.a=t,this.b=tc(),this.c=null,this.f=function(t){var e=Bu("local"),n=Bu("session"),i=Bu("none");return function(t,e,n){var i=rc(e,n),o=ec(t,e.A);return t.get(e,n).then(function(a){var s=null;try{s=yn(r.localStorage.getItem(i))}catch(t){}if(s&&!a)return r.localStorage.removeItem(i),t.set(e,s,n);s&&a&&"localStorage"!=o.type&&r.localStorage.removeItem(i)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(r){return r?n:t.b.get(i,t.a).then(function(r){return r?i:t.b.get(e,t.a).then(function(r){return r?e:t.b.get(ju,t.a).then(function(t){return t?Bu(t):e})})})}).then(function(e){return t.c=e,Ru(t,e.A)}).s(function(){t.c||(t.c=e)})}(this),this.b.addListener(Bu("local"),this.a,y(this.g,this))}function Ru(t,e){var r,n=[];for(r in Xs)Xs[r]!==e&&n.push(nc(t.b,Bu(Xs[r]),t.a));return n.push(nc(t.b,ju,t.a)),function(t){return new gt(function(e,r){var n=t.length,i=[];if(n)for(var o=function(t,r){n--,i[t]=r,0==n&&e(i)},a=function(t){r(t)},s=0;s<t.length;s++)kt(t[s],v(o,s),a);else e(i)})}(n)}Ou.prototype.g=function(){var t=this,e=Bu("local");qu(this,function(){return Et().then(function(){return t.c&&"local"!=t.c.A?t.b.get(e,t.a):null}).then(function(r){if(r)return Ru(t,"local").then(function(){t.c=e})})})};var ju={name:"persistence",A:"session"};function Bu(t){return{name:"authUser",A:t}}function Mu(t,e){return qu(t,function(){return t.b.set(t.c,e.C(),t.a)})}function Fu(t){return qu(t,function(){return nc(t.b,t.c,t.a)})}function Lu(t,e){return qu(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),Iu(t||{})})})}function qu(t,e){return t.f=t.f.then(e,e),t.f}function Vu(t){if(this.m=!1,In(this,"settings",new zc),In(this,"app",t),!Ku(this).options||!Ku(this).options.apiKey)throw new Un("invalid-api-key");t=i.a.SDK_VERSION?sn(i.a.SDK_VERSION):null,this.b=new sa(Ku(this).options&&Ku(this).options.apiKey,hi(ui),t),this.N=[],this.o=[],this.I=[],this.Tb=i.a.INTERNAL.createSubscribe(y(this.mc,this)),this.O=void 0,this.Ub=i.a.INTERNAL.createSubscribe(y(this.nc,this)),Ju(this,null),this.h=new Ou(Ku(this).options.apiKey+":"+Ku(this).name),this.w=new Nu(Ku(this).options.apiKey+":"+Ku(this).name),this.V=Xu(this,function(t){var e=Ku(t).options.authDomain,r=function(t){var e=function(t,e){return t.b.get(Pu,t.a).then(function(t){return t&&e&&(t.authDomain=e),Iu(t||{})})}(t.w,Ku(t).options.authDomain).then(function(e){return(t.D=e)&&(e.ba=t.w),Du(t.w)});return Xu(t,e)}(t).then(function(){return Lu(t.h,e)}).then(function(e){return e?(e.ba=t.w,t.D&&(t.D.aa||null)==(e.aa||null)?e:e.reload().then(function(){return Mu(t.h,e).then(function(){return e})}).s(function(r){return"auth/network-request-failed"==r.code?e:Fu(t.h)})):null}).then(function(e){Ju(t,e||null)});return Xu(t,r)}(this)),this.i=Xu(this,function(t){return t.V.then(function(){return t.fa()}).s(function(){}).then(function(){if(!t.m)return t.ka()}).s(function(){}).then(function(){if(!t.m){t.X=!0;var e=t.h;e.b.addListener(Bu("local"),e.a,t.ka)}})}(this)),this.X=!1,this.ka=y(this.Mc,this),this.Ha=y(this.Z,this),this.ra=y(this.bc,this),this.sa=y(this.jc,this),this.ta=y(this.kc,this),function(t){var e=Ku(t).options.authDomain,r=Ku(t).options.apiKey;e&&hn()&&(t.Sb=t.V.then(function(){if(!t.m){if(t.a=Fc(e,r,Ku(t).name),t.a.subscribe(t),$u(t)&&hu($u(t)),t.D){hu(t.D);var n=t.D;n.pa(t.ea()),nu(n,t),iu(n=t.D,t.G),ou(n,t),t.D=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=y(this.delete,this),this.INTERNAL.logFramework=y(this.tc,this),this.u=0,Pe.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ea()},set:function(t){this.pa(t)},enumerable:!1}),t.W=null}(this),this.G=[]}function Uu(t){se.call(this,"languageCodeChanged"),this.g=t}function Wu(t){se.call(this,"frameworkChanged"),this.c=t}function zu(t){return t.Sb||Ct(new Un("auth-domain-config-required"))}function Hu(t,e){var r={};return r.apiKey=Ku(t).options.apiKey,r.authDomain=Ku(t).options.authDomain,r.appName=Ku(t).name,t.V.then(function(){return function(t,e,r,n){var i=new ru(t,e);return r&&(i.ba=r),n&&iu(i,n),i.reload().then(function(){return i})}(r,e,t.w,t.ya())}).then(function(e){return $u(t)&&e.uid==$u(t).uid?(wu($u(t),e),t.Z(e)):(Ju(t,e),hu(e),t.Z(e))}).then(function(){Yu(t)})}function Ju(t,e){$u(t)&&(function(t,e){F(t.N,function(t){return t==e})}($u(t),t.Ha),Ee($u(t),"tokenChanged",t.ra),Ee($u(t),"userDeleted",t.sa),Ee($u(t),"userInvalidated",t.ta),cu($u(t))),e&&(e.N.push(t.Ha),we(e,"tokenChanged",t.ra),we(e,"userDeleted",t.sa),we(e,"userInvalidated",t.ta),0<t.u&&su(e)),In(t,"currentUser",e),e&&(e.pa(t.ea()),nu(e,t),iu(e,t.G),ou(e,t))}function Gu(t,e){var r=null,n=null;return Xu(t,e.then(function(e){return r=Yi(e),n=mi(e),Hu(t,e)}).then(function(){return Pn({user:$u(t),credential:r,additionalUserInfo:n,operationType:"signIn"})}))}function Ku(t){return t.app}function $u(t){return t.currentUser}function Qu(t){return $u(t)&&$u(t)._lat||null}function Yu(t){if(t.X){for(var e=0;e<t.o.length;e++)t.o[e]&&t.o[e](Qu(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](Qu(t))}}function Xu(t,e){return t.N.push(e),e.ia(function(){M(t.N,e)}),e}function Zu(){}function tl(){this.a={},this.b=1e12}Ou.prototype.mb=function(t){var e=null,r=this;return function(t){var e=new Un("invalid-persistence-type"),r=new Un("unsupported-persistence-type");t:{for(n in Xs)if(Xs[n]==t){var n=!0;break t}n=!1}if(!n||"string"!=typeof t)throw e;switch(tn()){case"ReactNative":if("session"===t)throw r;break;case"Node":if("none"!==t)throw r;break;default:if(!ln()&&"none"!==t)throw r}}(t),qu(this,function(){return t!=r.c.A?r.b.get(r.c,r.a).then(function(n){return e=n,Ru(r,t)}).then(function(){if(r.c=Bu(t),e)return r.b.set(r.c,e,r.a)}):Et()})},b(Vu,Pe),b(Uu,se),b(Wu,se),(t=Vu.prototype).mb=function(t){return Xu(this,t=this.h.mb(t))},t.pa=function(t){this.W===t||this.m||(this.W=t,fa(this.b,this.W),this.dispatchEvent(new Uu(this.ea())))},t.ea=function(){return this.W},t.Sc=function(){var t=r.navigator;this.pa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.tc=function(t){this.G.push(t),ga(this.b,i.a.SDK_VERSION?sn(i.a.SDK_VERSION,this.G):null),this.dispatchEvent(new Wu(this.G))},t.ya=function(){return q(this.G)},t.toJSON=function(){return{apiKey:Ku(this).options.apiKey,authDomain:Ku(this).options.authDomain,appName:Ku(this).name,currentUser:$u(this)&&$u(this).C()}},t.vb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ha=function(t,e,r,n){"signInViaPopup"==t&&this.g==n&&(r&&this.v?this.v(r):e&&!r&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.xa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?y(this.ac,this):null},t.ac=function(t,e,r){var n=this;t={requestUri:t,postBody:r,sessionId:e},this.c&&(this.c.cancel(),this.c=null);var i=null,o=null,a=Sa(n.b,t).then(function(t){return i=Yi(t),o=mi(t),t});return Xu(this,t=n.V.then(function(){return a}).then(function(t){return Hu(n,t)}).then(function(){return Pn({user:$u(n),credential:i,additionalUserInfo:o,operationType:"signIn"})}))},t.Kc=function(t){if(!hn())return Ct(new Un("operation-not-supported-in-this-environment"));var e=this,r=gi(t.providerId),n=vn(),o=null;(!fn()||Xr())&&Ku(this).options.authDomain&&t.isOAuthProvider&&(o=ws(Ku(this).options.authDomain,Ku(this).options.apiKey,Ku(this).name,"signInViaPopup",t,null,n,i.a.SDK_VERSION||null));var a=Gr(o,r&&r.Ba,r&&r.Aa);return Xu(this,r=zu(this).then(function(e){return jc(e,a,"signInViaPopup",t,n,!!o)}).then(function(){return new gt(function(t,r){e.ha("signInViaPopup",null,new Un("cancelled-popup-request"),e.g),e.f=t,e.v=r,e.g=n,e.c=e.a.Ea(e,"signInViaPopup",a,n)})}).then(function(t){return a&&Jr(a),t?Pn(t):null}).s(function(t){throw a&&Jr(a),t}))},t.Lc=function(t){if(!hn())return Ct(new Un("operation-not-supported-in-this-environment"));var e=this;return Xu(this,zu(this).then(function(){return function(t){return qu(t,function(){return t.b.set(ju,t.c.A,t.a)})}(e.h)}).then(function(){return e.a.Ca("signInViaRedirect",t)}))},t.fa=function(){if(!hn())return Ct(new Un("operation-not-supported-in-this-environment"));var t=this;return Xu(this,zu(this).then(function(){return t.a.fa()}).then(function(t){return t?Pn(t):null}))},t.Qc=function(t){if(!t)return Ct(new Un("null-user"));var e=this,r={};r.apiKey=Ku(this).options.apiKey,r.authDomain=Ku(this).options.authDomain,r.appName=Ku(this).name;var n=function(t,e,r,n){e=e||{apiKey:t.m,authDomain:t.u,appName:t.o};var i=t.h,o={};return o[ua]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-w())/1e3,e=new ru(e,o),r&&(e.ba=r),n&&iu(e,n),wu(e,t),e}(t,r,e.w,e.ya());return Xu(this,this.i.then(function(){if(Ku(e).options.apiKey!=t.m)return n.reload()}).then(function(){return $u(e)&&t.uid==$u(e).uid?(wu($u(e),t),e.Z(t)):(Ju(e,n),hu(n),e.Z(n))}).then(function(){Yu(e)}))},t.nb=function(){var t=this;return Xu(this,this.i.then(function(){return $u(t)?(Ju(t,null),Fu(t.h).then(function(){Yu(t)})):Et()}))},t.Mc=function(){var t=this;return Lu(this.h,Ku(this).options.authDomain).then(function(e){if(!t.m){var r;if(r=$u(t)&&e){r=$u(t).uid;var n=e.uid;r=null!=r&&""!==r&&null!=n&&""!==n&&r==n}if(r)return wu($u(t),e),$u(t).F();($u(t)||e)&&(Ju(t,e),e&&(hu(e),e.ba=t.w),t.a&&t.a.subscribe(t),Yu(t))}})},t.Z=function(t){return Mu(this.h,t)},t.bc=function(){Yu(this),this.Z($u(this))},t.jc=function(){this.nb()},t.kc=function(){this.nb()},t.mc=function(t){var e=this;this.addAuthTokenListener(function(){t.next($u(e))})},t.nc=function(t){var e=this;!function(t,e){t.I.push(e),Xu(t,t.i.then(function(){!t.m&&B(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(Qu(t)))}))}(this,function(){t.next($u(e))})},t.vc=function(t,e,r){var n=this;return this.X&&i.a.Promise.resolve().then(function(){h(t)?t($u(n)):h(t.next)&&t.next($u(n))}),this.Tb(t,e,r)},t.uc=function(t,e,r){var n=this;return this.X&&i.a.Promise.resolve().then(function(){n.O=n.getUid(),h(t)?t($u(n)):h(t.next)&&t.next($u(n))}),this.Ub(t,e,r)},t.cc=function(t){var e=this;return Xu(this,this.i.then(function(){return $u(e)?$u(e).F(t).then(function(t){return{accessToken:t}}):null}))},t.Nb=function(t){var e=this;return this.i.then(function(){return Gu(e,is(e.b,Za,{token:t}))}).then(function(t){var r=t.user;return vu(r,"isAnonymous",!1),e.Z(r),t})},t.Ec=function(t){return Sn("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead."),this.Nb(t)},t.Fc=function(t,e){return Sn("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead."),this.Ob(t,e)},t.Ob=function(t,e){var r=this;return this.i.then(function(){return Gu(r,is(r.b,ts,{email:t,password:e}))})},t.xb=function(t,e){var r=this;return this.i.then(function(){return Gu(r,is(r.b,Oa,{email:t,password:e}))})},t.Wb=function(t,e){return Sn("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead."),this.xb(t,e)},t.Hc=function(t){return Sn("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead."),this.Pa(t).then(function(t){return t.user})},t.Pa=function(t){var e=this;return this.i.then(function(){return Gu(e,t.la(e.b))})},t.Qa=function(){var t=this;return this.i.then(function(){var e=$u(t);if(e&&e.isAnonymous){var r=Pn({providerId:null,isNewUser:!1});return Pn({user:e,credential:null,additionalUserInfo:r,operationType:"signIn"})}return Gu(t,t.b.Qa()).then(function(e){var r=e.user;return vu(r,"isAnonymous",!0),t.Z(r),e})})},t.Gc=function(){return Sn("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead."),this.Qa()},t.getUid=function(){return $u(this)&&$u(this).uid||null},t.Vb=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&$u(this)&&su($u(this))},t.Cc=function(t){var e=this;O(this.o,function(r){r==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&$u(this)&&cu($u(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.o.push(t),Xu(this,this.i.then(function(){e.m||B(e.o,t)&&t(Qu(e))}))},t.removeAuthTokenListener=function(t){F(this.o,function(e){return e==t})},t.delete=function(){this.m=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h).b.removeListener(Bu("local"),t.a,this.ka),this.a&&(this.a.unsubscribe(this),this.a.Ya()),i.a.Promise.resolve()},t.Zb=function(t){return Sn("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead."),Xu(this,function(t,e){return is(t,Ra,{identifier:e,continueUri:pn()?Wr():"http://localhost"}).then(function(t){return t.allProviders||[]})}(this.b,t))},t.$b=function(t){return Xu(this,function(t,e){return is(t,Ra,{identifier:e,continueUri:pn()?Wr():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.b,t))},t.oc=function(t){return!!Ji(t)},t.lb=function(t,e){var r=this;return Xu(this,Et().then(function(){var t=new Jn(e);if(!t.c)throw new Un("argument-error",$n+" must be true when sending sign in link to email");return ri(t)}).then(function(e){return r.b.lb(t,e)}).then(function(){}))},t.Tc=function(t){return this.Ja(t).then(function(t){return t.data.email})},t.Za=function(t,e){return Xu(this,this.b.Za(t,e).then(function(){}))},t.Ja=function(t){return Xu(this,this.b.Ja(t).then(function(t){return new On(t)}))},t.Wa=function(t){return Xu(this,this.b.Wa(t).then(function(){}))},t.kb=function(t,e){var r=this;return Xu(this,Et().then(function(){return void 0===e||it(e)?{}:ri(new Jn(e))}).then(function(e){return r.b.kb(t,e)}).then(function(){}))},t.Jc=function(t,e){return Xu(this,Jc(this,t,e,y(this.Pa,this)))},t.Ic=function(t,e){var r=this;return Xu(this,Et().then(function(){var n=Hi(t,e||Wr());return r.Pa(n)}))},Zu.prototype.render=function(){},Zu.prototype.reset=function(){},Zu.prototype.getResponse=function(){},Zu.prototype.execute=function(){};var el=null;function rl(t,e){return(e=nl(e))&&t.a[e]||null}function nl(t){return(t=void 0===t?1e12:t)?t.toString():null}function il(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Dr(t);var r=this;this.i=function(){r.execute()},this.h?this.execute():we(this.f,"click",this.i)}function ol(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function al(){}tl.prototype.render=function(t,e){return this.a[this.b.toString()]=new il(t,e),this.b++},tl.prototype.reset=function(t){var e=rl(this,t);t=nl(t),e&&t&&(e.delete(),delete this.a[t])},tl.prototype.getResponse=function(t){return(t=rl(this,t))?t.getResponse():null},tl.prototype.execute=function(t){(t=rl(this,t))&&t.execute()},il.prototype.getResponse=function(){return ol(this),this.b},il.prototype.execute=function(){ol(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,r=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout(function(){if(t.a=null,t.b=null,r)try{r()}catch(t){}t.h&&t.execute()},6e4)},500))},il.prototype.delete=function(){ol(this),this.g=!0,clearTimeout(this.a),this.a=null,Ee(this.f,"click",this.i)},al.prototype.g=function(){return el||(el=new tl),Et(el)},al.prototype.c=function(){};var sl=null;function cl(){this.b=r.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var ul=mr("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),ll=new _n(3e4,6e4);cl.prototype.g=function(t){var e=this;return new gt(function(n,i){var o=setTimeout(function(){i(new Un("network-request-failed"))},ll.get());!r.grecaptcha||t!==e.f&&!e.b?(r[e.a]=function(){if(r.grecaptcha){e.f=t;var a=r.grecaptcha.render;r.grecaptcha.render=function(t,r){return t=a(t,r),e.b++,t},clearTimeout(o),n(r.grecaptcha)}else clearTimeout(o),i(new Un("internal-error"));delete r[e.a]},Et(ta(wr(ul,{onload:e.a,hl:t||""}))).s(function(){clearTimeout(o),i(new Un("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(o),n(r.grecaptcha))})},cl.prototype.c=function(){this.b--};var hl=null;function pl(t,e,n,i,o,a,s){if(In(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.m=e,this.g=null,s?(sl||(sl=new al),s=sl):(hl||(hl=new cl),s=hl),this.o=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[gl])throw new Un("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[ml],!r.document)throw new Un("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Dr(e)||!this.i&&Dr(e).hasChildNodes())throw new Un("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new sa(t,a||null,o||null),this.v=i||function(){return null};var c=this;this.l=[];var u=this.a[dl];this.a[dl]=function(t){if(yl(c,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=un(u,r);"function"==typeof e&&e(t)}};var l=this.a[fl];this.a[fl]=function(){if(yl(c,null),"function"==typeof l)l();else if("string"==typeof l){var t=un(l,r);"function"==typeof t&&t()}}}var dl="callback",fl="expired-callback",gl="sitekey",ml="size";function yl(t,e){for(var r=0;r<t.l.length;r++)try{t.l[r](e)}catch(t){}}function vl(t,e){return t.h.push(e),e.ia(function(){M(t.h,e)}),e}function wl(t){if(t.D)throw new Un("internal-error","RecaptchaVerifier instance has been destroyed.")}function bl(t,e,r){var n=!1;try{this.b=r||i.a.app()}catch(t){throw new Un("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Un("invalid-api-key");r=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().ya()}catch(t){}try{n=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}a=i.a.SDK_VERSION?sn(i.a.SDK_VERSION,a):null,pl.call(this,r,t,e,function(){try{var t=o.b.auth().ea()}catch(e){t=null}return t},a,hi(ui),n)}function _l(t,e,r,n){t:{r=Array.prototype.slice.call(r);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new Un("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,r.length<i||o<r.length)n="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+r.length+".";else{for(i=0;i<r.length;i++)if(o=e[i].optional&&void 0===r[i],!e[i].M(r[i])&&!o){if(e=e[i],0>i||i>=El.length)throw new Un("internal-error","Argument validator received an unsupported number of arguments.");r=El[i],n=(n?"":r+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}n=null}}if(n)throw new Un("argument-error",t+" failed: "+n)}(t=pl.prototype).za=function(){var t=this;return this.f?this.f:this.f=vl(this,Et().then(function(){if(pn()&&!Zr())return Qr();throw new Un("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.o.g(t.v())}).then(function(e){return t.g=e,is(t.u,za,{})}).then(function(e){t.a[gl]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},t.render=function(){wl(this);var t=this;return vl(this,this.za().then(function(){if(null===t.c){var e=t.m;if(!t.i){var r=Dr(e);e=jr("DIV"),r.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){wl(this);var t=this;return vl(this,this.render().then(function(e){return new gt(function(r){var n=t.g.getResponse(e);if(n)r(n);else{var i=function(e){e&&(function(t,e){F(t.l,function(t){return t==e})}(t,i),r(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){wl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){wl(this),this.D=!0,this.o.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=Dr(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},b(bl,pl);var El="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Cl(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:n}}function kl(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:o}}function xl(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:p}}function Tl(t,e){return{name:t||"",K:"a function",optional:!!e,M:h}}function Sl(t,e){return{name:t||"",K:"null",optional:!!e,M:c}}function Al(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var r=!t||e.providerId===t;return!(!e.la||!r)}}}function Il(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!!(t&&n(t.type)&&h(t.verify))}}}function Nl(t,e,r,n){return{name:r||"",K:t.K+" or "+e.K,optional:!!n,M:function(r){return t.M(r)||e.M(r)}}}function Pl(t,e){for(var r in e){var n=e[r].name;t[n]=Rl(n,t[r],e[r].j)}}function Dl(t,e){for(var r in e){var n=e[r].name;n!==r&&Object.defineProperty(t,n,{get:v(function(t){return this[t]},r),set:v(function(t,e,r,n){_l(t,[r],[n],!0),this[e]=n},n,r,e[r].tb),enumerable:!0})}}function Ol(t,e,r,n){t[e]=Rl(e,r,n)}function Rl(t,e,r){function n(){var t=Array.prototype.slice.call(arguments);return _l(o,r,t),e.apply(this,t)}if(!r)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)n[i]=e[i];for(i in e.prototype)n.prototype[i]=e.prototype[i];return n}Pl(Vu.prototype,{Wa:{name:"applyActionCode",j:[Cl("code")]},Ja:{name:"checkActionCode",j:[Cl("code")]},Za:{name:"confirmPasswordReset",j:[Cl("code"),Cl("newPassword")]},xb:{name:"createUserWithEmailAndPassword",j:[Cl("email"),Cl("password")]},Wb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[Cl("email"),Cl("password")]},Zb:{name:"fetchProvidersForEmail",j:[Cl("email")]},$b:{name:"fetchSignInMethodsForEmail",j:[Cl("email")]},fa:{name:"getRedirectResult",j:[]},oc:{name:"isSignInWithEmailLink",j:[Cl("emailLink")]},uc:{name:"onAuthStateChanged",j:[Nl(xl(),Tl(),"nextOrObserver"),Tl("opt_error",!0),Tl("opt_completed",!0)]},vc:{name:"onIdTokenChanged",j:[Nl(xl(),Tl(),"nextOrObserver"),Tl("opt_error",!0),Tl("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[Cl("email"),Nl(xl("opt_actionCodeSettings",!0),Sl(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[Cl("email"),xl("actionCodeSettings")]},mb:{name:"setPersistence",j:[Cl("persistence")]},Pa:{name:"signInAndRetrieveDataWithCredential",j:[Al()]},Qa:{name:"signInAnonymously",j:[]},Gc:{name:"signInAnonymouslyAndRetrieveData",j:[]},Hc:{name:"signInWithCredential",j:[Al()]},Nb:{name:"signInWithCustomToken",j:[Cl("token")]},Ec:{name:"signInAndRetrieveDataWithCustomToken",j:[Cl("token")]},Ob:{name:"signInWithEmailAndPassword",j:[Cl("email"),Cl("password")]},Ic:{name:"signInWithEmailLink",j:[Cl("email"),Cl("emailLink",!0)]},Fc:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[Cl("email"),Cl("password")]},Jc:{name:"signInWithPhoneNumber",j:[Cl("phoneNumber"),Il()]},Kc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Qc:{name:"updateCurrentUser",j:[Nl({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof ru)}},Sl(),"user")]},nb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Cl(null,!0)]},Sc:{name:"useDeviceLanguage",j:[]},Tc:{name:"verifyPasswordResetCode",j:[Cl("code")]}}),Dl(Vu.prototype,{lc:{name:"languageCode",tb:Nl(Cl(),Sl(),"languageCode")}}),Vu.Persistence=Xs,Vu.Persistence.LOCAL="local",Vu.Persistence.SESSION="session",Vu.Persistence.NONE="none",Pl(ru.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[kl("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[kl("opt_forceRefresh",!0)]},eb:{name:"linkAndRetrieveDataWithCredential",j:[Al()]},pc:{name:"linkWithCredential",j:[Al()]},qc:{name:"linkWithPhoneNumber",j:[Cl("phoneNumber"),Il()]},rc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},sc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},gb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Al()]},yc:{name:"reauthenticateWithCredential",j:[Al()]},zc:{name:"reauthenticateWithPhoneNumber",j:[Cl("phoneNumber"),Il()]},Ac:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Bc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[Nl(xl("opt_actionCodeSettings",!0),Sl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Cl(null,!0)]},Pc:{name:"unlink",j:[Cl("provider")]},pb:{name:"updateEmail",j:[Cl("email")]},qb:{name:"updatePassword",j:[Cl("password")]},Rc:{name:"updatePhoneNumber",j:[Al("phone")]},rb:{name:"updateProfile",j:[xl("profile")]}}),Pl(tl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Pl(Zu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Pl(gt.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Dl(zc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",tb:kl("appVerificationDisabledForTesting")}}),Pl(Hc.prototype,{confirm:{name:"confirm",j:[Cl("verificationCode")]}}),Ol(zi,"credential",function(t,e){return new Wi(t,e)},[Cl("email"),Cl("password")]),Pl(ji.prototype,{ua:{name:"addScope",j:[Cl("scope")]},Da:{name:"setCustomParameters",j:[xl("customOAuthParameters")]}}),Ol(ji,"credential",Bi,[Nl(Cl(),xl(),"token")]),Ol(zi,"credentialWithLink",Hi,[Cl("email"),Cl("emailLink")]),Pl(Mi.prototype,{ua:{name:"addScope",j:[Cl("scope")]},Da:{name:"setCustomParameters",j:[xl("customOAuthParameters")]}}),Ol(Mi,"credential",Fi,[Nl(Cl(),xl(),"token")]),Pl(Li.prototype,{ua:{name:"addScope",j:[Cl("scope")]},Da:{name:"setCustomParameters",j:[xl("customOAuthParameters")]}}),Ol(Li,"credential",qi,[Nl(Cl(),Nl(xl(),Sl()),"idToken"),Nl(Cl(),Sl(),"accessToken",!0)]),Pl(Vi.prototype,{Da:{name:"setCustomParameters",j:[xl("customOAuthParameters")]}}),Ol(Vi,"credential",Ui,[Nl(Cl(),xl(),"token"),Cl("secret",!0)]),Pl(Ri.prototype,{ua:{name:"addScope",j:[Cl("scope")]},credential:{name:"credential",j:[Nl(Cl(),Sl(),"idToken",!0),Nl(Cl(),Sl(),"accessToken",!0),Nl(Cl(),Sl(),"nonce",!0)]},Da:{name:"setCustomParameters",j:[xl("customOAuthParameters")]}}),Ol($i,"credential",Qi,[Cl("verificationId"),Cl("verificationCode")]),Pl($i.prototype,{Ua:{name:"verifyPhoneNumber",j:[Cl("phoneNumber"),Il()]}}),Pl(Un.prototype,{toJSON:{name:"toJSON",j:[Cl(null,!0)]}}),Pl(oo.prototype,{toJSON:{name:"toJSON",j:[Cl(null,!0)]}}),Pl(io.prototype,{toJSON:{name:"toJSON",j:[Cl(null,!0)]}}),Pl(bl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===i.a||!i.a.INTERNAL||!i.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:Vu,Error:Un};Ol(t,"EmailAuthProvider",zi,[]),Ol(t,"FacebookAuthProvider",ji,[]),Ol(t,"GithubAuthProvider",Mi,[]),Ol(t,"GoogleAuthProvider",Li,[]),Ol(t,"TwitterAuthProvider",Vi,[]),Ol(t,"OAuthProvider",Ri,[Cl("providerId")]),Ol(t,"SAMLAuthProvider",Oi,[Cl("providerId")]),Ol(t,"PhoneAuthProvider",$i,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Vu)}}]),Ol(t,"RecaptchaVerifier",bl,[Nl(Cl(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),xl("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof i.a.app.App)}}]),i.a.INTERNAL.registerService("auth",function(t,e){return e({INTERNAL:{getUid:y((t=new Vu(t)).getUid,t),getToken:y(t.cc,t),addAuthTokenListener:y(t.Vb,t),removeAuthTokenListener:y(t.Cc,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}}),i.a.INTERNAL.extendNamespace({User:ru})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i,o=(n=r(2))&&"object"==typeof n&&"default"in n?n.default:n,a=r(1),s=r(32),c=r(144),u=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),s.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:s.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),l=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return s.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),h=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new u(e)}}catch(t){}return new l},p=h("localStorage"),d=h("sessionStorage"),f=new c.Logger("@firebase/database"),g=(i=1,function(){return i++}),m=function(t){var e=s.stringToByteArray(t),r=new s.Sha1;r.update(e);var n=r.digest();return s.base64.encodeByteArray(n)},y=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r="",n=0;n<t.length;n++)Array.isArray(t[n])||t[n]&&"object"==typeof t[n]&&"number"==typeof t[n].length?r+=y.apply(null,t[n]):"object"==typeof t[n]?r+=s.stringify(t[n]):r+=t[n],r+=" ";return r},v=null,w=!0,b=function(t,e){s.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(f.logLevel=c.LogLevel.VERBOSE,v=f.log.bind(f),e&&d.set("logging_enabled",!0)):"function"==typeof t?v=t:(v=null,d.remove("logging_enabled"))},_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===w&&(w=!1,null===v&&!0===d.get("logging_enabled")&&b(!0)),v){var r=y.apply(null,t);v(r)}},E=function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];_.apply(void 0,[t].concat(e))}},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r="FIREBASE INTERNAL ERROR: "+y.apply(void 0,t);f.error(r)},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r="FIREBASE FATAL ERROR: "+y.apply(void 0,t);throw f.error(r),new Error(r)},x=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r="FIREBASE WARNING: "+y.apply(void 0,t);f.warn(r)},T=function(t){return"number"==typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},S="[MIN_NAME]",A="[MAX_NAME]",I=function(t,e){if(t===e)return 0;if(t===S||e===A)return-1;if(e===S||t===A)return 1;var r=M(t),n=M(e);return null!==r?null!==n?r-n==0?t.length-e.length:r-n:-1:null!==n?1:t<e?-1:1},N=function(t,e){return t===e?0:t<e?-1:1},P=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+s.stringify(e))},D=function(t){if("object"!=typeof t||null===t)return s.stringify(t);var e=[];for(var r in t)e.push(r);e.sort();for(var n="{",i=0;i<e.length;i++)0!==i&&(n+=","),n+=s.stringify(e[i]),n+=":",n+=D(t[e[i]]);return n+="}"},O=function(t,e){var r=t.length;if(r<=e)return[t];for(var n=[],i=0;i<r;i+=e)i+e>r?n.push(t.substring(i,r)):n.push(t.substring(i,i+e));return n},R=function(t,e){if(Array.isArray(t))for(var r=0;r<t.length;++r)e(r,t[r]);else s.forEach(t,function(t,r){return e(r,t)})},j=function(t){s.assert(!T(t),"Invalid JSON number");var e,r,n,i,o,a,c;for(0===t?(r=0,n=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(r=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,n=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(r=0,n=Math.round(t/Math.pow(2,-1074)))),a=[],o=52;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);for(o=11;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(e?1:0),a.reverse(),c=a.join("");var u="";for(o=0;o<64;o+=8){var l=parseInt(c.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),u+=l}return u.toLowerCase()},B=new RegExp("^-?\\d{1,10}$"),M=function(t){if(B.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},F=function(t){try{t()}catch(t){setTimeout(function(){var e=t.stack||"";throw x("Exception was thrown by user callback.",e),t},Math.floor(0))}},L=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},q=function(t,e){var r=setTimeout(t,e);return"object"==typeof r&&r.unref&&r.unref(),r},V=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var r=0,n=0;n<this.pieces_.length;n++)this.pieces_[n].length>0&&(this.pieces_[r]=this.pieces_[n],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],r=this.pieceNum_;r<this.pieces_.length-1;r++)e.push(this.pieces_[r]);return new t(e,0)},t.prototype.child=function(e){for(var r=[],n=this.pieceNum_;n<this.pieces_.length;n++)r.push(this.pieces_[n]);if(e instanceof t)for(n=e.pieceNum_;n<e.pieces_.length;n++)r.push(e.pieces_[n]);else{var i=e.split("/");for(n=0;n<i.length;n++)i[n].length>0&&r.push(i[n])}return new t(r,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,r){var n=e.getFront(),i=r.getFront();if(null===n)return r;if(n===i)return t.relativePath(e.popFront(),r.popFront());throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var r=t.slice(),n=e.slice(),i=0;i<r.length&&i<n.length;i++){var o=I(r[i],n[i]);if(0!==o)return o}return r.length===n.length?0:r.length<n.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,r=t.pieceNum_;e<=this.pieces_.length;e++,r++)if(this.pieces_[e]!==t.pieces_[r])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,r=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0},t}(),U=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=s.stringLength(this.parts_[r]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=s.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=s.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),W="long_polling",z=function(){function t(t,e,r,n,i){void 0===i&&(i=""),this.secure=e,this.namespace=r,this.webSocketOnly=n,this.persistenceKey=i,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=p.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&p.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var r;if(s.assert("string"==typeof t,"typeof type must == string"),s.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)r=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==W)throw new Error("Unknown connection type: "+t);r=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var n=[];return s.forEach(e,function(t,e){n.push(t+"="+e)}),r+n.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}();var H,J,G,K,$,Q=function(t){var e=Y(t),r=e.subdomain;"firebase"===e.domain&&k(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!=r||"localhost"===e.domain||k("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&x("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var n="ws"===e.scheme||"wss"===e.scheme;return{repoInfo:new z(e.host,e.secure,r,n),path:new V(e.pathString)}},Y=function(t){var e="",r="",n="",i="",o=!0,a="https",s=443;if("string"==typeof t){var c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));var u=t.indexOf("/");-1===u&&(u=t.length);var l=t.indexOf("?");-1===l&&(l=t.length),e=t.substring(0,Math.min(u,l)),u<l&&(i=
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){for(var e="",r=t.split("/"),n=0;n<r.length;n++)if(r[n].length>0){var i=r[n];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}(t.substring(u,l)));var h=function(t){var e={};"?"===t.charAt(0)&&(t=t.substring(1));for(var r=0,n=t.split("&");r<n.length;r++){var i=n[r];if(0!==i.length){var o=i.split("=");2===o.length?e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):x("Invalid query segment '"+i+"' in query '"+t+"'")}}return e}(t.substring(Math.min(t.length,l)));(c=e.indexOf(":"))>=0?(o="https"===a||"wss"===a,s=parseInt(e.substring(c+1),10)):c=t.length;var p=e.split(".");3===p.length?(r=p[1],n=p[0].toLowerCase()):2===p.length?r=p[0]:"localhost"===p[0].slice(0,c).toLowerCase()&&(r="localhost"),""===n&&"ns"in h&&(n=h.ns)}return{host:e,port:s,domain:r,subdomain:n,secure:o,scheme:a,pathString:i}},X=/[\[\].#$\/\u0000-\u001F\u007F]/,Z=/[\[\].#$\u0000-\u001F\u007F]/,tt=function(t){return"string"==typeof t&&0!==t.length&&!X.test(t)},et=function(t){return"string"==typeof t&&0!==t.length&&!Z.test(t)},rt=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!T(t)||t&&"object"==typeof t&&s.contains(t,".sv")},nt=function(t,e,r,n,i){i&&void 0===r||it(s.errorPrefix(t,e,i),r,n)},it=function(t,e,r){var n=r instanceof V?new U(r,t):r;if(void 0===e)throw new Error(t+"contains undefined "+n.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+n.toErrorString()+" with contents = "+e.toString());if(T(e))throw new Error(t+"contains "+e.toString()+" "+n.toErrorString());if("string"==typeof e&&e.length>10485760/3&&s.stringLength(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+n.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,o=!1;if(s.forEach(e,function(e,r){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!tt(e)))throw new Error(t+" contains an invalid key ("+e+") "+n.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');n.push(e),it(t,r,n),n.pop()}),i&&o)throw new Error(t+' contains ".value" child '+n.toErrorString()+" in addition to actual children.")}},ot=function(t,e,r,n,i){if(!i||void 0!==r){var o=s.errorPrefix(t,e,i);if(!r||"object"!=typeof r||Array.isArray(r))throw new Error(o+" must be an object containing the children to replace.");var a=[];s.forEach(r,function(t,e){var r=new V(t);if(it(o,e,n.child(r)),".priority"===r.getBack()&&!rt(e))throw new Error(o+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)}),function(t,e){var r,n;for(r=0;r<e.length;r++)for(var i=(n=e[r]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!tt(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+n.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(V.comparePaths);var a=null;for(r=0;r<e.length;r++){if(n=e[r],null!==a&&a.contains(n))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+n.toString());a=n}}(o,a)}},at=function(t,e,r,n){if(!n||void 0!==r){if(T(r))throw new Error(s.errorPrefix(t,e,n)+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!rt(r))throw new Error(s.errorPrefix(t,e,n)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},st=function(t,e,r,n){if(!n||void 0!==r)switch(r){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(s.errorPrefix(t,e,n)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ct=function(t,e,r,n){if(!(n&&void 0===r||tt(r)))throw new Error(s.errorPrefix(t,e,n)+'was an invalid key = "'+r+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ut=function(t,e,r,n){if(!(n&&void 0===r||et(r)))throw new Error(s.errorPrefix(t,e,n)+'was an invalid path = "'+r+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},lt=function(t,e,r,n){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),ut(t,e,r,n)},ht=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},pt=function(t,e,r){var n=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!tt(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),et(t)}(n))throw new Error(s.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},dt=function(t,e,r,n){if((!n||void 0!==r)&&"boolean"!=typeof r)throw new Error(s.errorPrefix(t,e,n)+"must be a boolean.")},ft=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){s.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),s.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new s.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){s.validateArgCount("OnDisconnect.remove",0,1,arguments.length),ht("OnDisconnect.remove",this.path_),s.validateCallback("OnDisconnect.remove",1,t,!0);var e=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){s.validateArgCount("OnDisconnect.set",1,2,arguments.length),ht("OnDisconnect.set",this.path_),nt("OnDisconnect.set",1,t,this.path_,!1),s.validateCallback("OnDisconnect.set",2,e,!0);var r=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,t,r.wrapCallback(e)),r.promise},t.prototype.setWithPriority=function(t,e,r){s.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),ht("OnDisconnect.setWithPriority",this.path_),nt("OnDisconnect.setWithPriority",1,t,this.path_,!1),at("OnDisconnect.setWithPriority",2,e,!1),s.validateCallback("OnDisconnect.setWithPriority",3,r,!0);var n=new s.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,n.wrapCallback(r)),n.promise},t.prototype.update=function(t,e){if(s.validateArgCount("OnDisconnect.update",1,2,arguments.length),ht("OnDisconnect.update",this.path_),Array.isArray(t)){for(var r={},n=0;n<t.length;++n)r[""+n]=t[n];t=r,x("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ot("OnDisconnect.update",1,t,this.path_,!1),s.validateCallback("OnDisconnect.update",2,e,!0);var i=new s.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),gt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return s.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),mt=(H="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",J=0,G=[],function(t){var e,r=t===J;J=t;var n=new Array(8);for(e=7;e>=0;e--)n[e]=H.charAt(t%64),t=Math.floor(t/64);s.assert(0===t,"Cannot push at time == 0");var i=n.join("");if(r){for(e=11;e>=0&&63===G[e];e--)G[e]=0;G[e]++}else for(e=0;e<12;e++)G[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=H.charAt(G[e]);return s.assert(20===i.length,"nextPushId: Length should be 20."),i}),yt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,r){return new t(e,r)},t}(),vt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var r=new yt(S,t),n=new yt(S,e);return 0!==this.compare(r,n)},t.prototype.minPost=function(){return yt.MIN},t}(),wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return K},set:function(t){K=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return I(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw s.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return yt.MIN},e.prototype.maxPost=function(){return new yt(A,K)},e.prototype.makePost=function(t,e){return s.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new yt(t,K)},e.prototype.toString=function(){return".key"},e}(vt),bt=new wt;var _t,Et,Ct,kt=function(t){return"number"==typeof t?"number:"+j(t):"string:"+t},xt=function(t){if(t.isLeafNode()){var e=t.val();s.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&s.contains(e,".sv"),"Priority must be a string or number.")}else s.assert(t===$||t.isEmpty(),"priority of unexpected type.");s.assert(t===$||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Tt=function(){function t(e,r){void 0===r&&(r=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=r,this.lazyHash_=null,s.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),xt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return _t},set:function(t){_t=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,r){var n=e.getFront();return null===n?r:r.isEmpty()&&".priority"!==n?this:(s.assert(".priority"!==n||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(n,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),r)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+kt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?j(this.value_):this.value_,this.lazyHash_=m(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(s.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var r=typeof e.value_,n=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(n);return s.assert(i>=0,"Unknown leaf type: "+r),s.assert(o>=0,"Unknown leaf type: "+n),i===o?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var St,At,It=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.compare=function(t,e){var r=t.node.getPriority(),n=e.node.getPriority(),i=r.compareTo(n);return 0===i?I(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return yt.MIN},e.prototype.maxPost=function(){return new yt(A,new Tt("[PRIORITY-POST]",Ct))},e.prototype.makePost=function(t,e){var r=Et(t);return new yt(e,new Tt("[PRIORITY-POST]",r))},e.prototype.toString=function(){return".priority"},e}(vt)),Nt=function(){function t(t,e,r,n,i){void 0===i&&(i=null),this.isReverse_=n,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?r(t.key,e):1,n&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Pt=function(){function t(e,r,n,i,o){this.key=e,this.value=r,this.color=null!=n?n:t.RED,this.left=null!=i?i:Ot.EMPTY_NODE,this.right=null!=o?o:Ot.EMPTY_NODE}return t.prototype.copy=function(e,r,n,i,o){return new t(null!=e?e:this.key,null!=r?r:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,r){var n,i;return(i=(n=r(t,(i=this).key))<0?i.copy(null,null,null,i.left.insert(t,e,r),null):0===n?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,r))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Ot.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var r,n;if(e(t,(r=this).key)<0)r.left.isEmpty()||r.left.isRed_()||r.left.left.isRed_()||(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),r.right.isEmpty()||r.right.isRed_()||r.right.left.isRed_()||(r=r.moveRedRight_()),0===e(t,r.key)){if(r.right.isEmpty())return Ot.EMPTY_NODE;n=r.right.min_(),r=r.copy(n.key,n.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Dt=function(){function t(){}return t.prototype.copy=function(t,e,r,n,i){return this},t.prototype.insert=function(t,e,r){return new Pt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Ot=function(){function t(e,r){void 0===r&&(r=t.EMPTY_NODE),this.comparator_=e,this.root_=r}return t.prototype.insert=function(e,r){return new t(this.comparator_,this.root_.insert(e,r,this.comparator_).copy(null,null,Pt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pt.BLACK,null,null))},t.prototype.get=function(t){for(var e,r=this.root_;!r.isEmpty();){if(0===(e=this.comparator_(t,r.key)))return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,r=this.root_,n=null;!r.isEmpty();){if(0===(e=this.comparator_(t,r.key))){if(r.left.isEmpty())return n?n.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(n=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Nt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Nt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Nt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Nt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Dt,t}(),Rt=Math.log(2),jt=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/Rt,10)),this.current_=this.count-1;var r,n=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&n}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Bt=function(t,e,r,n){t.sort(e);var i=function(e,n){var o,a,s=n-e;if(0==s)return null;if(1==s)return o=t[e],a=r?r(o):o,new Pt(a,o.node,Pt.BLACK,null,null);var c=parseInt(s/2,10)+e,u=i(e,c),l=i(c+1,n);return o=t[c],a=r?r(o):o,new Pt(a,o.node,Pt.BLACK,u,l)},o=function(e){for(var n=null,o=null,a=t.length,s=function(e,n){var o=a-e,s=a;a-=e;var u=i(o+1,s),l=t[o],h=r?r(l):l;c(new Pt(h,l.node,n,null,u))},c=function(t){n?(n.left=t,n=t):(o=t,n=t)},u=0;u<e.count;++u){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(u+1));l?s(h,Pt.BLACK):(s(h,Pt.BLACK),s(h,Pt.RED))}return o}(new jt(t.length));return new Ot(n||e,o)},Mt={},Ft=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return s.assert(Mt&&It,"ChildrenNode.ts has not been loaded"),St=St||new t({".priority":Mt},{".priority":It})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=s.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e===Mt?null:e},t.prototype.hasIndex=function(t){return s.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,r){s.assert(e!==bt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var n,i=[],o=!1,a=r.getIterator(yt.Wrap),c=a.getNext();c;)o=o||e.isDefinedOn(c.node),i.push(c),c=a.getNext();n=o?Bt(i,e.getCompare()):Mt;var u=e.toString(),l=s.clone(this.indexSet_);l[u]=e;var h=s.clone(this.indexes_);return h[u]=n,new t(h,l)},t.prototype.addToIndexes=function(e,r){var n=this;return new t(s.map(this.indexes_,function(t,i){var o=s.safeGet(n.indexSet_,i);if(s.assert(o,"Missing index implementation for "+i),t===Mt){if(o.isDefinedOn(e.node)){for(var a=[],c=r.getIterator(yt.Wrap),u=c.getNext();u;)u.name!=e.name&&a.push(u),u=c.getNext();return a.push(e),Bt(a,o.getCompare())}return Mt}var l=r.get(e.name),h=t;return l&&(h=h.remove(new yt(e.name,l))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,r){return new t(s.map(this.indexes_,function(t){if(t===Mt)return t;var n=r.get(e.name);return n?t.remove(new yt(e.name,n)):t}),this.indexSet_)},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Lt(t,e){return I(t.name,e.name)}function qt(t,e){return I(t,e)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt=function(){function t(t,e,r){this.children_=t,this.priorityNode_=e,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&xt(this.priorityNode_),this.children_.isEmpty()&&s.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return At||(At=new t(new Ot(qt),null,Ft.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||At},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?At:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,r){if(s.assert(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);var n,i=new yt(e,r),o=void 0,a=void 0;return r.isEmpty()?(o=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,r),a=this.indexMap_.addToIndexes(i,this.children_)),n=o.isEmpty()?At:this.priorityNode_,new t(o,n,a)},t.prototype.updateChild=function(t,e){var r=t.getFront();if(null===r)return e;s.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var n=this.getImmediateChild(r).updateChild(t.popFront(),e);return this.updateImmediateChild(r,n)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var r={},n=0,i=0,o=!0;if(this.forEachChild(It,function(a,s){r[a]=s.val(e),n++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*n){var a=[];for(var s in r)a[s]=r[s];return a}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+kt(this.getPriority().val())+":"),this.forEachChild(It,function(e,r){var n=r.hash();""!==n&&(t+=":"+e+":"+n)}),this.lazyHash_=""===t?"":m(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,r){var n=this.resolveIndex_(r);if(n){var i=n.getPredecessorKey(new yt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var r=e.minKey();return r&&r.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new yt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var r=e.maxKey();return r&&r.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new yt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var r=this.resolveIndex_(t);return r?r.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var r=this.resolveIndex_(e);if(r)return r.getIteratorFrom(t,function(t){return t});for(var n=this.children_.getIteratorFrom(t.name,yt.Wrap),i=n.peek();null!=i&&e.compare(i,t)<0;)n.getNext(),i=n.peek();return n},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var r=this.resolveIndex_(e);if(r)return r.getReverseIteratorFrom(t,function(t){return t});for(var n=this.children_.getReverseIteratorFrom(t.name,yt.Wrap),i=n.peek();null!=i&&e.compare(i,t)>0;)n.getNext(),i=n.peek();return n},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ut?-1:0},t.prototype.withIndex=function(e){if(e===bt||this.indexMap_.hasIndex(e))return this;var r=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,r)},t.prototype.isIndexed=function(t){return t===bt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var r=this.getIterator(It),n=e.getIterator(It),i=r.getNext(),o=n.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=n.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===bt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Ut=new(function(t){function e(){return t.call(this,new Ot(qt),Vt.EMPTY_NODE,Ft.Default)||this}return a.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Vt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Vt));Object.defineProperties(yt,{MIN:{value:new yt(S,Vt.EMPTY_NODE)},MAX:{value:new yt(A,Ut)}}),wt.__EMPTY_NODE=Vt.EMPTY_NODE,Tt.__childrenNodeConstructor=Vt,$=Ut,function(t){Ct=t}(Ut);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Wt=!0;function zt(t,e){if(void 0===e&&(e=null),null===t)return Vt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),s.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Tt(t,zt(e));if(t instanceof Array||!Wt){var r=Vt.EMPTY_NODE,n=t;return s.forEach(n,function(t,e){if(s.contains(n,t)&&"."!==t.substring(0,1)){var i=zt(e);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}}),r.updatePriority(zt(e))}var i=[],o=!1,a=t;if(s.forEach(a,function(t,e){if("string"!=typeof t||"."!==t.substring(0,1)){var r=zt(a[t]);r.isEmpty()||(o=o||!r.getPriority().isEmpty(),i.push(new yt(t,r)))}}),0==i.length)return Vt.EMPTY_NODE;var c=Bt(i,Lt,function(t){return t.name},qt);if(o){var u=Bt(i,It.getCompare());return new Vt(c,zt(e),new Ft({".priority":u},{".priority":It}))}return new Vt(c,zt(e),Ft.Default)}!function(t){Et=t}(zt);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ht,Jt,Gt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.compare=function(t,e){var r=t.node.compareTo(e.node);return 0===r?I(t.name,e.name):r},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return yt.MIN},e.prototype.maxPost=function(){return yt.MAX},e.prototype.makePost=function(t,e){var r=zt(t);return new yt(e,r)},e.prototype.toString=function(){return".value"},e}(vt)),Kt=function(t){function e(e){var r=t.call(this)||this;return r.indexPath_=e,s.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),r}return a.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var r=this.extractChild(t.node),n=this.extractChild(e.node),i=r.compareTo(n);return 0===i?I(t.name,e.name):i},e.prototype.makePost=function(t,e){var r=zt(t),n=Vt.EMPTY_NODE.updateChild(this.indexPath_,r);return new yt(e,n)},e.prototype.maxPost=function(){var t=Vt.EMPTY_NODE.updateChild(this.indexPath_,Ut);return new yt(A,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(vt),$t=function(){function t(t,e,r){this.node_=t,this.ref_=e,this.index_=r}return t.prototype.val=function(){return s.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return s.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return s.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return s.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){s.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),ut("DataSnapshot.child",1,e,!1);var r=new V(e),n=this.ref_.child(r);return new t(this.node_.getChild(r),n,It)},t.prototype.hasChild=function(t){s.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),ut("DataSnapshot.hasChild",1,t,!1);var e=new V(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return s.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var r=this;if(s.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),s.validateCallback("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var n=this.node_;return!!n.forEachChild(this.index_,function(n,i){return e(new t(i,r.ref_.child(n),It))})},t.prototype.hasChildren=function(){return s.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return s.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return s.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Qt=function(){function t(t,e,r,n){this.eventType=t,this.eventRegistration=e,this.snapshot=r,this.prevName=n}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+s.stringify(this.snapshot.exportVal())},t}(),Yt=function(){function t(t,e,r){this.eventRegistration=t,this.error=e,this.path=r}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Xt=function(){function t(t,e,r){this.callback_=t,this.cancelCallback_=e,this.context_=r}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var r=e.getQueryParams().getIndex();return new Qt("value",this,new $t(t.snapshotNode,e.getRef(),r))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){s.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(e,t.error)}}var n=this.callback_;return function(){n.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Yt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Zt=function(){function t(t,e,r){this.callbacks_=t,this.cancelCallback_=e,this.context_=r}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,s.contains(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Yt(this,t,e):null},t.prototype.createEvent=function(t,e){s.assert(null!=t.childName,"Child events should have a childName.");var r=e.getRef().child(t.childName),n=e.getQueryParams().getIndex();return new Qt(t.type,this,new $t(t.snapshotNode,r,n),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){s.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(e,t.error)}}var n=this.callbacks_[t.eventType];return function(){n.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=s.getCount(e.callbacks_);if(r===s.getCount(this.callbacks_)){if(1===r){var n=s.getAnyKey(e.callbacks_),i=s.getAnyKey(this.callbacks_);return!(i!==n||e.callbacks_[n]&&this.callbacks_[i]&&e.callbacks_[n]!==this.callbacks_[i])}return s.every(this.callbacks_,function(t,r){return e.callbacks_[t]===r})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),te=function(){function t(t,e,r,n){this.repo=t,this.path=e,this.queryParams_=r,this.orderByCalled_=n}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return s.assert(Ht,"Reference.ts has not been loaded"),Ht},set:function(t){Ht=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,r=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(r=t.getIndexEndValue()),t.getIndex()===bt){var n="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=S)throw new Error(n);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!=A)throw new Error(n);if("string"!=typeof r)throw new Error(i)}}else if(t.getIndex()===It){if(null!=e&&!rt(e)||null!=r&&!rt(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(s.assert(t.getIndex()instanceof Kt||t.getIndex()===Gt,"unknown index type."),null!=e&&"object"==typeof e||null!=r&&"object"==typeof r)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return s.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,r,n,i){s.validateArgCount("Query.on",2,4,arguments.length),st("Query.on",1,e,!1),s.validateCallback("Query.on",2,r,!1);var o=t.getCancelAndContextArgs_("Query.on",n,i);if("value"===e)this.onValueEvent(r,o.cancel,o.context);else{var a={};a[e]=r,this.onChildEvent(a,o.cancel,o.context)}return r},t.prototype.onValueEvent=function(t,e,r){var n=new Xt(t,e||null,r||null);this.repo.addEventCallbackForQuery(this,n)},t.prototype.onChildEvent=function(t,e,r){var n=new Zt(t,e,r);this.repo.addEventCallbackForQuery(this,n)},t.prototype.off=function(t,e,r){s.validateArgCount("Query.off",0,3,arguments.length),st("Query.off",1,t,!0),s.validateCallback("Query.off",2,e,!0),s.validateContextObject("Query.off",3,r,!0);var n=null,i=null;if("value"===t){var o=e||null;n=new Xt(o,null,r||null)}else t&&(e&&((i={})[t]=e),n=new Zt(i,null,r||null));this.repo.removeEventCallbackForQuery(this,n)},t.prototype.once=function(e,r,n,i){var o=this;s.validateArgCount("Query.once",1,4,arguments.length),st("Query.once",1,e,!1),s.validateCallback("Query.once",2,r,!0);var a=t.getCancelAndContextArgs_("Query.once",n,i),c=!0,u=new s.Deferred;u.promise.catch(function(){});var l=function(t){c&&(c=!1,o.off(e,l),r&&r.bind(a.context)(t),u.resolve(t))};return this.on(e,l,function(t){o.off(e,l),a.cancel&&a.cancel.bind(a.context)(t),u.reject(t)}),u.promise},t.prototype.limitToFirst=function(e){if(s.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(s.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(s.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ut("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var r=new V(e);if(r.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var n=new Kt(r),i=this.queryParams_.orderBy(n);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){s.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(bt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){s.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(It);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){s.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Gt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,r){void 0===e&&(e=null),s.validateArgCount("Query.startAt",0,2,arguments.length),nt("Query.startAt",1,e,this.path,!0),ct("Query.startAt",2,r,!0);var n=this.queryParams_.startAt(e,r);if(t.validateLimit_(n),t.validateQueryEndpoints_(n),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,r=null),new t(this.repo,this.path,n,this.orderByCalled_)},t.prototype.endAt=function(e,r){void 0===e&&(e=null),s.validateArgCount("Query.endAt",0,2,arguments.length),nt("Query.endAt",1,e,this.path,!0),ct("Query.endAt",2,r,!0);var n=this.queryParams_.endAt(e,r);if(t.validateLimit_(n),t.validateQueryEndpoints_(n),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,n,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(s.validateArgCount("Query.equalTo",1,2,arguments.length),nt("Query.equalTo",1,t,this.path,!1),ct("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return s.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return s.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=D(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(s.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var r="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(r)}var n=this.repo===e.repo,i=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return n&&i&&o},t.getCancelAndContextArgs_=function(t,e,r){var n={cancel:null,context:null};if(e&&r)n.cancel=e,s.validateCallback(t,3,n.cancel,!0),n.context=r,s.validateContextObject(t,4,n.context,!0);else if(e)if("object"==typeof e&&null!==e)n.context=e;else{if("function"!=typeof e)throw new Error(s.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");n.cancel=e}return n},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),ee=function(){function t(){this.set={}}return t.prototype.add=function(t,e){this.set[t]=null===e||e},t.prototype.contains=function(t){return s.contains(this.set,t)},t.prototype.get=function(t){return this.contains(t)?this.set[t]:void 0},t.prototype.remove=function(t){delete this.set[t]},t.prototype.clear=function(){this.set={}},t.prototype.isEmpty=function(){return s.isEmpty(this.set)},t.prototype.count=function(){return s.getCount(this.set)},t.prototype.each=function(t){s.forEach(this.set,function(e,r){return t(e,r)})},t.prototype.keys=function(){var t=[];return s.forEach(this.set,function(e){t.push(e)}),t},t}(),re=function(){function t(){this.value_=null,this.children_=null}return t.prototype.find=function(t){if(null!=this.value_)return this.value_.getChild(t);if(t.isEmpty()||null==this.children_)return null;var e=t.getFront();return t=t.popFront(),this.children_.contains(e)?this.children_.get(e).find(t):null},t.prototype.remember=function(e,r){if(e.isEmpty())this.value_=r,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(e,r);else{null==this.children_&&(this.children_=new ee);var n=e.getFront();this.children_.contains(n)||this.children_.add(n,new t);var i=this.children_.get(n);e=e.popFront(),i.remember(e,r)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var e=this.value_;this.value_=null;var r=this;return e.forEachChild(It,function(t,e){r.remember(new V(t),e)}),this.forget(t)}if(null!==this.children_){var n=t.getFront();if(t=t.popFront(),this.children_.contains(n))this.children_.get(n).forget(t)&&this.children_.remove(n);return!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},t.prototype.forEachTree=function(t,e){null!==this.value_?e(t,this.value_):this.forEachChild(function(r,n){var i=new V(t.toString()+"/"+r);n.forEachTree(i,e)})},t.prototype.forEachChild=function(t){null!==this.children_&&this.children_.each(function(e,r){t(e,r)})},t}(),ne=function(t,e){return t&&"object"==typeof t?(s.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},ie=function(t,e){var r,n=t.getPriority().val(),i=ne(n,e);if(t.isLeafNode()){var o=t,a=ne(o.getValue(),e);return a!==o.getValue()||i!==o.getPriority().val()?new Tt(a,zt(i)):t}var s=t;return r=s,i!==s.getPriority().val()&&(r=r.updatePriority(new Tt(i))),s.forEachChild(It,function(t,n){var i=ie(n,e);i!==n&&(r=r.updateImmediateChild(t,i))}),r};!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Jt||(Jt={}));var oe,ae,se=function(){function t(t,e,r,n){this.fromUser=t,this.fromServer=e,this.queryId=r,this.tagged=n,s.assert(!n||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),ce=function(){function t(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=Jt.ACK_USER_WRITE,this.source=se.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return s.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var r=this.affectedTree.subtree(new V(e));return new t(V.Empty,r,this.revert)}return s.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),ue=function(){return oe||(oe=new Ot(N)),oe},le=function(){function t(t,e){void 0===e&&(e=ue()),this.value=t,this.children=e}return t.fromObject=function(e){var r=t.Empty;return s.forEach(e,function(t,e){r=r.set(new V(t),e)}),r},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:V.Empty,value:this.value};if(t.isEmpty())return null;var r=t.getFront(),n=this.children.get(r);if(null!==n){var i=n.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new V(r).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var r=e.getFront(),n=this.children.get(r);return null!==n?n.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,r){if(e.isEmpty())return new t(r,this.children);var n=e.getFront(),i=(this.children.get(n)||t.Empty).set(e.popFront(),r),o=this.children.insert(n,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var r=e.getFront(),n=this.children.get(r);if(n){var i=n.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),r=this.children.get(e);return r?r.get(t.popFront()):null},t.prototype.setTree=function(e,r){if(e.isEmpty())return r;var n=e.getFront(),i=(this.children.get(n)||t.Empty).setTree(e.popFront(),r),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(V.Empty,t)},t.prototype.fold_=function(t,e){var r={};return this.children.inorderTraversal(function(n,i){r[n]=i.fold_(t.child(n),e)}),e(t,this.value,r)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,V.Empty,e)},t.prototype.findOnPath_=function(t,e,r){var n=!!this.value&&r(e,this.value);if(n)return n;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),r):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,V.Empty,e)},t.prototype.foreachOnPath_=function(e,r,n){if(e.isEmpty())return this;this.value&&n(r,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),r.child(i),n):t.Empty},t.prototype.foreach=function(t){this.foreach_(V.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(r,n){n.foreach_(t.child(r),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,r){r.value&&t(e,r.value)})},t.Empty=new t(null),t}(),he=function(){function t(t,e){this.source=t,this.path=e,this.type=Jt.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,V.Empty):new t(this.source,this.path.popFront())},t}(),pe=function(){function t(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=Jt.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,V.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),de=function(){function t(t,e,r){this.source=t,this.path=e,this.children=r,this.type=Jt.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var r=this.children.subtree(new V(e));return r.isEmpty()?null:r.value?new pe(this.source,V.Empty,r.value):new t(this.source,V.Empty,r)}return s.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),fe=function(){function t(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ge=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,r,n){return new t(new fe(e,r,n),this.serverCache_)},t.prototype.updateServerSnap=function(e,r,n){return new t(this.eventCache_,new fe(e,r,n))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new fe(Vt.EMPTY_NODE,!1,!1),new fe(Vt.EMPTY_NODE,!1,!1)),t}(),me=function(){function t(t,e,r,n,i){this.type=t,this.snapshotNode=e,this.childName=r,this.oldSnap=n,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,r){return new t(t.CHILD_ADDED,r,e)},t.childRemovedChange=function(e,r){return new t(t.CHILD_REMOVED,r,e)},t.childChangedChange=function(e,r,n){return new t(t.CHILD_CHANGED,r,e,n)},t.childMovedChange=function(e,r){return new t(t.CHILD_MOVED,r,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),ye=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,r,n,i,o){s.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(n).equals(r.getChild(n))&&a.isEmpty()==r.isEmpty()?t:(null!=o&&(r.isEmpty()?t.hasChild(e)?o.trackChildChange(me.childRemovedChange(e,a)):s.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(me.childAddedChange(e,r)):o.trackChildChange(me.childChangedChange(e,r,a))),t.isLeafNode()&&r.isEmpty()?t:t.updateImmediateChild(e,r).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,r){return null!=r&&(t.isLeafNode()||t.forEachChild(It,function(t,n){e.hasChild(t)||r.trackChildChange(me.childRemovedChange(t,n))}),e.isLeafNode()||e.forEachChild(It,function(e,n){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(n)||r.trackChildChange(me.childChangedChange(e,n,i))}else r.trackChildChange(me.childAddedChange(e,n))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Vt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ve=function(){function t(){this.changeMap_={}}return t.prototype.trackChildChange=function(t){var e=t.type,r=t.childName;s.assert(e==me.CHILD_ADDED||e==me.CHILD_CHANGED||e==me.CHILD_REMOVED,"Only child changes supported for tracking"),s.assert(".priority"!==r,"Only non-priority child changes can be tracked.");var n=s.safeGet(this.changeMap_,r);if(n){var i=n.type;if(e==me.CHILD_ADDED&&i==me.CHILD_REMOVED)this.changeMap_[r]=me.childChangedChange(r,t.snapshotNode,n.snapshotNode);else if(e==me.CHILD_REMOVED&&i==me.CHILD_ADDED)delete this.changeMap_[r];else if(e==me.CHILD_REMOVED&&i==me.CHILD_CHANGED)this.changeMap_[r]=me.childRemovedChange(r,n.oldSnap);else if(e==me.CHILD_CHANGED&&i==me.CHILD_ADDED)this.changeMap_[r]=me.childAddedChange(r,t.snapshotNode);else{if(e!=me.CHILD_CHANGED||i!=me.CHILD_CHANGED)throw s.assertionError("Illegal combination of changes: "+t+" occurred after "+n);this.changeMap_[r]=me.childChangedChange(r,t.snapshotNode,n.oldSnap)}}else this.changeMap_[r]=t},t.prototype.getChanges=function(){return s.getValues(this.changeMap_)},t}(),we=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,r){return null},t}()),be=function(){function t(t,e,r){void 0===r&&(r=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var r=null!=this.optCompleteServerCache_?new fe(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,r)},t.prototype.getChildAfterChild=function(t,e,r){var n=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(n,e,1,r,t);return 0===i.length?null:i[0]},t}(),_e=function(t,e){this.viewCache=t,this.changes=e},Ee=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){s.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),s.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,r,n,i){var o,a,c=new ve;if(r.type===Jt.OVERWRITE){var u=r;u.source.fromUser?o=this.applyUserOverwrite_(e,u.path,u.snap,n,i,c):(s.assert(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),o=this.applyServerOverwrite_(e,u.path,u.snap,n,i,a,c))}else if(r.type===Jt.MERGE){var l=r;l.source.fromUser?o=this.applyUserMerge_(e,l.path,l.children,n,i,c):(s.assert(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,l.path,l.children,n,i,a,c))}else if(r.type===Jt.ACK_USER_WRITE){var h=r;o=h.revert?this.revertUserWrite_(e,h.path,n,i,c):this.ackUserWrite_(e,h.path,h.affectedTree,n,i,c)}else{if(r.type!==Jt.LISTEN_COMPLETE)throw s.assertionError("Unknown operation type: "+r.type);o=this.listenComplete_(e,r.path,n,c)}var p=c.getChanges();return t.maybeAddValueEvent_(e,o,p),new _e(o,p)},t.maybeAddValueEvent_=function(t,e,r){var n=e.getEventCache();if(n.isFullyInitialized()){var i=n.getNode().isLeafNode()||n.getNode().isEmpty(),o=t.getCompleteEventSnap();(r.length>0||!t.getEventCache().isFullyInitialized()||i&&!n.getNode().equals(o)||!n.getNode().getPriority().equals(o.getPriority()))&&r.push(me.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,r,n,i){var o=t.getEventCache();if(null!=r.shadowingWrite(e))return t;var a=void 0,c=void 0;if(e.isEmpty())if(s.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),l=u instanceof Vt?u:Vt.EMPTY_NODE,h=r.calcCompleteEventChildren(l);a=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var p=r.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),p,i)}else{var d=e.getFront();if(".priority"==d){s.assert(1==e.getLength(),"Can't have a priority with additional path components");var f=o.getNode();c=t.getServerCache().getNode();var g=r.calcEventCacheAfterServerOverwrite(e,f,c);a=null!=g?this.filter_.updatePriority(f,g):o.getNode()}else{var m=e.popFront(),y=void 0;if(o.isCompleteForChild(d)){c=t.getServerCache().getNode();var v=r.calcEventCacheAfterServerOverwrite(e,o.getNode(),c);y=null!=v?o.getNode().getImmediateChild(d).updateChild(m,v):o.getNode().getImmediateChild(d)}else y=r.calcCompleteChild(d,t.getServerCache());a=null!=y?this.filter_.updateChild(o.getNode(),d,y,m,n,i):o.getNode()}}return t.updateEventSnap(a,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,r,n,i,o,a){var s,c=t.getServerCache(),u=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){var l=c.getNode().updateChild(e,r);s=u.updateFullNode(c.getNode(),l,null)}else{var h=e.getFront();if(!c.isCompleteForPath(e)&&e.getLength()>1)return t;var p=e.popFront(),d=c.getNode().getImmediateChild(h).updateChild(p,r);s=".priority"==h?u.updatePriority(c.getNode(),d):u.updateChild(c.getNode(),h,d,p,we,null)}var f=t.updateServerSnap(s,c.isFullyInitialized()||e.isEmpty(),u.filtersNodes()),g=new be(n,f,i);return this.generateEventCacheAfterServerEvent_(f,e,n,g,a)},t.prototype.applyUserOverwrite_=function(t,e,r,n,i,o){var a,s,c=t.getEventCache(),u=new be(n,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),r,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)s=this.filter_.updatePriority(t.getEventCache().getNode(),r),a=t.updateEventSnap(s,c.isFullyInitialized(),c.isFiltered());else{var h=e.popFront(),p=c.getNode().getImmediateChild(l),d=void 0;if(h.isEmpty())d=r;else{var f=u.getCompleteChild(l);d=null!=f?".priority"===h.getBack()&&f.getChild(h.parent()).isEmpty()?f:f.updateChild(h,r):Vt.EMPTY_NODE}if(p.equals(d))a=t;else{var g=this.filter_.updateChild(c.getNode(),l,d,h,u,o);a=t.updateEventSnap(g,c.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,r,n,i,o,a){var s=this,c=e;return n.foreach(function(n,u){var l=r.child(n);t.cacheHasChild_(e,l.getFront())&&(c=s.applyUserOverwrite_(c,l,u,i,o,a))}),n.foreach(function(n,u){var l=r.child(n);t.cacheHasChild_(e,l.getFront())||(c=s.applyUserOverwrite_(c,l,u,i,o,a))}),c},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,r){t=t.updateChild(e,r)}),t},t.prototype.applyServerMerge_=function(t,e,r,n,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var c,u=t;c=e.isEmpty()?r:le.Empty.setTree(e,r);var l=t.getServerCache().getNode();return c.children.inorderTraversal(function(e,r){if(l.hasChild(e)){var c=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(c,r);u=s.applyServerOverwrite_(u,new V(e),h,n,i,o,a)}}),c.children.inorderTraversal(function(e,r){var c=!t.getServerCache().isCompleteForChild(e)&&null==r.value;if(!l.hasChild(e)&&!c){var h=t.getServerCache().getNode().getImmediateChild(e),p=s.applyMerge_(h,r);u=s.applyServerOverwrite_(u,new V(e),p,n,i,o,a)}}),u},t.prototype.ackUserWrite_=function(t,e,r,n,i,o){if(null!=n.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=r.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),n,i,a,o);if(e.isEmpty()){var c=le.Empty;return s.getNode().forEachChild(bt,function(t,e){c=c.set(new V(t),e)}),this.applyServerMerge_(t,e,c,n,i,a,o)}return t}var u=le.Empty;return r.foreach(function(t,r){var n=e.child(t);s.isCompleteForPath(n)&&(u=u.set(t,s.getNode().getChild(n)))}),this.applyServerMerge_(t,e,u,n,i,a,o)},t.prototype.listenComplete_=function(t,e,r,n){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,r,we,n)},t.prototype.revertUserWrite_=function(t,e,r,n,i){var o;if(null!=r.shadowingWrite(e))return t;var a=new be(r,t,n),c=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var l=void 0;if(t.getServerCache().isFullyInitialized())l=r.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();s.assert(h instanceof Vt,"serverChildren would be complete if leaf node"),l=r.calcCompleteEventChildren(h)}l=l,u=this.filter_.updateFullNode(c,l,i)}else{var p=e.getFront(),d=r.calcCompleteChild(p,t.getServerCache());null==d&&t.getServerCache().isCompleteForChild(p)&&(d=c.getImmediateChild(p)),(u=null!=d?this.filter_.updateChild(c,p,d,e.popFront(),a,i):t.getEventCache().getNode().hasChild(p)?this.filter_.updateChild(c,p,Vt.EMPTY_NODE,e.popFront(),a,i):c).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=r.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,o,i))}return o=t.getServerCache().isFullyInitialized()||null!=r.shadowingWrite(V.Empty),t.updateEventSnap(u,o,this.filter_.filtersNodes())},t}(),Ce=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,r){var n=this,i=[],o=[];return t.forEach(function(t){t.type===me.CHILD_CHANGED&&n.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(me.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(i,me.CHILD_REMOVED,t,r,e),this.generateEventsForType_(i,me.CHILD_ADDED,t,r,e),this.generateEventsForType_(i,me.CHILD_MOVED,o,r,e),this.generateEventsForType_(i,me.CHILD_CHANGED,t,r,e),this.generateEventsForType_(i,me.VALUE,t,r,e),i},t.prototype.generateEventsForType_=function(t,e,r,n,i){var o=this,a=r.filter(function(t){return t.type===e});a.sort(this.compareChanges_.bind(this)),a.forEach(function(e){var r=o.materializeSingleChange_(e,i);n.forEach(function(n){n.respondsTo(e.type)&&t.push(n.createEvent(r,o.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw s.assertionError("Should only compare child_ events.");var r=new yt(t.childName,t.snapshotNode),n=new yt(e.childName,e.snapshotNode);return this.index_.compare(r,n)},t}(),ke=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var r=this.query_.getQueryParams(),n=new ye(r.getIndex()),i=r.getNodeFilter();this.processor_=new Ee(i);var o=e.getServerCache(),a=e.getEventCache(),s=n.updateFullNode(Vt.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(Vt.EMPTY_NODE,a.getNode(),null),u=new fe(s,o.isFullyInitialized(),n.filtersNodes()),l=new fe(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new ge(l,u),this.eventGenerator_=new Ce(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var r=[];if(e){s.assert(null==t,"A cancel should cancel all event registrations.");var n=this.query_.path;this.eventRegistrations_.forEach(function(t){e=e;var i=t.createCancelEvent(e,n);i&&r.push(i)})}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return r},t.prototype.applyOperation=function(t,e,r){t.type===Jt.MERGE&&null!==t.source.queryId&&(s.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),s.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var n=this.viewCache_,i=this.processor_.applyOperation(n,t,e,r);return this.processor_.assertIndexed(i.viewCache),s.assert(i.viewCache.getServerCache().isFullyInitialized()||!n.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),r=[];e.getNode().isLeafNode()||e.getNode().forEachChild(It,function(t,e){r.push(me.childAddedChange(t,e))});return e.isFullyInitialized()&&r.push(me.valueChange(e.getNode())),this.generateEventsForChanges_(r,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,r){var n=r?[r]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,n)},t}(),xe=function(){function t(){this.views_={}}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return s.assert(ae,"Reference.ts has not been loaded"),ae},set:function(t){s.assert(!ae,"__referenceConstructor has already been defined"),ae=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return s.isEmpty(this.views_)},t.prototype.applyOperation=function(t,e,r){var n=t.source.queryId;if(null!==n){var i=s.safeGet(this.views_,n);return s.assert(null!=i,"SyncTree gave us an op for an invalid query."),i.applyOperation(t,e,r)}var o=[];return s.forEach(this.views_,function(n,i){o=o.concat(i.applyOperation(t,e,r))}),o},t.prototype.addEventRegistration=function(t,e,r,n,i){var o=t.queryIdentifier(),a=s.safeGet(this.views_,o);if(!a){var c=r.calcCompleteEventCache(i?n:null),u=!1;c?u=!0:n instanceof Vt?(c=r.calcCompleteEventChildren(n),u=!1):(c=Vt.EMPTY_NODE,u=!1);var l=new ge(new fe(c,u,!1),new fe(n,i,!1));a=new ke(t,l),this.views_[o]=a}return a.addEventRegistration(e),a.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,r,n){var i=e.queryIdentifier(),o=[],a=[],c=this.hasCompleteView();if("default"===i){var u=this;s.forEach(this.views_,function(t,e){a=a.concat(e.removeEventRegistration(r,n)),e.isEmpty()&&(delete u.views_[t],e.getQuery().getQueryParams().loadsAllData()||o.push(e.getQuery()))})}else{var l=s.safeGet(this.views_,i);l&&(a=a.concat(l.removeEventRegistration(r,n)),l.isEmpty()&&(delete this.views_[i],l.getQuery().getQueryParams().loadsAllData()||o.push(l.getQuery())))}return c&&!this.hasCompleteView()&&o.push(new t.__referenceConstructor(e.repo,e.path)),{removed:o,events:a}},t.prototype.getQueryViews=function(){var t=this;return Object.keys(this.views_).map(function(e){return t.views_[e]}).filter(function(t){return!t.getQuery().getQueryParams().loadsAllData()})},t.prototype.getCompleteServerCache=function(t){var e=null;return s.forEach(this.views_,function(r,n){e=e||n.getCompleteServerCache(t)}),e},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return s.safeGet(this.views_,e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){return s.findValue(this.views_,function(t){return t.getQuery().getQueryParams().loadsAllData()})||null},t}(),Te=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,r){if(e.isEmpty())return new t(new le(r));var n=this.writeTree_.findRootMostValueAndPath(e);if(null!=n){var i=n.path,o=n.value,a=V.relativePath(i,e);return o=o.updateChild(a,r),new t(this.writeTree_.set(i,o))}var s=new le(r);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var r=this;return s.forEach(e,function(e,n){r=r.addWrite(t.child(e),n)}),r},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,le.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(V.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(It,function(e,r){t.push(new yt(e,r))}):this.writeTree_.children.inorderTraversal(function(e,r){null!=r.value&&t.push(new yt(e,r.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var r=this.getCompleteNode(e);return new t(null!=r?new le(r):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(e){return t.applySubtreeWrite_(V.Empty,this.writeTree_,e)},t.Empty=new t(new le(null)),t.applySubtreeWrite_=function(e,r,n){if(null!=r.value)return n.updateChild(e,r.value);var i=null;return r.children.inorderTraversal(function(r,o){".priority"===r?(s.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):n=t.applySubtreeWrite_(e.child(r),o,n)}),n.getChild(e).isEmpty()||null===i||(n=n.updateChild(e.child(".priority"),i)),n},t}(),Se=function(){function t(){this.visibleWrites_=Te.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Ae(t,this)},t.prototype.addOverwrite=function(t,e,r,n){s.assert(r>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===n&&(n=!0),this.allWrites_.push({path:t,snap:e,writeId:r,visible:n}),n&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=r},t.prototype.addMerge=function(t,e,r){s.assert(r>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:r,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=r},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var r=this.allWrites_[e];if(r.writeId===t)return r}return null},t.prototype.removeWrite=function(t){var e=this,r=this.allWrites_.findIndex(function(e){return e.writeId===t});s.assert(r>=0,"removeWrite called with nonexistent writeId.");var n=this.allWrites_[r];this.allWrites_.splice(r,1);for(var i=n.visible,o=!1,a=this.allWrites_.length-1;i&&a>=0;){var c=this.allWrites_[a];c.visible&&(a>=r&&this.recordContainsPath_(c,n.path)?i=!1:n.path.contains(c.path)&&(o=!0)),a--}if(i){if(o)return this.resetTree_(),!0;if(n.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(n.path);else{var u=n.children;s.forEach(u,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(n.path.child(t))})}return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,r,n,i){if(n||i){var o=this.visibleWrites_.childCompoundWrite(e);if(!i&&o.isEmpty())return r;if(i||null!=r||o.hasCompleteWrite(V.Empty)){var a=t.layerTree_(this.allWrites_,function(t){return(t.visible||i)&&(!n||!~n.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},e);u=r||Vt.EMPTY_NODE;return a.apply(u)}return null}var s=this.visibleWrites_.getCompleteNode(e);if(null!=s)return s;var c=this.visibleWrites_.childCompoundWrite(e);if(c.isEmpty())return r;if(null!=r||c.hasCompleteWrite(V.Empty)){var u=r||Vt.EMPTY_NODE;return c.apply(u)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var r=Vt.EMPTY_NODE,n=this.visibleWrites_.getCompleteNode(t);if(n)return n.isLeafNode()||n.forEachChild(It,function(t,e){r=r.updateImmediateChild(t,e)}),r;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(It,function(t,e){var n=i.childCompoundWrite(new V(t)).apply(e);r=r.updateImmediateChild(t,n)}),i.getCompleteChildren().forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,r,n){s.assert(r||n,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?n.getChild(e):o.apply(n.getChild(e))},t.prototype.calcCompleteChild=function(t,e,r){var n=t.child(e),i=this.visibleWrites_.getCompleteNode(n);return null!=i?i:r.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(n).apply(r.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,r,n,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t),c=s.getCompleteNode(V.Empty);if(null!=c)a=c;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var u=[],l=o.getCompare(),h=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),p=h.getNext();p&&u.length<n;)0!==l(p,r)&&u.push(p),p=h.getNext();return u},t.prototype.recordContainsPath_=function(t,e){return t.snap?t.path.contains(e):!!s.findKey(t.children,function(r,n){return t.path.child(n).contains(e)})},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,V.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,r){for(var n=Te.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,c=void 0;if(o.snap)r.contains(a)?(c=V.relativePath(r,a),n=n.addWrite(c,o.snap)):a.contains(r)&&(c=V.relativePath(a,r),n=n.addWrite(V.Empty,o.snap.getChild(c)));else{if(!o.children)throw s.assertionError("WriteRecord should have .snap or .children");if(r.contains(a))c=V.relativePath(r,a),n=n.addWrites(c,o.children);else if(a.contains(r))if((c=V.relativePath(a,r)).isEmpty())n=n.addWrites(V.Empty,o.children);else{var u=s.safeGet(o.children,c.getFront());if(u){var l=u.getChild(c.popFront());n=n.addWrite(V.Empty,l)}}}}}return n},t}(),Ae=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,r){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,r)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,r){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,r)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,r,n,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,r,n,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Ie=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=le.Empty,this.pendingWriteTree_=new Se,this.tagToQueryMap_={},this.queryToTagMap_={}}return t.prototype.applyUserOverwrite=function(t,e,r,n){return this.pendingWriteTree_.addOverwrite(t,e,r,n),n?this.applyOperationToSyncPoints_(new pe(se.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,r){this.pendingWriteTree_.addMerge(t,e,r);var n=le.fromObject(e);return this.applyOperationToSyncPoints_(new de(se.User,t,n))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var r=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var n=le.Empty;return null!=r.snap?n=n.set(V.Empty,!0):s.forEach(r.children,function(t,e){n=n.set(new V(t),e)}),this.applyOperationToSyncPoints_(new ce(r.path,n,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new pe(se.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var r=le.fromObject(e);return this.applyOperationToSyncPoints_(new de(se.Server,t,r))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new he(se.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,r,n){var i=this.queryKeyForTag_(n);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,c=V.relativePath(a,e),u=new pe(se.forServerTaggedQuery(s),c,r);return this.applyTaggedOperation_(a,u)}return[]},t.prototype.applyTaggedQueryMerge=function(e,r,n){var i=this.queryKeyForTag_(n);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,c=V.relativePath(a,e),u=le.fromObject(r),l=new de(se.forServerTaggedQuery(s),c,u);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,r){var n=this.queryKeyForTag_(r);if(n){var i=t.parseQueryKey_(n),o=i.path,a=i.queryId,s=V.relativePath(o,e),c=new he(se.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,c)}return[]},t.prototype.addEventRegistration=function(e,r){var n=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(n,function(t,e){var r=V.relativePath(t,n);i=i||e.getCompleteServerCache(r),o=o||e.hasCompleteView()});var a,c=this.syncPointTree_.get(n);(c?(o=o||c.hasCompleteView(),i=i||c.getCompleteServerCache(V.Empty)):(c=new xe,this.syncPointTree_=this.syncPointTree_.set(n,c)),null!=i)?a=!0:(a=!1,i=Vt.EMPTY_NODE,this.syncPointTree_.subtree(n).foreachChild(function(t,e){var r=e.getCompleteServerCache(V.Empty);r&&(i=i.updateImmediateChild(t,r))}));var u=c.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var l=t.makeQueryKey_(e);s.assert(!(l in this.queryToTagMap_),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap_[l]=h,this.tagToQueryMap_["_"+h]=l}var p=this.pendingWriteTree_.childWrites(n),d=c.addEventRegistration(e,r,p,i,a);if(!u&&!o){var f=c.viewForQuery(e);d=d.concat(this.setupListener_(e,f))}return d},t.prototype.removeEventRegistration=function(e,r,n){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var c=a.removeEventRegistration(e,r,n);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var u=c.removed;s=c.events;var l=-1!==u.findIndex(function(t){return t.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(o,function(t,e){return e.hasCompleteView()});if(l&&!h){var p=this.syncPointTree_.subtree(o);if(!p.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(p),f=0;f<d.length;++f){var g=d[f],m=g.getQuery(),y=this.createListenerForView_(g);this.listenProvider_.startListening(t.queryForListening_(m),this.tagForQuery_(m),y.hashFn,y.onComplete)}}if(!h&&u.length>0&&!n)if(l){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else u.forEach(function(e){var r=i.queryToTagMap_[t.makeQueryKey_(e)];i.listenProvider_.stopListening(t.queryForListening_(e),r)});this.removeTags_(u)}return s},t.prototype.calcCompleteEventCache=function(t,e){var r=this.pendingWriteTree_,n=this.syncPointTree_.findOnPath(t,function(e,r){var n=V.relativePath(e,t),i=r.getCompleteServerCache(n);if(i)return i});return r.calcCompleteEventCache(t,n,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,r){if(e&&e.hasCompleteView())return[e.getCompleteView()];var n=[];return e&&(n=e.getQueryViews()),s.forEach(r,function(t,e){n=n.concat(e)}),n})},t.prototype.removeTags_=function(e){for(var r=0;r<e.length;++r){var n=e[r];if(!n.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(n),o=this.queryToTagMap_[i];delete this.queryToTagMap_[i],delete this.tagToQueryMap_["_"+o]}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,r){var n=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(r),a=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),c=this.syncPointTree_.subtree(n);if(i)s.assert(!c.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=c.fold(function(t,e,r){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var n=[];return e&&(n=n.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),s.forEach(r,function(t,e){n=n.concat(e)}),n}),l=0;l<u.length;++l){var h=u[l];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return a},t.prototype.createListenerForView_=function(t){var e=this,r=t.getQuery(),n=this.tagForQuery_(r);return{hashFn:function(){return(t.getServerCache()||Vt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return n?e.applyTaggedListenComplete(r.path,n):e.applyListenComplete(r.path);var i=function(t,e){var r="Unknown Error";"too_big"===t?r="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?r="Client doesn't have permission to access the desired data.":"unavailable"==t&&(r="The service is unavailable");var n=new Error(t+" at "+e.path.toString()+": "+r);return n.code=t.toUpperCase(),n}(t,r);return e.removeEventRegistration(r,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return s.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new V(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap_["_"+t]},t.prototype.tagForQuery_=function(e){var r=t.makeQueryKey_(e);return s.safeGet(this.queryToTagMap_,r)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var r=this.syncPointTree_.get(t);s.assert(r,"Missing sync point for query tag that we're tracking");var n=this.pendingWriteTree_.childWrites(t);return r.applyOperation(e,n,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(V.Empty))},t.prototype.applyOperationHelper_=function(t,e,r,n){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,r,n);var i=e.get(V.Empty);null==r&&null!=i&&(r=i.getCompleteServerCache(V.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),c=e.children.get(a);if(c&&s){var u=r?r.getImmediateChild(a):null,l=n.child(a);o=o.concat(this.applyOperationHelper_(s,c,u,l))}return i&&(o=o.concat(i.applyOperation(t,n,r))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,r,n){var i=this,o=e.get(V.Empty);null==r&&null!=o&&(r=o.getCompleteServerCache(V.Empty));var a=[];return e.children.inorderTraversal(function(e,o){var s=r?r.getImmediateChild(e):null,c=n.child(e),u=t.operationForChild(e);u&&(a=a.concat(i.applyOperationDescendantsHelper_(u,o,s,c)))}),o&&(a=a.concat(o.applyOperation(t,n,r))),a},t.nextQueryTag_=1,t}(),Ne=function(){function t(){this.rootNode_=Vt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Pe=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},t.prototype.addTokenChangeListener=function(t){this.app_.INTERNAL.addAuthTokenListener(t)},t.prototype.removeTokenChangeListener=function(t){this.app_.INTERNAL.removeAuthTokenListener(t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',x(t)},t}(),De=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),s.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return s.deepCopy(this.counters_)},t}(),Oe=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new De),this.collections_[e]},t.getOrCreateReporter=function(t,e){var r=t.toString();return this.reporters_[r]||(this.reporters_[r]=e()),this.reporters_[r]},t.collections_={},t.reporters_={},t}(),Re=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=s.clone(t);return this.last_&&s.forEach(this.last_,function(t,r){e[t]=e[t]-r}),this.last_=t,e},t}(),je=1e4,Be=3e4,Me=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Re(t);var r=je+(Be-je)*Math.random();q(this.reportStats_.bind(this),Math.floor(r))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),r={},n=!1;s.forEach(e,function(e,i){i>0&&s.contains(t.statsToReport_,e)&&(r[e]=i,n=!0)}),n&&this.server_.reportStats(r),q(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Fe=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,r=0;r<t.length;r++){var n=t[r],i=n.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Le(i)),e.add(n)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,r=0;r<this.eventLists_.length;r++){var n=this.eventLists_[r];if(n)t(n.getPath())?(this.eventLists_[r].raise(),this.eventLists_[r]=null):e=!1}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Le=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var r=e.getEventRunner();v&&_("event: "+e.toString()),F(r)}}},t.prototype.getPath=function(){return this.path_},t}(),qe=function(){function t(t){this.allowedEvents_=t,this.listeners_={},s.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(Array.isArray(this.listeners_[t]))for(var n=this.listeners_[t].slice(),i=0;i<n.length;i++)n[i].callback.apply(n[i].context,e)},t.prototype.on=function(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});var n=this.getInitialEvent(t);n&&e.apply(r,n)},t.prototype.off=function(t,e,r){this.validateEventType_(t);for(var n=this.listeners_[t]||[],i=0;i<n.length;i++)if(n[i].callback===e&&(!r||r===n[i].context))return void n.splice(i,1)},t.prototype.validateEventType_=function(t){s.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),Ve=function(t){function e(){var e,r,n=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(r="visibilitychange",e="hidden"):void 0!==document.mozHidden?(r="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(r="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(r="webkitvisibilitychange",e="webkitHidden")),n.visible_=!0,r&&document.addEventListener(r,function(){var t=!document[e];t!==n.visible_&&(n.visible_=t,n.trigger("visible",t))},!1),n}return a.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return s.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(qe),Ue=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||s.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return a.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return s.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(qe),We=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var r=this;this.pendingResponses[t]=e;for(var n=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&F(function(){r.onMessage_(t[e])})},n=0;n<t.length;++n)e(n);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===n())break}},t}(),ze="pLPCommand",He="pRTLPCB",Je=function(){function t(t,e,r,n){this.connId=t,this.repoInfo=e,this.transportSessionId=r,this.lastSessionId=n,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(t),this.stats_=Oe.getCollection(e),this.urlFn=function(t){return e.connectionURL(W,t)}}return t.prototype.open=function(t,e){var r=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new We(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(s.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,r=function(){document.body?e||(e=!0,t()):setTimeout(r,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&r()}),window.attachEvent("onload",r))}}(function(){if(!r.isClosed_){r.scriptTagHolder=new Ge(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],i=t[1],o=t[2];if(r.incrementIncomingBytes_(t),r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,"start"==n)r.id=i,r.password=o;else{if("close"!==n)throw new Error("Unrecognized command received: "+n);i?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(i,function(){r.onClosed_()})):r.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],i=t[1];r.incrementIncomingBytes_(t),r.myPacketOrderer.handleResponse(n,i)},function(){r.onClosed_()},r.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),r.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=r.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",r.transportSessionId&&(t.s=r.transportSessionId),r.lastSessionId&&(t.ls=r.lastSessionId),!s.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=r.urlFn(t);r.log_("Connecting via long-poll to "+e),r.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_||!t.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI)&&!s.isNodeSdk()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=s.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var r=s.base64Encode(e),n=O(r,1840),i=0;i<n.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,n.length,n[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!s.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=s.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Ge=function(){function t(e,r,n,i){if(this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new ee,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,s.isNodeSdk())this.commandCB=e,this.onMessageCB=r;else{this.uniqueCallbackIdentifier=g(),window[ze+this.uniqueCallbackIdentifier]=e,window[He+this.uniqueCallbackIdentifier]=r,this.myIFrame=t.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))o='<script>document.domain="'+document.domain+'";<\/script>';var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(t){_("frame writing exception"),t.stack&&_(t.stack),_(t)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||_("No IE domain setting required")}catch(r){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var e=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0))),s.isNodeSdk()&&this.myID){var r={disconn:"t"};r.id=this.myID,r.pw=this.myPW;var n=this.urlFn(r);t.nodeRestRequest(n)}var i=this.onDisconnect;i&&(this.onDisconnect=null,i())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),r="",n=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+r.length<=1870))break;var i=this.pendingSegs.shift();r=r+"&seg"+n+"="+i.seg+"&ts"+n+"="+i.ts+"&d"+n+"="+i.d,n++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var r=this;this.outstandingRequests.add(e,1);var n=function(){r.outstandingRequests.remove(e),r.newRequest_()},i=setTimeout(n,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),n()})},t.prototype.addTag=function(t,e){var r=this;s.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!r.sendNewPolls)return;var n=r.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.onload=n.onreadystatechange=function(){var t=n.readyState;t&&"loaded"!==t&&"complete"!==t||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),e())},n.onerror=function(){_("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(n)}catch(t){}},Math.floor(1))},t}(),Ke=null;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */"undefined"!=typeof MozWebSocket?Ke=MozWebSocket:"undefined"!=typeof WebSocket&&(Ke=WebSocket);var $e=function(){function t(e,r,n,i){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=Oe.getCollection(r),this.connURL=t.connectionURL_(r,n,i)}return t.connectionURL_=function(t,e,r){var n={v:"5"};return!s.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(n.r="f"),e&&(n.s=e),r&&(n.ls=r),t.connectionURL("websocket",n)},t.prototype.open=function(t,e){var r=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if(s.isNodeSdk()){var n=s.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+o.SDK_VERSION+"/"+process.platform+"/"+n}},a=process.env,c=0==this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;c&&(i.proxy={origin:c}),this.mySock=new Ke(this.connURL,[],i)}else this.mySock=new Ke(this.connURL)}catch(t){this.log_("Error instantiating WebSocket.");var u=t.message||t.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(t){r.handleIncomingFrame(t)},this.mySock.onerror=function(t){r.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&r.log_(e),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==Ke&&!t.forceDisallow_},t.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var r=s.jsonEval(e);this.onMessage(r)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(s.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var r=this.extractFrameCount_(e);null!==r&&this.appendFrame_(r)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=s.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var r=O(e,16384);r.length>1&&this.sendString_(String(r.length));for(var n=0;n<r.length;n++)this.sendString_(r[n])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Qe=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Je,$e]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var r=$e&&$e.isAvailable(),n=r&&!$e.previouslyFailed();if(e.webSocketOnly&&(r||x("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[$e];else{var i=this.transports_=[];R(t.ALL_TRANSPORTS,function(t,e){e&&e.isAvailable()&&i.push(e)})}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Ye=function(){function t(t,e,r,n,i,o,a){this.id=t,this.repoInfo_=e,this.onMessage_=r,this.onReady_=n,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new Qe(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(r,n)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=q(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(r){t===e.conn_?e.onConnectionLost_(r):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(r){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(r):t===e.secondaryConn_?e.onSecondaryMessageReceived_(r):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=P("t",t),r=P("d",t);if("c"==e)this.onSecondaryControl_(r);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=P("t",t),r=P("d",t);"c"==e?this.onControl_(r):"d"==e&&this.onDataMessage_(r)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=P("t",t);if("d"in t){var r=t.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var n=0;n<this.pendingDataMessages.length;++n)this.onDataMessage_(this.pendingDataMessages[n]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?C("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,r=t.v,n=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(n),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&x("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,n),q(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var r=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):q(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Xe=function(){function t(){}return t.prototype.put=function(t,e,r,n){},t.prototype.merge=function(t,e,r,n){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,r){},t.prototype.onDisconnectMerge=function(t,e,r){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Ze=1e3,tr=3e5,er=function(t){function e(r,n,i,o,a,c){var u=t.call(this)||this;if(u.repoInfo_=r,u.onDataUpdate_=n,u.onConnectStatus_=i,u.onServerInfoUpdate_=o,u.authTokenProvider_=a,u.authOverride_=c,u.id=e.nextPersistentConnectionId_++,u.log_=E("p:"+u.id+":"),u.interruptReasons_={},u.listens_={},u.outstandingPuts_=[],u.outstandingPutCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=Ze,u.maxReconnectDelay_=tr,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,c&&!s.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return u.scheduleConnect_(0),Ve.getInstance().on("visible",u.onVisible_,u),-1===r.host.indexOf("fblocal")&&Ue.getInstance().on("online",u.onOnline_,u),u}return a.__extends(e,t),e.prototype.sendRequest=function(t,e,r){var n=++this.requestNumber_,i={r:n,a:t,b:e};this.log_(s.stringify(i)),s.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[n]=r)},e.prototype.listen=function(t,e,r,n){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens_[o]=this.listens_[o]||{},s.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),s.assert(!this.listens_[o][i],"listen() called twice for same path/queryId.");var a={onComplete:n,hashFn:e,query:t,tag:r};this.listens_[o][i]=a,this.connected_&&this.sendListen_(a)},e.prototype.sendListen_=function(t){var r=this,n=t.query,i=n.path.toString(),o=n.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=n.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,c=a.s;e.warnOnListenWarnings_(s,n),(r.listens_[i]&&r.listens_[i][o])===t&&(r.log_("listen response",a),"ok"!==c&&r.removeListen_(i,o),t.onComplete&&t.onComplete(c,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&s.contains(t,"w")){var r=s.safeGet(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){var n='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();x("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+n+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||s.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,r=s.isValidFormat(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(r,n,function(r){var n=r.s,i=r.d||"error";t.authToken_===e&&("ok"===n?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(n,i))})}},e.prototype.unlisten=function(t,e){var r=t.path.toString(),n=t.queryIdentifier();this.log_("Unlisten called for "+r+" "+n),s.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,n)&&this.connected_&&this.sendUnlisten_(r,n,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,r,n){this.log_("Unlisten on "+t+" for "+e);var i={p:t};n&&(i.q=r,i.t=n),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,r){this.connected_?this.sendOnDisconnect_("o",t,e,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:r})},e.prototype.onDisconnectMerge=function(t,e,r){this.connected_?this.sendOnDisconnect_("om",t,e,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:r})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,r,n){var i={p:e,d:r};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){n&&setTimeout(function(){n(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,r,n){this.putInternal("p",t,e,r,n)},e.prototype.merge=function(t,e,r,n){this.putInternal("m",t,e,r,n)},e.prototype.putInternal=function(t,e,r,n,i){var o={p:e,d:r};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:n}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,r=this.outstandingPuts_[t].action,n=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,n,function(n){e.log_(r+" response",n),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(n.s,n.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,function(t){if("ok"!==t.s){var r=t.d;e.log_("reportStats","Error sending stats: "+r)}})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+s.stringify(t));var e=t.r,r=this.requestCBHash_[e];r&&(delete this.requestCBHash_[e],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):C("Unrecognized action received from server: "+s.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;s.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ze,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ze,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ze),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this,a=this.lastSessionId,c=!1,u=null,l=function(){u?u.close():(c=!0,n())};this.realtime_={close:l,sendRequest:function(t){s.assert(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then(function(e){c?_("getToken() completed but was canceled"):(_("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,u=new Ye(i,o.repoInfo_,t,r,n,function(t){x(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},a))}).then(null,function(t){o.log_("Failed to get token: "+t),c||(s.CONSTANTS.NODE_ADMIN&&x(t),l())})}},e.prototype.interrupt=function(t){_("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){_("Resuming connection for reason: "+t),delete this.interruptReasons_[t],s.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=Ze,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var r;r=e?e.map(function(t){return D(t)}).join("$"):"default";var n=this.removeListen_(t,r);n&&n.onComplete&&n.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var r,n=new V(t).toString();return void 0!==this.listens_[n]?(r=this.listens_[n][e],delete this.listens_[n][e],0===s.getCount(this.listens_[n])&&delete this.listens_[n]):r=void 0,r},e.prototype.onAuthRevoked_=function(t,e){_("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t=this;this.tryAuth(),s.forEach(this.listens_,function(e,r){s.forEach(r,function(e,r){t.sendListen_(r)})});for(var e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){var r=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(r.action,r.pathString,r.data,r.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";s.CONSTANTS.NODE_ADMIN?e="admin_node":s.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+o.SDK_VERSION.replace(/\./g,"-")]=1,s.isMobileCordova()?t["framework.cordova"]=1:s.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Ue.getInstance().currentlyOnline();return s.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Xe),rr=function(t){function e(e,r,n){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=r,i.authTokenProvider_=n,i.log_=E("p:rest:"),i.listens_={},i}return a.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(s.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,r,n,i){var o=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var c=e.getListenId_(t,n),u={};this.listens_[c]=u;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",l,function(t,e){var r=e;(404===t&&(r=null,t=null),null===t&&o.onDataUpdate_(a,r,!1,n),s.safeGet(o.listens_,c)===u)&&i(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,r){var n=e.getListenId_(t,r);delete this.listens_[n]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,r){var n=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var o=i&&i.accessToken;o&&(e.auth=o);var a=(n.repoInfo_.secure?"https://":"http://")+n.repoInfo_.host+t+"?ns="+n.repoInfo_.namespace+s.querystring(e);n.log_("Sending REST request for "+a);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){n.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);var t=null;if(c.status>=200&&c.status<300){try{t=s.jsonEval(c.responseText)}catch(t){x("Failed to parse JSON response for "+a+": "+c.responseText)}r(null,t)}else 401!==c.status&&404!==c.status&&x("Got unsuccessful REST response for "+a+" Status: "+c.status),r(c.status);r=null}},c.open("GET",a,!0),c.send()})},e}(Xe),nr=function(){function t(t,e,r){var n=this;this.repoInfo_=t,this.app=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Fe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new re,this.persistentConnection_=null;var i=new Pe(r);if(this.stats_=Oe.getCollection(t),e||L())this.server_=new rr(this.repoInfo_,this.onDataUpdate_.bind(this),i),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=r.options.databaseAuthVariableOverride;if(null!=o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{s.stringify(o)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new er(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,o),this.server_=this.persistentConnection_}i.addTokenChangeListener(function(t){n.server_.refreshAuthToken(t)}),this.statsReporter_=Oe.getOrCreateReporter(t,function(){return new Me(n.stats_,n.server_)}),this.transactions_init_(),this.infoData_=new Ne,this.infoSyncTree_=new Ie({startListening:function(t,e,r,i){var o=[],a=n.infoData_.getNode(t.path);return a.isEmpty()||(o=n.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ie({startListening:function(t,e,r,i){return n.server_.listen(t,r,e,function(e,r){var o=i(e,r);n.eventQueue_.raiseEventsForChangedPath(t.path,o)}),[]},stopListening:function(t,e){n.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new V(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,r,n){this.dataUpdateCount++;var i=new V(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(n)if(r){var a=s.map(e,function(t){return zt(t)});o=this.serverSyncTree_.applyTaggedQueryMerge(i,a,n)}else{var c=zt(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,c,n)}else if(r){var u=s.map(e,function(t){return zt(t)});o=this.serverSyncTree_.applyServerMerge(i,u)}else{var l=zt(e);o=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;o.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;R(t,function(t,r){e.updateInfo_(r,t)})},t.prototype.updateInfo_=function(t,e){var r=new V("/.info/"+t),n=zt(e);this.infoData_.updateSnapshot(r,n);var i=this.infoSyncTree_.applyServerOverwrite(r,n);this.eventQueue_.raiseEventsForChangedPath(r,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,r,n){var i=this;this.log_("set",{path:t.toString(),value:e,priority:r});var o=this.generateServerValues(),a=zt(e,r),s=ie(a,o),c=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserOverwrite(t,s,c,!0);this.eventQueue_.queueEvents(u),this.server_.put(t.toString(),a.val(!0),function(e,r){var o="ok"===e;o||x("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(c,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(n,e,r)});var l=this.abortTransactions_(t);this.rerunTransactions_(l),this.eventQueue_.raiseEventsForChangedPath(l,[])},t.prototype.update=function(t,e,r){var n=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),a={};if(s.forEach(e,function(t,e){i=!1;var r=zt(e);a[t]=ie(r,o)}),i)_("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(r,"ok");else{var c=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,a,c);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,function(e,i){var o="ok"===e;o||x("update at "+t+" failed: "+e);var a=n.serverSyncTree_.ackUserWrite(c,!o),s=a.length>0?n.rerunTransactions_(t):t;n.eventQueue_.raiseEventsForChangedPath(s,a),n.callOnCompleteCallback(r,e,i)}),s.forEach(e,function(e){var r=n.abortTransactions_(t.child(e));n.rerunTransactions_(r)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),r=function(t,e){var r=new re;return t.forEachTree(new V(""),function(t,n){r.remember(t,ie(n,e))}),r}(this.onDisconnect_,e),n=[];r.forEachTree(V.Empty,function(e,r){n=n.concat(t.serverSyncTree_.applyServerOverwrite(e,r));var i=t.abortTransactions_(e);t.rerunTransactions_(i)}),this.onDisconnect_=new re,this.eventQueue_.raiseEventsForChangedPath(V.Empty,n)},t.prototype.onDisconnectCancel=function(t,e){var r=this;this.server_.onDisconnectCancel(t.toString(),function(n,i){"ok"===n&&r.onDisconnect_.forget(t),r.callOnCompleteCallback(e,n,i)})},t.prototype.onDisconnectSet=function(t,e,r){var n=this,i=zt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),function(e,o){"ok"===e&&n.onDisconnect_.remember(t,i),n.callOnCompleteCallback(r,e,o)})},t.prototype.onDisconnectSetWithPriority=function(t,e,r,n){var i=this,o=zt(e,r);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(e,r){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(n,e,r)})},t.prototype.onDisconnectUpdate=function(t,e,r){var n=this;if(s.isEmpty(e))return _("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(r,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(i,o){"ok"===i&&s.forEach(e,function(e,r){var i=zt(r);n.onDisconnect_.remember(t.child(e),i)}),n.callOnCompleteCallback(r,i,o)})},t.prototype.addEventCallbackForQuery=function(t,e){var r;r=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,r)},t.prototype.removeEventCallbackForQuery=function(t,e){var r;r=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,r)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Re(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var r=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);s.forEach(e,function(t,e){for(var n=t.length;n<r+2;n++)t+=" ";console.log(t+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r="";this.persistentConnection_&&(r=this.persistentConnection_.id+":"),_.apply(void 0,[r].concat(t))},t.prototype.callOnCompleteCallback=function(t,e,r){t&&F(function(){if("ok"==e)t(null);else{var n=(e||"error").toUpperCase(),i=n;r&&(i+=": "+r);var o=new Error(i);o.code=n,t(o)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new dr(this))},enumerable:!0,configurable:!0}),t}(),ir=function(){function t(e){this.indexedFilter_=new ye(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,r,n,i,o){return this.matches(new yt(e,r))||(r=Vt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,r,n,i,o)},t.prototype.updateFullNode=function(t,e,r){e.isLeafNode()&&(e=Vt.EMPTY_NODE);var n=e.withIndex(this.index_);n=n.updatePriority(Vt.EMPTY_NODE);var i=this;return e.forEachChild(It,function(t,e){i.matches(new yt(t,e))||(n=n.updateImmediateChild(t,Vt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,n,r)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),or=function(){function t(t){this.rangedFilter_=new ir(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,r,n,i,o){return this.rangedFilter_.matches(new yt(e,r))||(r=Vt.EMPTY_NODE),t.getImmediateChild(e).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,r,n,i,o):this.fullLimitUpdateChild_(t,e,r,i,o)},t.prototype.updateFullNode=function(t,e,r){var n;if(e.isLeafNode()||e.isEmpty())n=Vt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){n=Vt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;n=n.updateImmediateChild(a.name,a.node),o++}}else{n=(n=e.withIndex(this.index_)).updatePriority(Vt.EMPTY_NODE);var s=void 0,c=void 0,u=void 0;i=void 0;if(this.reverse_){i=n.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();u=function(t,e){return l(e,t)}}else i=n.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&u(s,a)<=0&&(h=!0),h&&o<this.limit_&&u(a,c)<=0?o++:n=n.updateImmediateChild(a.name,Vt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,n,r)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,r,n,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(t,e){return a(e,t)}}else o=this.index_.getCompare();var c=t;s.assert(c.numChildren()==this.limit_,"");var u=new yt(e,r),l=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(c.hasChild(e)){for(var p=c.getImmediateChild(e),d=n.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name==e||c.hasChild(d.name));)d=n.getChildAfterChild(this.index_,d,this.reverse_);var f=null==d?1:o(d,u);if(h&&!r.isEmpty()&&f>=0)return null!=i&&i.trackChildChange(me.childChangedChange(e,r,p)),c.updateImmediateChild(e,r);null!=i&&i.trackChildChange(me.childRemovedChange(e,p));var g=c.updateImmediateChild(e,Vt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(me.childAddedChange(d.name,d.node)),g.updateImmediateChild(d.name,d.node)):g}return r.isEmpty()?t:h&&o(l,u)>=0?(null!=i&&(i.trackChildChange(me.childRemovedChange(l.name,l.node)),i.trackChildChange(me.childAddedChange(e,r))),c.updateImmediateChild(e,r).updateImmediateChild(l.name,Vt.EMPTY_NODE)):t},t}(),ar=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=It}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return s.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return s.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:S},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return s.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return s.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:A},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return s.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var r=this.copy_();return r.limitSet_=!0,r.limit_=e,r.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,r},t.prototype.limitToLast=function(e){var r=this.copy_();return r.limitSet_=!0,r.limit_=e,r.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,r},t.prototype.startAt=function(t,e){var r=this.copy_();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=e?(r.startNameSet_=!0,r.indexStartName_=e):(r.startNameSet_=!1,r.indexStartName_=""),r},t.prototype.endAt=function(t,e){var r=this.copy_();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==e?(r.endNameSet_=!0,r.indexEndName_=e):(r.endNameSet_=!1,r.indexEndName_=""),r},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,r={};if(this.startSet_&&(r[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(r[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(r[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(r[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){r[e.LIMIT]=this.limit_;var n=this.viewFrom_;""===n&&(n=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),r[e.VIEW_FROM]=n}return this.index_!==It&&(r[e.INDEX]=this.index_.toString()),r},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==It},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new ye(this.getIndex()):this.hasLimit()?new or(this):new ir(this)},t.prototype.toRestQueryStringParameters=function(){var e,r=t.REST_QUERY_CONSTANTS_,n={};return this.isDefault()?n:(this.index_===It?e=r.PRIORITY_INDEX:this.index_===Gt?e=r.VALUE_INDEX:this.index_===bt?e=r.KEY_INDEX:(s.assert(this.index_ instanceof Kt,"Unrecognized index type!"),e=this.index_.toString()),n[r.ORDER_BY]=s.stringify(e),this.startSet_&&(n[r.START_AT]=s.stringify(this.indexStartValue_),this.startNameSet_&&(n[r.START_AT]+=","+s.stringify(this.indexStartName_))),this.endSet_&&(n[r.END_AT]=s.stringify(this.indexEndValue_),this.endNameSet_&&(n[r.END_AT]+=","+s.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[r.LIMIT_TO_FIRST]=this.limit_:n[r.LIMIT_TO_LAST]=this.limit_),n)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),sr=function(t){function e(e,r){if(!(e instanceof nr))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,r,ar.DEFAULT,!1)||this}return a.__extends(e,t),e.prototype.getKey=function(){return s.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return s.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof V||(null===this.path.getFront()?lt("Reference.child",1,t,!1):ut("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){s.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){s.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){s.validateArgCount("Reference.set",1,2,arguments.length),ht("Reference.set",this.path),nt("Reference.set",1,t,this.path,!1),s.validateCallback("Reference.set",2,e,!0);var r=new s.Deferred;return this.repo.setWithPriority(this.path,t,null,r.wrapCallback(e)),r.promise},e.prototype.update=function(t,e){if(s.validateArgCount("Reference.update",1,2,arguments.length),ht("Reference.update",this.path),Array.isArray(t)){for(var r={},n=0;n<t.length;++n)r[""+n]=t[n];t=r,x("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ot("Reference.update",1,t,this.path,!1),s.validateCallback("Reference.update",2,e,!0);var i=new s.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,r){if(s.validateArgCount("Reference.setWithPriority",2,3,arguments.length),ht("Reference.setWithPriority",this.path),nt("Reference.setWithPriority",1,t,this.path,!1),at("Reference.setWithPriority",2,e,!1),s.validateCallback("Reference.setWithPriority",3,r,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var n=new s.Deferred;return this.repo.setWithPriority(this.path,t,e,n.wrapCallback(r)),n.promise},e.prototype.remove=function(t){return s.validateArgCount("Reference.remove",0,1,arguments.length),ht("Reference.remove",this.path),s.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,r){if(s.validateArgCount("Reference.transaction",1,3,arguments.length),ht("Reference.transaction",this.path),s.validateCallback("Reference.transaction",1,t,!1),s.validateCallback("Reference.transaction",2,e,!0),dt("Reference.transaction",3,r,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===r&&(r=!0);var n=new s.Deferred;"function"==typeof e&&n.promise.catch(function(){});var i=function(t,r,i){t?n.reject(t):n.resolve(new gt(r,i)),"function"==typeof e&&e(t,r,i)};return this.repo.startTransaction(this.path,t,i,r),n.promise},e.prototype.setPriority=function(t,e){s.validateArgCount("Reference.setPriority",1,2,arguments.length),ht("Reference.setPriority",this.path),at("Reference.setPriority",1,t,!1),s.validateCallback("Reference.setPriority",2,e,!0);var r=new s.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,r.wrapCallback(e)),r.promise},e.prototype.push=function(t,e){s.validateArgCount("Reference.push",0,2,arguments.length),ht("Reference.push",this.path),nt("Reference.push",1,t,this.path,!0),s.validateCallback("Reference.push",2,e,!0);var r,n=this.repo.serverTime(),i=mt(n),o=this.child(i),a=this.child(i);return r=null!=t?o.set(t,e).then(function(){return a}):Promise.resolve(a),o.then=r.then.bind(r),o.catch=r.then.bind(r,void 0),"function"==typeof e&&r.catch(function(){}),o},e.prototype.onDisconnect=function(){return ht("Reference.onDisconnect",this.path),new ft(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(te);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */te.__referenceConstructor=sr,xe.__referenceConstructor=sr;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var cr,ur=function(){this.children={},this.childCount=0,this.value=null},lr=function(){function t(t,e,r){void 0===t&&(t=""),void 0===e&&(e=null),void 0===r&&(r=new ur),this.name_=t,this.parent_=e,this.node_=r}return t.prototype.subTree=function(e){for(var r,n=e instanceof V?e:new V(e),i=this;null!==(r=n.getFront());){i=new t(r,i,s.safeGet(i.node_.children,r)||new ur),n=n.popFront()}return i},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){s.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var r=this;s.forEach(this.node_.children,function(n,i){e(new t(n,r,i))})},t.prototype.forEachDescendant=function(t,e,r){e&&!r&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,r)}),e&&r&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var r=e?this:this.parent();null!==r;){if(t(r))return!0;r=r.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new V(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var r=e.isEmpty(),n=s.contains(this.node_.children,t);r&&n?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):r||n||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(cr||(cr={})),nr.MAX_TRANSACTION_RETRIES_=25,nr.prototype.transactions_init_=function(){this.transactionQueueTree_=new lr},nr.prototype.startTransaction=function(t,e,r,n){this.log_("transaction on "+t);var i=function(){},o=new sr(this,t);o.on("value",i);var a={path:t,update:e,onComplete:r,status:null,order:g(),applyLocally:n,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=this.getLatestState_(t);a.currentInputSnapshot=c;var u=a.update(c.val());if(void 0===u){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var l=new $t(a.currentInputSnapshot,new sr(this,a.path),It);a.onComplete(null,!1,l)}}else{it("transaction failed: Data returned ",u,a.path),a.status=cr.RUN;var h=this.transactionQueueTree_.subTree(t),p=h.getValue()||[];p.push(a),h.setValue(p);var d=void 0;if("object"==typeof u&&null!==u&&s.contains(u,".priority"))d=s.safeGet(u,".priority"),s.assert(rt(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else d=(this.serverSyncTree_.calcCompleteEventCache(t)||Vt.EMPTY_NODE).getPriority().val();d=d;var f=this.generateServerValues(),m=zt(u,d),y=ie(m,f);a.currentOutputSnapshotRaw=m,a.currentOutputSnapshotResolved=y,a.currentWriteId=this.getNextWriteId_();var v=this.serverSyncTree_.applyUserOverwrite(t,y,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,v),this.sendReadyTransactions_()}},nr.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Vt.EMPTY_NODE},nr.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var r=this.buildTransactionQueue_(t);s.assert(r.length>0,"Sending zero length transaction queue"),r.every(function(t){return t.status===cr.RUN})&&this.sendTransactionQueue_(t.path(),r)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},nr.prototype.sendTransactionQueue_=function(t,e){for(var r=this,n=e.map(function(t){return t.currentWriteId}),i=this.getLatestState_(t,n),o=i,a=i.hash(),c=0;c<e.length;c++){var u=e[c];s.assert(u.status===cr.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=cr.SENT,u.retryCount++;var l=V.relativePath(t,u.path);o=o.updateChild(l,u.currentOutputSnapshotRaw)}var h=o.val(!0),p=t;this.server_.put(p.toString(),h,function(n){r.log_("transaction put response",{path:p.toString(),status:n});var i=[];if("ok"===n){for(var o=[],a=0;a<e.length;a++){if(e[a].status=cr.COMPLETED,i=i.concat(r.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,c=new sr(r,e[a].path),u=new $t(s,c,It);o.push(e[a].onComplete.bind(null,null,!0,u))}e[a].unwatcher()}r.pruneCompletedTransactionsBelowNode_(r.transactionQueueTree_.subTree(t)),r.sendReadyTransactions_(),r.eventQueue_.raiseEventsForChangedPath(t,i);for(a=0;a<o.length;a++)F(o[a])}else{if("datastale"===n)for(a=0;a<e.length;a++)e[a].status===cr.SENT_NEEDS_ABORT?e[a].status=cr.NEEDS_ABORT:e[a].status=cr.RUN;else{x("transaction at "+p.toString()+" failed: "+n);for(a=0;a<e.length;a++)e[a].status=cr.NEEDS_ABORT,e[a].abortReason=n}r.rerunTransactions_(t)}},a)},nr.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),r=e.path(),n=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(n,r),r},nr.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var r,n=[],i=[],o=t.filter(function(t){return t.status===cr.RUN}).map(function(t){return t.currentWriteId}),a=0;a<t.length;a++){var c=t[a],u=V.relativePath(e,c.path),l=!1,h=void 0;if(s.assert(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===cr.NEEDS_ABORT)l=!0,h=c.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0));else if(c.status===cr.RUN)if(c.retryCount>=nr.MAX_TRANSACTION_RETRIES_)l=!0,h="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0));else{var p=this.getLatestState_(c.path,o);c.currentInputSnapshot=p;var d=t[a].update(p.val());if(void 0!==d){it("transaction failed: Data returned ",d,c.path);var f=zt(d);"object"==typeof d&&null!=d&&s.contains(d,".priority")||(f=f.updatePriority(p.getPriority()));var g=c.currentWriteId,m=this.generateServerValues(),y=ie(f,m);c.currentOutputSnapshotRaw=f,c.currentOutputSnapshotResolved=y,c.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(g),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(c.path,y,c.currentWriteId,c.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(g,!0))}else l=!0,h="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],l&&(t[a].status=cr.COMPLETED,r=t[a].unwatcher,setTimeout(r,Math.floor(0)),t[a].onComplete))if("nodata"===h){var v=new sr(this,t[a].path),w=t[a].currentInputSnapshot,b=new $t(w,v,It);n.push(t[a].onComplete.bind(null,null,!1,b))}else n.push(t[a].onComplete.bind(null,new Error(h),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(a=0;a<n.length;a++)F(n[a]);this.sendReadyTransactions_()}},nr.prototype.getAncestorTransactionNode_=function(t){for(var e,r=this.transactionQueueTree_;null!==(e=t.getFront())&&null===r.getValue();)r=r.subTree(e),t=t.popFront();return r},nr.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},nr.prototype.aggregateTransactionQueuesForNode_=function(t,e){var r=this,n=t.getValue();if(null!==n)for(var i=0;i<n.length;i++)e.push(n[i]);t.forEachChild(function(t){r.aggregateTransactionQueuesForNode_(t,e)})},nr.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,r=t.getValue();if(r){for(var n=0,i=0;i<r.length;i++)r[i].status!==cr.COMPLETED&&(r[n]=r[i],n++);r.length=n,t.setValue(r.length>0?r:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},nr.prototype.abortTransactions_=function(t){var e=this,r=this.getAncestorTransactionNode_(t).path(),n=this.transactionQueueTree_.subTree(t);return n.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(n),n.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),r},nr.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var r=[],n=[],i=-1,o=0;o<e.length;o++)if(e[o].status===cr.SENT_NEEDS_ABORT);else if(e[o].status===cr.SENT)s.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,e[o].status=cr.SENT_NEEDS_ABORT,e[o].abortReason="set";else if(s.assert(e[o].status===cr.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),n=n.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete){r.push(e[o].onComplete.bind(null,new Error("set"),!1,null))}-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),n);for(o=0;o<r.length;o++)F(r[o])}};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var hr,pr=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return hr||(hr=new t),hr},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var r=e||t.options.databaseURL;void 0===r&&k("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var n=Q(r),i=n.repoInfo;return pt("Invalid Firebase Database URL",1,n),n.path.isEmpty()||k("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(i,t).database},t.prototype.deleteRepo=function(t){var e=s.safeGet(this.repos_,t.app.name);e&&s.safeGet(e,t.repoInfo_.toURLString())===t||k("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var r=s.safeGet(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var n=s.safeGet(r,t.toURLString());return n&&k("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),n=new nr(t,this.useRestClient_,e),r[t.toURLString()]=n,n},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),dr=function(){function t(t){this.repo_=t,t instanceof nr||k("Don't call new Database() directly - please use firebase.database()."),this.root_=new sr(t,V.Empty),this.INTERNAL=new fr(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),s.validateArgCount("database.ref",0,1,arguments.length),t instanceof sr?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),s.validateArgCount(e,1,1,arguments.length);var r=Q(t);pt(e,1,r);var n=r.repoInfo;return n.host!==this.repo_.repoInfo_.host&&k(e+": Host name does not match the current database: (found "+n.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(r.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&k("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){s.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){s.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}(),fr=function(){function t(t){this.database=t}return t.prototype.delete=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.database.checkDeleted_("delete"),pr.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},t}(),gr=Object.freeze({forceLongPolling:function(){$e.forceDisallow(),Je.forceAllow()},forceWebSockets:function(){Je.forceDisallow()},isWebSocketsAvailable:function(){return $e.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),mr=er;er.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},er.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var yr=Ye,vr=z,wr=Object.freeze({DataConnection:mr,RealTimeConnection:yr,hijackHash:function(t){var e=er.prototype.put;return er.prototype.put=function(r,n,i,o){void 0!==o&&(o=t()),e.call(this,r,n,i,o)},function(){er.prototype.put=e}},ConnectionTarget:vr,queryIdentifier:function(t){return t.queryIdentifier()},listens:function(t){return t.repo.persistentConnection_.listens_},forceRestClient:function(t){pr.getInstance().forceRestClient(t)}}),br=dr.ServerValue;function _r(e){var r=e.INTERNAL.registerService("database",function(t,e,r){return pr.getInstance().databaseFromApp(t,r)},{Reference:sr,Query:te,Database:dr,enableLogging:b,INTERNAL:gr,ServerValue:br,TEST_ACCESS:wr},null,!0);s.isNodeSdk()&&(t.exports=r)}_r(o),e.registerDatabase=_r,e.Database=dr,e.Query=te,e.Reference=sr,e.enableLogging=b,e.ServerValue=br,e.DataSnapshot=$t,e.OnDisconnect=ft},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i,o=(n=r(2))&&"object"==typeof n&&"default"in n?n.default:n,a=r(144),s=r(1),c=r(255),u=r(32),l=o.SDK_VERSION,h=new a.Logger("@firebase/firestore");function p(){return h.logLevel===a.LogLevel.DEBUG?i.DEBUG:h.logLevel===a.LogLevel.SILENT?i.SILENT:i.ERROR}function d(t){switch(t){case i.DEBUG:h.logLevel=a.LogLevel.DEBUG;break;case i.ERROR:h.logLevel=a.LogLevel.ERROR;break;case i.SILENT:h.logLevel=a.LogLevel.SILENT;break;default:h.error("Firestore ("+l+"): Invalid value passed to `setLogLevel`")}}function f(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(h.logLevel<=a.LogLevel.DEBUG){var i=r.map(m);h.debug.apply(h,["Firestore ("+l+") ["+t+"]: "+e].concat(i))}}function g(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(h.logLevel<=a.LogLevel.ERROR){var n=e.map(m);h.error.apply(h,["Firestore ("+l+"): "+t].concat(n))}}function m(t){if("string"==typeof t)return t;var e=w.getPlatform();try{return e.formatJSON(t)}catch(e){return t}}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(t){var e="FIRESTORE ("+l+") INTERNAL ASSERTION FAILED: "+t;throw g(e),new Error(e)}function v(t,e){t||y(e)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT"}(i||(i={}));var w=function(){function t(){}return t.setPlatform=function(e){t.platform&&y("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||y("Platform not set"),t.platform},t}();function b(){return w.getPlatform().emptyByteString}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},E=function(t){function e(e,r){var n=t.call(this,r)||this;return n.code=e,n.message=r,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}return s.__extends(e,t),e}(Error);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function C(t,e){function r(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new E(_.INVALID_ARGUMENT,t)}for(var n in r.prototype=t.prototype,t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function x(t,e){return void 0!==t?t:e}function T(t,e){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=Number(r);isNaN(n)||e(n,t[r])}}function S(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function A(t){for(var e in v(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function I(t,e,r){if(e.length!==r)throw new E(_.INVALID_ARGUMENT,"Function "+t+"() requires "+H(r,"argument")+", but was called with "+H(e.length,"argument")+".")}function N(t,e,r){if(e.length<r)throw new E(_.INVALID_ARGUMENT,"Function "+t+"() requires at least "+H(r,"argument")+", but was called with "+H(e.length,"argument")+".")}function P(t,e,r,n){if(e.length<r||e.length>n)throw new E(_.INVALID_ARGUMENT,"Function "+t+"() requires between "+r+" and "+n+" arguments, but was called with "+H(e.length,"argument")+".")}function D(t,e,r,n){F(t,e,z(r)+" argument",n)}function O(t,e,r,n){void 0!==n&&D(t,e,r,n)}function R(t,e,r,n){F(t,e,r+" option",n)}function j(t,e,r,n){void 0!==n&&R(t,e,r,n)}function B(t,e,r,n,i){void 0!==n&&function(t,e,r,n,i){if(!(n instanceof Array))throw new E(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+q(n));for(var o=0;o<n.length;++o)if(!i(n[o]))throw new E(_.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be "+r+", but the value at index "+o+" was: "+q(n[o]))}(t,e,r,n,i)}function M(t,e,r,n,i){void 0!==n&&function(t,e,r,n,i){for(var o=[],a=0,s=i;a<s.length;a++){var c=s[a];if(c===n)return;o.push(q(c))}var u=q(n);throw new E(_.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+r+'". Acceptable values: '+o.join(", "))}(t,0,r,n,i)}function F(t,e,r,n){if(!("object"===e?L(n):"non-empty string"===e?"string"==typeof n&&""!==n:typeof n===e)){var i=q(n);throw new E(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+r+" to be of type "+e+", but it was: "+i)}}function L(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function q(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":y("Unknown wrong type: "+typeof t)}function V(t,e,r){if(void 0===r)throw new E(_.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+z(e)+" argument, but it was undefined.")}function U(t,e,r){S(e,function(e,n){if(r.indexOf(e)<0)throw new E(_.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+r.join(", "))})}function W(t,e,r,n){var i=q(n);return new E(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+z(r)+" argument to be a "+e+", but it was: "+i)}function z(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function H(t,e){return t+" "+e+(1===t?"":"s")}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",r=0;r<20;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return v(20===e.length,"Invalid auto ID: "+e),e},t}();function G(t,e){return t<e?-1:t>e?1:0}function K(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!t[r].isEqual(e[r]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function $(){if("undefined"==typeof Uint8Array)throw new E(_.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Q(){if(!w.getPlatform().base64Available)throw new E(_.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Y,X,Z=function(){function t(t){Q(),this._binaryString=t}return t.fromBase64String=function(e){I("Blob.fromBase64String",arguments,1),D("Blob.fromBase64String","string",1,e),Q();try{var r=w.getPlatform().atob(e);return new t(r)}catch(t){throw new E(_.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(I("Blob.fromUint8Array",arguments,1),$(),!(e instanceof Uint8Array))throw W("Blob.fromUint8Array","Uint8Array",1,e);var r=Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join("");return new t(r)},t.prototype.toBase64=function(){return I("Blob.toBase64",arguments,0),Q(),w.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){I("Blob.toUint8Array",arguments,0),$();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return G(this._binaryString,t._binaryString)},t}(),tt=C(Z,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),et=function(){function t(t,e){if(I("GeoPoint",arguments,2),D("GeoPoint","number",1,t),D("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new E(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new E(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return G(this._lat,t._lat)||G(this._long,t._long)},t}(),rt=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new E(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new E(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new E(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new E(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var r=Math.floor(e/1e3);return new t(r,1e6*(e-1e3*r))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?G(this.nanoseconds,t.nanoseconds):G(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),nt=function(t,e,r,n){this.databaseId=t,this.persistenceKey=e,this.host=r,this.ssl=n},it="(default)",ot=function(){function t(t,e){this.projectId=t,this.database=e||it}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===it},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return G(this.projectId,t.projectId)||G(this.database,t.database)},t}(),at=function(){function t(t,e,r){this.init(t,e,r)}return t.prototype.init=function(t,e,r){void 0===e?e=0:e>t.length&&y("offset "+e+" out of range "+t.length),void 0===r?r=t.length-e:r>t.length-e&&y("length "+r+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=r},t.prototype.construct=function(t,e,r){var n=Object.create(Object.getPrototypeOf(this));return n.init(t,e,r),n},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var r=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){r.push(t)}):"string"==typeof e?r.push(e):y("Unknown parameter type for Path.child(): "+e),this.construct(r)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,v(this.length>=t,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return v(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return v(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return v(!this.isEmpty(),"Can't call lastSegment() on empty path"),this.segments[this.limit()-1]},t.prototype.get=function(t){return v(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var r=Math.min(t.length,e.length),n=0;n<r;n++){var i=t.get(n),o=e.get(n);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),st=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new E(_.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(at),ct=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.isValidIdentifier=function(t){return ct.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var r=[],n="",i=0,o=function(){if(0===n.length)throw new E(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(n),n=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new E(_.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new E(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=c,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(n+=s,i++):(o(),i++)}if(o(),a)throw new E(_.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(r)},e.EMPTY_PATH=new e([]),e}(at),lt=function(){function t(e){this.path=e,v(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.isEqual=function(t){return null!==t&&0===st.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return st.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new st(e.slice()))},t.fromPathString=function(e){return new t(st.fromString(e))},t.EMPTY=new t(new st([])),t}(),ht=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return lt.comparator(t.key,e.key)},t}(),pt=function(t){function e(e,r,n,i,o){var a=t.call(this,e,r)||this;return a.data=n,a.proto=o,a.hasLocalMutations=!!i.hasLocalMutations,a.hasCommittedMutations=!!i.hasCommittedMutations,a}return s.__extends(e,t),e.prototype.field=function(t){return this.data.field(t)},e.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},e.prototype.value=function(){return this.data.value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.data.isEqual(t.data)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.compareByField=function(t,e,r){var n=e.field(t),i=r.field(t);return void 0!==n&&void 0!==i?n.compareTo(i):y("Trying to compare documents on fields that don't exist")},e}(ht),dt=function(t){function e(e,r,n){var i=t.call(this,e,r)||this;return i.hasCommittedMutations=!(!n||!n.hasCommittedMutations),i}return s.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ht),ft=function(t){function e(e,r){return t.call(this,e,r)||this}return s.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ht),gt=function(){function t(t,e){this.comparator=t,this.root=e||yt.EMPTY}return t.prototype.insert=function(e,r){return new t(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,yt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yt.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,r=this.root;!r.isEmpty();){var n=this.comparator(t,r.key);if(0===n)return e+r.left.size;n<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,r){return t(e,r),!1})},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new mt(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new mt(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new mt(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new mt(this.root,t,this.comparator,!0)},t}(),mt=function(){function t(t,e,r,n){this.isReverse=n,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?r(t.key,e):1,n&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){v(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),yt=function(){function t(e,r,n,i,o){this.key=e,this.value=r,this.color=null!=n?n:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,r,n,i,o){return new t(null!=e?e:this.key,null!=r?r:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,r){var n=this,i=r(t,n.key);return(n=i<0?n.copy(null,null,null,n.left.insert(t,e,r),null):0===i?n.copy(null,e,null,null,null):n.copy(null,null,null,null,n.right.insert(t,e,r))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,r){var n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===r(e,i.key)){if(i.right.isEmpty())return t.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw y("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw y("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw y("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),vt=function(){function t(){this.size=0}return t.prototype.copy=function(t,e,r,n,i){return this},t.prototype.insert=function(t,e,r){return new yt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();yt.EMPTY=new vt,function(t){t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue"}(Y||(Y={})),function(t){t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous"}(X||(X={}));var wt=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,r){switch(e.serverTimestamps){case"estimate":return new t(X.Estimate,r);case"previous":return new t(X.Previous,r);case"none":case void 0:return new t(X.Default,r);default:return y("fromSnapshotOptions() called with invalid options.")}},t}(),bt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return v(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),G(this.typeOrder,t.typeOrder)},t}(),_t=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=Y.NullValue,e.internalValue=null,e}return s.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(bt),Et=function(t){function e(e){var r=t.call(this)||this;return r.internalValue=e,r.typeOrder=Y.BooleanValue,r}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?G(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(bt),Ct=function(t){function e(e){var r=t.call(this)||this;return r.internalValue=e,r.typeOrder=Y.NumberValue,r}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(r=this.internalValue,n=t.internalValue,r<n?-1:r>n?1:r===n?0:isNaN(r)?isNaN(n)?0:-1:1):this.defaultCompareTo(t);var r,n},e}(bt);function kt(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var xt=function(t){function e(e){return t.call(this,e)||this}return s.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&kt(this.internalValue,t.internalValue)},e}(Ct),Tt=function(t){function e(e){var r=t.call(this,e)||this;return r.internalValue=e,r}return s.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&kt(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(Ct),St=function(t){function e(e){var r=t.call(this)||this;return r.internalValue=e,r.typeOrder=Y.StringValue,r}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?G(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(bt),At=function(t){function e(e){var r=t.call(this)||this;return r.internalValue=e,r.typeOrder=Y.TimestampValue,r}return s.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof It?-1:this.defaultCompareTo(t)},e}(bt),It=function(t){function e(e,r){var n=t.call(this)||this;return n.localWriteTime=e,n.previousValue=r,n.typeOrder=Y.TimestampValue,n}return s.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===X.Estimate?new At(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===X.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof At?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(bt),Nt=function(t){function e(e){var r=t.call(this)||this;return r.internalValue=e,r.typeOrder=Y.BlobValue,r}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(bt),Pt=function(t){function e(e,r){var n=t.call(this)||this;return n.databaseId=e,n.key=r,n.typeOrder=Y.RefValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&(this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId))},e.prototype.compareTo=function(t){if(t instanceof e){var r=this.databaseId.compareTo(t.databaseId);return 0!==r?r:lt.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(bt),Dt=function(t){function e(e){var r=t.call(this)||this;return r.internalValue=e,r.typeOrder=Y.GeoPointValue,r}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(bt),Ot=function(t){function e(e){var r=t.call(this)||this;return r.internalValue=e,r.typeOrder=Y.ObjectValue,r}return s.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(r,n){e[r]=n.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var r=this.internalValue.getIterator(),n=t.internalValue.getIterator();r.hasNext()&&n.hasNext();){var i=r.getNext(),o=n.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!r.hasNext()&&!n.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var r=this.internalValue.getIterator(),n=t.internalValue.getIterator();r.hasNext()&&n.hasNext();){var i=r.getNext(),o=n.getNext(),a=G(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return G(r.hasNext(),n.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,r){if(v(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),r);var n=this.child(t.firstSegment());n instanceof e||(n=e.EMPTY);var i=n.set(t.popFirst(),r);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(v(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var r=this.child(t.firstSegment());if(r instanceof e){var n=r.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),n))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){v(!t.isEmpty(),"Can't get field of empty path");var r=this;return t.forEach(function(t){r=r instanceof e&&r.internalValue.get(t)||void 0}),r},e.prototype.toString=function(){return JSON.stringify(this.value())},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,r){return new e(this.internalValue.insert(t,r))},e.EMPTY=new e(new gt(G)),e}(bt),Rt=function(t){function e(e){var r=t.call(this)||this;return r.internalValue=e,r.typeOrder=Y.ArrayValue,r}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var r=0;r<this.internalValue.length;r++)if(!this.internalValue[r].isEqual(t.internalValue[r]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var r=Math.min(this.internalValue.length,t.internalValue.length),n=0;n<r;n++){var i=this.internalValue[n].compareTo(t.internalValue[n]);if(i)return i}return G(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return JSON.stringify(this.value())},e}(bt),jt=Number,Bt=jt.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Mt=jt.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Ft=jt.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function Lt(t){return null==t}function qt(t){return Ft(t)&&t<=Mt&&t>=Bt}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,Ut=function(){function t(t,e,r,n,i,o){void 0===e&&(e=[]),void 0===r&&(r=[]),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null),this.path=t,this.explicitOrderBy=e,this.filters=r,this.limit=n,this.startAt=i,this.endAt=o,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)t.isKeyField()?this.memoizedOrderBy=[Yt]:this.memoizedOrderBy=[new Qt(t),Yt];else{v(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var r=!1,n=0,i=this.explicitOrderBy;n<i.length;n++){var o=i[n];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(r=!0)}if(!r){var a=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Kt.ASCENDING;this.memoizedOrderBy.push(a===Kt.ASCENDING?Yt:Xt)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){v(null==this.getInequalityFilterField()||!(e instanceof Ht)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),v(!lt.isDocumentKey(this.path),"No filtering allowed for document query");var r=this.filters.concat([e]);return new t(this.path,this.explicitOrderBy.slice(),r,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){v(!lt.isDocumentKey(this.path),"No ordering allowed for document query"),v(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var r=this.explicitOrderBy.concat([e]);return new t(this.path,r,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();t+="|f:";for(var e=0,r=this.filters;e<r.length;e++){t+=r[e].canonicalId(),t+=","}t+="|ob:";for(var n=0,i=this.orderBy;n<i.length;n++){t+=i[n].canonicalId(),t+=","}Lt(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),Lt(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return!!this.path.isEqual(t.path)&&(!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt))},t.prototype.docComparator=function(t,e){for(var r=!1,n=0,i=this.orderBy;n<i.length;n++){var o=i[n],a=o.compare(t,e);if(0!==a)return a;r=r||o.field.isKeyField()}return v(r,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesAncestor(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!Lt(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var r=e[t];if(r instanceof Ht&&r.isInequality())return r.field}return null},t.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find(function(t){return t instanceof Ht&&t.op===zt.ARRAY_CONTAINS})},t.prototype.isDocumentQuery=function(){return lt.isDocumentKey(this.path)&&0===this.filters.length},t.prototype.matchesAncestor=function(t){var e=t.key.path;return lt.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isPrefixOf(e)&&this.path.length===e.length-1},t.prototype.matchesOrderBy=function(t){for(var e=0,r=this.explicitOrderBy;e<r.length;e++){var n=r[e];if(!n.field.isKeyField()&&void 0===t.field(n.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,r=this.filters;e<r.length;e++){if(!r[e].matches(t))return!1}return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){v(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),Wt=function(){function t(){}return t.create=function(t,e,r){if(r.isEqual(_t.INSTANCE)){if(e!==zt.EQUAL)throw new E(_.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new Jt(t)}if(r.isEqual(Tt.NAN)){if(e!==zt.EQUAL)throw new E(_.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new Gt(t)}return new Ht(t,e,r)},t}(),zt=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;default:return y("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t}(),Ht=function(t){function e(e,r,n){var i=t.call(this)||this;return i.field=e,i.op=r,i.value=n,i}return s.__extends(e,t),e.prototype.matches=function(t){if(this.field.isKeyField()){v(this.value instanceof Pt,"Comparing on key, but filter value not a RefValue"),v(this.op!==zt.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var e=this.value,r=lt.comparator(t.key,e.key);return this.matchesComparison(r)}var n=t.field(this.field);return void 0!==n&&this.matchesValue(n)},e.prototype.matchesValue=function(t){var e=this;return this.op===zt.ARRAY_CONTAINS?t instanceof Rt&&void 0!==t.internalValue.find(function(t){return t.isEqual(e.value)}):this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case zt.LESS_THAN:return t<0;case zt.LESS_THAN_OR_EQUAL:return t<=0;case zt.EQUAL:return 0===t;case zt.GREATER_THAN:return t>0;case zt.GREATER_THAN_OR_EQUAL:return t>=0;default:return y("Unknown relation op"+this.op)}},e.prototype.isInequality=function(){return this.op!==zt.EQUAL&&this.op!==zt.ARRAY_CONTAINS},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&(this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value))},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(Wt),Jt=function(t){function e(e){var r=t.call(this)||this;return r.field=e,r}return s.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},e.prototype.toString=function(){return this.field.canonicalString()+" IS null"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(Wt),Gt=function(t){function e(e){var r=t.call(this)||this;return r.field=e,r}return s.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field),r=e&&e.value();return"number"==typeof r&&isNaN(r)},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(Wt),Kt=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),$t=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,r=this.position;e<r.length;e++){t+=r[e].toString()}return t},t.prototype.sortsBeforeDocument=function(t,e){v(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var r=0,n=0;n<this.position.length;n++){var i=t[n],o=this.position[n];if(i.field.isKeyField())v(o instanceof Pt,"Bound has a non-key value where the key path is being used."),r=lt.comparator(o.key,e.key);else{var a=e.field(i.field);v(void 0!==a,"Field should exist since document matched the orderBy already."),r=o.compareTo(a)}if(i.dir===Kt.DESCENDING&&(r*=-1),0!==r)break}return this.before?r<=0:r<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++){var r=this.position[e],n=t.position[e];return r.isEqual(n)}return!0},t}(),Qt=function(){function t(t,e){this.field=t,void 0===e&&(e=Kt.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var r=this.isKeyOrderBy?pt.compareByKey(t,e):pt.compareByField(this.field,t,e);switch(this.dir){case Kt.ASCENDING:return r;case Kt.DESCENDING:return-1*r;default:return y("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Yt=new Qt(ut.keyField(),Kt.ASCENDING),Xt=new Qt(ut.keyField(),Kt.DESCENDING),Zt=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var r=Math.floor(e/1e6);return new t(new rt(r,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new rt(0,0)),t}();!function(t){t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution"}(Vt||(Vt={}));var te,ee=function(){function t(t,e,r,n,i,o){void 0===i&&(i=Zt.MIN),void 0===o&&(o=b()),this.query=t,this.targetId=e,this.purpose=r,this.sequenceNumber=n,this.snapshotVersion=i,this.resumeToken=o}return t.prototype.copy=function(e){return new t(this.query,this.targetId,this.purpose,void 0===e.sequenceNumber?this.sequenceNumber:e.sequenceNumber,void 0===e.snapshotVersion?this.snapshotVersion:e.snapshotVersion,void 0===e.resumeToken?this.resumeToken:e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),re=function(){function t(t){this.comparator=t,this.data=new gt(this.comparator)}return t.fromMapKeys=function(e){var r=new t(e.comparator);return e.forEach(function(t){r=r.add(t)}),r},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,r){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var n=r.getNext();if(this.comparator(n.key,t[1])>=0)return;e(n.key)}},t.prototype.forEachWhile=function(t,e){var r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();){if(!t(r.getNext().key))return}},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new ne(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new ne(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var r=this.data.getIterator(),n=e.data.getIterator();r.hasNext();){var i=r.getNext().key,o=n.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var r=new t(this.comparator);return r.data=e,r},t}(),ne=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),ie=function(){function t(t){this.fields=t}return t.fromSet=function(e){return new t(e)},t.fromArray=function(e){var r=new re(ut.comparator);return e.forEach(function(t){return r=r.add(t)}),new t(r)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach(function(r){r.isPrefixOf(t)&&(e=!0)}),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),oe=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),ae=function(t,e){this.version=t,this.transformResults=e};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete"}(te||(te={}));var se=function(){function t(t,e){this.updateTime=t,this.exists=e,v(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof pt&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof pt:(v(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return e=this.updateTime,r=t.updateTime,(null!=e?!(!r||!e.isEqual(r)):e===r)&&this.exists===t.exists;var e,r},t.NONE=new t,t}(),ce=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&v(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof pt?t.version:Zt.MIN},t}(),ue=function(t){function e(e,r,n){var i=t.call(this)||this;return i.key=e,i.value=r,i.precondition=n,i.type=te.Set,i}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),v(null==e.transformResults,"Transform results received by SetMutation.");var r=e.version;return new pt(this.key,r,this.value,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,r){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var n=ce.getPostMutationVersion(t);return new pt(this.key,n,this.value,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(ce),le=function(t){function e(e,r,n,i){var o=t.call(this)||this;return o.key=e,o.data=r,o.fieldMask=n,o.precondition=i,o.type=te.Patch,o}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),v(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new ft(this.key,e.version);var r=this.patchDocument(t);return new pt(this.key,e.version,r,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,r){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var n=ce.getPostMutationVersion(t),i=this.patchDocument(t);return new pt(this.key,n,i,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){var e;return e=t instanceof pt?t.data:Ot.EMPTY,this.patchObject(e)},e.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach(function(r){if(!r.isEmpty()){var n=e.data.field(r);t=void 0!==n?t.set(r,n):t.delete(r)}}),t},e}(ce),he=function(t){function e(e,r){var n=t.call(this)||this;return n.key=e,n.fieldTransforms=r,n.type=te.Transform,n.precondition=se.exists(!0),n}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),v(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new ft(this.key,e.version);var r=this.requireDocument(t),n=this.serverTransformResults(t,e.transformResults),i=e.version,o=this.transformObject(r.data,n);return new pt(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,r){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var n=this.requireDocument(t),i=this.localTransformResults(r,e),o=this.transformObject(n.data,i);return new pt(this.key,n.version,o,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&K(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){v(t instanceof pt,"Unknown MaybeDocument type "+t);var e=t;return v(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var r=[];v(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var n=0;n<e.length;n++){var i=this.fieldTransforms[n],o=i.transform,a=null;t instanceof pt&&(a=t.field(i.field)||null),r.push(o.applyToRemoteDocument(a,e[n]))}return r},e.prototype.localTransformResults=function(t,e){for(var r=[],n=0,i=this.fieldTransforms;n<i.length;n++){var o=i[n],a=o.transform,s=null;e instanceof pt&&(s=e.field(o.field)||null),r.push(a.applyToLocalView(s,t))}return r},e.prototype.transformObject=function(t,e){v(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var r=0;r<this.fieldTransforms.length;r++){var n=this.fieldTransforms[r].field;t=t.set(n,e[r])}return t},e}(ce),pe=function(t){function e(e,r){var n=t.call(this)||this;return n.key=e,n.precondition=r,n.type=te.Delete,n}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),v(null==e.transformResults,"Transform results received by DeleteMutation."),new dt(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,r){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&v(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new dt(this.key,Zt.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(ce),de=function(){function t(){}return t.prototype.applyToLocalView=function(t,e){return new It(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),fe=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=me(t),r=function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)},n=0,i=this.elements;n<i.length;n++){r(i[n])}return new Rt(e)},t.prototype.isEqual=function(e){return e instanceof t&&K(e.elements,this.elements)},t}(),ge=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=me(t),r=function(t){e=e.filter(function(e){return!e.isEqual(t)})},n=0,i=this.elements;n<i.length;n++){r(i[n])}return new Rt(e)},t.prototype.isEqual=function(e){return e instanceof t&&K(e.elements,this.elements)},t}();function me(t){return t instanceof Rt?t.internalValue.slice():[]}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,ve=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t){switch(t){case _.OK:return y("Treated status OK as error");case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0;default:return y("Unknown status code: "+t)}}function be(t){if(void 0===t)return g("GRPC error has no .code"),_.UNKNOWN;switch(t){case ye.OK:return _.OK;case ye.CANCELLED:return _.CANCELLED;case ye.UNKNOWN:return _.UNKNOWN;case ye.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case ye.INTERNAL:return _.INTERNAL;case ye.UNAVAILABLE:return _.UNAVAILABLE;case ye.UNAUTHENTICATED:return _.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case ye.NOT_FOUND:return _.NOT_FOUND;case ye.ALREADY_EXISTS:return _.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return _.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case ye.ABORTED:return _.ABORTED;case ye.OUT_OF_RANGE:return _.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return _.UNIMPLEMENTED;case ye.DATA_LOSS:return _.DATA_LOSS;default:return y("Unknown status code: "+t)}}function _e(t){if(void 0===t)return ye.OK;switch(t){case _.OK:return ye.OK;case _.CANCELLED:return ye.CANCELLED;case _.UNKNOWN:return ye.UNKNOWN;case _.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case _.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case _.INTERNAL:return ye.INTERNAL;case _.UNAVAILABLE:return ye.UNAVAILABLE;case _.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case _.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case _.NOT_FOUND:return ye.NOT_FOUND;case _.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case _.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case _.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case _.ABORTED:return ye.ABORTED;case _.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case _.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case _.DATA_LOSS:return ye.DATA_LOSS;default:return y("Unknown status code: "+t)}}!function(t){t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS"}(ye||(ye={}));
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ee=new gt(lt.comparator);function Ce(){return Ee}function ke(){return Ce()}var xe=new gt(lt.comparator);function Te(){return xe}var Se=new gt(lt.comparator);function Ae(){return Se}var Ie=new re(lt.comparator);function Ne(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=Ie,n=0,i=t;n<i.length;n++){var o=i[n];r=r.add(o)}return r}var Pe=new re(G);function De(){return Pe}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe,Re,je=function(){function t(t){this.comparator=t?function(e,r){return t(e,r)||lt.comparator(e.key,r.key)}:function(t,e){return lt.comparator(t.key,e.key)},this.keyedMap=Te(),this.sortedSet=new gt(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,r){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();r.hasNext();){var i=r.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,r){var n=new t;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata"}(Oe||(Oe={})),function(t){t[t.Local=0]="Local",t[t.Synced=1]="Synced"}(Re||(Re={}));var Be,Me=function(){function t(){this.changeMap=new gt(lt.comparator)}return t.prototype.track=function(t){var e=t.doc.key,r=this.changeMap.get(e);r?t.type!==Oe.Added&&r.type===Oe.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===Oe.Metadata&&r.type!==Oe.Removed?this.changeMap=this.changeMap.insert(e,{type:r.type,doc:t.doc}):t.type===Oe.Modified&&r.type===Oe.Modified?this.changeMap=this.changeMap.insert(e,{type:Oe.Modified,doc:t.doc}):t.type===Oe.Modified&&r.type===Oe.Added?this.changeMap=this.changeMap.insert(e,{type:Oe.Added,doc:t.doc}):t.type===Oe.Removed&&r.type===Oe.Added?this.changeMap=this.changeMap.remove(e):t.type===Oe.Removed&&r.type===Oe.Modified?this.changeMap=this.changeMap.insert(e,{type:Oe.Removed,doc:r.doc}):t.type===Oe.Added&&r.type===Oe.Removed?this.changeMap=this.changeMap.insert(e,{type:Oe.Modified,doc:t.doc}):y("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(r)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,r){t.push(r)}),t},t}(),Fe=function(){function t(t,e,r,n,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=n,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,r,n,i){var o=[];return r.forEach(function(t){o.push({type:Oe.Added,doc:t})}),new t(e,r,je.emptySet(r),o,n,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(var n=0;n<e.length;n++)if(e[n].type!==r[n].type||!e[n].doc.isEqual(r[n].doc))return!1;return!0},t}(),Le=function(){function t(t,e,r,n,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=n,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,r){var n,i=((n={})[e]=qe.createSynthesizedTargetChangeForCurrentChange(e,r),n);return new t(Zt.MIN,i,De(),Ce(),Ne())},t}(),qe=function(){function t(t,e,r,n,i){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=n,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,r){return new t(b(),r,Ne(),Ne(),Ne())},t}(),Ve=function(t,e,r,n){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=r,this.newDoc=n},Ue=function(t,e){this.targetId=t,this.existenceFilter=e};!function(t){t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset"}(Be||(Be={}));var We=function(t,e,r,n){void 0===r&&(r=b()),void 0===n&&(n=null),this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=n},ze=function(){function t(){this.pendingResponses=0,this.documentChanges=Ge(),this._resumeToken=b(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=Ne(),e=Ne(),r=Ne();return this.documentChanges.forEach(function(n,i){switch(i){case Oe.Added:t=t.add(n);break;case Oe.Modified:e=e.add(n);break;case Oe.Removed:r=r.add(n);break;default:y("Encountered invalid change type: "+i)}}),new qe(this._resumeToken,this._current,t,e,r)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Ge()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),He=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=Ce(),this.pendingDocumentTargetMapping=Je(),this.pendingTargetResets=new re(G)}return t.prototype.handleDocumentChange=function(t){for(var e=0,r=t.updatedTargetIds;e<r.length;e++){var n=r[e];t.newDoc instanceof pt?this.addDocumentToTarget(n,t.newDoc):t.newDoc instanceof dt&&this.removeDocumentFromTarget(n,t.key,t.newDoc)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){n=o[i];this.removeDocumentFromTarget(n,t.key,t.newDoc)}},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(r){var n=e.ensureTargetState(r);switch(t.state){case Be.NoChange:e.isActiveTarget(r)&&n.updateResumeToken(t.resumeToken);break;case Be.Added:n.recordTargetResponse(),n.isPending||n.clearPendingChanges(),n.updateResumeToken(t.resumeToken);break;case Be.Removed:n.recordTargetResponse(),n.isPending||e.removeTarget(r),v(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Be.Current:e.isActiveTarget(r)&&(n.markCurrent(),n.updateResumeToken(t.resumeToken));break;case Be.Reset:e.isActiveTarget(r)&&(e.resetTarget(r),n.updateResumeToken(t.resumeToken));break;default:y("Unknown target watch change state: "+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):T(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,r=t.existenceFilter.count,n=this.queryDataForActiveTarget(e);if(n){var i=n.query;if(i.isDocumentQuery())if(0===r){var o=new lt(i.path);this.removeDocumentFromTarget(e,o,new dt(o,Zt.forDeletedDoc()))}else v(1===r,"Single document existence filter with count: "+r);else this.getCurrentDocumentCountForTarget(e)!==r&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,r={};T(this.targetStates,function(n,i){var o=e.queryDataForActiveTarget(n);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new lt(o.query.path);null!==e.pendingDocumentUpdates.get(a)||e.targetContainsDocument(n,a)||e.removeDocumentFromTarget(n,a,new dt(a,t))}i.hasPendingChanges&&(r[n]=i.toTargetChange(),i.clearPendingChanges())}});var n=Ne();this.pendingDocumentTargetMapping.forEach(function(t,r){var i=!0;r.forEachWhile(function(t){var r=e.queryDataForActiveTarget(t);return!r||r.purpose===Vt.LimboResolution||(i=!1,!1)}),i&&(n=n.add(t))});var i=new Le(t,r,this.pendingTargetResets,this.pendingDocumentUpdates,n);return this.pendingDocumentUpdates=Ce(),this.pendingDocumentTargetMapping=Je(),this.pendingTargetResets=new re(G),i},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var r=this.targetContainsDocument(t,e.key)?Oe.Modified:Oe.Added;this.ensureTargetState(t).addDocumentChange(e.key,r),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,r){if(this.isActiveTarget(t)){var n=this.ensureTargetState(t);this.targetContainsDocument(t,e)?n.addDocumentChange(e,Oe.Removed):n.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),r&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,r))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new ze),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new re(G),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){return null!==this.queryDataForActiveTarget(t)},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;v(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new ze,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(r){e.removeDocumentFromTarget(t,r,null)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function Je(){return new gt(lt.comparator)}function Ge(){return new gt(lt.comparator)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke,$e,Qe=((Ke={})[Kt.ASCENDING.name]="ASCENDING",Ke[Kt.DESCENDING.name]="DESCENDING",Ke),Ye=(($e={})[zt.LESS_THAN.name]="LESS_THAN",$e[zt.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",$e[zt.GREATER_THAN.name]="GREATER_THAN",$e[zt.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",$e[zt.EQUAL.name]="EQUAL",$e[zt.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",$e),Xe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ze(t,e){v(!Lt(t),e+" is missing")}function tr(t){return"number"==typeof t?t:"string"==typeof t?Number(t):y("can't parse "+t)}var er=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?_.UNKNOWN:be(t.code);return new E(e,t.message||"")},t.prototype.toInt32Value=function(t){return Lt(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return Lt(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);v(!!t,"Cannot deserialize null or undefined timestamp.");var e=tr(t.seconds||"0"),r=t.nanos||0;return new rt(e,r)},t.prototype.fromIso8601String=function(t){var e=0,r=Xe.exec(t);if(v(!!r,"invalid timestamp: "+t),r[1]){var n=r[1];n=(n+"000000000").substr(0,9),e=Number(n)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new rt(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(v(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Z.fromBase64String(t)):(v(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),Z.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return v(!!t,"Trying to deserialize version that isn't set"),Zt.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=st.fromString(t);return v(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return v(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),v(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new lt(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?st.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new st(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new st(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return v(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof _t)return{nullValue:"NULL_VALUE"};if(t instanceof Et)return{booleanValue:t.value()};if(t instanceof xt)return{integerValue:""+t.value()};if(t instanceof Tt){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof St?{stringValue:t.value()}:t instanceof Ot?{mapValue:this.toMapValue(t)}:t instanceof Rt?{arrayValue:this.toArrayValue(t)}:t instanceof At?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Dt?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Nt?{bytesValue:this.toBytes(t.value())}:t instanceof Pt?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:y("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,r=t.value_type;if(rr(t,r,"nullValue"))return _t.INSTANCE;if(rr(t,r,"booleanValue"))return Et.of(t.booleanValue);if(rr(t,r,"integerValue"))return new xt(tr(t.integerValue));if(rr(t,r,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Tt.NAN;if("Infinity"===t.doubleValue)return Tt.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Tt.NEGATIVE_INFINITY}return new Tt(t.doubleValue)}if(rr(t,r,"stringValue"))return new St(t.stringValue);if(rr(t,r,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(rr(t,r,"arrayValue")){Ze(t.arrayValue,"arrayValue");var n=t.arrayValue.values||[];return new Rt(n.map(function(t){return e.fromValue(t)}))}if(rr(t,r,"timestampValue"))return Ze(t.timestampValue,"timestampValue"),new At(this.fromTimestamp(t.timestampValue));if(rr(t,r,"geoPointValue")){Ze(t.geoPointValue,"geoPointValue");var i=t.geoPointValue.latitude||0,o=t.geoPointValue.longitude||0;return new Dt(new et(i,o))}if(rr(t,r,"bytesValue")){Ze(t.bytesValue,"bytesValue");var a=this.fromBlob(t.bytesValue);return new Nt(a)}if(rr(t,r,"referenceValue")){Ze(t.referenceValue,"referenceValue");var s=this.fromResourceName(t.referenceValue),c=new ot(s.get(1),s.get(3)),u=new lt(this.extractLocalPathFromResourceName(s));return new Pt(c,u)}return y("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return v(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){return new pt(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasCommittedMutations:!!e})},t.prototype.toFields=function(t){var e=this,r={};return t.forEach(function(t,n){r[t]=e.toValue(n)}),r},t.prototype.fromFields=function(t){var e=this,r=t,n=Ot.EMPTY;return S(r,function(t,r){n=n.set(new ut([t]),e.fromValue(r))}),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,r=[];return t.forEach(function(t){r.push(e.toValue(t))}),{values:r}},t.prototype.fromFound=function(t){v(!!t.found,"Tried to deserialize a found document from a missing document."),Ze(t.found.name,"doc.found.name"),Ze(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),r=this.fromVersion(t.found.updateTime),n=this.fromFields(t.found.fields||{});return new pt(e,r,n,{},t.found)},t.prototype.fromMissing=function(t){v(!!t.missing,"Tried to deserialize a missing document from a found document."),v(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),r=this.fromVersion(t.readTime);return new dt(e,r)},t.prototype.fromMaybeDocument=function(t){var e=t.result;return rr(t,e,"found")?this.fromFound(t):rr(t,e,"missing")?this.fromMissing(t):y("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Be.Added:return"ADD";case Be.Current:return"CURRENT";case Be.NoChange:return"NO_CHANGE";case Be.Removed:return"REMOVE";case Be.Reset:return"RESET";default:return y("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Ue)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Ve){if(t.newDoc instanceof pt){var e=t.newDoc;return{documentChange:{document:{name:this.toName(e.key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}}}if(t.newDoc instanceof dt){e=t.newDoc;return{documentDelete:{document:this.toName(e.key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}}}if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof We){var r=void 0;return t.cause&&(r={code:_e(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:r}}}return y("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,r=t.response_type;if(rr(t,r,"targetChange")){Ze(t.targetChange,"targetChange");var n=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,s=a&&this.fromRpcStatus(a);e=new We(n,i,o,s||null)}else if(rr(t,r,"documentChange")){Ze(t.documentChange,"documentChange"),Ze(t.documentChange.document,"documentChange.name"),Ze(t.documentChange.document.name,"documentChange.document.name"),Ze(t.documentChange.document.updateTime,"documentChange.document.updateTime");var c=t.documentChange,u=this.fromName(c.document.name),l=this.fromVersion(c.document.updateTime),h=this.fromFields(c.document.fields||{}),p=new pt(u,l,h,{},c.document),d=c.targetIds||[],f=c.removedTargetIds||[];e=new Ve(d,f,p.key,p)}else if(rr(t,r,"documentDelete")){Ze(t.documentDelete,"documentDelete"),Ze(t.documentDelete.document,"documentDelete.document");var g=t.documentDelete;u=this.fromName(g.document),l=g.readTime?this.fromVersion(g.readTime):Zt.forDeletedDoc(),p=new dt(u,l),f=g.removedTargetIds||[];e=new Ve([],f,p.key,p)}else if(rr(t,r,"documentRemove")){Ze(t.documentRemove,"documentRemove"),Ze(t.documentRemove.document,"documentRemove");var m=t.documentRemove;u=this.fromName(m.document),f=m.removedTargetIds||[];e=new Ve([],f,u,null)}else{if(!rr(t,r,"filter"))return y("Unknown change type "+JSON.stringify(t));Ze(t.filter,"filter"),Ze(t.filter.targetId,"filter.targetId");var v=t.filter,w=v.count||0,b=new ve(w),_=v.targetId;e=new Ue(_,b)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Be.NoChange:"ADD"===t?Be.Added:"REMOVE"===t?Be.Removed:"CURRENT"===t?Be.Current:"RESET"===t?Be.Reset:y("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!rr(t,t.response_type,"targetChange"))return Zt.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?Zt.MIN:e.readTime?this.fromVersion(e.readTime):Zt.MIN},t.prototype.toMutation=function(t){var e,r=this;if(t instanceof ue)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof pe)e={delete:this.toName(t.key)};else if(t instanceof le)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof he))return y("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return r.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,r=t.currentDocument?this.fromPrecondition(t.currentDocument):se.NONE;if(t.update){Ze(t.update.name,"name");var n=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new le(n,i,o,r)}return new ue(n,i,r)}if(t.delete){n=this.fromName(t.delete);return new pe(n,r)}if(t.transform){n=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return v(!0===r.exists,'Transforms only support precondition "exists == true"'),new he(n,a)}return y("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return v(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:y("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?se.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?se.exists(t.exists):se.NONE},t.prototype.fromWriteResult=function(t,e){var r=this,n=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(e),i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map(function(t){return r.fromValue(t)})),new ae(n,i)},t.prototype.fromWriteResults=function(t,e){var r=this;return t&&t.length>0?(v(void 0!==e,"Received a write result without a commit time"),t.map(function(t){return r.fromWriteResult(t,e)})):[]},t.prototype.toFieldTransform=function(t){var e=this,r=t.transform;if(r instanceof de)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(r instanceof fe)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:r.elements.map(function(t){return e.toValue(t)})}};if(r instanceof ge)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:r.elements.map(function(t){return e.toValue(t)})}};throw y("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,r=t.transform_type,n=null;if(rr(t,r,"setToServerValue"))v("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),n=de.instance;else if(rr(t,r,"appendMissingElements")){var i=t.appendMissingElements.values||[];n=new fe(i.map(function(t){return e.fromValue(t)}))}else if(rr(t,r,"removeAllFromArray")){i=t.removeAllFromArray.values||[];n=new ge(i.map(function(t){return e.fromValue(t)}))}else y("Unknown transform proto: "+JSON.stringify(t));var o=ut.fromServerFormat(t.fieldPath);return new oe(o,n)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;v(1===e,"DocumentsTarget contained other than 1 document: "+e);var r=t.documents[0];return Ut.atPath(this.fromQueryPath(r))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}};if(t.path.isEmpty())e.parent=this.toQueryPath(st.EMPTY_PATH);else{var r=t.path;v(r.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(r.popLast()),e.structuredQuery.from=[{collectionId:r.lastSegment()}]}var n=this.toFilter(t.filters);n&&(e.structuredQuery.where=n);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),r=t.structuredQuery,n=r.from?r.from.length:0;if(n>0){v(1===n,"StructuredQuery.from with more than one collection is not supported.");var i=r.from[0];e=e.child(i.collectionId)}var o=[];r.where&&(o=this.fromFilter(r.where));var a=[];r.orderBy&&(a=this.fromOrder(r.orderBy));var s=null;r.limit&&(s=this.fromInt32Value(r.limit));var c=null;r.startAt&&(c=this.fromCursor(r.startAt));var u=null;return r.endAt&&(u=this.fromCursor(r.endAt)),new Ut(e,a,o,s,c,u)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case Vt.Listen:return null;case Vt.ExistenceFilterMismatch:return"existence-filter-mismatch";case Vt.LimboResolution:return"limbo-document";default:return y("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,r=t.query;return(e=r.isDocumentQuery()?{documents:this.toDocumentsTarget(r)}:{query:this.toQueryTarget(r)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var r=t.map(function(t){return t instanceof Ht?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===r.length?r[0]:{compositeFilter:{op:"AND",filters:r}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):y("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,r=!!t.before,n=t.values.map(function(t){return e.fromValue(t)});return new $t(n,r)},t.prototype.toDirection=function(t){return Qe[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return Kt.ASCENDING;case"DESCENDING":return Kt.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return Ye[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return zt.EQUAL;case"GREATER_THAN":return zt.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return zt.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return zt.LESS_THAN;case"LESS_THAN_OR_EQUAL":return zt.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return zt.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return y("Unspecified relation");default:return y("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return ut.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new Qt(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof Ht?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:y("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new Ht(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof Gt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof Jt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:y("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new Gt(e);case"IS_NULL":var r=this.fromFieldPathReference(t.unaryFilter.field);return new Jt(r);case"OPERATOR_UNSPECIFIED":return y("Unspecified filter");default:return y("Unknown filter")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return ut.fromServerFormat(t)});return ie.fromArray(e)},t}();function rr(t,e,r){return e===r||!e&&r in t}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nr=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){v(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){v(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){v(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){v(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){v(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){v(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),ir="Connection",or={BatchGetDocuments:"batchGet",Commit:"commit"},ar="gl-js/ fire/"+l,sr=function(){function t(t){this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.baseUrl=e+"://"+t.host}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var r in e.authHeaders)e.authHeaders.hasOwnProperty(r)&&(t[r]=e.authHeaders[r]);t["X-Goog-Api-Client"]=ar},t.prototype.invokeRPC=function(t,e,r){var n=this,i=this.makeUrl(t);return new Promise(function(o,a){var s=new c.XhrIo;s.listenOnce(c.EventType.COMPLETE,function(){try{switch(s.getLastErrorCode()){case c.ErrorCode.NO_ERROR:var e=s.getResponseJson();f(ir,"XHR received:",JSON.stringify(e)),o(e);break;case c.ErrorCode.TIMEOUT:f(ir,'RPC "'+t+'" timed out'),a(new E(_.DEADLINE_EXCEEDED,"Request time out"));break;case c.ErrorCode.HTTP_ERROR:var r=s.getStatus();f(ir,'RPC "'+t+'" failed with status:',r,"response text:",s.getResponseText()),r>0?a(new E(function(t){switch(t){case 200:return _.OK;case 400:return _.INVALID_ARGUMENT;case 401:return _.UNAUTHENTICATED;case 403:return _.PERMISSION_DENIED;case 404:return _.NOT_FOUND;case 409:return _.ABORTED;case 416:return _.OUT_OF_RANGE;case 429:return _.RESOURCE_EXHAUSTED;case 499:return _.CANCELLED;case 500:return _.UNKNOWN;case 501:return _.UNIMPLEMENTED;case 503:return _.UNAVAILABLE;case 504:return _.DEADLINE_EXCEEDED;default:return t>=200&&t<300?_.OK:t>=400&&t<500?_.FAILED_PRECONDITION:t>=500&&t<600?_.INTERNAL:_.UNKNOWN}}(r),"Server responded with status "+s.getStatusText())):(f(ir,'RPC "'+t+'" failed'),a(new E(_.UNAVAILABLE,"Connection failed.")));break;default:y('RPC "'+t+'" failed with unanticipated webchannel error '+s.getLastErrorCode()+": "+s.getLastError()+", giving up.")}}finally{f(ir,'RPC "'+t+'" completed.')}});var u=JSON.stringify(e);f(ir,"XHR sending: ",i+" "+u);var l={"Content-Type":"text/plain"};n.modifyHeadersForRequest(l,r),s.send(i,"POST",u,l,15)})},t.prototype.invokeStreamingRPC=function(t,e,r){return this.invokeRPC(t,e,r)},t.prototype.openStream=function(t,e){var r=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],n=c.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(i.initMessageHeaders,e),u.isReactNative()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=r.join("");f(ir,"Creating WebChannel: "+o+" "+i);var a=n.createWebChannel(o,i),s=!1,l=!1,h=new nr({sendFn:function(t){l?f(ir,"Not sending because WebChannel is closed:",t):(s||(f(ir,"Opening WebChannel transport."),a.open(),s=!0),f(ir,"WebChannel sending:",t),a.send(t))},closeFn:function(){return a.close()}}),p=function(t,e){a.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return p(c.WebChannel.EventType.OPEN,function(){l||f(ir,"WebChannel transport opened.")}),p(c.WebChannel.EventType.CLOSE,function(){l||(l=!0,f(ir,"WebChannel transport closed"),h.callOnClose())}),p(c.WebChannel.EventType.ERROR,function(t){l||(l=!0,f(ir,"WebChannel transport errored:",t),h.callOnClose(new E(_.UNAVAILABLE,"The operation could not be completed")))}),p(c.WebChannel.EventType.MESSAGE,function(t){if(!l){var e=t.data[0];v(!!e,"Got a webchannel message without data.");var r=e.error||e[0]&&e[0].error;if(r){f(ir,"WebChannel received error:",r);var n=r.status,i=function(t){var e=ye[t];if(void 0!==e)return be(e)}(n),o=r.message;void 0===i&&(i=_.INTERNAL,o="Unknown error status: "+n+" with message "+r.message),l=!0,h.callOnClose(new E(i,o)),a.close()}else f(ir,"WebChannel received:",e),h.callOnMessage(e)}}),setTimeout(function(){h.callOnOpen()},0),h},t.prototype.makeUrl=function(t){var e=or[t];v(void 0!==e,"Unknown REST mapping for: "+t);var r=[this.baseUrl,"/","v1"];return r.push("/projects/"),r.push(this.databaseId.projectId),r.push("/databases/"),r.push(this.databaseId.database),r.push("/documents"),r.push(":"),r.push(e),r.join("")},t}(),cr=function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new sr(t))},t.prototype.newSerializer=function(t){return new er(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
w.setPlatform(new cr);
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ur,lr=function(){function t(t,e){var r=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return r.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),hr=function(){var t=this;this.promise=new Promise(function(e,r){t.resolve=e,t.reject=r})};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh",t.LruGarbageCollection="lru_garbage_collection"}(ur||(ur={}));var pr=function(){function t(t,e,r,n,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=n,this.removalCallback=i,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,r,n,i,o){var a=new t(e,r,Date.now()+n,i,o);return a.start(n),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new E(_.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),dr=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var r=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var r=t.stack||t.message||"";throw g("INTERNAL UNHANDLED ERROR: ",r),r.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=r,r},t.prototype.enqueueAfterDelay=function(t,e,r){var n=this;this.verifyNotFailed(),v(e>=0,"Attempted to schedule an operation with a negative delay of "+e),v(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var i=pr.createAndSchedule(this,t,e,r,function(t){return n.removeDelayedOperation(t)});return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&y("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){v(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){for(var e=0,r=this.delayedOperations;e<r.length;e++){if(r[e].timerId===t)return!0}return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){v(t===ur.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var r=0,n=e.delayedOperations;r<n.length;r++){var i=n[r];if(i.skipDelay(),t!==ur.All&&i.timerId===t)break}return e.drain()})},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);v(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),fr="",gr="",mr="",yr="";function vr(t){for(var e="",r=0;r<t.length;r++)e.length>0&&(e=br(e)),e=wr(t.get(r),e);return br(e)}function wr(t,e){for(var r=e,n=t.length,i=0;i<n;i++){var o=t.charAt(i);switch(o){case"\0":r+=fr+mr;break;case fr:r+=fr+yr;break;default:r+=o}}return r}function br(t){return t+fr+gr}function _r(t){var e=t.length;if(v(e>=2,"Invalid path "+t),2===e)return v(t.charAt(0)===fr&&t.charAt(1)===gr,"Non-empty path "+t+" had length 2"),st.EMPTY_PATH;for(var r=e-2,n=[],i="",o=0;o<e;){var a=t.indexOf(fr,o);switch((a<0||a>r)&&y('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case gr:var s=t.substring(o,a),c=void 0;0===i.length?c=s:(c=i+=s,i=""),n.push(c);break;case mr:i+=t.substring(o,a),i+="\0";break;case yr:i+=t.substring(o,a+1);break;default:y('Invalid encoded resource path: "'+t+'"')}o=a+2}return new st(n)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Er,Cr=function(){function t(t,e,r){this.batchId=t,this.localWriteTime=e,this.mutations=r,v(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.applyToRemoteDocument=function(t,e,r){e&&v(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var n=r.mutationResults;v(n.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+n.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(t)){var a=n[i];e=o.applyToRemoteDocument(e,a)}}return e},t.prototype.applyToLocalView=function(t,e){e&&v(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var r=e,n=0;n<this.mutations.length;n++){var i=this.mutations[n];i.key.isEqual(t)&&(e=i.applyToLocalView(e,r,this.localWriteTime))}return e},t.prototype.keys=function(){for(var t=Ne(),e=0,r=this.mutations;e<r.length;e++){var n=r[e];t=t.add(n.key)}return t},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&K(this.mutations,t.mutations)},t}(),kr=function(){function t(t,e,r,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.streamToken=n,this.docVersions=i}return t.from=function(e,r,n,i){v(e.mutations.length===n.length,"Mutations sent "+e.mutations.length+" must equal results received "+n.length);for(var o=Ae(),a=e.mutations,s=0;s<a.length;s++)o=o.insert(a[s].key,n[s].version);return new t(e,r,n,i,o)},t}(),xr=1;!function(t){t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine"}(Er||(Er={}));var Tr=function(){function t(t,e){this.generatorId=t,v((t&xr)===t,"Generator ID "+t+" contains more than "+xr+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<xr,t},t.prototype.after=function(t){return this.seek(t+(1<<xr)),this.next()},t.prototype.seek=function(t){v((t&xr)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forQueryCache=function(){return new t(Er.QueryCache,2)},t.forSyncEngine=function(){return new t(Er.SyncEngine)},t}(),Sr=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,r){var n=this;return this.callbackAttached&&y("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){n.nextCallback=function(r){n.wrapSuccess(e,r).next(t,i)},n.catchCallback=function(e){n.wrapFailure(r,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,r){t.next(e,r)})},t.prototype.wrapUserFunction=function(e){try{var r=e();return r instanceof t?r:t.resolve(r)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,r){return e?this.wrapUserFunction(function(){return e(r)}):t.resolve(r)},t.prototype.wrapFailure=function(e,r){return e?this.wrapUserFunction(function(){return e(r)}):t.reject(r)},t.resolve=function(e){return new t(function(t,r){t(e)})},t.reject=function(e){return new t(function(t,r){r(e)})},t.waitFor=function(e){return new t(function(t,r){var n=0,i=0,o=!1;e.forEach(function(e){++n,e.next(function(){++i,o&&i===n&&t()},function(t){return r(t)})}),o=!0,i===n&&t()})},t.or=function(e){for(var r=t.resolve(!1),n=function(e){r=r.next(function(r){return r?t.resolve(r):e()})},i=0,o=e;i<o.length;i++){n(o[i])}return r},t.forEach=function(t,e){var r=this,n=[];return t.forEach(function(t,i){n.push(e.call(r,t,i))}),this.waitFor(n)},t}(),Ar=function(){function t(t){this.db=t}return t.openOrCreate=function(e,r,n){return v(t.isAvailable(),"IndexedDB not supported in current environment."),f("SimpleDb","Opening database:",e),new Sr(function(i,o){var a=window.indexedDB.open(e,r);a.onsuccess=function(e){var r=e.target.result;i(new t(r))},a.onblocked=function(){o(new E(_.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(t){var e=t.target.error;"VersionError"===e.name?o(new E(_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o(e)},a.onupgradeneeded=function(t){f("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var r=t.target.result,i=new Nr(a.transaction);n.createOrUpgrade(r,i,t.oldVersion,Kr).next(function(){f("SimpleDb","Database upgrade to version "+Kr+" complete")})}}).toPromise()},t.delete=function(t){return f("SimpleDb","Removing database:",t),Dr(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===process.env.USE_MOCK_PERSISTENCE;var t=window.navigator.userAgent;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0)},t.getStore=function(t,e){return t.store(e)},t.prototype.runTransaction=function(t,e,r){var n=Nr.open(this.db,t,e),i=r(n).catch(function(t){return n.abort(t),Sr.reject(t)}).toPromise();return i.catch(function(){}),n.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),Ir=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return Dr(this.dbCursor.delete())},t}(),Nr=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new hr,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){e.completionDeferred.reject(t.target.error)}}return t.open=function(e,r,n){return new t(e.transaction(n,r))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(f("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return v(!!e,"Object store not part of transaction: "+t),new Pr(e)},t}(),Pr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var r;return void 0!==e?(f("SimpleDb","PUT",this.store.name,t,e),r=this.store.put(e,t)):(f("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Dr(r)},t.prototype.add=function(t){return f("SimpleDb","ADD",this.store.name,t,t),Dr(this.store.add(t))},t.prototype.get=function(t){var e=this;return Dr(this.store.get(t)).next(function(r){return void 0===r&&(r=null),f("SimpleDb","GET",e.store.name,t,r),r})},t.prototype.delete=function(t){return f("SimpleDb","DELETE",this.store.name,t),Dr(this.store.delete(t))},t.prototype.count=function(){return f("SimpleDb","COUNT",this.store.name),Dr(this.store.count())},t.prototype.loadAll=function(t,e){var r=this.cursor(this.options(t,e)),n=[];return this.iterateCursor(r,function(t,e){n.push(e)}).next(function(){return n})},t.prototype.deleteAll=function(t,e){f("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,e);r.keysOnly=!1;var n=this.cursor(r);return this.iterateCursor(n,function(t,e,r){return r.delete()})},t.prototype.iterate=function(t,e){var r;e?r=t:(r={},e=t);var n=this.cursor(r);return this.iterateCursor(n,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new Sr(function(r,n){e.onerror=function(t){n(t.target.error)},e.onsuccess=function(e){var n=e.target.result;n?t(n.primaryKey,n.value).next(function(t){t?n.continue():r()}):r()}})},t.prototype.iterateCursor=function(t,e){var r=[];return new Sr(function(n,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Ir(i),a=e(i.primaryKey,i.value,o);if(a instanceof Sr){var s=a.catch(function(t){return o.done(),Sr.reject(t)});r.push(s)}o.isDone?n():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else n()}}).next(function(){return Sr.waitFor(r)})},t.prototype.options=function(t,e){var r=void 0;return void 0!==t&&("string"==typeof t?r=t:(v(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:r,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var r=this.store.index(t.index);return t.keysOnly?r.openKeyCursor(t.range,e):r.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t){return new Sr(function(e,r){t.onsuccess=function(t){var r=t.target.result;e(r)},t.onerror=function(t){r(t.target.error)}})}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Or=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=Tr.forQueryCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next(function(r){return r.highestTargetId=e.targetIdGenerator.after(r.highestTargetId),e.saveMetadata(t,r).next(function(){return r.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next(function(t){return Zt.fromTimestamp(new rt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return Br(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,r){var n=this;return this.retrieveMetadata(t).next(function(i){return i.highestListenSequenceNumber=e,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),n.saveMetadata(t,i)})},t.prototype.addQueryData=function(t,e){var r=this;return this.saveQueryData(t,e).next(function(){return r.retrieveMetadata(t).next(function(n){return n.targetCount+=1,r.updateMetadataFromQueryData(e,n),r.saveMetadata(t,n)})})},t.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},t.prototype.removeQueryData=function(t,e){var r=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Rr(t).delete(e.targetId)}).next(function(){return r.retrieveMetadata(t)}).next(function(e){return v(e.targetCount>0,"Removing from an empty query cache"),e.targetCount-=1,r.saveMetadata(t,e)})},t.prototype.removeTargets=function(t,e,r){var n=this,i=0,o=[];return Rr(t).iterate(function(a,s){var c=n.serializer.fromDbTarget(s);c.sequenceNumber<=e&&void 0===r[c.targetId]&&(i++,o.push(n.removeQueryData(t,c)))}).next(function(){return Sr.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){var r=this;return Rr(t).iterate(function(t,n){var i=r.serializer.fromDbTarget(n);e(i)})},t.prototype.retrieveMetadata=function(t){return jr(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(r=t,Dn.getStore(r,cn.store)).put(cn.key,e);var r},t.prototype.saveQueryData=function(t,e){return Rr(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t,e){var r=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,r=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},t.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next(function(t){return t.targetCount})},t.prototype.getQueryData=function(t,e){var r=this,n=e.canonicalId(),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),o=null;return Rr(t).iterate({range:i,index:an.queryTargetsIndexName},function(t,n,i){var a=r.serializer.fromDbTarget(n);e.isEqual(a.query)&&(o=a,i.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(t,e,r){var n=this,i=[],o=Mr(t);return e.forEach(function(e){var a=vr(e.path);i.push(o.put(new sn(r,a))),i.push(n.referenceDelegate.addReference(t,e))}),Sr.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,r){var n=this,i=Mr(t);return Sr.forEach(e,function(e){var o=vr(e.path);return Sr.waitFor([i.delete([r,o]),n.referenceDelegate.removeReference(t,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var r=Mr(t),n=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(n)},t.prototype.getMatchingKeysForTargetId=function(t,e){var r=IDBKeyRange.bound([e],[e+1],!1,!0),n=Mr(t),i=Ne();return n.iterate({range:r,keysOnly:!0},function(t,e,r){var n=_r(t[1]),o=new lt(n);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var r,n=vr(e.path),i=IDBKeyRange.bound([n],[(r=n,r+"\0")],!1,!0),o=0;return Mr(t).iterate({index:sn.documentTargetsIndex,keysOnly:!0,range:i},function(t,e,r){var n=t[0];t[1];0!==n&&(o++,r.done())}).next(function(){return o>0})},t.prototype.getQueryDataForTarget=function(t,e){var r=this;return Rr(t).get(e).next(function(t){return t?r.serializer.fromDbTarget(t):null})},t}();function Rr(t){return Dn.getStore(t,an.store)}function jr(t){return Ar.getStore(t,cn.store).get(cn.key).next(function(t){return v(null!==t,"Missing metadata row."),t})}function Br(t){return jr(t).next(function(t){return t.highestListenSequenceNumber})}function Mr(t){return Dn.getStore(t,sn.store)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fr=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(var n=0,i=r;n<i.length;n++){var o=i[n],a=o[0],s=o[1];if(a.isEqual(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var r=this.mapKeyFn(t),n=this.inner[r];if(void 0!==n){for(var i=0;i<n.length;i++)if(n[i][0].isEqual(t))return void(n[i]=[t,e]);n.push([t,e])}else this.inner[r]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(var n=0;n<r.length;n++)if(r[n][0].isEqual(t))return 1===r.length?delete this.inner[e]:r.splice(n,1),!0;return!1},t.prototype.forEach=function(t){S(this.inner,function(e,r){for(var n=0,i=r;n<i.length;n++){var o=i[n],a=o[0],s=o[1];t(a,s)}})},t.prototype.isEmpty=function(){return A(this.inner)},t}(),Lr=function(){function t(){this.changes=Ce(),this.documentSizes=new Fr(function(t){return t.toString()})}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var r=this,n=this.assertChanges().get(e);return n?Sr.resolve(n):this.getFromCache(t,e).next(function(t){return null===t?(r.documentSizes.set(e,0),null):(r.documentSizes.set(e,t.size),t.maybeDocument)})},t.prototype.getEntries=function(t,e){var r=this;return this.getAllFromCache(t,e).next(function(t){var e=t.maybeDocuments;return t.sizeMap.forEach(function(t,e){r.documentSizes.set(t,e)}),e})},t.prototype.apply=function(t){var e=this.applyChanges(t);return this.changes=null,e},t.prototype.assertChanges=function(){return v(null!==this.changes,"Changes have already been applied."),this.changes},t}(),qr="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",Vr=function(){function t(t,e){this.serializer=t,this.keepDocumentChangeLog=e,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(t.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=Ar.getStore(t,ln.store);return this.synchronizeLastDocumentChangeId(e)},t.prototype.addEntries=function(t,e,r){var n=[];if(e.length>0){for(var i=zr(t),o=Ne(),a=0,s=e;a<s.length;a++){var c=s[a],u=c.key,l=c.doc;n.push(i.put(Jr(u),l)),o=o.add(u)}this.keepDocumentChangeLog&&n.push(Hr(t).put({changes:this.serializer.toDbResourcePaths(o)})),n.push(this.updateSize(t,r))}return Sr.waitFor(n)},t.prototype.removeEntry=function(t,e){var r=zr(t),n=Jr(e);return r.get(n).next(function(t){return t?r.delete(n).next(function(){return Gr(t)}):Sr.resolve(0)})},t.prototype.getEntry=function(t,e){var r=this;return zr(t).get(Jr(e)).next(function(t){return t?r.serializer.fromDbRemoteDocument(t):null})},t.prototype.getSizedEntry=function(t,e){var r=this;return zr(t).get(Jr(e)).next(function(t){return t?{maybeDocument:r.serializer.fromDbRemoteDocument(t),size:Gr(t)}:null})},t.prototype.getEntries=function(t,e){var r=this,n=ke();return this.forEachDbEntry(t,e,function(t,e){n=e?n.insert(t,r.serializer.fromDbRemoteDocument(e)):n.insert(t,null)}).next(function(){return n})},t.prototype.getSizedEntries=function(t,e){var r=this,n=ke(),i=new gt(lt.comparator);return this.forEachDbEntry(t,e,function(t,e){e?(n=n.insert(t,r.serializer.fromDbRemoteDocument(e)),i=i.insert(t,Gr(e))):(n=n.insert(t,null),i=i.insert(t,0))}).next(function(){return{maybeDocuments:n,sizeMap:i}})},t.prototype.forEachDbEntry=function(t,e,r){if(e.isEmpty())return Sr.resolve();var n=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return zr(t).iterate({range:n},function(t,e,n){for(var a=lt.fromSegments(t);o&&lt.comparator(o,a)<0;)r(o,null),o=i.getNext();o&&o.isEqual(a)&&(r(o,e),o=i.hasNext()?i.getNext():null),o?n.skip(o.path.toArray()):n.done()}).next(function(){for(;o;)r(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var r=this,n=Te(),i=e.path.length+1,o=e.path.toArray(),a=IDBKeyRange.lowerBound(o);return zr(t).iterate({range:a},function(t,o,a){if(t.length===i){var s=r.serializer.fromDbRemoteDocument(o);e.path.isPrefixOf(s.key.path)?s instanceof pt&&e.matches(s)&&(n=n.insert(s.key,s)):a.done()}}).next(function(){return n})},t.prototype.getNewDocumentChanges=function(t){var e=this;v(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var r=Ne(),n=Ce(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,a=Hr(t);return a.iterate({range:i},function(t,n){if(o&&(o=!1,e._lastProcessedDocumentChangeId+1!==n.id))return e.synchronizeLastDocumentChangeId(a).next(function(){return Sr.reject(new E(_.DATA_LOSS,qr))});r=r.unionWith(e.serializer.fromDbResourcePaths(n.changes)),e._lastProcessedDocumentChangeId=n.id}).next(function(){var i=[];return r.forEach(function(r){i.push(e.getEntry(t,r).next(function(t){var e=t||new dt(r,Zt.forDeletedDoc());n=n.insert(r,e)}))}),Sr.waitFor(i)}).next(function(){return n})},t.prototype.removeDocumentChangesThroughChangeId=function(t,e){var r=IDBKeyRange.upperBound(e);return Hr(t).delete(r)},t.prototype.synchronizeLastDocumentChangeId=function(t){var e=this;return this._lastProcessedDocumentChangeId=0,t.iterate({keysOnly:!0,reverse:!0},function(t,r,n){e._lastProcessedDocumentChangeId=t,n.done()})},t.prototype.newChangeBuffer=function(){return new Wr(this)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Ur(t).get(on.key).next(function(t){return v(!!t,"Missing document cache metadata"),t})},t.prototype.setMetadata=function(t,e){return Ur(t).put(on.key,e)},t.prototype.updateSize=function(t,e){var r=this;return this.getMetadata(t).next(function(n){return n.byteSize+=e,r.setMetadata(t,n)})},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(t){return Dn.getStore(t,on.store)}var Wr=function(t){function e(e){var r=t.call(this)||this;return r.documentCache=e,r}return s.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,r=this.assertChanges(),n=0,i=[];return r.forEach(function(t,r){var o=e.documentCache.serializer.toDbRemoteDocument(r),a=e.documentSizes.get(t);v(void 0!==a,"Attempting to change document "+t.toString()+" without having read it first");var s=Gr(o);n+=s-a,i.push({key:t,doc:o})}),this.documentCache.addEntries(t,i,n)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(Lr);function zr(t){return Dn.getStore(t,nn.store)}function Hr(t){return Dn.getStore(t,ln.store)}function Jr(t){return t.path.toArray()}function Gr(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw y("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kr=7,$r=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,r,n){var i=this;v(r<n&&r>=0&&n<=Kr,"Unexpected schema upgrade from v"+r+" to v{toVersion}."),r<1&&n>=1&&(function(t){t.createObjectStore(Yr.store)}(t),function(t){t.createObjectStore(Xr.store,{keyPath:Xr.keyPath}),t.createObjectStore(Zr.store,{keyPath:Zr.keyPath,autoIncrement:!0}).createIndex(Zr.userMutationsIndex,Zr.userMutationsKeyPath,{unique:!0}),t.createObjectStore(tn.store)}(t),un(t),function(t){t.createObjectStore(nn.store)}(t));var o=Sr.resolve();return r<3&&n>=3&&(0!==r&&(!function(t){t.deleteObjectStore(sn.store),t.deleteObjectStore(an.store),t.deleteObjectStore(cn.store)}(t),un(t)),o=o.next(function(){return function(t){var e=t.store(cn.store),r=new cn(0,0,Zt.MIN.toTimestamp(),0);return e.put(cn.key,r)}(e)})),r<4&&n>=4&&(0!==r&&(o=o.next(function(){return function(t,e){return e.store(Zr.store).loadAll().next(function(r){t.deleteObjectStore(Zr.store),t.createObjectStore(Zr.store,{keyPath:Zr.keyPath,autoIncrement:!0}).createIndex(Zr.userMutationsIndex,Zr.userMutationsKeyPath,{unique:!0});var n=e.store(Zr.store),i=r.map(function(t){return n.put(t)});return Sr.waitFor(i)})}(t,e)})),o=o.next(function(){!function(t){t.createObjectStore(hn.store,{keyPath:hn.keyPath})}(t),function(t){t.createObjectStore(ln.store,{keyPath:"id",autoIncrement:!0})}(t)})),r<5&&n>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(e)})),r<6&&n>=6&&(o=o.next(function(){return function(t){t.createObjectStore(on.store)}(t),i.addDocumentGlobal(e)})),r<7&&n>=7&&(o=o.next(function(){return i.ensureSequenceNumbers(e)})),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(nn.store).iterate(function(t,r){e+=Gr(r)}).next(function(){var r=new on(e);return t.store(on.store).put(on.key,r)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,r=t.store(Xr.store),n=t.store(Zr.store);return r.loadAll().next(function(r){return Sr.forEach(r,function(r){var i=IDBKeyRange.bound([r.userId,-1],[r.userId,r.lastAcknowledgedBatchId]);return n.loadAll(Zr.userMutationsIndex,i).next(function(n){return Sr.forEach(n,function(n){v(n.userId===r.userId,"Cannot process batch "+n.batchId+" from unexpected user");var i=e.serializer.fromDbMutationBatch(n);return gn(t,r.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(sn.store),r=t.store(nn.store);return Br(t).next(function(t){var n=[];return r.iterate(function(r,i){var o=new st(r),a=function(t){return[0,vr(t)]}(o);n.push(e.get(a).next(function(r){return r?Sr.resolve():function(r){return e.put(new sn(0,vr(r),t))}(o)}))}).next(function(){return Sr.waitFor(n)})})},t}();var Qr=function(t,e){this.seconds=t,this.nanoseconds=e},Yr=function(){function t(t,e,r){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=r}return t.store="owner",t.key="owner",t}();var Xr=function(){function t(t,e,r){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=r}return t.store="mutationQueues",t.keyPath="userId",t}(),Zr=function(){function t(t,e,r,n){this.userId=t,this.batchId=e,this.localWriteTimeMs=r,this.mutations=n}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}();var tn=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,vr(e)]},t.key=function(t,e,r){return[t,vr(e),r]},t.store="documentMutations",t.PLACEHOLDER=new t,t}();var en=function(t,e){this.path=t,this.readTime=e},rn=function(t,e){this.path=t,this.version=e},nn=function(){function t(t,e,r,n){this.unknownDocument=t,this.noDocument=e,this.document=r,this.hasCommittedMutations=n}return t.store="remoteDocuments",t}(),on=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}();var an=function(){function t(t,e,r,n,i,o){this.targetId=t,this.canonicalId=e,this.readTime=r,this.resumeToken=n,this.lastListenSequenceNumber=i,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),sn=function(){function t(t,e,r){this.targetId=t,this.path=e,this.sequenceNumber=r,v(0===t==(void 0!==r),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),cn=function(){function t(t,e,r,n){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=r,this.targetCount=n}return t.key="targetGlobalKey",t.store="targetGlobal",t}();function un(t){t.createObjectStore(sn.store,{keyPath:sn.keyPath}).createIndex(sn.documentTargetsIndex,sn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(an.store,{keyPath:an.keyPath}).createIndex(an.queryTargetsIndexName,an.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(cn.store)}var ln=function(){function t(t){this.changes=t}return t.store="remoteDocumentChanges",t.keyPath="id",t}();var hn=function(){function t(t,e,r,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=r,this.inForeground=n,this.lastProcessedDocumentChangeId=i}return t.store="clientMetadata",t.keyPath="clientId",t}();var pn=[Xr.store,Zr.store,tn.store,nn.store,an.store,Yr.store,cn.store,sn.store].concat([hn.store,ln.store]).concat([on.store]),dn=function(){function t(t,e,r){this.userId=t,this.serializer=e,this.referenceDelegate=r,this.documentKeysByBatchId={}}return t.forUser=function(e,r,n){return v(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",r,n)},t.prototype.checkEmpty=function(t){var e=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yn(t).iterate({index:Zr.userMutationsIndex,range:r},function(t,r,n){e=!1,n.done()}).next(function(){return e})},t.prototype.acknowledgeBatch=function(t,e,r){return this.getMutationQueueMetadata(t).next(function(e){return e.lastStreamToken=mn(r),wn(t).put(e)})},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next(function(t){return t.lastStreamToken})},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next(function(r){return r.lastStreamToken=mn(e),wn(t).put(r)})},t.prototype.addMutationBatch=function(t,e,r){var n=this,i=vn(t),o=yn(t);return o.add({}).next(function(t){v("number"==typeof t,"Auto-generated key is not a number");var a=new Cr(t,e,r),s=n.serializer.toDbMutationBatch(n.userId,a);n.documentKeysByBatchId[t]=a.keys();for(var c=[],u=0,l=r;u<l.length;u++){var h=l[u],p=tn.key(n.userId,h.key.path,t);c.push(o.put(s)),c.push(i.put(p,tn.PLACEHOLDER))}return Sr.waitFor(c).next(function(){return a})})},t.prototype.lookupMutationBatch=function(t,e){var r=this;return yn(t).get(e).next(function(t){return t?(v(t.userId===r.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.serializer.fromDbMutationBatch(t)):null})},t.prototype.lookupMutationKeys=function(t,e){var r=this;return this.documentKeysByBatchId[e]?Sr.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var n=t.keys();return r.documentKeysByBatchId[e]=n,n}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var r=this;return this.getMutationQueueMetadata(t).next(function(n){var i=e+1,o=IDBKeyRange.lowerBound([r.userId,i]),a=null;return yn(t).iterate({index:Zr.userMutationsIndex,range:o},function(t,e,n){e.userId===r.userId&&(v(e.batchId>=i,"Should have found mutation after "+i),a=r.serializer.fromDbMutationBatch(e)),n.done()}).next(function(){return a})})},t.prototype.getAllMutationBatches=function(t){var e=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yn(t).loadAll(Zr.userMutationsIndex,r).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var r=this,n=tn.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(n),o=[];return vn(t).iterate({range:i},function(n,i,a){var s=n[0],c=n[1],u=n[2],l=_r(c);if(s===r.userId&&e.path.isEqual(l))return yn(t).get(u).next(function(t){if(!t)throw y("Dangling document-mutation reference found: "+n+" which points to "+u);v(t.userId===r.userId,"Unexpected user '"+t.userId+"' for mutation batch "+u),o.push(r.serializer.fromDbMutationBatch(t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var r=this,n=new re(G),i=[];return e.forEach(function(e){var o=tn.prefixForPath(r.userId,e.path),a=IDBKeyRange.lowerBound(o),s=vn(t).iterate({range:a},function(t,i,o){var a=t[0],s=t[1],c=t[2],u=_r(s);a===r.userId&&e.path.isEqual(u)?n=n.add(c):o.done()});i.push(s)}),Sr.waitFor(i).next(function(){return r.lookupMutationBatches(t,n)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var r=this;v(!e.isDocumentQuery(),"Document queries shouldn't go down this path");var n=e.path,i=n.length+1,o=tn.prefixForPath(this.userId,n),a=IDBKeyRange.lowerBound(o),s=new re(G);return vn(t).iterate({range:a},function(t,e,o){var a=t[0],c=t[1],u=t[2],l=_r(c);a===r.userId&&n.isPrefixOf(l)?l.length===i&&(s=s.add(u)):o.done()}).next(function(){return r.lookupMutationBatches(t,s)})},t.prototype.lookupMutationBatches=function(t,e){var r=this,n=[],i=[];return e.forEach(function(e){i.push(yn(t).get(e).next(function(t){if(null===t)throw y("Dangling document-mutation reference found, which points to "+e);v(t.userId===r.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.push(r.serializer.fromDbMutationBatch(t))}))}),Sr.waitFor(i).next(function(){return n})},t.prototype.removeMutationBatch=function(t,e){var r=this;return gn(t.simpleDbTransaction,this.userId,e).next(function(n){return r.removeCachedMutationKeys(e.batchId),Sr.forEach(n,function(e){return r.referenceDelegate.removeMutationReference(t,e)})})},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(r){if(!r)return Sr.resolve();var n=IDBKeyRange.lowerBound(tn.prefixForUser(e.userId)),i=[];return vn(t).iterate({range:n},function(t,r,n){if(t[0]===e.userId){var o=_r(t[1]);i.push(o)}else n.done()}).next(function(){v(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},t.prototype.containsKey=function(t,e){return fn(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return wn(t).get(this.userId).next(function(t){return t||new Xr(e.userId,-1,"")})},t}();function fn(t,e,r){var n=tn.prefixForPath(e,r.path),i=n[1],o=IDBKeyRange.lowerBound(n),a=!1;return vn(t).iterate({range:o,keysOnly:!0},function(t,r,n){var o=t[0],s=t[1];t[2];o===e&&s===i&&(a=!0),n.done()}).next(function(){return a})}function gn(t,e,r){var n=t.store(Zr.store),i=t.store(tn.store),o=[],a=IDBKeyRange.only(r.batchId),s=0,c=n.iterate({range:a},function(t,e,r){return s++,r.delete()});o.push(c.next(function(){v(1===s,"Dangling document-mutation reference found: Missing batch "+r.batchId)}));for(var u=[],l=0,h=r.mutations;l<h.length;l++){var p=h[l],d=tn.key(e,p.key.path,r.batchId);o.push(i.delete(d)),u.push(p.key)}return Sr.waitFor(o).next(function(){return u})}function mn(t){return t instanceof Uint8Array?(v("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function yn(t){return Dn.getStore(t,Zr.store)}function vn(t){return Dn.getStore(t,tn.store)}function wn(t){return Dn.getStore(t,Xr.store)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=lt.fromSegments(t.noDocument.path),r=this.fromDbTimestamp(t.noDocument.readTime);return new dt(e,r,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){e=lt.fromSegments(t.unknownDocument.path),r=this.fromDbTimestamp(t.unknownDocument.version);return new ft(e,r)}return y("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof pt){var e=t.proto?t.proto:this.remoteSerializer.toDocument(t),r=t.hasCommittedMutations;return new nn(null,null,e,r)}if(t instanceof dt){var n=t.key.path.toArray(),i=this.toDbTimestamp(t.version);r=t.hasCommittedMutations;return new nn(null,new en(n,i),null,r)}if(t instanceof ft){n=t.key.path.toArray(),i=this.toDbTimestamp(t.version);return new nn(new rn(n,i),null,null,!0)}return y("Unexpected MaybeDocumment")},t.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new Qr(e.seconds,e.nanoseconds)},t.prototype.fromDbTimestamp=function(t){var e=new rt(t.seconds,t.nanoseconds);return Zt.fromTimestamp(e)},t.prototype.toDbMutationBatch=function(t,e){var r=this,n=e.mutations.map(function(t){return r.remoteSerializer.toMutation(t)});return new Zr(t,e.batchId,e.localWriteTime.toMillis(),n)},t.prototype.fromDbMutationBatch=function(t){var e=this,r=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),n=rt.fromMillis(t.localWriteTimeMs);return new Cr(t.batchId,n,r)},t.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach(function(t){e.push(vr(t.path))}),e},t.prototype.fromDbResourcePaths=function(t){for(var e=Ne(),r=0,n=t;r<n.length;r++){var i=n[r];e=e.add(new lt(_r(i)))}return e},t.prototype.fromDbTarget=function(t){var e,r=this.fromDbTimestamp(t.readTime);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new ee(e,t.targetId,Vt.Listen,t.lastListenSequenceNumber,r,t.resumeToken)},t.prototype.toDbTarget=function(t){v(Vt.Listen===t.purpose,"Only queries with purpose "+Vt.Listen+" may be stored, got "+t.purpose);var e,r,n=this.toDbTimestamp(t.snapshotVersion);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),t.resumeToken instanceof Uint8Array?(v("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),r=t.resumeToken.toString()):r=t.resumeToken,new an(t.targetId,t.query.canonicalId(),n,r,t.sequenceNumber,e)},t}();
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function _n(t,e){var r=t[0],n=t[1],i=e[0],o=e[1],a=G(r,i);return 0===a?G(n,o):a}var En=function(){function t(t){this.maxElements=t,this.buffer=new re(_n),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var r=this.buffer.last();_n(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Cn={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kn=function(){function t(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),xn=function(){function t(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.gcTask=null}return t.prototype.start=function(){v(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==kn.COLLECTION_DISABLED&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;v(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;f("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(ur.LruGarbageCollection,e,function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then(function(){return t.scheduleGC()}).catch(On)})},t}(),Tn=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var r=this;if(0===e)return Sr.resolve(lr.INVALID);var n=new En(e);return this.delegate.forEachTarget(t,function(t){return n.addElement(t.sequenceNumber)}).next(function(){return r.delegate.forEachOrphanedDocumentSequenceNumber(t,function(t){return n.addElement(t)})}).next(function(){return n.maxValue})},t.prototype.removeTargets=function(t,e,r){return this.delegate.removeTargets(t,e,r)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var r=this;return this.params.cacheSizeCollectionThreshold===kn.COLLECTION_DISABLED?(f("LruGarbageCollector","Garbage collection skipped; disabled"),Sr.resolve(Cn)):this.getCacheSize(t).next(function(n){return n<r.params.cacheSizeCollectionThreshold?(f("LruGarbageCollector","Garbage collection skipped; Cache size "+n+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),Cn):r.runGarbageCollection(t,e)})},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var r,n,o,a,s,c,u,l,h=this;return a=Date.now(),this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>h.params.maximumSequenceNumbersToCollect?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.params.maximumSequenceNumbersToCollect+" from "+e),n=h.params.maximumSequenceNumbersToCollect):n=e,s=Date.now(),h.nthSequenceNumber(t,n)}).next(function(n){return r=n,c=Date.now(),h.removeTargets(t,r,e)}).next(function(e){return o=e,u=Date.now(),h.removeOrphanedDocuments(t,r)}).next(function(t){(l=Date.now(),p()<=i.DEBUG)&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-a)+"ms\n\tDetermined least recently used "+n+" in "+(c-s)+"ms\n\tRemoved "+o+" targets in "+(u-c)+"ms\n\tRemoved "+t+" documents in "+(l-u)+"ms\nTotal Duration: "+(l-a)+"ms");return Sr.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:o,documentsRemoved:t})})},t}(),Sn="IndexedDbPersistence",An="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",In="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `experimentalTabSynchronization:true` in all tabs.",Nn="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",Pn=function(t){function e(e,r){var n=t.call(this)||this;return n.simpleDbTransaction=e,n.currentSequenceNumber=r,n}return s.__extends(e,t),e}(function(){}),Dn=function(){function t(e,r,n,i,o,a,s){if(this.persistenceKey=e,this.clientId=r,this.queue=i,this.multiClientParams=s,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},!t.isAvailable())throw new E(_.UNIMPLEMENTED,Nn);if(this.referenceDelegate=new Bn(this,a),this.dbName=e+t.MAIN_DATABASE,this.serializer=new bn(o),this.document=n.document,this.allowTabSynchronization=void 0!==s,this.queryCache=new Or(this.referenceDelegate,this.serializer),this.remoteDocumentCache=new Vr(this.serializer,this.allowTabSynchronization),!n.window||!n.window.localStorage)throw new E(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=n.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof Pn)return Ar.getStore(t.simpleDbTransaction,e);throw y("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e,r,n,i,o,a){return s.__awaiter(this,void 0,void 0,function(){var c;return s.__generator(this,function(s){switch(s.label){case 0:return[4,(c=new t(e,r,n,i,o,a)).start()];case 1:return s.sent(),[2,c]}})})},t.createMultiClientIndexedDbPersistence=function(e,r,n,i,o,a,c){return s.__awaiter(this,void 0,void 0,function(){var u;return s.__generator(this,function(s){switch(s.label){case 0:return[4,(u=new t(e,r,n,i,o,a,c)).start()];case 1:return s.sent(),[2,u]}})})},t.prototype.start=function(){var t=this;return v(!this.started,"IndexedDbPersistence double-started!"),v(null!==this.window,"Expected 'window' to be defined"),Ar.openOrCreate(this.dbName,Kr,new $r(this.serializer)).then(function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()}).then(function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.startRemoteDocumentCache()}).then(function(){return t.simpleDb.runTransaction("readonly",[cn.store],function(e){return Br(e).next(function(e){var r=t.multiClientParams?t.multiClientParams.sequenceNumberSyncer:void 0;t.listenSequence=new lr(e,r)})})}).then(function(){t._started=!0}).catch(function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)})},t.prototype.startRemoteDocumentCache=function(){var t=this;return this.simpleDb.runTransaction("readonly",pn,function(e){return t.remoteDocumentCache.start(e)})},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(r){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(e){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite",pn,function(e){return jn(e).put(new hn(t.clientId,Date.now(),t.networkEnabled,t.inForeground,t.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next(function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget(function(){return t.primaryStateListener(!1)}))})}).next(function(){return t.canActAsPrimary(e)}).next(function(r){var n=t.isPrimary;return t.isPrimary=r,n!==t.isPrimary&&t.queue.enqueueAndForget(function(){return t.primaryStateListener(t.isPrimary)}),n&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0})})},t.prototype.verifyPrimaryLease=function(t){var e=this;return Rn(t).get(Yr.key).next(function(t){return Sr.resolve(e.isLocalClient(t))})},t.prototype.removeClientMetadata=function(t){return jn(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return s.__awaiter(this,void 0,void 0,function(){var e,r,n=this;return s.__generator(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),r=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(i){var o=t.getStore(i,hn.store);return o.loadAll().next(function(t){e=n.filterActiveClients(t,18e5),r=t.filter(function(t){return-1===e.indexOf(t)})}).next(function(){return Sr.forEach(r,function(t){return o.delete(t.clientId)})}).next(function(){if((e=e.filter(function(t){return t.clientId!==n.clientId})).length>0){var t=e.map(function(t){return t.lastProcessedDocumentChangeId||0}),r=Math.min.apply(Math,t);return n.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,r)}})})]);case 1:i.sent(),r.forEach(function(t){n.window.localStorage.removeItem(n.zombiedClientLocalStorageKey(t.clientId))}),i.label=2;case 2:return[2]}})})},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(ur.ClientMetadataRefresh,4e3,function(){return t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.maybeGarbageCollectMultiClientState()}).then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return Rn(t).get(Yr.key).next(function(r){if(null!==r&&e.isWithinAge(r.leaseTimestampMs,5e3)&&!e.isClientZombied(r.ownerId)){if(e.isLocalClient(r)&&e.networkEnabled)return!0;if(!e.isLocalClient(r)){if(!r.allowTabSynchronization)throw new E(_.FAILED_PRECONDITION,In);return!1}}return!(!e.networkEnabled||!e.inForeground)||jn(t).loadAll().next(function(t){return void 0===e.filterActiveClients(t,5e3).find(function(t){if(e.clientId!==t.clientId){var r=!e.networkEnabled&&t.networkEnabled,n=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(r||n&&i)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&f(Sn,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(t){return s.__awaiter(this,void 0,void 0,function(){var e=this;return s.__generator(this,function(r){switch(r.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[Yr.store,hn.store],function(t){return e.releasePrimaryLeaseIfHeld(t).next(function(){return e.removeClientMetadata(t)})})];case 1:return r.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),t?[4,Ar.delete(this.dbName)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.filterActiveClients=function(t,e){var r=this;return t.filter(function(t){return r.isWithinAge(t.updateTimeMs,e)&&!r.isClientZombied(t.clientId)})},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly",[hn.store],function(e){return jn(e).loadAll().next(function(e){return t.filterActiveClients(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return v(this.started,"Cannot initialize MutationQueue before persistence is started."),dn.forUser(t,this.serializer,this.referenceDelegate)},t.prototype.getQueryCache=function(){return v(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},t.prototype.getRemoteDocumentCache=function(){return v(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,r){var n=this;return f(Sn,"Starting transaction:",t),this.simpleDb.runTransaction("readonly"===e?"readonly":"readwrite",pn,function(i){return"readwrite-primary"===e?n.verifyPrimaryLease(i).next(function(e){if(!e)throw g("Failed to obtain primary lease for action '"+t+"'."),n.isPrimary=!1,n.queue.enqueueAndForget(function(){return n.primaryStateListener(!1)}),new E(_.FAILED_PRECONDITION,An);return r(new Pn(i,n.listenSequence.next()))}).next(function(t){return n.acquireOrExtendPrimaryLease(i).next(function(){return t})}):n.verifyAllowTabSynchronization(i).next(function(){return r(new Pn(i,n.listenSequence.next()))})})},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return Rn(t).get(Yr.key).next(function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new E(_.FAILED_PRECONDITION,In)})},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new Yr(this.clientId,this.allowTabSynchronization,Date.now());return Rn(t).put(Yr.key,e)},t.isAvailable=function(){return Ar.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,r=Rn(t);return r.get(Yr.key).next(function(t){return e.isLocalClient(t)?(f(Sn,"Releasing primary lease."),r.delete(Yr.key)):Sr.resolve()})},t.prototype.isWithinAge=function(t,e){var r=Date.now();return!(t<r-e)&&(!(t>r)||(g("Detected an update time that is in the future: "+t+" > "+r),!1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(v(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(v("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return f(Sn,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return g(Sn,"Failed to get zombied client id.",t),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){g("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function On(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){if(!function(t){return t.code===_.FAILED_PRECONDITION&&t.message===An}(t))throw t;return f(Sn,"Unexpectedly lost primary lease"),[2]})})}function Rn(t){return t.store(Yr.store)}function jn(t){return t.store(hn.store)}var Bn=function(){function t(t,e){this.db=t,this.garbageCollector=new Tn(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getQueryCache().getQueryCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,function(t,r){return e(r)})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return Mn(t,e)},t.prototype.removeReference=function(t,e){return Mn(t,e)},t.prototype.removeTargets=function(t,e,r){return this.db.getQueryCache().removeTargets(t,e,r)},t.prototype.removeMutationReference=function(t,e){return Mn(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?Sr.resolve(!0):function(t,e){var r=!1;return wn(t).iterateSerial(function(n){return fn(t,n,e).next(function(t){return t&&(r=!0),Sr.resolve(!t)})}).next(function(){return r})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var r=this,n=0,i=0,o=[];return this.forEachOrphanedDocument(t,function(a,s){if(s<=e){var c=r.isPinned(t,a).next(function(e){if(!e)return n++,r.removeOrphanedDocument(t,a).next(function(t){i+=t})});o.push(c)}}).next(function(){return Sr.waitFor(o)}).next(function(){return r.db.getRemoteDocumentCache().updateSize(t,-i)}).next(function(){return n})},t.prototype.removeOrphanedDocument=function(t,e){var r,n=0,i=this.db.getRemoteDocumentCache();return Sr.waitFor([Mr(t).delete((r=e,[0,vr(r.path)])),i.removeEntry(t,e).next(function(t){n+=t})]).next(function(){return n})},t.prototype.removeTarget=function(t,e){var r=e.copy({sequenceNumber:t.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(t,r)},t.prototype.updateLimboDocument=function(t,e){return Mn(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var r,n=Mr(t),i=lr.INVALID;return n.iterate({index:sn.documentTargetsIndex},function(t,n){var o=t[0],a=(t[1],n.path),s=n.sequenceNumber;0===o?(i!==lr.INVALID&&e(new lt(_r(r)),i),i=s,r=a):i=lr.INVALID}).next(function(){i!==lr.INVALID&&e(new lt(_r(r)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Mn(t,e){return Mr(t).put(function(t,e){return new sn(0,vr(t.path),e)}(e,t.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fn=function(){function t(t,e){this.remoteDocumentCache=t,this.mutationQueue=e}return t.prototype.getDocument=function(t,e){var r=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(n){return r.getDocumentInternal(t,e,n)})},t.prototype.getDocumentInternal=function(t,e,r){return this.remoteDocumentCache.getEntry(t,e).next(function(t){for(var n=0,i=r;n<i.length;n++){t=i[n].applyToLocalView(e,t)}return t})},t.prototype.applyLocalMutationsToDocuments=function(t,e,r){var n=ke();return e.forEach(function(t,e){for(var i=0,o=r;i<o.length;i++){e=o[i].applyToLocalView(t,e)}n=n.insert(t,e)}),n},t.prototype.getDocuments=function(t,e){var r=this;return this.remoteDocumentCache.getEntries(t,e).next(function(e){return r.getLocalViewOfDocuments(t,e)})},t.prototype.getLocalViewOfDocuments=function(t,e){var r=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(n){var i=r.applyLocalMutationsToDocuments(t,e,n),o=Ce();return i.forEach(function(t,e){e||(e=new dt(t,Zt.forDeletedDoc())),o=o.insert(t,e)}),o})},t.prototype.getDocumentsMatchingQuery=function(t,e){return lt.isDocumentKey(e.path)?this.getDocumentsMatchingDocumentQuery(t,e.path):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new lt(e)).next(function(t){var e=Te();return t instanceof pt&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var r,n=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(i){return r=i,n.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(t){for(var n=0,i=t;n<i.length;n++)for(var o=i[n],a=0,s=o.mutations;a<s.length;a++){var c=s[a],u=c.key;if(e.path.isImmediateParentOf(u.path)){var l=r.get(u),h=c.applyToLocalView(l,l,o.localWriteTime);r=h instanceof pt?r.insert(u,h):r.remove(u)}}}).next(function(){return r.forEach(function(t,n){e.matches(n)||(r=r.remove(t))}),r})},t}(),Ln=function(){function t(){this.refsByKey=new re(qn.compareByKey),this.refsByTarget=new re(qn.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var r=new qn(t,e);this.refsByKey=this.refsByKey.add(r),this.refsByTarget=this.refsByTarget.add(r)},t.prototype.addReferences=function(t,e){var r=this;t.forEach(function(t){return r.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new qn(t,e))},t.prototype.removeReferences=function(t,e){var r=this;t.forEach(function(t){return r.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,r=lt.EMPTY,n=new qn(r,t),i=new qn(r,t+1),o=[];return this.refsByTarget.forEachInRange([n,i],function(t){e.removeRef(t),o.push(t.key)}),o},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=lt.EMPTY,r=new qn(e,t),n=new qn(e,t+1),i=Ne();return this.refsByTarget.forEachInRange([r,n],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new qn(t,0),r=this.refsByKey.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)},t}(),qn=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return lt.comparator(t.key,e.key)||G(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return G(t.targetOrBatchId,e.targetOrBatchId)||lt.comparator(t.key,e.key)},t}(),Vn=function(){function t(t,e){this.persistence=t,this.localViewReferences=new Ln,this.queryDataByTarget={},v(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new Fn(this.remoteDocuments,this.mutationQueue)}return t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change","readonly",function(r){var n;return e.mutationQueue.getAllMutationBatches(r).next(function(i){return n=i,e.mutationQueue=e.persistence.getMutationQueue(t),e.localDocuments=new Fn(e.remoteDocuments,e.mutationQueue),e.mutationQueue.getAllMutationBatches(r)}).next(function(t){for(var i=[],o=[],a=Ne(),s=0,c=n;s<c.length;s++){var u=c[s];i.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++){var p=h[l];a=a.add(p.key)}}for(var d=0,f=t;d<f.length;d++){u=f[d];o.push(u.batchId);for(var g=0,m=u.mutations;g<m.length;g++){p=m[g];a=a.add(p.key)}}return e.localDocuments.getDocuments(r,a).next(function(t){return{affectedDocuments:t,removedBatchIds:i,addedBatchIds:o}})})})},t.prototype.localWrite=function(t){var e=this;return this.persistence.runTransaction("Locally write mutations","readwrite",function(r){var n,i=rt.now();return e.mutationQueue.addMutationBatch(r,i,t).next(function(t){var i=(n=t).keys();return e.localDocuments.getDocuments(r,i)}).next(function(t){return{batchId:n.batchId,changes:t}})})},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(r){return e.mutationQueue.lookupMutationKeys(r,t).next(function(t){return t?e.localDocuments.getDocuments(r,t):Sr.resolve(null)})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var n=t.batch.keys(),i=e.remoteDocuments.newChangeBuffer();return e.mutationQueue.acknowledgeBatch(r,t.batch,t.streamToken).next(function(){return e.applyWriteToRemoteDocuments(r,t,i)}).next(function(){return i.apply(r)}).next(function(){return e.mutationQueue.performConsistencyCheck(r)}).next(function(){return e.localDocuments.getDocuments(r,n)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(r){var n;return e.mutationQueue.lookupMutationBatch(r,t).next(function(t){return v(null!==t,"Attempt to reject nonexistent batch!"),n=t.keys(),e.mutationQueue.removeMutationBatch(r,t)}).next(function(){return e.mutationQueue.performConsistencyCheck(r)}).next(function(){return e.localDocuments.getDocuments(r,n)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(r){return e.mutationQueue.setLastStreamToken(r,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)})},t.prototype.applyRemoteEvent=function(e){var r=this,n=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(i){var o=[],a=Ne();T(e.targetChanges,function(n,s){var c=r.queryDataByTarget[n];if(c){s.addedDocuments.forEach(function(t){a=a.add(t)}),s.modifiedDocuments.forEach(function(t){a=a.add(t)}),o.push(r.queryCache.removeMatchingKeys(i,s.removedDocuments,n).next(function(){return r.queryCache.addMatchingKeys(i,s.addedDocuments,n)}));var u=s.resumeToken;if(u.length>0){var l=c;c=c.copy({resumeToken:u,snapshotVersion:e.snapshotVersion}),r.queryDataByTarget[n]=c,t.shouldPersistQueryData(l,c,s)&&o.push(r.queryCache.updateQueryData(i,c))}}});var s=Ce(),c=Ne();e.documentUpdates.forEach(function(t,e){c=c.add(t)}),o.push(n.getEntries(i,c).next(function(t){e.documentUpdates.forEach(function(c,u){var l=t.get(c);null==l||u.version.isEqual(Zt.MIN)||a.has(u.key)&&!l.hasPendingWrites||u.version.compareTo(l.version)>=0?(n.addEntry(u),s=s.insert(c,u)):f("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version),e.resolvedLimboDocuments.has(c)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,c))})}));var u=e.snapshotVersion;if(!u.isEqual(Zt.MIN)){var l=r.queryCache.getLastRemoteSnapshotVersion(i).next(function(t){return v(u.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+u+" < "+t),r.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,u)});o.push(l)}return Sr.waitFor(o).next(function(){return n.apply(i)}).next(function(){return r.localDocuments.getLocalViewOfDocuments(i,s)})})},t.shouldPersistQueryData=function(t,e,r){return 0!==e.resumeToken.length&&(0===t.resumeToken.length||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size>0))},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(r){return Sr.forEach(t,function(t){return e.localViewReferences.addReferences(t.addedKeys,t.targetId),e.localViewReferences.removeReferences(t.removedKeys,t.targetId),Sr.forEach(t.removedKeys,function(t){return e.persistence.referenceDelegate.removeReference(r,t)})})})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(r){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",function(r){return e.localDocuments.getDocument(r,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query","readwrite",function(r){var n;return e.queryCache.getQueryData(r,t).next(function(i){return i?(n=i,Sr.resolve()):e.queryCache.allocateTargetId(r).next(function(i){return n=new ee(t,i,Vt.Listen,r.currentSequenceNumber),e.queryCache.addQueryData(r,n)})}).next(function(){return v(!e.queryDataByTarget[n.targetId],"Tried to allocate an already allocated query: "+t),e.queryDataByTarget[n.targetId]=n,n})})},t.prototype.releaseQuery=function(t,e){var r=this,n=e?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",n,function(n){return r.queryCache.getQueryData(n,t).next(function(i){v(null!=i,"Tried to release nonexistent query: "+t);var o=i.targetId,a=r.queryDataByTarget[o],s=r.localViewReferences.removeReferencesForId(o);return delete r.queryDataByTarget[o],e?Sr.resolve():Sr.forEach(s,function(t){return r.persistence.referenceDelegate.removeReference(n,t)}).next(function(){return r.persistence.referenceDelegate.removeTarget(n,a)})})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query","readonly",function(r){return e.localDocuments.getDocumentsMatchingQuery(r,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",function(r){return e.queryCache.getMatchingKeysForTargetId(r,t)})},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,r){var n=this,i=e.batch,o=i.keys(),a=Sr.resolve();return o.forEach(function(n){a=a.next(function(){return r.getEntry(t,n)}).next(function(t){var o=t,a=e.docVersions.get(n);v(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=i.applyToRemoteDocument(n,o,e))?r.addEntry(o):v(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))})}),a.next(function(){return n.mutationQueue.removeMutationBatch(t,i)})},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,e.queryDataByTarget)})},t.prototype.getQueryForTarget=function(t){var e=this;return this.queryDataByTarget[t]?Promise.resolve(this.queryDataByTarget[t].query):this.persistence.runTransaction("Get query data","readonly",function(r){return e.queryCache.getQueryDataForTarget(r,t).next(function(t){return t?t.query:null})})},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",function(e){return t.remoteDocuments.getNewDocumentChanges(e)})},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),Un=function(){function t(t){this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=b(),this.batchesByDocumentKey=new re(qn.compareByKey)}return t.prototype.checkEmpty=function(t){return Sr.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,r){var n=e.batchId,i=this.indexOfExistingBatchId(n,"acknowledged");v(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return v(n===o.batchId,"Queue ordering failure: expected batch "+n+", got batch "+o.batchId),this.lastStreamToken=r,Sr.resolve()},t.prototype.getLastStreamToken=function(t){return Sr.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,Sr.resolve()},t.prototype.addMutationBatch=function(t,e,r){v(0!==r.length,"Mutation batches should not be empty");var n=this.nextBatchId;(this.nextBatchId++,this.mutationQueue.length>0)&&v(this.mutationQueue[this.mutationQueue.length-1].batchId<n,"Mutation batchIDs must be monotonically increasing order");var i=new Cr(n,e,r);this.mutationQueue.push(i);for(var o=0,a=r;o<a.length;o++){var s=a[o];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new qn(s.key,n))}return Sr.resolve(i)},t.prototype.lookupMutationBatch=function(t,e){return Sr.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var r=this.findMutationBatch(e);return v(null!=r,"Failed to find local mutation batch."),Sr.resolve(r.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var r=e+1,n=this.indexOfBatchId(r),i=n<0?0:n;return Sr.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)},t.prototype.getAllMutationBatches=function(t){return Sr.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var r=this,n=new qn(e,0),i=new qn(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([n,i],function(t){v(e.isEqual(t.key),"Should only iterate over a single key's batches");var n=r.findMutationBatch(t.targetOrBatchId);v(null!==n,"Batches in the index must exist in the main table"),o.push(n)}),Sr.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var r=this,n=new re(G);return e.forEach(function(t){var e=new qn(t,0),i=new qn(t,Number.POSITIVE_INFINITY);r.batchesByDocumentKey.forEachInRange([e,i],function(e){v(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),n=n.add(e.targetOrBatchId)})}),Sr.resolve(this.findMutationBatches(n))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var r=e.path,n=r.length+1,i=r;lt.isDocumentKey(i)||(i=i.child(""));var o=new qn(new lt(i),0),a=new re(G);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!r.isPrefixOf(e)&&(e.length===n&&(a=a.add(t.targetOrBatchId)),!0)},o),Sr.resolve(this.findMutationBatches(a))},t.prototype.findMutationBatches=function(t){var e=this,r=[];return t.forEach(function(t){var n=e.findMutationBatch(t);null!==n&&r.push(n)}),r},t.prototype.removeMutationBatch=function(t,e){var r=this;v(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var n=this.batchesByDocumentKey;return Sr.forEach(e.mutations,function(i){var o=new qn(i.key,e.batchId);return n=n.delete(o),r.referenceDelegate.removeMutationReference(t,i.key)}).next(function(){r.batchesByDocumentKey=n})},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var r=new qn(e,0),n=this.batchesByDocumentKey.firstAfterOrEqual(r);return Sr.resolve(e.isEqual(n&&n.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&v(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Sr.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var r=this.indexOfBatchId(t);return v(r>=0&&r<this.mutationQueue.length,"Batches must exist to be "+e),r},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var r=this.mutationQueue[e];return v(r.batchId===t,"If found batch must match"),r},t}(),Wn=function(){function t(t){this.persistence=t,this.queries=new Fr(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=Zt.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Ln,this.targetCount=0,this.targetIdGenerator=Tr.forQueryCache()}return t.prototype.getTargetCount=function(t){return Sr.resolve(this.targetCount)},t.prototype.forEachTarget=function(t,e){return this.queries.forEach(function(t,r){return e(r)}),Sr.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Sr.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Sr.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,Sr.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),Sr.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addQueryData=function(t,e){return v(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,Sr.resolve()},t.prototype.updateQueryData=function(t,e){return v(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),Sr.resolve()},t.prototype.removeQueryData=function(t,e){return v(this.targetCount>0,"Removing a target from an empty cache"),v(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,Sr.resolve()},t.prototype.removeTargets=function(t,e,r){var n=this,i=0,o=[];return this.queries.forEach(function(a,s){s.sequenceNumber<=e&&!r[s.targetId]&&(n.queries.delete(a),o.push(n.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),Sr.waitFor(o).next(function(){return i})},t.prototype.getQueryCount=function(t){return Sr.resolve(this.targetCount)},t.prototype.getQueryData=function(t,e){var r=this.queries.get(e)||null;return Sr.resolve(r)},t.prototype.getQueryDataForTarget=function(t,e){return y("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,r){this.references.addReferences(e,r);var n=this.persistence.referenceDelegate,i=[];return n&&e.forEach(function(e){i.push(n.addReference(t,e))}),Sr.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,r){this.references.removeReferences(e,r);var n=this.persistence.referenceDelegate,i=[];return n&&e.forEach(function(e){i.push(n.removeReference(t,e))}),Sr.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),Sr.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var r=this.references.referencesForId(e);return Sr.resolve(r)},t.prototype.containsKey=function(t,e){return Sr.resolve(this.references.containsKey(e))},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn,Hn=function(){function t(t){this.sizer=t,this.docs=new gt(lt.comparator),this.newDocumentChanges=Ne(),this.size=0}return t.prototype.addEntries=function(t,e,r){for(var n=0,i=e;n<i.length;n++){var o=i[n],a=o.maybeDocument.key;this.docs=this.docs.insert(a,o),this.newDocumentChanges=this.newDocumentChanges.add(a)}return this.size+=r,Sr.resolve()},t.prototype.removeEntry=function(t,e){var r=this.docs.get(e);return r?(this.docs=this.docs.remove(e),this.size-=r.size,Sr.resolve(r.size)):Sr.resolve(0)},t.prototype.getEntry=function(t,e){var r=this.docs.get(e);return Sr.resolve(r?r.maybeDocument:null)},t.prototype.getSizedEntry=function(t,e){return Sr.resolve(this.docs.get(e))},t.prototype.getEntries=function(t,e){var r=this,n=ke();return e.forEach(function(t){var e=r.docs.get(t);n=n.insert(t,e?e.maybeDocument:null)}),Sr.resolve(n)},t.prototype.getSizedEntries=function(t,e){var r=this,n=ke(),i=new gt(lt.comparator);return e.forEach(function(t){var e=r.docs.get(t);n=n.insert(t,e?e.maybeDocument:null),i=i.insert(t,e?e.size:0)}),Sr.resolve({maybeDocuments:n,sizeMap:i})},t.prototype.getDocumentsMatchingQuery=function(t,e){for(var r=Te(),n=new lt(e.path.child("")),i=this.docs.getIteratorFrom(n);i.hasNext();){var o=i.getNext(),a=o.key,s=o.value.maybeDocument;if(!e.path.isPrefixOf(a.path))break;s instanceof pt&&e.matches(s)&&(r=r.insert(s.key,s))}return Sr.resolve(r)},t.prototype.forEachDocumentKey=function(t,e){return Sr.forEach(this.docs,function(t){return e(t)})},t.prototype.getNewDocumentChanges=function(t){var e=this,r=Ce();return this.newDocumentChanges.forEach(function(t){var n=e.docs.get(t),i=n?n.maybeDocument:new dt(t,Zt.forDeletedDoc());r=r.insert(t,i)}),this.newDocumentChanges=Ne(),Sr.resolve(r)},t.prototype.newChangeBuffer=function(){return new Jn(this.sizer,this)},t.prototype.getSize=function(t){return Sr.resolve(this.size)},t}(),Jn=function(t){function e(e,r){var n=t.call(this)||this;return n.sizer=e,n.documentCache=r,n}return s.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,r=this.assertChanges(),n=0,i=[];return r.forEach(function(t,r){var o=e.documentSizes.get(t);v(void 0!==o,"Attempting to change document "+t.toString()+" without having read it first");var a=e.sizer(r);n+=a-o,i.push({maybeDocument:r,size:a})}),this.documentCache.addEntries(t,i,n)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(Lr),Gn=function(){function t(t,e){var r=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new lr(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.queryCache=new Wn(this);this.remoteDocumentCache=new Hn(function(t){return r.referenceDelegate.documentSize(t)})}return t.createLruPersistence=function(e,r,n){return new t(e,function(t){return new Qn(t,new bn(r),n)})},t.createEagerPersistence=function(e){return new t(e,function(t){return new $n(t)})},t.prototype.shutdown=function(t){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return[2,[this.clientId]]})})},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setNetworkEnabled=function(t){},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Un(this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,r){var n=this;f("MemoryPersistence","Starting transaction:",t);var i=new Kn(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),r(i).next(function(t){return n.referenceDelegate.onTransactionCommitted(i).next(function(){return t})}).toPromise()},t.prototype.mutationQueuesContainKey=function(t,e){return Sr.or((r=this.mutationQueues,n=[],S(r,function(t,e){return n.push(e)}),n).map(function(r){return function(){return r.containsKey(t,e)}}));var r,n},t}(),Kn=function(t){this.currentSequenceNumber=t},$n=function(){function t(t){this.persistence=t}return t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),Sr.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),Sr.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),Sr.resolve()},t.prototype.removeTarget=function(t,e){var r=this,n=this.persistence.getQueryCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return r.orphanedDocuments.add(t)})}).next(function(){return n.removeQueryData(t,e)})},t.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,r=this.persistence.getRemoteDocumentCache();return Sr.forEach(this.orphanedDocuments,function(n){return e.isReferenced(t,n).next(function(e){return e?Sr.resolve():r.removeEntry(t,n).next(function(){})})})},t.prototype.updateLimboDocument=function(t,e){var r=this;return this.isReferenced(t,e).next(function(t){t?r.orphanedDocuments.delete(e):r.orphanedDocuments.add(e)})},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var r=this;return Sr.or([function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return Sr.resolve(r.inMemoryPins.containsKey(e))}])},t}(),Qn=function(){function t(t,e,r){this.persistence=t,this.serializer=e,this.orphanedSequenceNumbers=new Fr(function(t){return vr(t.path)}),this.garbageCollector=new Tn(this,r)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return Sr.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getQueryCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var r=this;return Sr.forEach(this.orphanedSequenceNumbers,function(n,i){return r.isPinned(t,n,i).next(function(t){return t?Sr.resolve():e(i)})})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,r){return this.persistence.getQueryCache().removeTargets(t,e,r)},t.prototype.removeOrphanedDocuments=function(t,e){var r=this,n=0,i=this.persistence.getRemoteDocumentCache();return i.forEachDocumentKey(t,function(o){return r.isPinned(t,o,e).next(function(e){return e?Sr.resolve():(n++,i.removeEntry(t,o).next())})}).next(function(){return n})},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Sr.resolve()},t.prototype.removeTarget=function(t,e){var r=e.copy({sequenceNumber:t.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(t,r)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Sr.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Sr.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Sr.resolve()},t.prototype.documentSize=function(t){var e,r=this.serializer.toDbRemoteDocument(t);if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw y("Unknown remote document type");e=r.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,r){var n=this;return Sr.or([function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return Sr.resolve(n.inMemoryPins.containsKey(e))},function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){var t=n.orphanedSequenceNumbers.get(e);return Sr.resolve(void 0!==t&&t>r)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),Yn=function(){function t(t,e,r,n,i){this.queue=t,this.timerId=e,this.initialDelayMs=r,this.backoffFactor=n,this.maxDelayMs=i,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var r=Math.floor(this.currentBaseMs+this.jitterDelayMs()),n=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,r-n);this.currentBaseMs>0&&f("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+r+" ms, last attempt: "+n+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return e.lastAttemptTime=Date.now(),t()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}();!function(t){t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff"}(zn||(zn={}));var Xn,Zn,ti=1e3,ei=6e4,ri=1.5,ni=function(){function t(t,e,r,n,i,o){this.queue=t,this.idleTimerId=r,this.connection=n,this.credentialsProvider=i,this.listener=o,this.state=zn.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new Yn(t,e,ti,ri,ei)}return t.prototype.isStarted=function(){return this.state===zn.Starting||this.state===zn.Open||this.state===zn.Backoff},t.prototype.isOpen=function(){return this.state===zn.Open},t.prototype.start=function(){this.state!==zn.Error?(v(this.state===zn.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(zn.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.inhibitBackoff=function(){v(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=zn.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return this.isOpen()?[2,this.close(zn.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(r){switch(r.label){case 0:return v(this.isStarted(),"Only started streams should be closed."),v(t===zn.Error||Lt(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==zn.Error?this.backoff.reset():e&&e.code===_.RESOURCE_EXHAUSTED?(g(e.toString()),g("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===_.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return r.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;v(this.state===zn.Initial,"Must be in initial state to auth"),this.state=zn.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),r=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===r&&t.startStream(e)},function(r){e(function(){var e=new E(_.UNKNOWN,"Fetching auth token failed: "+r.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;v(this.state===zn.Starting,"Trying to start stream in a non-starting state");var r=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){r(function(){return v(e.state===zn.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=zn.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){r(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){r(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;v(this.state===zn.Error,"Should only perform backoff when in Error state"),this.state=zn.Backoff,this.backoff.backoffAndRun(function(){return s.__awaiter(t,void 0,void 0,function(){return s.__generator(this,function(t){return v(this.state===zn.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=zn.Initial,this.start(),v(this.isStarted(),"PersistentStream should have started"),[2]})})})},t.prototype.handleStreamClose=function(t){return v(this.isStarted(),"Can't handle server close on non-started stream"),f("PersistentStream","close with error: "+t),this.stream=null,this.close(zn.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(r){e.queue.enqueueAndForget(function(){return e.closeCount===t?r():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),ii=function(t){function e(e,r,n,i,o){var a=t.call(this,e,ur.ListenStreamConnectionBackoff,ur.ListenStreamIdle,r,n,o)||this;return a.serializer=i,a}return s.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),r=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,r)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var r=this.serializer.toListenRequestLabels(t);r&&(e.labels=r),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(ni),oi=function(t){function e(e,r,n,i,o){var a=t.call(this,e,ur.WriteStreamConnectionBackoff,ur.WriteStreamIdle,r,n,o)||this;return a.serializer=i,a.handshakeComplete_=!1,a}return s.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(v(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),r=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(r,e)}return v(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){v(this.isOpen(),"Writing handshake requires an opened stream"),v(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;v(this.isOpen(),"Writing mutations requires an opened stream"),v(this.handshakeComplete_,"Handshake must be complete before writing mutations"),v(this.lastStreamToken.length>0,"Trying to write mutation without a token");var r={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(r)},e}(ni),ai=function(){function t(t,e,r,n){this.queue=t,this.connection=e,this.credentials=r,this.serializer=n}return t.prototype.newPersistentWriteStream=function(t){return new oi(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new ii(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,r={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",r).then(function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)})},t.prototype.lookup=function(t){var e=this,r={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",r).then(function(r){var n=Ce();r.forEach(function(t){var r=e.serializer.fromMaybeDocument(t);n=n.insert(r.key,r)});var i=[];return t.forEach(function(t){var e=n.get(t);v(!!e,"Missing entity in write response for "+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var r=this;return this.credentials.getToken().then(function(n){return r.connection.invokeRPC(t,e,n)}).catch(function(t){throw t.code===_.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var r=this;return this.credentials.getToken().then(function(n){return r.connection.invokeStreamingRPC(t,e,n)}).catch(function(t){throw t.code===_.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},t}(),si=function(){function t(t){this.datastore=t,this.readVersions=Ae(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e;if(t instanceof pt)e=t.version;else{if(!(t instanceof dt))throw y("Document in a transaction was a "+t.constructor.name);e=Zt.forDeletedDoc()}var r=this.readVersions.get(t.key);if(null!==r){if(!e.isEqual(r))throw new E(_.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){t instanceof dt||t instanceof pt?e.recordVersion(t):y("Document in a transaction was a "+t.constructor.name)}),t})},t.prototype.write=function(t){if(this.committed)throw new E(_.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?se.updateTime(e):se.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual(Zt.forDeletedDoc()))throw new E(_.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?se.updateTime(e):se.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new pe(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,Zt.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}();!function(t){t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline"}(Xn||(Xn={})),function(t){t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState"}(Zn||(Zn={}));
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ci=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=Xn.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(Xn.Unknown),v(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(ur.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,v(t.state===Xn.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(Xn.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===Xn.Online?(this.setAndBroadcast(Xn.Unknown),v(0===this.watchStreamFailures,"watchStreamFailures must be 0"),v(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(Xn.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===Xn.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(g(e),this.shouldWarnClientIsOffline=!1):f("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),ui=function(){function t(t,e,r,n){this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.onlineStateTracker=new ci(r,n),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return s.__awaiter(this,void 0,void 0,function(){var t;return s.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(Xn.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(Xn.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(f("RemoteStore","Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},t.prototype.shutdown=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return f("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(Xn.Unknown),[2]}})})},t.prototype.listen=function(t){v(!k(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){v(k(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),A(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(Xn.Unknown))},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){v(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new He(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!A(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return s.__awaiter(this,void 0,void 0,function(){var t=this;return s.__generator(this,function(e){return T(this.listenTargets,function(e,r){t.sendWatchRequest(r)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){return void 0===t&&v(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(Xn.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var r;return s.__generator(this,function(n){switch(n.label){case 0:return this.onlineStateTracker.set(Xn.Online),t instanceof We&&t.state===Be.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof Ve?this.watchChangeAggregator.handleDocumentChange(t):t instanceof Ue?this.watchChangeAggregator.handleExistenceFilter(t):(v(t instanceof We,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(Zt.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return r=n.sent(),e.compareTo(r)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;v(!t.isEqual(Zt.MIN),"Can't raise event for unknown SnapshotVersion");var r=this.watchChangeAggregator.createRemoteEvent(t);return T(r.targetChanges,function(r,n){if(n.resumeToken.length>0){var i=e.listenTargets[r];i&&(e.listenTargets[r]=i.copy({resumeToken:n.resumeToken,snapshotVersion:t}))}}),r.targetMismatches.forEach(function(t){var r=e.listenTargets[t];if(r){e.listenTargets[t]=r.copy({resumeToken:b()}),e.sendUnwatchRequest(t);var n=new ee(r.query,t,Vt.ExistenceFilterMismatch,r.sequenceNumber);e.sendWatchRequest(n)}}),this.syncEngine.applyRemoteEvent(r)},t.prototype.handleTargetError=function(t){var e=this;v(!!t.cause,"Handling target error without a cause");var r=t.cause,n=Promise.resolve();return t.targetIds.forEach(function(t){n=n.then(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(e){return k(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,r)]):[2]})})})}),n},t.prototype.fillWritePipeline=function(){return s.__awaiter(this,void 0,void 0,function(){var t,e;return s.__generator(this,function(r){switch(r.label){case 0:return this.canAddToWritePipeline()?(t=this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(t)]):[3,4];case 1:return null!==(e=r.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(e),[4,this.fillWritePipeline()];case 3:r.sent(),r.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){v(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){v(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,r=t.writePipeline;e<r.length;e++){var n=r[e];t.writeStream.writeMutations(n.mutations)}}).catch(On)},t.prototype.onMutationResult=function(t,e){var r=this;v(this.writePipeline.length>0,"Got result for empty write pipeline");var n=this.writePipeline.shift(),i=kr.from(n,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return r.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return s.__awaiter(this,void 0,void 0,function(){var e=this;return s.__generator(this,function(r){return void 0===t&&v(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?(void 0,[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]):[2]})})},t.prototype.handleHandshakeError=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){return we(t.code)?(f("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=b(),[2,this.localStore.setLastStreamToken(b()).catch(On)]):[2]})})},t.prototype.handleWriteError=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,r=this;return s.__generator(this,function(n){return we(i=t.code)&&i!==_.ABORTED?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return r.fillWritePipeline()})]):[2];var i})})},t.prototype.createTransaction=function(){return new si(this.datastore)},t.prototype.handleCredentialChange=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(f("RemoteStore","RemoteStore restarting streams for new credential"),this.networkEnabled=!1,[4,this.disableNetworkInternal()]):[3,3];case 1:return t.sent(),this.onlineStateTracker.set(Xn.Unknown),[4,this.enableNetwork()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype.applyPrimaryState=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(Xn.Unknown),e.label=4;case 4:return[2]}})})},t}(),li=function(){this.listeners=[]},hi=function(){function t(t){this.syncEngine=t,this.queries=new Fr(function(t){return t.canonicalId()}),this.onlineState=Xn.Unknown,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,r=!1,n=this.queries.get(e);return n||(r=!0,n=new li,this.queries.set(e,n)),n.listeners.push(t),t.applyOnlineStateChange(this.onlineState),n.viewSnap&&t.onViewSnapshot(n.viewSnap),r?this.syncEngine.listen(e).then(function(t){return n.targetId=t,t}):Promise.resolve(n.targetId)},t.prototype.unlisten=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,r,n,i;return s.__generator(this,function(o){return e=t.query,r=!1,(n=this.queries.get(e))&&(i=n.listeners.indexOf(t))>=0&&(n.listeners.splice(i,1),r=0===n.listeners.length),r?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onWatchChange=function(t){for(var e=0,r=t;e<r.length;e++){var n=r[e],i=n.query,o=this.queries.get(i);if(o){for(var a=0,s=o.listeners;a<s.length;a++){s[a].onViewSnapshot(n)}o.viewSnap=n}}},t.prototype.onWatchError=function(t,e){var r=this.queries.get(t);if(r)for(var n=0,i=r.listeners;n<i.length;n++){i[n].onError(e)}this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,r){for(var n=0,i=r.listeners;n<i.length;n++){i[n].applyOnlineStateChange(t)}})},t}(),pi=function(){function t(t,e,r){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=Xn.Unknown,this.options=r||{}}return t.prototype.onViewSnapshot=function(t){if(v(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],r=0,n=t.docChanges;r<n.length;r++){var i=n[r];i.type!==Oe.Metadata&&e.push(i)}t=new Fe(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){if(v(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache)return!0;var r=e!==Xn.Offline;return this.options.waitForSyncWhenOnline&&r?(v(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===Xn.Offline},t.prototype.shouldRaiseEvent=function(t){if(t.docChanges.length>0)return!0;var e=this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){v(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=Fe.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),di=function(){function t(t,e,r){this.targetId=t,this.addedKeys=e,this.removedKeys=r}return t.fromSnapshot=function(e,r){for(var n=Ne(),i=Ne(),o=0,a=r.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case Oe.Added:n=n.add(s.doc.key);break;case Oe.Removed:i=i.add(s.doc.key)}}return new t(e,n,i)},t}(),fi=function(t){this.key=t},gi=function(t){this.key=t},mi=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Ne(),this.mutatedKeys=Ne(),this.documentSet=new je(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var r=this,n=e?e.changeSet:new Me,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,c=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var u=i.get(t),l=e instanceof pt?e:null;l&&(v(t.isEqual(l.key),"Mismatching keys found in document changes: "+t+" != "+l.key),l=r.query.matches(l)?l:null);var h=!!u&&r.mutatedKeys.has(u.key),p=!!l&&(l.hasLocalMutations||r.mutatedKeys.has(l.key)&&l.hasCommittedMutations),d=!1;u&&l?u.data.isEqual(l.data)?h!==p&&(n.track({type:Oe.Metadata,doc:l}),d=!0):r.shouldWaitForSyncedDocument(u,l)||(n.track({type:Oe.Modified,doc:l}),d=!0,c&&r.query.docComparator(l,c)>0&&(s=!0)):!u&&l?(n.track({type:Oe.Added,doc:l}),d=!0):u&&!l&&(n.track({type:Oe.Removed,doc:u}),d=!0,c&&(s=!0));d&&(l?(a=a.add(l),o=p?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),this.query.hasLimit())for(;a.size>this.query.limit;){var u=a.last();a=a.delete(u.key),o=o.delete(u.key),n.track({type:Oe.Removed,doc:u})}return v(!s||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:n,needsRefill:s,mutatedKeys:o}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,r){var n=this;v(!t.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort(function(t,e){return function(t,e){var r=function(t){switch(t){case Oe.Added:return 1;case Oe.Modified:case Oe.Metadata:return 2;case Oe.Removed:return 0;default:return y("Unknown ChangeType: "+t)}};return r(t)-r(e)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t.type,e.type)||n.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(r);var a=e?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?Re.Synced:Re.Local,c=s!==this.syncState;return this.syncState=s,0!==o.length||c?{snapshot:new Fe(this.query,t.documentSet,i,o,t.mutatedKeys,s===Re.Local,c,!1),limboChanges:a}:{limboChanges:a}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===Xn.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Me,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&(!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations)},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return v(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Ne(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var r=[];return e.forEach(function(e){t.limboDocuments.has(e)||r.push(new gi(e))}),this.limboDocuments.forEach(function(t){e.has(t)||r.push(new fi(t))}),r},t.prototype.synchronizeWithPersistedState=function(t,e){this._syncedDocuments=e,this.limboDocuments=Ne();var r=this.computeDocChanges(t);return this.applyChanges(r,!0)},t.prototype.computeInitialSnapshot=function(){return Fe.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Re.Local)},t}();var yi=function(t,e,r){this.query=t,this.targetId=e,this.view=r},vi=function(t){this.key=t},wi=function(){function t(t,e,r,n){this.localStore=t,this.remoteStore=e,this.sharedClientState=r,this.currentUser=n,this.syncEngineListener=null,this.queryViewsByQuery=new Fr(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new gt(lt.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Ln,this.mutationUserCallbacks={},this.limboTargetIdGenerator=Tr.forSyncEngine(),this.isPrimary=void 0,this.onlineState=Xn.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){v(null!==t,"SyncEngine listener cannot be null"),v(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,r,n,i,o;return s.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(n=this.queryViewsByQuery.get(t))?(e=n.targetId,this.sharedClientState.addLocalQueryTarget(e),r=n.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return i=a.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),e=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:r=a.sent(),this.isPrimary&&this.remoteStore.listen(i),a.label=4;case 4:return this.syncEngineListener.onWatchChange([r]),[2,e]}})})},t.prototype.initializeViewAndComputeSnapshot=function(t,e){var r=this,n=t.query;return this.localStore.executeQuery(n).then(function(i){return r.localStore.remoteDocumentKeys(t.targetId).then(function(o){var a=new mi(n,o),s=a.computeDocChanges(i),c=qe.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&r.onlineState!==Xn.Offline),u=a.applyChanges(s,!0===r.isPrimary,c);v(0===u.limboChanges.length,"View returned limbo docs before target ack from the server."),v(!!u.snapshot,"applyChanges for new view should always return a snapshot");var l=new yi(n,t.targetId,a);return r.queryViewsByQuery.set(n,l),r.queryViewsByTarget[t.targetId]=l,u.snapshot})})},t.prototype.synchronizeViewAndComputeSnapshot=function(t){var e=this;return this.localStore.executeQuery(t.query).then(function(r){return e.localStore.remoteDocumentKeys(t.targetId).then(function(n){return s.__awaiter(e,void 0,void 0,function(){var e;return s.__generator(this,function(i){return e=t.view.synchronizeWithPersistedState(r,n),this.isPrimary&&this.updateTrackedLimbos(t.targetId,e.limboChanges),[2,e]})})})})},t.prototype.unlisten=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,r=this;return s.__generator(this,function(n){switch(n.label){case 0:return this.assertSubscribed("unlisten()"),v(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(t,!1).then(function(){r.sharedClientState.clearQueryState(e.targetId),r.remoteStore.unlisten(e.targetId),r.removeAndCleanupQuery(e)}).catch(On)]):[3,3];case 1:n.sent(),n.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:n.sent(),n.label=5;case 5:return[2]}})})},t.prototype.write=function(t,e){var r=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return r.sharedClientState.addPendingMutation(t.batchId),r.addMutationCallback(t.batchId,e),r.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return r.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var r=this;void 0===e&&(e=5),v(e>=0,"Got negative number of retries for transaction.");var n=this.remoteStore.createTransaction();return function(){try{var e=t(n);return!Lt(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(r.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(t){return Promise.reject(r.wrapUpdateFunctionError(t))}}().then(function(i){return n.commit().then(function(){return i}).catch(function(n){return 0===e?Promise.reject(n):r.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),this.localStore.applyRemoteEvent(t).then(function(r){return S(t.targetChanges,function(t,r){var n=e.limboResolutionsByTarget[t];n&&(v(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),r.addedDocuments.size>0?n.receivedDocument=!0:r.modifiedDocuments.size>0?v(n.receivedDocument,"Received change for limbo target document without add."):r.removedDocuments.size>0&&(v(n.receivedDocument,"Received remove for limbo target document without add."),n.receivedDocument=!1))}),e.emitNewSnapsAndNotifyLocalStore(r,t)}).catch(On)},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===Zn.RemoteStore||!this.isPrimary&&e===Zn.SharedClientState){var r=[];this.queryViewsByQuery.forEach(function(e,n){var i=n.view.applyOnlineStateChange(t);v(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&r.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(r),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var r,n,i,o,a,c,u=this;return s.__generator(this,function(s){switch(s.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),r=this.limboResolutionsByTarget[t],(n=r&&r.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(n),delete this.limboResolutionsByTarget[t],i=(i=new gt(lt.comparator)).insert(n,new dt(n,Zt.forDeletedDoc())),o=Ne().add(n),a=new Le(Zt.MIN,{},new re(G),i,o),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return v(!!(c=this.queryViewsByTarget[t]),"Unknown targetId: "+t),[4,this.localStore.releaseQuery(c.query,!1).then(function(){return u.removeAndCleanupQuery(c)}).catch(On)];case 2:s.sent(),this.syncEngineListener.onWatchError(c.query,e),s.label=3;case 3:return[2]}})})},t.prototype.applyBatchState=function(t,e,r){return s.__awaiter(this,void 0,void 0,function(){var n;return s.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(n=i.sent())?(f("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,r||null),this.localStore.removeCachedMutationBatchMetadata(t)):y("Unknown batchState: "+e),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 5:return i.sent(),[2]}})})},t.prototype.applySuccessfulWrite=function(t){var e=this;this.assertSubscribed("applySuccessfulWrite()");var r=t.batch.batchId;return this.processUserCallback(r,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.sharedClientState.updateMutationState(r,"acknowledged"),e.emitNewSnapsAndNotifyLocalStore(t)}).catch(On)},t.prototype.rejectFailedWrite=function(t,e){var r=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(n){return r.sharedClientState.updateMutationState(t,"rejected",e),r.emitNewSnapsAndNotifyLocalStore(n)}).catch(On)},t.prototype.addMutationCallback=function(t,e){var r=this.mutationUserCallbacks[this.currentUser.toKey()];r||(r=new gt(G)),r=r.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=r},t.prototype.processUserCallback=function(t,e){var r=this.mutationUserCallbacks[this.currentUser.toKey()];if(r){var n=r.get(t);n&&(v(t===r.minKey(),"Mutation callbacks processed out-of-order?"),e?n.reject(e):n.resolve(),r=r.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=r}},t.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var r=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),r.forEach(function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)})}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var r=0,n=e;r<n.length;r++){var i=n[r];if(i instanceof fi)this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i);else if(i instanceof gi){f("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)}else y("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){f("SyncEngine","New document in limbo: "+e);var r=this.limboTargetIdGenerator.next(),n=Ut.atPath(e.path);this.limboResolutionsByTarget[r]=new vi(e),this.remoteStore.listen(new ee(n,r,Vt.LimboResolution,lr.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,r)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var r,n,i,o=this;return s.__generator(this,function(a){switch(a.label){case 0:return r=[],n=[],i=[],this.queryViewsByQuery.forEach(function(a,s){i.push(Promise.resolve().then(function(){var e=s.view.computeDocChanges(t);return e.needsRefill?o.localStore.executeQuery(s.query).then(function(t){return s.view.computeDocChanges(t,e)}):e}).then(function(t){var i=e&&e.targetChanges[s.targetId],a=s.view.applyChanges(t,!0===o.isPrimary,i);if(o.updateTrackedLimbos(s.targetId,a.limboChanges),a.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(s.targetId,a.snapshot.fromCache?"not-current":"current"),r.push(a.snapshot);var c=di.fromSnapshot(s.targetId,a.snapshot);n.push(c)}}))}),[4,Promise.all(i)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(r),[4,this.localStore.notifyLocalViewChanges(n)];case 2:return a.sent(),[2]}})})},t.prototype.assertSubscribed=function(t){v(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,r;return s.__generator(this,function(n){switch(n.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?[4,this.localStore.handleUserChange(t)]:[3,3];case 1:return r=n.sent(),this.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(r.affectedDocuments)];case 2:n.sent(),n.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return n.sent(),[2]}})})},t.prototype.applyPrimaryState=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,r,n,i,o,a,c,u=this;return s.__generator(this,function(s){switch(s.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return s.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(r=s.sent(),n=0,i=r;n<i.length;n++)o=i[n],this.remoteStore.listen(o);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],c=Promise.resolve(),T(this.queryViewsByTarget,function(t,e){u.sharedClientState.isLocalQueryTarget(t)?a.push(t):c=c.then(function(){return u.unlisten(e.query)}),u.remoteStore.unlisten(e.targetId)}),[4,c]);case 4:return s.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return s.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:s.sent(),s.label=7;case 7:return[2]}})})},t.prototype.resetLimboDocuments=function(){var t=this;T(this.limboResolutionsByTarget,function(e){t.remoteStore.unlisten(e)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new gt(lt.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){for(var e=this,r=Promise.resolve(),n=[],i=[],o=function(t){r=r.then(function(){return s.__awaiter(e,void 0,void 0,function(){var e,r,o,a;return s.__generator(this,function(s){switch(s.label){case 0:return(r=this.queryViewsByTarget[t])?[4,this.localStore.releaseQuery(r.query,!0)]:[3,4];case 1:return s.sent(),[4,this.localStore.allocateQuery(r.query)];case 2:return e=s.sent(),[4,this.synchronizeViewAndComputeSnapshot(r)];case 3:return(o=s.sent()).snapshot&&i.push(o.snapshot),[3,8];case 4:return v(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(t)];case 5:return v(!!(a=s.sent()),"Query data for target "+t+" not found"),[4,this.localStore.allocateQuery(a)];case 6:return e=s.sent(),[4,this.initializeViewAndComputeSnapshot(e,!1)];case 7:s.sent(),s.label=8;case 8:return n.push(e),[2]}})})})},a=0,c=t;a<c.length;a++){o(c[a])}return r.then(function(){return e.syncEngineListener.onWatchChange(i),n})},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,r){return s.__awaiter(this,void 0,void 0,function(){var n,i=this;return s.__generator(this,function(o){switch(o.label){case 0:if(this.isPrimary)return f("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[t])return[3,5];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then(function(r){return s.__awaiter(i,void 0,void 0,function(){var n;return s.__generator(this,function(i){switch(i.label){case 0:return n=Le.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(r,n)];case 1:return i.sent(),[2]}})})},function(t){return s.__awaiter(i,void 0,void 0,function(){var e;return s.__generator(this,function(r){switch(r.label){case 0:return function(t){return t.code===_.DATA_LOSS&&t.message===qr}(t)?(e=[],T(this.queryViewsByTarget,function(t){return e.push(t)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e)]):[3,2];case 1:return r.sent(),[3,3];case 2:throw t;case 3:return[2]}})})})];case 2:return n=this.queryViewsByTarget[t],this.removeAndCleanupQuery(n),[4,this.localStore.releaseQuery(n.query,!0)];case 3:return o.sent(),this.syncEngineListener.onWatchError(n.query,r),[3,5];case 4:y("Unexpected target state: "+e),o.label=5;case 5:return[2]}})})},t.prototype.applyActiveTargetsChange=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var r,n,i,o,a,c,u,l,h,p=this;return s.__generator(this,function(d){switch(d.label){case 0:if(!this.isPrimary)return[2];r=0,n=t,d.label=1;case 1:return r<n.length?(h=n[r],v(!this.queryViewsByTarget[h],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(h)]):[3,6];case 2:return v(!!(i=d.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return o=d.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:d.sent(),this.remoteStore.listen(o),d.label=5;case 5:return r++,[3,1];case 6:a=function(t){var e;return s.__generator(this,function(r){switch(r.label){case 0:return(e=c.queryViewsByTarget[t])?[4,c.localStore.releaseQuery(e.query,!1).then(function(){p.remoteStore.unlisten(t),p.removeAndCleanupQuery(e)}).catch(On)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})},c=this,u=0,l=e,d.label=7;case 7:return u<l.length?(h=l[u],[5,a(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return u++,[3,7];case 10:return[2]}})})},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?Ne().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:Ne()},t}(),bi=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),_i="SharedClientState",Ei="firestore_clients",Ci="firestore_mutations",ki="firestore_targets",xi="firestore_online_state",Ti="firestore_sequence_number",Si=function(){function t(t,e,r,n){this.user=t,this.batchId=e,this.state=r,this.error=n,v(void 0!==n==("rejected"===r),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,r,n){var i=JSON.parse(n),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new E(i.error.code,i.error.message)),o?new t(e,r,i.state,a):(g(_i,"Failed to parse mutation state for ID '"+r+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ai=function(){function t(t,e,r){this.targetId=t,this.state=e,this.error=r,v(void 0!==r==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,r){var n=JSON.parse(r),i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),o=void 0;return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(o=new E(n.error.code,n.error.message)),i?new t(e,n.state,o):(g(_i,"Failed to parse target state for ID '"+e+"': "+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ii=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,r){for(var n=JSON.parse(r),i="object"==typeof n&&n.activeTargetIds instanceof Array,o=De(),a=0;i&&a<n.activeTargetIds.length;++a)i=qt(n.activeTargetIds[a]),o=o.add(n.activeTargetIds[a]);return i?new t(e,o):(g(_i,"Failed to parse client data for instance '"+e+"': "+r),null)},t}(),Ni=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var r=JSON.parse(e);return"object"==typeof r&&void 0!==Xn[r.onlineState]&&"string"==typeof r.clientId?new t(r.clientId,Xn[r.onlineState]):(g(_i,"Failed to parse online state: "+e),null)},t}(),Pi=function(){function t(){this.activeTargetIds=De()}return t.prototype.addQueryTarget=function(t){v(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Di=function(){function t(e,r,n,i,o){if(this.queue=e,this.platform=r,this.persistenceKey=n,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new E(_.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Ti+"_"+n,this.activeClients[this.localClientId]=new Pi,this.clientStateKeyRe=new RegExp("^"+Ei+"_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Ci+"_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+ki+"_"+a+"_(\\d+)$"),this.onlineStateKey=xi+"_"+n,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return s.__awaiter(this,void 0,void 0,function(){var t,e,r,n,i,o,a,c,u,l,h,p=this;return s.__generator(this,function(s){switch(s.label){case 0:return v(!this.started,"WebStorageSharedClientState already started"),v(null!==this.syncEngine,"syncEngine property must be set before calling start()"),v(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=s.sent(),e=0,r=t;e<r.length;e++)(n=r[e])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(n)))&&(o=Ii.fromWebStorageEntry(n,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(c=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(c),u=0,l=this.earlyEvents;u<l.length;u++)h=l[u],this.handleWebStorageEvent(h);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return p.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=De();return S(this.activeClients,function(e,r){t=t.unionWith(r.activeTargetIds)}),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,r){this.persistMutationState(t,e,r),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(r){var n=Ai.fromWebStorageEntry(t,r);n&&(e=n.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,r){this.persistQueryTargetState(t,e,r)},t.prototype.handleUserChange=function(t,e,r){var n=this;e.forEach(function(t){n.removeMutationState(t)}),this.currentUser=t,r.forEach(function(t){n.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return f(_i,"READ",t,e),e},t.prototype.setItem=function(t,e){f(_i,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){f(_i,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(f(_i,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void g("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return s.__awaiter(e,void 0,void 0,function(){var e,r,n,i,o,a;return s.__generator(this,function(s){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return r=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(r,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(n=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(n)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(o=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(o)]}else t.key===this.sequenceNumberKey&&(v(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(t){var e=lr.INVALID;if(null!=t)try{var r=JSON.parse(t);v("number"==typeof r,"Found non-numeric sequence number"),e=r}catch(t){g(_i,"Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==lr.INVALID&&this.sequenceNumberHandler(a));return[2]})})})}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,r){var n=new Si(this.currentUser,t,e,r),i=this.toWebStorageMutationBatchKey(t);this.setItem(i,n.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){var e={clientId:this.localClientId,onlineState:Xn[t]};this.storage.setItem(this.onlineStateKey,JSON.stringify(e))},t.prototype.persistQueryTargetState=function(t,e,r){var n=this.toWebStorageQueryTargetMetadataKey(t),i=new Ai(t,e,r);this.setItem(n,i.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return v(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),Ei+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return ki+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=Ci+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var r=this.fromWebStorageClientStateKey(t);return v(null!==r,"Cannot parse client state key '"+t+"'"),Ii.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var r=this.mutationBatchKeyRe.exec(t);v(null!==r,"Cannot parse mutation batch key '"+t+"'");var n=Number(r[1]),i=void 0!==r[2]?r[2]:null;return Si.fromWebStorageEntry(new bi(i),n,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var r=this.queryTargetKeyRe.exec(t);v(null!==r,"Cannot parse query target key '"+t+"'");var n=Number(r[1]);return Ai.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageOnlineState=function(t){return Ni.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){return t.user.uid!==this.currentUser.uid?(f(_i,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]})})},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var r=this,n=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var i=this.getAllActiveQueryTargets(),o=[],a=[];return i.forEach(function(t){return s.__awaiter(r,void 0,void 0,function(){return s.__generator(this,function(e){return n.has(t)||o.push(t),[2]})})}),n.forEach(function(t){return s.__awaiter(r,void 0,void 0,function(){return s.__generator(this,function(e){return i.has(t)||a.push(t),[2]})})}),this.syncEngine.applyActiveTargetsChange(o,a)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}();var Oi=function(){function t(){this.localState=new Pi,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,r){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,r){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new Pi,Promise.resolve()},t.prototype.handleUserChange=function(t,e,r){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),Ri=function(){function t(t,e){this.cacheSizeBytes=t,this.experimentalTabSynchronization=e}return t.prototype.lruParams=function(){return kn.withCacheSize(this.cacheSizeBytes)},t}(),ji=function(){},Bi=function(){function t(t,e,r,n){this.platform=t,this.databaseInfo=e,this.credentials=r,this.asyncQueue=n,this.clientId=J.newId()}return t.prototype.start=function(t){var e=this,r=new hr,n=new hr,i=!1;return this.credentials.setChangeListener(function(o){i?e.asyncQueue.enqueueAndForget(function(){return e.handleCredentialChange(o)}):(i=!0,e.initializePersistence(t,n,o).then(function(t){return e.initializeRest(o,t)}).then(r.resolve,r.reject))}),this.asyncQueue.enqueueAndForget(function(){return r.promise}),n.promise},t.prototype.enableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.syncEngine.enableNetwork()})},t.prototype.initializePersistence=function(t,e,r){var n=this;return t instanceof Ri?this.startIndexedDbPersistence(r,t).then(function(t){return e.resolve(),t}).catch(function(t){if(e.reject(t),!n.canFallback(t))throw t;return console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),n.startMemoryPersistence()}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof E?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||(22===t.code||20===t.code)},t.prototype.startIndexedDbPersistence=function(t,e){var r=this,n=Dn.buildStoragePrefix(this.databaseInfo),i=new er(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return s.__awaiter(r,void 0,void 0,function(){var r,o;return s.__generator(this,function(a){switch(a.label){case 0:if(e.experimentalTabSynchronization&&!Di.isAvailable(this.platform))throw new E(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return o=e.lruParams(),e.experimentalTabSynchronization?(this.sharedClientState=new Di(this.asyncQueue,this.platform,n,this.clientId,t),[4,Dn.createMultiClientIndexedDbPersistence(n,this.clientId,this.platform,this.asyncQueue,i,o,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return r=a.sent(),[3,4];case 2:return this.sharedClientState=new Oi,[4,Dn.createIndexedDbPersistence(n,this.clientId,this.platform,this.asyncQueue,i,o)];case 3:r=a.sent(),a.label=4;case 4:return this.persistence=r,[2,r.referenceDelegate.garbageCollector]}})})})},t.prototype.startMemoryPersistence=function(){return this.persistence=Gn.createEagerPersistence(this.clientId),this.sharedClientState=new Oi,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var r=this;return f("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then(function(n){return s.__awaiter(r,void 0,void 0,function(){var r,i,o,a,c=this;return s.__generator(this,function(u){switch(u.label){case 0:return this.localStore=new Vn(this.persistence,t),e&&(this.lruScheduler=new xn(e,this.asyncQueue,this.localStore)),r=this.platform.newSerializer(this.databaseInfo.databaseId),i=new ai(this.asyncQueue,n,this.credentials,r),o=function(t){return c.syncEngine.applyOnlineStateChange(t,Zn.RemoteStore)},a=function(t){return c.syncEngine.applyOnlineStateChange(t,Zn.SharedClientState)},this.remoteStore=new ui(this.localStore,i,this.asyncQueue,o),this.syncEngine=new wi(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=a,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new hi(this.syncEngine),[4,this.sharedClientState.start()];case 1:return u.sent(),[4,this.remoteStore.start()];case 2:return u.sent(),[4,this.persistence.setPrimaryStateListener(function(t){return s.__awaiter(c,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}})})})];case 3:return u.sent(),[2]}})})})},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),f("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.syncEngine.disableNetwork()})},t.prototype.shutdown=function(t){var e=this;return this.asyncQueue.enqueue(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown(t&&t.purgePersistenceWithDataLoss)];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}})})})},t.prototype.listen=function(t,e,r){var n=this,i=new pi(t,e,r);return this.asyncQueue.enqueueAndForget(function(){return n.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof pt)return t;if(t instanceof dt)return null;throw new E(_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var r=Ne(),n=new mi(t,r),i=n.computeDocChanges(e);return n.applyChanges(i,!1).snapshot})},t.prototype.write=function(t){var e=this,r=new hr;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(t,r)}),r.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.asyncQueue.enqueue(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(t){return[2]})})}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),Mi=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var r=this;this.muted||setTimeout(function(){r.muted||t(e)},0)},t}(),Fi=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,r,n){if(!(e instanceof Array)||e.length<n)throw new E(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+r+" argument to be an array with at least "+H(n,"element")+".")}("FieldPath",t,"fieldNames",1);for(var r=0;r<t.length;++r)if(D("FieldPath","string",r,t[r]),0===t[r].length)throw new E(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(ut.keyField().canonicalString()),t}(),Li=new RegExp("[~\\*/\\[\\]]");
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var qi=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}},Vi=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){v(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(bi.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){v(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),Ui=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;v(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,r=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(r).then(function(r){if(t.tokenCounter!==e)throw new E(_.ABORTED,"getToken aborted due to token change.");return r?(v("string"==typeof r.accessToken,"Invalid tokenData returned from getToken():"+r),new qi(r.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){v(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){v(null!=this.tokenListener,"removeChangeListener() called twice"),v(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return v(null===t||"string"==typeof t,"Received invalid UID: "+t),new bi(t)},t}(),Wi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=bi.FIRST_PARTY,v(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){return{Authorization:this.gapi.auth.getAuthHeaderValueForFirstParty([]),"X-Goog-AuthUser":this.sessionIndex}},enumerable:!0,configurable:!0}),t}(),zi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,v(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return t.prototype.getToken=function(){return Promise.resolve(new Wi(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(bi.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Hi(t){if(!t)return new Vi;switch(t.type){case"gapi":return new zi(t.client,t.sessionIndex||"0");case"provider":return t.client;default:throw new E(_.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var r=t,n=0,i=e;n<i.length;n++){var o=i[n];if(o in r&&"function"==typeof r[o])return!0}return!1}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,["next","error","complete"])}var Gi,Ki=function(){function t(t){this._methodName=t}return t.delete=function(){return $i.instance},t.serverTimestamp=function(){return Qi.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N("FieldValue.arrayUnion",arguments,1),new Yi(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N("FieldValue.arrayRemove",arguments,1),new Xi(t)},t.prototype.isEqual=function(t){return this===t},t}(),$i=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return s.__extends(e,t),e.instance=new e,e}(Ki),Qi=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return s.__extends(e,t),e.instance=new e,e}(Ki),Yi=function(t){function e(e){var r=t.call(this,"FieldValue.arrayUnion")||this;return r._elements=e,r}return s.__extends(e,t),e}(Ki),Xi=function(t){function e(e){var r=t.call(this,"FieldValue.arrayRemove")||this;return r._elements=e,r}return s.__extends(e,t),e}(Ki),Zi=C(Ki,"Use FieldValue.<field>() instead."),to=/^__.*__$/,eo=function(){function t(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}return t.prototype.toMutations=function(t,e){var r=[];return null!==this.fieldMask?r.push(new le(t,this.data,this.fieldMask,e)):r.push(new ue(t,this.data,e)),this.fieldTransforms.length>0&&r.push(new he(t,this.fieldTransforms)),r},t}(),ro=function(){function t(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}return t.prototype.toMutations=function(t,e){var r=[new le(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&r.push(new he(t,this.fieldTransforms)),r},t}();function no(t){switch(t){case Gi.Set:case Gi.MergeSet:case Gi.Update:return!0;case Gi.Argument:return!1;default:throw y("Unexpected case for UserDataSource: "+t)}}!function(t){t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument"}(Gi||(Gi={}));var io=function(){function t(t,e,r,n,i,o){this.dataSource=t,this.methodName=e,this.path=r,this.arrayElement=n,void 0===i&&this.validatePath(),this.arrayElement=void 0!==n&&n,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var r=null==this.path?null:this.path.child(e),n=new t(this.dataSource,this.methodName,r,!1,this.fieldTransforms,this.fieldMask);return n.validatePathSegment(e),n},t.prototype.childContextForFieldPath=function(e){var r=null==this.path?null:this.path.child(e),n=new t(this.dataSource,this.methodName,r,!1,this.fieldTransforms,this.fieldMask);return n.validatePath(),n},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new E(_.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(no(this.dataSource)&&to.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),oo=function(t,e){this.databaseId=t,this.key=e},ao=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var r=new io(Gi.Set,t,ut.EMPTY_PATH);co("Data must be an object, but it was:",r,e);var n=this.parseData(e,r);return new eo(n,null,r.fieldTransforms)},t.prototype.parseMergeData=function(t,e,r){var n=new io(Gi.MergeSet,t,ut.EMPTY_PATH);co("Data must be an object, but it was:",n,e);var i,o,a=this.parseData(e,n);if(r){for(var s=new re(ut.comparator),c=0,u=r;c<u.length;c++){var l=u[c],h=void 0;if(l instanceof Fi)h=l._internalPath;else{if("string"!=typeof l)throw y("Expected stringOrFieldPath to be a string or a FieldPath");h=lo(t,l)}if(!n.contains(h))throw new E(_.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");s=s.add(h)}i=ie.fromSet(s),o=n.fieldTransforms.filter(function(t){return i.covers(t.field)})}else i=ie.fromArray(n.fieldMask),o=n.fieldTransforms;return new eo(a,i,o)},t.prototype.parseUpdateData=function(t,e){var r=this,n=new io(Gi.Update,t,ut.EMPTY_PATH);co("Data must be an object, but it was:",n,e);var i=new re(ut.comparator),o=Ot.EMPTY;S(e,function(e,a){var s=lo(t,e),c=n.childContextForFieldPath(s);if((a=r.runPreConverter(a,c))instanceof $i)i=i.add(s);else{var u=r.parseData(a,c);null!=u&&(i=i.add(s),o=o.set(s,u))}});var a=ie.fromSet(i);return new ro(o,a,n.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,r,n){var i=new io(Gi.Update,t,ut.EMPTY_PATH),o=[uo(t,e)],a=[r];if(n.length%2!=0)throw new E(_.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<n.length;s+=2)o.push(uo(t,n[s])),a.push(n[s+1]);var c=new re(ut.comparator),u=Ot.EMPTY;for(s=0;s<o.length;++s){var l=o[s],h=i.childContextForFieldPath(l),p=this.runPreConverter(a[s],h);if(p instanceof $i)c=c.add(l);else{var d=this.parseData(p,h);null!=d&&(c=c.add(l),u=u.set(l,d))}}var f=ie.fromSet(c);return new ro(u,f,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var r=new io(Gi.Argument,t,ut.EMPTY_PATH),n=this.parseData(e,r);return v(null!=n,"Parsed data should not be null."),v(0===r.fieldTransforms.length,"Field transforms should have been disallowed."),n},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(t){var r=ho(t);throw e.createError(r)}},t.prototype.parseData=function(t,e){if(so(t=this.runPreConverter(t,e)))return co("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof Ki)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var r=this,n=new gt(G);return A(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):S(t,function(t,i){var o=r.parseData(i,e.childContextForField(t));null!=o&&(n=n.insert(t,o))}),new Ot(n)},t.prototype.parseArray=function(t,e){for(var r=[],n=0,i=0,o=t;i<o.length;i++){var a=o[i],s=this.parseData(a,e.childContextForArray(n));null==s&&(s=_t.INSTANCE),r.push(s),n++}return new Rt(r)},t.prototype.parseSentinelFieldValue=function(t,e){if(!no(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof $i){if(e.dataSource!==Gi.MergeSet)throw e.dataSource===Gi.Update?(v(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof Qi)e.fieldTransforms.push(new oe(e.path,de.instance));else if(t instanceof Yi){var r=this.parseArrayTransformElements(t._methodName,t._elements),n=new fe(r);e.fieldTransforms.push(new oe(e.path,n))}else if(t instanceof Xi){r=this.parseArrayTransformElements(t._methodName,t._elements);var i=new ge(r);e.fieldTransforms.push(new oe(e.path,i))}else y("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return _t.INSTANCE;if("number"==typeof t)return qt(t)?new xt(t):new Tt(t);if("boolean"==typeof t)return Et.of(t);if("string"==typeof t)return new St(t);if(t instanceof Date)return new At(rt.fromDate(t));if(t instanceof rt)return new At(new rt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof et)return new Dt(t);if(t instanceof Z)return new Nt(t);if(t instanceof oo)return new Pt(t.databaseId,t.key);throw e.createError("Unsupported field value: "+q(t))},t.prototype.parseArrayTransformElements=function(t,e){var r=this;return e.map(function(e,n){var i=new io(Gi.Argument,t,ut.EMPTY_PATH);return r.parseData(e,i.childContextForArray(n))})},t}();function so(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof et||t instanceof Z||t instanceof oo||t instanceof Ki)}function co(t,e,r){if(!so(r)||!L(r)){var n=q(r);throw"an object"===n?e.createError(t+" a custom object"):e.createError(t+" "+n)}}function uo(t,e){if(e instanceof Fi)return e._internalPath;if("string"==typeof e)return lo(t,e);throw new E(_.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function lo(t,e){try{return function(t){if(t.search(Li)>=0)throw new E(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Fi.bind.apply(Fi,[void 0].concat(t.split("."))))}catch(e){throw new E(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(e){var r=ho(e);throw new E(_.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+r)}}function ho(t){return t instanceof Error?t.message:t.toString()}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var po="firestore.googleapis.com",fo=!0,go=!0,mo=kn.COLLECTION_DISABLED,yo=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new E(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=po,this.ssl=fo}else R("settings","non-empty string","host",t.host),this.host=t.host,j("settings","boolean","ssl",t.ssl),this.ssl=x(t.ssl,fo);if(U("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes"]),j("settings","object","credentials",t.credentials),this.credentials=t.credentials,j("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?g("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&g("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=x(t.timestampsInSnapshots,go),j("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=kn.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==mo&&t.cacheSizeBytes<kn.MINIMUM_CACHE_SIZE_BYTES)throw new E(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+kn.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes},t}(),vo=function(){},wo=function(){function t(e){var r=this;this._queue=new dr,this.INTERNAL={delete:function(t){return s.__awaiter(r,void 0,void 0,function(){return s.__generator(this,function(e){return this._firestoreClient?[2,this._firestoreClient.shutdown(t)]:[2]})})}};var n=new vo;if("object"==typeof e.options){var i=e;n.firebaseApp=i,n.databaseId=t.databaseIdFromApp(i),n.persistenceKey=n.firebaseApp.name,n.credentials=new Ui(i)}else{var o=e;if(!o.projectId)throw new E(_.INVALID_ARGUMENT,"Must provide projectId");n.databaseId=new ot(o.projectId,o.database),n.persistenceKey="[DEFAULT]",n.credentials=new Vi}n.settings=new yo({}),this._config=n,this._databaseId=n.databaseId}return t.prototype.settings=function(t){if(I("Firestore.settings",arguments,1),D("Firestore.settings","object",1,t),k(t,"persistence"))throw new E(_.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new yo(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new E(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=Hi(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new E(_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(new Ri(this._config.settings.cacheSizeBytes,void 0!==t&&x(t.experimentalTabSynchronization,!1)))},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new ji),this._firestoreClient},t.prototype.configureClient=function(t){var e=this;v(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),v(!this._firestoreClient,"configureClient() called multiple times");var r=new nt(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl);return this._dataConverter=new ao(function(t){if(t instanceof Eo){var r=e._config.databaseId,n=t.firestore._config.databaseId;if(!n.isEqual(r))throw new E(_.INVALID_ARGUMENT,"Document reference is for database "+n.projectId+"/"+n.database+" but should be for database "+r.projectId+"/"+r.database);return new oo(e._config.databaseId,t._key)}return t}),this._firestoreClient=new Bi(w.getPlatform(),r,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!k(e,"projectId"))throw new E(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var r=e.projectId;if(!r||"string"!=typeof r)throw new E(_.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ot(r)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new E(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(I("Firestore.collection",arguments,1),D("Firestore.collection","non-empty string",1,t),!t)throw new E(_.INVALID_ARGUMENT,"Must provide a non-empty collection path to collection()");return this.ensureClientConfigured(),new Ao(st.fromString(t),this)},t.prototype.doc=function(t){if(I("Firestore.doc",arguments,1),D("Firestore.doc","non-empty string",1,t),!t)throw new E(_.INVALID_ARGUMENT,"Must provide a non-empty document path to doc()");return this.ensureClientConfigured(),Eo.forPath(st.fromString(t),this)},t.prototype.runTransaction=function(t){var e=this;return I("Firestore.runTransaction",arguments,1),D("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(r){return t(new bo(e,r))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new _o(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(p()){case i.DEBUG:return"debug";case i.ERROR:return"error";case i.SILENT:return"silent";default:return y("Unknown log level: "+p())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(I("Firestore.setLogLevel",arguments,1),D("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":d(i.DEBUG);break;case"error":d(i.ERROR);break;case"silent":d(i.SILENT);break;default:throw new E(_.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},t}(),bo=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;I("Transaction.get",arguments,1);var r=Do("Transaction.get",t,this._firestore);return this._transaction.lookup([r._key]).then(function(t){if(!t||1!==t.length)return y("Mismatch in docs returned from document lookup.");var n=t[0];if(n instanceof dt)return new ko(e._firestore,r._key,null,!1,!1);if(n instanceof pt)return new ko(e._firestore,r._key,n,!1,!1);throw y("BatchGetDocumentsRequest returned unexpected document type: "+n.constructor.name)})},t.prototype.set=function(t,e,r){P("Transaction.set",arguments,2,3);var n=Do("Transaction.set",t,this._firestore),i=(r=Io("Transaction.set",r)).merge||r.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,r.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(n._key,i),this},t.prototype.update=function(t,e,r){for(var n,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof Fi?(N("Transaction.update",arguments,3),n=Do("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,r,o)):(I("Transaction.update",arguments,2),n=Do("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(n._key,i),this},t.prototype.delete=function(t){I("Transaction.delete",arguments,1);var e=Do("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),_o=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,r){P("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var n=Do("WriteBatch.set",t,this._firestore),i=(r=Io("WriteBatch.set",r)).merge||r.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,r.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(n._key,se.NONE)),this},t.prototype.update=function(t,e,r){for(var n,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),"string"==typeof e||e instanceof Fi?(N("WriteBatch.update",arguments,3),n=Do("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,r,o)):(I("WriteBatch.update",arguments,2),n=Do("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(n._key,se.exists(!0))),this},t.prototype.delete=function(t){I("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=Do("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new pe(e._key,se.NONE)),this},t.prototype.commit=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new E(_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Eo=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,r){if(e.length%2!=0)throw new E(_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new lt(e),r)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ao(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(I("DocumentReference.collection",arguments,1),D("DocumentReference.collection","non-empty string",1,t),!t)throw new E(_.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=st.fromString(t);return new Ao(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){P("DocumentReference.set",arguments,1,2);var r=(e=Io("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(r.toMutations(this._key,se.NONE))},t.prototype.update=function(t,e){for(var r,n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return"string"==typeof t||t instanceof Fi?(N("DocumentReference.update",arguments,2),r=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,n)):(I("DocumentReference.update",arguments,1),r=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(r.toMutations(this._key,se.exists(!0)))},t.prototype.delete=function(){return I("DocumentReference.delete",arguments,0),this._firestoreClient.write([new pe(this._key,se.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];P("DocumentReference.onSnapshot",arguments,1,4);var r,n={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Ji(t[i])||(U("DocumentReference.onSnapshot",n=t[i],["includeMetadataChanges"]),j("DocumentReference.onSnapshot","boolean","includeMetadataChanges",n.includeMetadataChanges),i++);var o={includeMetadataChanges:n.includeMetadataChanges};return Ji(t[i])?r=t[i]:(D("DocumentReference.onSnapshot","function",i,t[i]),O("DocumentReference.onSnapshot","function",i+1,t[i+1]),O("DocumentReference.onSnapshot","function",i+2,t[i+2]),r={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,r)},t.prototype.onSnapshotInternal=function(t,e){var r=this,n=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(n=e.error.bind(e));var i=new Mi({next:function(t){if(e.next){v(t.docs.size<=1,"Too many documents returned on a document query");var n=t.docs.get(r._key);e.next(new ko(r.firestore,r._key,n,t.fromCache,t.hasPendingWrites))}},error:n}),o=this._firestoreClient.listen(Ut.atPath(this._key.path),i,t);return function(){i.mute(),r._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return P("DocumentReference.get",arguments,0,1),Po("DocumentReference.get",t),new Promise(function(r,n){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){r(new ko(e.firestore,e._key,t,!0,t instanceof pt&&t.hasLocalMutations))},n):e.getViaSnapshotListener(r,n,t)})},t.prototype.getViaSnapshotListener=function(t,e,r){var n=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){n(),!i.exists&&i.metadata.fromCache?e(new E(_.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&r&&"server"===r.source?e(new E(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t}(),Co=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),ko=function(){function t(t,e,r,n,i){this._firestore=t,this._key=e,this._document=r,this._fromCache=n,this._hasPendingWrites=i}return t.prototype.data=function(t){return P("DocumentSnapshot.data",arguments,0,1),t=No("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,wt.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(P("DocumentSnapshot.get",arguments,1,2),e=No("DocumentSnapshot.get",e),this._document){var r=this._document.data.field(uo("DocumentSnapshot.get",t));if(void 0!==r)return this.convertValue(r,wt.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Eo(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Co(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var r=this,n={};return t.forEach(function(t,i){n[t]=r.convertValue(i,e)}),n},t.prototype.convertValue=function(t,e){if(t instanceof Ot)return this.convertObject(t,e);if(t instanceof Rt)return this.convertArray(t,e);if(t instanceof Pt){var r=t.value(e),n=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(n)||g("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),new Eo(r,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var r=this;return t.internalValue.map(function(t){return r.convertValue(t,e)})},t}(),xo=function(t){function e(e,r,n,i,o){return t.call(this,e,r,n,i,o)||this}return s.__extends(e,t),e.prototype.data=function(e){var r=t.prototype.data.call(this,e);return v("object"==typeof r,"Document in a QueryDocumentSnapshot should exist"),r},e}(ko),To=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,r,n){var i;I("Query.where",arguments,3),D("Query.where","non-empty string",2,r),V("Query.where",3,n);var o=uo("Query.where",e),a=zt.fromString(r);if(o.isKeyField()){if(a===zt.ARRAY_CONTAINS)throw new E(_.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"==typeof n){if(-1!==n.indexOf("/"))throw new E(_.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.");if(""===n)throw new E(_.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");var s=this._query.path.child(new st([n]));v(s.length%2==0,"Path should be a document key"),i=new Pt(this.firestore._databaseId,new lt(s))}else{if(!(n instanceof Eo))throw new E(_.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+q(n)+".");var c=n;i=new Pt(this.firestore._databaseId,c._key)}}else i=this.firestore._dataConverter.parseQueryValue("Query.where",n);var u=Wt.create(o,a,i);return this.validateNewFilter(u),new t(this._query.addFilter(u),this.firestore)},t.prototype.orderBy=function(e,r){var n;if(P("Query.orderBy",arguments,1,2),O("Query.orderBy","non-empty string",2,r),void 0===r||"asc"===r)n=Kt.ASCENDING;else{if("desc"!==r)throw new E(_.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+r+"', expected 'asc' or 'desc'.");n=Kt.DESCENDING}if(null!==this._query.startAt)throw new E(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new E(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=uo("Query.orderBy",e),o=new Qt(i,n);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(I("Query.limit",arguments,1),D("Query.limit","number",1,e),e<=0)throw new E(_.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];N("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,r,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];N("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,r,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];N("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,r,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];N("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,r,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,r,n){if(V(t,1,e),e instanceof ko){if(r.length>0)throw new E(_.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new E(_.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,n)}var o=[e].concat(r);return this.boundFromFields(t,o,n)},t.prototype.boundFromDocument=function(t,e,r){for(var n=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())n.push(new Pt(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(s instanceof It)throw new E(_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(void 0===s){var c=a.field.canonicalString();throw new E(_.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}n.push(s)}}return new $t(n,r)},t.prototype.boundFromFields=function(t,e,r){var n=this._query.explicitOrderBy;if(e.length>n.length)throw new E(_.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(n[o].field.isKeyField()){if("string"!=typeof a)throw new E(_.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(-1!==a.indexOf("/"))throw new E(_.INVALID_ARGUMENT,"Invalid query. Document ID '"+a+"' contains a slash in "+t+"()");var s=new lt(this._query.path.child(a));i.push(new Pt(this.firestore._databaseId,s))}else{var c=this.firestore._dataConverter.parseQueryValue(t,a);i.push(c)}}return new $t(i,r)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];P("Query.onSnapshot",arguments,1,4);var r,n={},i=0;return"object"!=typeof t[i]||Ji(t[i])||(U("Query.onSnapshot",n=t[i],["includeMetadataChanges"]),j("Query.onSnapshot","boolean","includeMetadataChanges",n.includeMetadataChanges),i++),Ji(t[i])?r=t[i]:(D("Query.onSnapshot","function",i,t[i]),O("Query.onSnapshot","function",i+1,t[i+1]),O("Query.onSnapshot","function",i+2,t[i+2]),r={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(n,r)},t.prototype.onSnapshotInternal=function(t,e){var r=this,n=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(n=e.error.bind(e));var i=new Mi({next:function(t){e.next&&e.next(new So(r.firestore,r._query,t))},error:n}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(a)}},t.prototype.get=function(t){var e=this;return P("Query.get",arguments,0,1),Po("Query.get",t),new Promise(function(r,n){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){r(new So(e.firestore,e._query,t))},n):e.getViaSnapshotListener(r,n,t)})},t.prototype.getViaSnapshotListener=function(t,e,r){var n=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){n(),i.metadata.fromCache&&r&&"server"===r.source?e(new E(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.validateNewFilter=function(t){if(t instanceof Ht)if(t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.isEqual(t.field))throw new E(_.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e.toString()+"' and '"+t.field.toString()+"'");var r=this._query.getFirstOrderByField();null!==r&&this.validateOrderByAndInequalityMatch(t.field,r)}else if(t.op===zt.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new E(_.INVALID_ARGUMENT,"Invalid query. Queries only support a single array-contains filter.")},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new E(_.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),So=function(){function t(t,e,r){this._firestore=t,this._originalQuery=e,this._snapshot=r,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Co(r.hasPendingWrites,r.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var r=this;P("QuerySnapshot.forEach",arguments,1,2),D("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(n){t.call(e,r.convertToDocumentImpl(n))})},Object.defineProperty(t.prototype,"query",{get:function(){return new To(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(U("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),j("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new E(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,r){if(r.oldDocs.isEmpty()){var n,i=0;return r.docChanges.map(function(e){var o=new xo(t,e.doc.key,e.doc,r.fromCache,r.mutatedKeys.has(e.doc.key));return v(e.type===Oe.Added,"Invalid event type for first snapshot"),v(!n||r.query.docComparator(n,e.doc)<0,"Got added events in wrong order"),n=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}})}var o=r.oldDocs;return r.docChanges.filter(function(t){return e||t.type!==Oe.Metadata}).map(function(e){var n=new xo(t,e.doc.key,e.doc,r.fromCache,r.mutatedKeys.has(e.doc.key)),i=-1,a=-1;return e.type!==Oe.Added&&(v((i=o.indexOf(e.doc.key))>=0,"Index for document not found"),o=o.delete(e.doc.key)),e.type!==Oe.Removed&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:Oo(e.type),doc:n,oldIndex:i,newIndex:a}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new xo(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(So.prototype.docChanges,t,{get:function(){return function(){throw new E(_.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}});var Ao=function(t){function e(e,r){var n=t.call(this,Ut.atPath(e),r)||this;if(e.length%2!=1)throw new E(_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return n}return s.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new Eo(new lt(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(P("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=J.newId()),D("CollectionReference.doc","non-empty string",1,t),""===t)throw new E(_.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=st.fromString(t);return Eo.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){I("CollectionReference.add",arguments,1),D("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(To);function Io(t,e){if(void 0===e)return{merge:!1};if(U(t,e,["merge","mergeFields"]),j(t,"boolean","merge",e.merge),B(t,"mergeFields","a string or a FieldPath",e.mergeFields,function(t){return"string"==typeof t||t instanceof Fi}),void 0!==e.mergeFields&&void 0!==e.merge)throw new E(_.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function No(t,e){return void 0===e?{}:(U(t,e,["serverTimestamps"]),M(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Po(t,e){O(t,"object",1,e),e&&(U(t,e,["source"]),M(t,0,"source",e.source,["default","server","cache"]))}function Do(t,e,r){if(e instanceof Eo){if(e.firestore!==r)throw new E(_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw W(t,"DocumentReference",1,e)}function Oo(t){switch(t){case Oe.Added:return"added";case Oe.Modified:case Oe.Metadata:return"modified";case Oe.Removed:return"removed";default:return y("Unknown change type: "+t)}}var Ro=C(wo,"Use firebase.firestore() instead."),jo=C(bo,"Use firebase.firestore().runTransaction() instead."),Bo=C(_o,"Use firebase.firestore().batch() instead."),Mo=C(Eo,"Use firebase.firestore().doc() instead."),Fo=C(ko),Lo=C(xo),qo=C(To),Vo=C(So),Uo=C(Ao,"Use firebase.firestore().collection() instead."),Wo={Firestore:Ro,GeoPoint:et,Timestamp:rt,Blob:tt,Transaction:jo,WriteBatch:Bo,DocumentReference:Mo,DocumentSnapshot:Fo,Query:qo,QueryDocumentSnapshot:Lo,QuerySnapshot:Vo,CollectionReference:Uo,FieldPath:Fi,FieldValue:Zi,setLogLevel:wo.setLogLevel,CACHE_SIZE_UNLIMITED:mo};function zo(t){t.INTERNAL.registerService("firestore",function(t){return new wo(t)},function(t){v(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}(Wo))}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(t){zo(t)}Ho(o),e.registerFirestore=Ho},function(t,e,r){"use strict";r.r(e),r.d(e,"createWebChannelTransport",function(){return Ge}),r.d(e,"ErrorCode",function(){return Ke}),r.d(e,"EventType",function(){return $e}),r.d(e,"WebChannel",function(){return Qe}),r.d(e,"XhrIo",function(){return Ye});var n,i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},a=i;function s(t){return"string"==typeof t}function c(t,e){t=t.split("."),e=e||a;for(var r=0;r<t.length;r++)if(null==(e=e[t[r]]))return null;return e}function u(){}function l(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var r=Object.prototype.toString.call(t);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){return"array"==l(t)}function p(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var f="closure_uid_"+(1e9*Math.random()>>>0),g=0;function m(t,e,r){return t.call.apply(t.bind,arguments)}function y(t,e,r){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function v(t,e,r){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:y).apply(null,arguments)}function w(t,e){var r=Array.prototype.slice.call(arguments,1);return function(){var e=r.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var b=Date.now||function(){return+new Date};function _(t,e){function r(){}r.prototype=e.prototype,t.S=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.re=function(t,r,n){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[r].apply(t,i)}}function E(){this.i=this.i,this.j=this.j}E.prototype.i=!1,E.prototype.La=function(){if(!this.i&&(this.i=!0,this.G(),0))this[f]||(this[f]=++g)},E.prototype.G=function(){if(this.j)for(;this.j.length;)this.j.shift()()};var C=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var r=0;r<t.length;r++)if(r in t&&t[r]===e)return r;return-1},k=Array.prototype.forEach?function(t,e,r){Array.prototype.forEach.call(t,e,r)}:function(t,e,r){for(var n=t.length,i=s(t)?t.split(""):t,o=0;o<n;o++)o in i&&e.call(r,i[o],o,t)};function x(t){return Array.prototype.concat.apply([],arguments)}function T(t){var e=t.length;if(0<e){for(var r=Array(e),n=0;n<e;n++)r[n]=t[n];return r}return[]}function S(t){return/^[\s\xa0]*$/.test(t)}var A,I=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function N(t,e){return-1!=t.indexOf(e)}function P(t,e){return t<e?-1:t>e?1:0}t:{var D=a.navigator;if(D){var O=D.userAgent;if(O){A=O;break t}}A=""}function R(t,e,r){for(var n in t)e.call(r,t[n],n,t)}function j(t){var e,r={};for(e in t)r[e]=t[e];return r}var B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(t,e){for(var r,n,i=1;i<arguments.length;i++){for(r in n=arguments[i])t[r]=n[r];for(var o=0;o<B.length;o++)r=B[o],Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}}function F(t){return F[" "](t),t}F[" "]=u;var L,q,V=N(A,"Opera"),U=N(A,"Trident")||N(A,"MSIE"),W=N(A,"Edge"),z=W||U,H=N(A,"Gecko")&&!(N(A.toLowerCase(),"webkit")&&!N(A,"Edge"))&&!(N(A,"Trident")||N(A,"MSIE"))&&!N(A,"Edge"),J=N(A.toLowerCase(),"webkit")&&!N(A,"Edge");function G(){var t=a.document;return t?t.documentMode:void 0}t:{var K="",$=(q=A,H?/rv:([^\);]+)(\)|;)/.exec(q):W?/Edge\/([\d\.]+)/.exec(q):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(q):J?/WebKit\/(\S+)/.exec(q):V?/(?:Version)[ \/]?(\S+)/.exec(q):void 0);if($&&(K=$?$[1]:""),U){var Q=G();if(null!=Q&&Q>parseFloat(K)){L=String(Q);break t}}L=K}var Y,X={};function Z(t){return function(t,e){var r=X;return Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=e(t)}(t,function(){for(var e=0,r=I(String(L)).split("."),n=I(String(t)).split("."),i=Math.max(r.length,n.length),o=0;0==e&&o<i;o++){var a=r[o]||"",s=n[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=P(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||P(0==a[2].length,0==s[2].length)||P(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var tt=a.document;Y=tt&&U?G()||("CSS1Compat"==tt.compatMode?parseInt(L,10):5):void 0;var et=!U||9<=Number(Y),rt=U&&!Z("9"),nt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",u,e),a.removeEventListener("test",u,e)}catch(t){}return t}();function it(t,e){this.type=t,this.a=this.target=e,this.b=!1,this.hc=!0}function ot(t,e){it.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.f=null,t&&this.g(t,e)}it.prototype.c=function(){this.hc=!1},_(ot,it);var at={2:"touch",3:"pen",4:"mouse"};ot.prototype.g=function(t,e){var r=this.type=t.type,n=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(H){t:{try{F(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==r?e=t.fromElement:"mouseout"==r&&(e=t.toElement);this.relatedTarget=e,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:at[t.pointerType]||"",this.f=t,t.defaultPrevented&&this.c()},ot.prototype.c=function(){ot.S.c.call(this);var t=this.f;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var st="closure_listenable_"+(1e6*Math.random()|0),ct=0;function ut(t,e,r,n,i){this.listener=t,this.proxy=null,this.src=e,this.type=r,this.capture=!!n,this.ya=i,this.key=++ct,this.ja=this.oa=!1}function lt(t){this.src=t,this.a={},this.b=0}function ht(t,e,r,n){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ja&&o.listener==e&&o.capture==!!r&&o.ya==n)return i}return-1}ut.prototype.a=function(){this.ja=!0,this.ya=this.src=this.proxy=this.listener=null},(n=lt.prototype).add=function(t,e,r,n,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ht(t,e,n,i);return-1<a?(e=t[a],r||(e.oa=!1)):((e=new ut(e,this.src,o,!!n,i)).oa=r,t.push(e)),e},n.Sc=function(t,e,r,n){if((t=t.toString())in this.a){var i=this.a[t];-1<(e=ht(i,e,r,n))&&(i[e].a(),Array.prototype.splice.call(i,e,1),0==i.length&&(delete this.a[t],this.b--))}},n.fc=function(t){var e=t.type;if(e in this.a){var r,n=this.a[e],i=C(n,t);(r=0<=i)&&Array.prototype.splice.call(n,i,1),r&&(t.a(),0==this.a[e].length&&(delete this.a[e],this.b--))}},n.Tc=function(){var t;for(t in this.a){for(var e=this.a[t],r=0;r<e.length;r++)e[r].a();delete this.a[t],this.b--}},n.Rc=function(t,e,r,n){var i=-1;return(t=this.a[t.toString()])&&(i=ht(t,e,r,n)),-1<i?t[i]:null};var pt="closure_lm_"+(1e6*Math.random()|0),dt={};function ft(t,e,r,n,i){if(n&&n.once)return function t(e,r,n,i,o){if(h(r)){for(var a=0;a<r.length;a++)t(e,r[a],n,i,o);return null}n=Et(n);return e&&e[st]?e.Mb(r,n,d(i)?!!i.capture:!!i,o):gt(e,r,n,!0,i,o)}(t,e,r,n,i);if(h(e)){for(var o=0;o<e.length;o++)ft(t,e[o],r,n,i);return null}return r=Et(r),t&&t[st]?t.Lb(e,r,d(n)?!!n.capture:!!n,i):gt(t,e,r,!1,n,i)}function gt(t,e,r,n,i,o){if(!e)throw Error("Invalid event type");var a=d(i)?!!i.capture:!!i;if(a&&!et)return null;var s=bt(t);if(s||(t[pt]=s=new lt(t)),(r=s.add(e,r,n,a,o)).proxy)return r;if(n=function(){var t=wt,e=et?function(r){return t.call(e.src,e.listener,r)}:function(r){if(!(r=t.call(e.src,e.listener,r)))return r};return e}(),r.proxy=n,n.src=t,n.listener=r,t.addEventListener)nt||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),n,i);else if(t.attachEvent)t.attachEvent(yt(e.toString()),n);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(n)}return r}function mt(t){if("number"!=typeof t&&t&&!t.ja){var e=t.src;if(e&&e[st])e.nc(t);else{var r=t.type,n=t.proxy;e.removeEventListener?e.removeEventListener(r,n,t.capture):e.detachEvent?e.detachEvent(yt(r),n):e.addListener&&e.removeListener&&e.removeListener(n),(r=bt(e))?(r.fc(t),0==r.b&&(r.src=null,e[pt]=null)):t.a()}}}function yt(t){return t in dt?dt[t]:dt[t]="on"+t}function vt(t,e){var r=t.listener,n=t.ya||t.src;return t.oa&&mt(t),r.call(n,e)}function wt(t,e){return!!t.ja||(et?vt(t,new ot(e,this)):vt(t,e=new ot(e||c("window.event"),this)))}function bt(t){return(t=t[pt])instanceof lt?t:null}var _t="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(t){return"function"==l(t)?t:(t[_t]||(t[_t]=function(e){return t.handleEvent(e)}),t[_t])}function Ct(){E.call(this),this.c=new lt(this),this.K=this,this.F=null}_(Ct,E),Ct.prototype[st]=!0,(n=Ct.prototype).addEventListener=function(t,e,r,n){ft(this,t,e,r,n)},n.removeEventListener=function(t,e,r,n){!function t(e,r,n,i,o){if(h(r))for(var a=0;a<r.length;a++)t(e,r[a],n,i,o);else i=d(i)?!!i.capture:!!i,n=Et(n),e&&e[st]?e.Qc(r,n,i,o):e&&(e=bt(e))&&(r=e.Rc(r,n,i,o))&&mt(r)}(this,t,e,r,n)},n.dispatchEvent=function(t){var e,r=this.F;if(r)for(e=[];r;r=r.F)e.push(r);r=this.K;var n=t.type||t;if(s(t))t=new it(t,r);else if(t instanceof it)t.target=t.target||r;else{var i=t;M(t=new it(n,r),i)}if(i=!0,e)for(var o=e.length-1;!t.b&&0<=o;o--){var a=t.a=e[o];i=a.ua(n,!0,t)&&i}if(t.b||(i=(a=t.a=r).ua(n,!0,t)&&i,t.b||(i=a.ua(n,!1,t)&&i)),e)for(o=0;!t.b&&o<e.length;o++)i=(a=t.a=e[o]).ua(n,!1,t)&&i;return i},n.G=function(){Ct.S.G.call(this),this.Id(),this.F=null},n.Lb=function(t,e,r,n){return this.c.add(String(t),e,!1,r,n)},n.Mb=function(t,e,r,n){return this.c.add(String(t),e,!0,r,n)},n.Qc=function(t,e,r,n){this.c.Sc(String(t),e,r,n)},n.nc=function(t){this.c.fc(t)},n.Id=function(){this.c&&this.c.Tc()},n.ua=function(t,e,r){if(!(t=this.c.a[String(t)]))return!0;t=t.concat();for(var n=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.ja&&o.capture==e){var a=o.listener,s=o.ya||o.src;o.oa&&this.nc(o),n=!1!==a.call(s,r)&&n}}return n&&0!=r.hc};var kt=a.JSON.stringify;function xt(t,e){this.g=100,this.c=t,this.h=e,this.b=0,this.a=null}function Tt(){this.b=this.a=null}xt.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t},xt.prototype.f=function(t){this.h(t),this.b<this.g&&(this.b++,t.next=this.a,this.a=t)};var St,At=new xt(function(){return new It},function(t){t.reset()});function It(){this.next=this.b=this.a=null}function Nt(t){a.setTimeout(function(){throw t},0)}Tt.prototype.add=function(t,e){var r=this.c();r.set(t,e),this.b?this.b.next=r:this.a=r,this.b=r},Tt.prototype.f=function(){var t=null;return this.a&&(t=this.a,this.a=this.a.next,this.a||(this.b=null),t.next=null),t},Tt.prototype.g=function(t){At.f(t)},Tt.prototype.c=function(){return At.get()},It.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},It.prototype.reset=function(){this.next=this.b=this.a=null};var Pt=!1,Dt=new Tt;function Ot(){for(var t;t=Dt.f();){try{t.a.call(t.b)}catch(t){Nt(t)}Dt.g(t)}Pt=!1}function Rt(t,e){Ct.call(this),this.b=t||1,this.a=e||a,this.f=v(this.$d,this),this.g=b()}function jt(t,e,r){if("function"==l(t))r&&(t=v(t,r));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=v(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Bt(t,e,r){E.call(this),this.f=null!=r?v(t,r):t,this.c=e,this.b=v(this.Cd,this),this.a=[]}function Mt(t){E.call(this),this.b=t,this.a={}}_(Rt,Ct),(n=Rt.prototype).wa=!1,n.P=null,n.$d=function(){if(this.wa){var t=b()-this.g;0<t&&t<.8*this.b?this.P=this.a.setTimeout(this.f,this.b-t):(this.P&&(this.a.clearTimeout(this.P),this.P=null),this.Gc(),this.wa&&(this.Na(),this.start()))}},n.Gc=function(){this.dispatchEvent("tick")},n.start=function(){this.wa=!0,this.P||(this.P=this.a.setTimeout(this.f,this.b),this.g=b())},n.Na=function(){this.wa=!1,this.P&&(this.a.clearTimeout(this.P),this.P=null)},n.G=function(){Rt.S.G.call(this),this.Na(),delete this.a},_(Bt,E),(n=Bt.prototype).Ca=!1,n.ec=0,n.ba=null,n.Hc=function(t){this.a=arguments,this.ba||this.ec?this.Ca=!0:this.yb()},n.Pc=function(){this.ba&&(a.clearTimeout(this.ba),this.ba=null,this.Ca=!1,this.a=[])},n.G=function(){Bt.S.G.call(this),this.Pc()},n.Cd=function(){this.ba=null,this.Ca&&!this.ec&&(this.Ca=!1,this.yb())},n.yb=function(){this.ba=jt(this.b,this.c),this.f.apply(null,this.a)},_(Mt,E);var Ft=[];function Lt(){}(n=Mt.prototype).Jb=function(t,e,r){this.wd(t,e,r)},n.wd=function(t,e,r){h(e)||(e&&(Ft[0]=e.toString()),e=Ft);for(var n=0;n<e.length;n++){var i=ft(t,e[n],r||this.handleEvent,!1,this.b||this);if(!i)break;this.a[i.key]=i}},n.Kb=function(){R(this.a,function(t,e){this.a.hasOwnProperty(e)&&mt(t)},this),this.a={}},n.G=function(){Mt.S.G.call(this),this.Kb()},n.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qt=new Ct;function Vt(t){it.call(this,"serverreachability",t)}function Ut(t){qt.dispatchEvent(new Vt(qt,t))}function Wt(t){it.call(this,"statevent",t)}function zt(t){qt.dispatchEvent(new Wt(qt,t))}function Ht(t){it.call(this,"timingevent",t)}function Jt(t,e){if("function"!=l(t))throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){t()},e)}_(Vt,it),_(Wt,it),_(Ht,it);var Gt={NO_ERROR:0,ae:1,he:2,ge:3,de:4,fe:5,ie:6,qc:7,TIMEOUT:8,le:9},Kt={ce:"complete",pe:"success",rc:"error",qc:"abort",ne:"ready",oe:"readystatechange",TIMEOUT:"timeout",je:"incrementaldata",me:"progress",ee:"downloadprogress",qe:"uploadprogress"};function $t(){}function Qt(){}$t.prototype.a=null,$t.prototype.c=function(){return this.a||(this.a={})};var Yt,Xt={OPEN:"a",be:"b",rc:"c",ke:"d"};function Zt(){it.call(this,"d")}function te(){it.call(this,"c")}function ee(){}function re(t,e,r){this.g=t,this.da=e,this.ca=r||1,this.I=new Mt(this),this.L=ne,t=z?125:void 0,this.T=new Rt(t),this.J=null,this.b=!1,this.i=this.C=this.f=this.F=this.u=this.U=this.h=null,this.j=[],this.a=null,this.A=0,this.c=this.v=null,this.o=-1,this.l=!1,this.K=0,this.B=null,this.s=this.Y=this.H=!1}_(Zt,it),_(te,it),_(ee,$t),ee.prototype.b=function(){return new XMLHttpRequest},Yt=new ee;var ne=45e3,ie={},oe={};function ae(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||s(t))k(t,e,void 0);else{if(t.O&&"function"==typeof t.O)var r=t.O();else if(t.D&&"function"==typeof t.D)r=void 0;else if(p(t)||s(t)){r=[];for(var n=t.length,i=0;i<n;i++)r.push(i)}else for(i in r=[],n=0,t)r[n++]=i;i=(n=function(t){if(t.D&&"function"==typeof t.D)return t.D();if(s(t))return t.split("");if(p(t)){for(var e=[],r=t.length,n=0;n<r;n++)e.push(t[n]);return e}for(n in e=[],r=0,t)e[r++]=t[n];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,n[o],r&&r[o],t)}}function se(t,e){this.b={},this.a=[],this.c=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var n=0;n<r;n+=2)this.set(arguments[n],arguments[n+1])}else t&&this.fd(t)}function ce(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(n=re.prototype).ha=function(t){this.J=t},n.setTimeout=function(t){this.L=t},n.Xc=function(t){this.K=t},n.Qd=function(t){this.j=t},n.cb=function(t,e){this.F=1,this.f=t.N().za(),this.i=e,this.H=!0,this.ic(null)},n.bb=function(t,e,r){this.F=1,this.f=t.N().za(),this.i=null,this.H=e,this.ic(r)},n.ic=function(t){this.u=b(),this.fa(),this.C=this.f.N(),this.C.Aa("t",this.ca),this.A=0,this.a=this.g.sa(this.g.Da()?t:null),0<this.K&&(this.B=new Bt(v(this.oc,this,this.a),this.K)),this.I.Jb(this.a,"readystatechange",this.Hd),t=this.J?j(this.J):{},this.i?(this.v||(this.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",this.a.xa(this.C,this.v,this.i,t)):(this.v="GET",this.a.xa(this.C,this.v,null,t)),Ut(1)},n.Hd=function(t){t=t.target;var e=this.B;e&&3==t.W()?e.Hc():this.oc(t)},n.oc=function(t){try{t==this.a&&this.Ed()}catch(t){}},n.Ed=function(){var t=this.a.W(),e=this.a.Db(),r=this.a.aa();if(!(3>t||3==t&&!z&&!this.a.va()))if(this.l||4!=t||7==e||Ut(8==e||0>=r?3:2),this.pa(),this.o=r=this.a.aa(),e=this.a.va(),this.b=200==r){if(this.Td()){if(!(r=this.Kc()))return this.b=!1,this.c=3,zt(12),this.Z(),void this.ta();this.s=!0,this.Wa(r)}this.H?(this.vb(t,e),z&&this.b&&3==t&&this.Yd()):this.Wa(e),4==t&&this.Z(),this.b&&!this.l&&(4==t?this.g.Va(this):(this.b=!1,this.fa()))}else 400==r&&0<e.indexOf("Unknown SID")?(this.c=3,zt(12)):(this.c=0,zt(13)),this.Z(),this.ta()},n.Td=function(){return this.Y&&!this.s},n.Kc=function(){if(this.a){var t=this.a.ga("X-HTTP-Initial-Response");if(t&&!S(t))return t}return null},n.Md=function(){this.Y=!0},n.vb=function(t,e){for(var r=!0;!this.l&&this.A<e.length;){var n=this.Lc(e);if(n==oe){4==t&&(this.c=4,zt(14),r=!1);break}if(n==ie){this.c=4,zt(15),r=!1;break}this.Wa(n)}4==t&&0==e.length&&(this.c=1,zt(16),r=!1),this.b=this.b&&r,r||(this.Z(),this.ta())},n.Gd=function(){if(this.a){var t=this.a.W(),e=this.a.va();this.A<e.length&&(this.pa(),this.vb(t,e),this.b&&4!=t&&this.fa())}},n.Yd=function(){this.I.Jb(this.T,"tick",this.Gd),this.T.start()},n.Lc=function(t){var e=this.A,r=t.indexOf("\n",e);return-1==r?oe:(e=Number(t.substring(e,r)),isNaN(e)?ie:(r+=1)+e>t.length?oe:(t=t.substr(r,e),this.A=r+e,t))},n.Ld=function(t){this.F=2,this.f=t.N().za(),t=!1,a.navigator&&a.navigator.sendBeacon&&(t=a.navigator.sendBeacon(this.f.toString(),"")),!t&&a.Image&&((new Image).src=this.f,t=!0),t||(this.a=this.g.sa(null),this.a.xa(this.f)),this.u=b(),this.fa()},n.cancel=function(){this.l=!0,this.Z()},n.Kd=function(t){t&&this.setTimeout(t),this.h&&(this.pa(),this.fa())},n.fa=function(){this.U=b()+this.L,this.mc(this.L)},n.mc=function(t){if(null!=this.h)throw Error("WatchDog timer not null");this.h=Jt(v(this.Dd,this),t)},n.pa=function(){this.h&&(a.clearTimeout(this.h),this.h=null)},n.Dd=function(){this.h=null;var t=b();0<=t-this.U?this.md():this.mc(this.U-t)},n.md=function(){2!=this.F&&(Ut(3),zt(17)),this.Z(),this.c=2,this.ta()},n.ta=function(){this.g.Tb()||this.l||this.g.Va(this)},n.Z=function(){this.pa();var t=this.B;t&&"function"==typeof t.La&&t.La(),this.B=null,this.T.Na(),this.I.Kb(),this.a&&(t=this.a,this.a=null,t.abort(),t.La())},n.Wa=function(t){try{this.g.bc(this,t),Ut(4)}catch(t){}},(n=se.prototype).D=function(){this.Ka();for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},n.O=function(){return this.Ka(),this.a.concat()},n.Ra=function(t){return ce(this.b,t)},n.hd=function(){return 0==this.c},n.gd=function(){this.b={},this.c=this.a.length=0},n.Qb=function(t){ce(this.b,t)&&(delete this.b[t],this.c--,this.a.length>2*this.c&&this.Ka())},n.Ka=function(){if(this.c!=this.a.length){for(var t=0,e=0;t<this.a.length;){var r=this.a[t];ce(this.b,r)&&(this.a[e++]=r),t++}this.a.length=e}if(this.c!=this.a.length){var n={};for(e=t=0;t<this.a.length;)ce(n,r=this.a[t])||(this.a[e++]=r,n[r]=1),t++;this.a.length=e}},n.get=function(t,e){return ce(this.b,t)?this.b[t]:e},n.set=function(t,e){ce(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},n.fd=function(t){if(t instanceof se)for(var e=t.O(),r=0;r<e.length;r++)this.set(e[r],t.get(e[r]));else for(e in t)this.set(e,t[e])},n.forEach=function(t,e){for(var r=this.O(),n=0;n<r.length;n++){var i=r[n],o=this.get(i);t.call(e,o,i,this)}},n.Pb=function(){return new se(this)};var ue=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function le(t,e){var r;this.c=this.i=this.b="",this.h=null,this.j=this.g="",this.f=this.l=!1,t instanceof le?(this.f=void 0!==e?e:t.f,this.ma(t.b),this.$a(t.i),this.ka(t.c),this.la(t.h),this.Ba(t.g),this.Za(t.a.Gb()),this.Ya(t.j)):t&&(r=String(t).match(ue))?(this.f=!!e,this.ma(r[1]||"",!0),this.$a(r[2]||"",!0),this.ka(r[3]||"",!0),this.la(r[4]),this.Ba(r[5]||"",!0),this.Za(r[6]||"",!0),this.Ya(r[7]||"",!0)):(this.f=!!e,this.a=new we(null,this.f))}function he(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function pe(t,e,r){return s(t)?(t=encodeURI(t).replace(e,de),r&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function de(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}(n=le.prototype).toString=function(){var t=[],e=this.b;e&&t.push(pe(e,fe,!0),":");var r=this.c;return(r||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(pe(e,fe,!0),"@"),t.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.h)&&t.push(":",String(r))),(r=this.g)&&(this.Sa()&&"/"!=r.charAt(0)&&t.push("/"),t.push(pe(r,"/"==r.charAt(0)?me:ge,!0))),(r=this.Ic())&&t.push("?",r),(r=this.j)&&t.push("#",pe(r,ve)),t.join("")},n.resolve=function(t){var e=this.N(),r=t.qd();r?e.ma(t.b):r=t.rd(),r?e.$a(t.i):r=t.Sa(),r?e.ka(t.c):r=t.od();var n=t.g;if(r)e.la(t.h);else if(r=t.Sb()){if("/"!=n.charAt(0))if(this.Sa()&&!this.Sb())n="/"+n;else{var i=e.g.lastIndexOf("/");-1!=i&&(n=e.g.substr(0,i+1)+n)}if(".."==(i=n)||"."==i)n="";else if(N(i,"./")||N(i,"/.")){n=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?n&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),n&&a==i.length&&o.push("")):(o.push(s),n=!0)}n=o.join("/")}else n=i}return r?e.Ba(n):r=t.pd(),r?e.Za(t.a.Gb()):r=t.nd(),r&&e.Ya(t.j),e},n.N=function(){return new le(this)},n.ma=function(t,e){this.M(),(this.b=e?he(t,!0):t)&&(this.b=this.b.replace(/:$/,""))},n.qd=function(){return!!this.b},n.$a=function(t,e){this.M(),this.i=e?he(t):t},n.rd=function(){return!!this.i},n.ka=function(t,e){this.M(),this.c=e?he(t,!0):t},n.Sa=function(){return!!this.c},n.la=function(t){if(this.M(),t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);this.h=t}else this.h=null},n.od=function(){return null!=this.h},n.Ba=function(t,e){this.M(),this.g=e?he(t,!0):t},n.Sb=function(){return!!this.g},n.pd=function(){return""!==this.a.toString()},n.Za=function(t,e){this.M(),t instanceof we?(this.a=t,this.a.Oc(this.f)):(e||(t=pe(t,ye)),this.a=new we(t,this.f))},n.Ic=function(){return this.a.toString()},n.m=function(t,e){this.M(),this.a.set(t,e)},n.Aa=function(t,e){this.M(),h(e)||(e=[String(e)]),this.a.lc(t,e)},n.Ya=function(t,e){this.M(),this.j=e?he(t):t},n.nd=function(){return!!this.j},n.za=function(){return this.M(),this.m("zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^b()).toString(36)),this},n.M=function(){if(this.l)throw Error("Tried to modify a read-only Uri")};var fe=/[#\/\?@]/g,ge=/[#\?:]/g,me=/[#\?]/g,ye=/[#\?@]/g,ve=/#/g;function we(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function be(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function _e(){this.a=this.b=null}function Ee(){this.a=new se}function Ce(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[f]||(t[f]=++g)):e.charAt(0)+t}function ke(t,e){this.a=t,this.b=e}function xe(t){this.g=t||Te,a.PerformanceNavigationTiming?t=0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(a.Ja&&a.Ja.Vb&&a.Ja.Vb()&&a.Ja.Vb().te),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Ee),this.b=null,this.c=[]}(n=we.prototype).V=function(){if(!this.a&&(this.a=new se,this.b=0,this.c)){var t=this;!function(t,e){if(t){t=t.split("&");for(var r=0;r<t.length;r++){var n=t[r].indexOf("="),i=null;if(0<=n){var o=t[r].substring(0,n);i=t[r].substring(n+1)}else o=t[r];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(this.c,function(e,r){t.add(decodeURIComponent(e.replace(/\+/g," ")),r)})}},n.add=function(t,e){this.V(),this.ia(),t=this.$(t);var r=this.a.get(t);return r||this.a.set(t,r=[]),r.push(e),this.b+=1,this},n.Ib=function(t){this.V(),t=this.$(t),this.a.Ra(t)&&(this.ia(),this.b-=this.a.get(t).length,this.a.Qb(t))},n.Hb=function(t){return this.V(),t=this.$(t),this.a.Ra(t)},n.forEach=function(t,e){this.V(),this.a.forEach(function(r,n){k(r,function(r){t.call(e,r,n,this)},this)},this)},n.O=function(){this.V();for(var t=this.a.D(),e=this.a.O(),r=[],n=0;n<e.length;n++)for(var i=t[n],o=0;o<i.length;o++)r.push(e[n]);return r},n.D=function(t){this.V();var e=[];if(s(t))this.Hb(t)&&(e=x(e,this.a.get(this.$(t))));else{t=this.a.D();for(var r=0;r<t.length;r++)e=x(e,t[r])}return e},n.set=function(t,e){return this.V(),this.ia(),t=this.$(t),this.Hb(t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},n.get=function(t,e){return t&&0<(t=this.D(t)).length?String(t[0]):e},n.lc=function(t,e){this.Ib(t),0<e.length&&(this.ia(),this.a.set(this.$(t),T(e)),this.b+=e.length)},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.O(),r=0;r<e.length;r++){var n=e[r],i=encodeURIComponent(String(n));n=this.D(n);for(var o=0;o<n.length;o++){var a=i;""!==n[o]&&(a+="="+encodeURIComponent(String(n[o]))),t.push(a)}}return this.c=t.join("&")},n.ia=function(){this.c=null},n.Gb=function(){var t=new we;return t.c=this.c,this.a&&(t.a=this.a.Pb(),t.b=this.b),t},n.$=function(t){return t=String(t),this.f&&(t=t.toLowerCase()),t},n.Oc=function(t){t&&!this.f&&(this.V(),this.ia(),this.a.forEach(function(t,e){var r=e.toLowerCase();e!=r&&(this.Ib(e),this.lc(r,t))},this)),this.f=t},_(function(){},function(){}),(n=be.prototype).R=null,n.Wc=function(t){this.h=t},n.Vc=function(t){this.i=t,t=this.a.Cb(this.i),zt(3);var e=this.a.H.b;null!=e?(this.f=this.a.Oa(e[0]),this.R=1,this.rb()):(t.Aa("MODE","init"),!this.a.o&&this.a.j&&t.Aa("X-HTTP-Session-Id",this.a.j),this.b=new re(this,void 0,void 0),this.b.ha(this.h),this.b.bb(t,!1,null),this.R=0)},n.rb=function(){var t=this.a.H.a;if(null!=t)zt(4),t?(zt(10),this.a.na(this,!1)):(zt(11),this.a.na(this,!0));else{this.b=new re(this,void 0,void 0),this.b.ha(this.h),t=this.a.Bb(this.f,this.i),zt(4),t.Aa("TYPE","xmlhttp");var e=this.a.j,r=this.a.Fa;e&&r&&t.m(e,r),this.b.bb(t,!1,this.f)}},n.sa=function(t){return this.a.sa(t)},n.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},n.Tb=function(){return!1},n.bc=function(t,e){if(this.c=t.o,0==this.R)if(this.Uc(t),e){try{var r=this.a.U.a(e)}catch(t){return void this.a.ab(this)}this.f=this.a.Oa(r[0])}else this.a.ab(this);else 1==this.R&&(this.g?zt(6):"11111"==e?(zt(5),this.g=!0,this.Ac()&&(this.c=200,this.b.cancel(),zt(11),this.a.na(this,!0))):(zt(7),this.g=!1))},n.Va=function(){this.c=this.b.o,this.b.b?0==this.R?(this.R=1,this.rb()):1==this.R&&(this.g?(zt(11),this.a.na(this,!0)):(zt(10),this.a.na(this,!1))):(0==this.R?zt(8):1==this.R&&zt(9),this.a.ab(this))},n.Uc=function(t){if(!this.a.o&&(t=t.a)){var e=t.ga("X-Client-Wire-Protocol");this.l=e||null,this.a.j&&(t=t.ga("X-HTTP-Session-Id"))&&this.a.kc(t)}},n.Da=function(){return this.a.Da()},n.Pa=function(){return this.a.Pa()},n.Ac=function(){return!U||10<=Number(Y)},(n=Ee.prototype).add=function(t){this.a.set(Ce(t),t)},n.ed=function(t){this.a.Qb(Ce(t))},n.jd=function(){this.a.gd()},n.Rb=function(){return this.a.hd()},n.Ob=function(t){return this.a.Ra(Ce(t))},n.D=function(){return this.a.D()};var Te=10;function Se(){this.b=this.a=void 0}function Ae(){this.f=new Se}function Ie(t,e,r,n,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(n)}catch(t){}}(n=xe.prototype).kb=function(t){!this.a&&(N(t,"spdy")||N(t,"quic")||N(t,"h2"))&&(this.f=this.g,this.a=new Ee,this.b&&(this.Ha(this.b),this.b=null))},n.Ub=function(){return!!this.b||!!this.a&&this.a.a.c>=this.f},n.Mc=function(){return this.b?1:this.a?this.a.a.c:0},n.Ta=function(t){return this.b?this.b==t:!!this.a&&this.a.Ob(t)},n.Ha=function(t){this.a?this.a.add(t):this.b=t},n.gc=function(t){this.b&&this.b==t?this.b=null:this.a&&this.a.Ob(t)&&this.a.ed(t)},n.cancel=function(){this.c=this.Xb(),this.b?(this.b.cancel(),this.b=null):this.a&&!this.a.Rb()&&(k(this.a.D(),function(t){t.cancel()}),this.a.jd())},n.Xb=function(){if(null!=this.b)return this.c.concat(this.b.j);if(null!=this.a&&!this.a.Rb()){var t=this.c;return k(this.a.D(),function(e){t=t.concat(e.j)}),t}return T(this.c)},n.wc=function(t){this.c=this.c.concat(t)},n.Bc=function(){this.c.length=0},Se.prototype.stringify=function(t){return a.JSON.stringify(t,this.a)},Se.prototype.parse=function(t){return a.JSON.parse(t,this.b)},Ae.prototype.b=function(t,e,r){var n=r||"";try{ae(t,function(t,r){var i=t;d(t)&&(i=kt(t)),e.push(n+r+"="+encodeURIComponent(i))})}catch(t){throw e.push(n+"type="+encodeURIComponent("_badmap")),t}},Ae.prototype.c=function(t,e,r){for(var n=-1;;){var i=["count="+e];-1==n?0<e?(n=t[0].a,i.push("ofs="+n)):n=0:i.push("ofs="+n);for(var o=!0,a=0;a<e;a++){var s=t[a].a,c=t[a].b;if(0>(s-=n))n=Math.max(0,t[a].a-100),o=!1;else try{this.b(c,i,"req"+s+"_")}catch(t){r&&r(c)}}if(o)return i.join("&")}},Ae.prototype.a=function(t){return this.f.parse(t)};var Ne=a.JSON.parse;function Pe(t){Ct.call(this),this.headers=new se,this.l=t||null,this.b=!1,this.v=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.o=this.A=!1,this.u=0,this.s=null,this.J=De,this.H=this.L=this.I=!1}_(Pe,Ct);var De="",Oe=/^https?$/i,Re=["POST","PUT"];function je(t){return"content-type"==t.toLowerCase()}function Be(t,e){return{type:e,lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total}}function Me(t,e,r){t:{for(n in r){var n=!1;break t}n=!0}if(n)return t;if(r=function(t){var e="";return R(t,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(r),s(t)){if(e=encodeURIComponent(String(e)),e+=r=null!=r?"="+encodeURIComponent(String(r)):""){if(0>(r=t.indexOf("#"))&&(r=t.length),0>(n=t.indexOf("?"))||n>r){n=r;var i=""}else i=t.substring(n+1,r);r=(t=[t.substr(0,n),i,t.substr(r)])[1],t[1]=e?r?r+"&"+e:e:r,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return t.m(e,r),t}function Fe(t){this.gb=22,this.g=[],this.H=new _e,this.da=this.fb=this.C=this.Ea=this.a=this.Fa=this.j=this.ca=this.f=this.J=this.h=null,this.sc=!0,this.zc=this.L=0,this.uc=!!c("internalChannelParams.failFast",t),this.Ga=this.v=this.s=this.l=this.i=this.b=null,this.eb=!0,this.B=this.jb=this.K=-1,this.Y=this.u=this.A=0,this.tc=c("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Fc=c("internalChannelParams.retryDelaySeedMs",t)||1e4,this.pc=c("internalChannelParams.forwardChannelMaxRetries",t)||2,this.ib=c("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.xc=t&&t.ue||void 0,this.F=void 0,this.vc=0,this.T=t&&t.supportsCrossDomainXhr||!1,this.I="",this.c=new xe(t&&t.concurrentRequestLimit),this.U=new Ae,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.hb=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.se&&(this.eb=!1)}function Le(){}function qe(){if(U&&!(10<=Number(Y)))throw Error("Environmental error: no available transport.")}function Ve(t,e){Ct.call(this),this.a=new Fe(e),this.g=t,this.o=e&&e.testUrl?e.testUrl:function(t){for(var e=arguments[0],r=1;r<arguments.length;r++){var n,i=arguments[r];if(0==i.lastIndexOf("/",0))e=i;else(n=""==e)||(n=0<=(n=e.length-1)&&e.indexOf("/",n)==n),e+=n?i:"/"+i}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.cd(t),t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.tb&&(t?t["X-WebChannel-Client-Profile"]=e.tb:t={"X-WebChannel-Client-Profile":e.tb}),this.a.Pd(t),(t=e&&e.httpHeadersOverwriteParam)&&!S(t)&&this.a.Nd(t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!S(e)&&(this.a.Od(e),null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new ze(this)}function Ue(t){Zt.call(this);var e=t.__sm__;if(e){t:{for(var r in e){t=r;break t}t=void 0}(this.f=t)?(t=this.f,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function We(){te.call(this),this.status=1}function ze(t){this.a=t}(n=Pe.prototype).Sd=function(t){this.I=t},n.xa=function(t,e,r,n){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+t);e=e?e.toUpperCase():"GET",this.C=t,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.Ec(),this.v=this.l?this.l.c():Yt.c(),this.a.onreadystatechange=v(this.ac,this),this.L&&"onprogress"in this.a&&(this.a.onprogress=v(function(t){this.Zb(t,!0)},this),this.a.upload&&(this.a.upload.onprogress=v(this.Zb,this)));try{this.B=!0,this.a.open(e,String(t),!0),this.B=!1}catch(t){return void this.Ab(t)}t=r||"";var i=this.headers.Pb();n&&ae(n,function(t,e){i.set(e,t)}),n=function(t){t:{for(var e=je,r=t.length,n=s(t)?t.split(""):t,i=0;i<r;i++)if(i in n&&e.call(void 0,n[i],i,t)){e=i;break t}e=-1}return 0>e?null:s(t)?t.charAt(e):t[e]}(i.O()),r=a.FormData&&t instanceof a.FormData,!(0<=C(Re,e))||n||r||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.J&&(this.a.responseType=this.J),"withCredentials"in this.a&&this.a.withCredentials!==this.I&&(this.a.withCredentials=this.I);try{this.sb(),0<this.u&&((this.H=function(t){return U&&Z(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.u,this.a.ontimeout=v(this.Nb,this)):this.s=jt(this.Nb,this.u,this)),this.o=!0,this.a.send(t),this.o=!1}catch(t){this.Ab(t)}},n.Ec=function(){return this.l?this.l.b():Yt.b()},n.Nb=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.u+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},n.Ab=function(t){this.b=!1,this.a&&(this.g=!0,this.a.abort(),this.g=!1),this.f=t,this.h=5,this.xb(),this.qa()},n.xb=function(){this.A||(this.A=!0,this.dispatchEvent("complete"),this.dispatchEvent("error"))},n.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),this.qa())},n.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),this.qa(!0)),Pe.S.G.call(this)},n.ac=function(){this.i||(this.B||this.o||this.g?this.$b():this.Bd())},n.Bd=function(){this.$b()},n.$b=function(){if(this.b&&void 0!==o&&(!this.v[1]||4!=this.W()||2!=this.aa()))if(this.o&&4==this.W())jt(this.ac,0,this);else if(this.dispatchEvent("readystatechange"),this.td()){this.b=!1;try{this.vd()?(this.dispatchEvent("complete"),this.dispatchEvent("success")):(this.h=6,this.f=this.Fb()+" ["+this.aa()+"]",this.xb())}finally{this.qa()}}},n.Zb=function(t,e){this.dispatchEvent(Be(t,"progress")),this.dispatchEvent(Be(t,e?"downloadprogress":"uploadprogress"))},n.qa=function(t){if(this.a){this.sb();var e=this.a,r=this.v[0]?u:null;this.v=this.a=null,t||this.dispatchEvent("ready");try{e.onreadystatechange=r}catch(t){}}},n.sb=function(){this.a&&this.H&&(this.a.ontimeout=null),this.s&&(a.clearTimeout(this.s),this.s=null)},n.td=function(){return 4==this.W()},n.vd=function(){var t=this.aa();t:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}return e||0===t&&!this.ud()},n.ud=function(){var t=String(this.C).match(ue)[1]||null;return!t&&a.self&&a.self.location&&(t=(t=a.self.location.protocol).substr(0,t.length-1)),Oe.test(t?t.toLowerCase():"")},n.W=function(){return this.a?this.a.readyState:0},n.aa=function(){try{return 2<this.W()?this.a.status:-1}catch(t){return-1}},n.Fb=function(){try{return 2<this.W()?this.a.statusText:""}catch(t){return""}},n.va=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},n.Nc=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ne(e)}},n.ga=function(t){return this.a?this.a.getResponseHeader(t):null},n.Db=function(){return this.h},n.dd=function(){return s(this.f)?this.f:String(this.f)},(n=Fe.prototype).qb=8,n.w=1,n.bd=function(t,e,r){zt(0),this.Ea=e,this.ca=r||{},this.o&&(this.H.b=[],this.H.a=!1),this.Dc(t)},n.Qa=function(){if(this.lb(),3==this.w){var t=this.L++,e=this.C.N();e.m("SID",this.I),e.m("RID",t),e.m("TYPE","terminate"),this.ea(e),new re(this,t,void 0).Ld(e)}this.Yb()},n.Dc=function(t){this.v=new be(this),null===this.f&&this.v.Wc(this.h);var e=t;this.f&&this.h&&(e=Me(t,this.f,this.h)),this.v.Vc(e)},n.Cc=function(){this.C=this.Cb(this.Ea),this.Ma()},n.lb=function(){this.v&&(this.v.abort(),this.v=null),this.a&&(this.a.cancel(),this.a=null),this.l&&(a.clearTimeout(this.l),this.l=null),this.ra(),this.c.cancel(),this.i&&(a.clearTimeout(this.i),this.i=null)},n.cd=function(t){this.h=t},n.Pd=function(t){this.J=t},n.Nd=function(t){this.f=t},n.Od=function(t){this.j=t},n.kc=function(t){this.Fa=t},n.Rd=function(){this.T=!0},n.jc=function(t){this.b=t},n.sd=function(){return!this.Ga},n.Xa=function(t){this.g.push(new ke(this.zc++,t)),3==this.w&&this.Ma()},n.Jc=function(){return this.uc?0:this.pc},n.Tb=function(){return 0==this.w},n.Ma=function(){this.c.Ub()||this.i||(this.i=Jt(v(this.dc,this),0),this.A=0)},n.xd=function(t){return!(this.c.Mc()>=this.c.f-(this.i?1:0))&&(this.i?(this.g=t.j.concat(this.g),!0):!(1==this.w||2==this.w||this.A>=this.Jc())&&(this.i=Jt(v(this.dc,this,t),this.Eb(this.A)),this.A++,!0))},n.dc=function(t){this.i=null,this.Xd(t)},n.Xd=function(t){1==this.w?t||(this.Fd(),this.w=2):3==this.w&&(t?this.Wb(t):0==this.g.length||this.c.Ub()||this.Wb())},n.Fd=function(){this.L=Math.floor(1e5*Math.random());var t=this.L++,e=new re(this,t,void 0),r=this.h;this.J&&(r?M(r=j(r),this.J):r=this.J),null===this.f&&e.ha(r);var n=this.wb(e),i=this.C.N();i.m("RID",t),0<this.gb&&i.m("CVER",this.gb),this.o&&this.j&&i.m("X-HTTP-Session-Id",this.j),this.ea(i),this.f&&r&&Me(i,this.f,r),this.c.Ha(e),this.hb?(i.m("$req",n),i.m("SID","null"),e.Md(),e.cb(i,null)):e.cb(i,n)},n.Wb=function(t){var e;e=t?t.da:this.L++;var r=this.C.N();r.m("SID",this.I),r.m("RID",e),r.m("AID",this.K),this.ea(r),this.f&&this.h&&Me(r,this.f,this.h),e=new re(this,e,this.A+1),null===this.f&&e.ha(this.h),t&&this.Jd(t),t=this.wb(e),e.setTimeout(Math.round(.5*this.ib)+Math.round(.5*this.ib*Math.random())),this.c.Ha(e),e.cb(r,t)},n.ea=function(t){this.b&&ae({},function(e,r){t.m(r,e)})},n.wb=function(t){var e=Math.min(this.g.length,1e3),r=this.b?v(this.b.yc,this.b,this):null;return r=this.U.c(this.g,e,r),t.Qd(this.g.splice(0,e)),r},n.Jd=function(t){this.g=t.j.concat(this.g)},n.zb=function(){if(!this.a&&!this.l){this.Y=1;var t=this.cc;St||function(){var t=a.Promise.resolve(void 0);St=function(){t.then(Ot)}}(),Pt||(St(),Pt=!0),Dt.add(t,this),this.u=0}},n.Ua=function(){return!(this.a||this.l||3<=this.u)&&(this.Y++,this.l=Jt(v(this.cc,this),this.Eb(this.u)),this.u++,!0)},n.cc=function(){this.l=null,this.Vd()},n.Vd=function(){this.a=new re(this,"rpc",this.Y),null===this.f&&this.a.ha(this.h),this.a.Xc(this.vc);var t=this.fb.N();t.m("RID","rpc"),t.m("SID",this.I),t.m("CI",this.Ga?"0":"1"),t.m("AID",this.K),this.ea(t),t.m("TYPE","xmlhttp"),this.f&&this.h&&Me(t,this.f,this.h),this.F&&this.a.setTimeout(this.F),this.a.bb(t,!0,this.da)},n.na=function(t,e){var r=t.l;r&&this.c.kb(r),this.Ga=this.eb&&e,this.B=t.c,this.Cc()},n.ab=function(t){this.B=t.c,this.X(2)},n.bc=function(t,e){if(0!=this.w&&(this.a==t||this.c.Ta(t)))if(this.B=t.o,!t.s&&this.c.Ta(t)&&3==this.w){try{var r=this.U.a(e)}catch(t){r=null}h(r)&&3==r.length?this.ld(r,t):this.X(11)}else(t.s||this.a==t)&&this.ra(),S(e)||(r=this.U.a(e),this.Ad(r,t))},n.ld=function(t,e){0==t[0]?this.kd(e):(this.jb=t[1],0<this.jb-this.K&&this.Ud(t[2])&&!this.s&&(this.s=Jt(v(this.yd,this),6e3)))},n.kd=function(t){if(!this.l){if(this.a){if(!(this.a.u+3e3<t.u))return;this.ra(),this.a.cancel(),this.a=null}this.Ua(),zt(18)}},n.Ud=function(t){return 37500>t&&!this.sd()&&0==this.u},n.Oa=function(t){return this.sc?this.b?this.b.$c(t):t:null},n.yd=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,this.Ua(),zt(19))},n.ra=function(){null!=this.s&&(a.clearTimeout(this.s),this.s=null)},n.Va=function(t){var e=null;if(this.a==t){this.ra(),this.a=null;var r=2}else{if(!this.c.Ta(t))return;e=t.j,this.c.gc(t),r=1}if(this.B=t.o,0!=this.w)if(t.b)1==r?(r=b()-t.u,qt.dispatchEvent(new Ht(qt,t.i?t.i.length:0,r,this.A)),this.Ma()):this.zb();else{var n=t.c;if(3==n||0==n&&0<this.B||!(1==r&&this.xd(t)||2==r&&this.Ua()))switch(e&&0<e.length&&this.c.wc(e),n){case 1:this.X(5);break;case 4:this.X(10);break;case 3:this.X(6);break;default:this.X(2)}}},n.Eb=function(t){var e=this.tc+Math.floor(Math.random()*this.Fc);return this.Pa()||(e*=2),e*t},n.ad=function(t){if(this.o&&(t=t.a)){var e=t.ga("X-Client-Wire-Protocol");e&&this.c.kb(e),this.j&&(t=t.ga("X-HTTP-Session-Id"))&&(this.kc(t),this.C.m(this.j,t))}},n.Ad=function(t,e){for(var r=this.b&&this.b.Ia?[]:null,n=0;n<t.length;n++){var i=t[n];if(this.K=i[0],i=i[1],2==this.w)if("c"==i[0]){this.I=i[1],this.da=this.Oa(i[2]);var o=i[3];null!=o&&(this.qb=o),null!=(i=i[5])&&"number"==typeof i&&0<i&&(this.F=1.5*i),this.ad(e),this.w=3,this.b&&this.b.pb(),this.Wd(e)}else"stop"!=i[0]&&"close"!=i[0]||this.X(7);else 3==this.w&&("stop"==i[0]||"close"==i[0]?(r&&0!=r.length&&(this.b.Ia(this,r),r.length=0),"stop"==i[0]?this.X(7):this.Qa()):"noop"!=i[0]&&(r?r.push(i):this.b&&this.b.ob(i)),this.u=0)}r&&0!=r.length&&this.b.Ia(this,r)},n.Wd=function(t){this.fb=this.Bb(this.da,this.Ea),t.s?(this.c.gc(t),t.Kd(this.F),this.a=t):this.zb()},n.X=function(t){if(2==t){var e=null;this.b&&(e=null);var r=v(this.Zd,this);e||(e=new le("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||e.ma("https"),e.za()),function(t,e){var r=new Lt,n=new Image;n.onload=w(Ie,r,n,"TestLoadImage: loaded",!0,e),n.onerror=w(Ie,r,n,"TestLoadImage: error",!1,e),n.onabort=w(Ie,r,n,"TestLoadImage: abort",!1,e),n.ontimeout=w(Ie,r,n,"TestLoadImage: timeout",!1,e),a.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=t}(e.toString(),r)}else zt(2);this.zd(t)},n.Zd=function(t){zt(t?2:1)},n.zd=function(t){this.w=0,this.b&&this.b.nb(t),this.Yb(),this.lb()},n.Yb=function(){this.w=0,this.B=-1,this.b&&(0==this.c.Xb().length&&0==this.g.length||(this.c.Bc(),T(this.g),this.g.length=0),this.b.mb())},n.Cb=function(t){return this.ub(null,t)},n.Bb=function(t,e){return this.ub(this.Da()?t:null,e)},n.ub=function(t,e){var r=function(t){return t instanceof le?t.N():new le(t,void 0)}(e);if(""!=r.c)t&&r.ka(t+"."+r.c),r.la(r.h);else{var n,i=a.location;n=t?t+"."+i.hostname:i.hostname,r=function(t,e,r,n){var i=new le(null,void 0);return t&&i.ma(t),e&&i.ka(e),r&&i.la(r),n&&i.Ba(n),i}(i.protocol,n,+i.port,e)}return this.ca&&R(this.ca,function(t,e){r.m(e,t)}),t=this.j,e=this.Fa,t&&e&&r.m(t,e),r.m("VER",this.qb),this.ea(r),r},n.sa=function(t){if(t&&!this.T)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Pe(this.xc)).Sd(this.T),t},n.Pa=function(){return!!this.b&&!0},n.Da=function(){return this.T},(n=Le.prototype).Ia=null,n.pb=function(){},n.ob=function(){},n.nb=function(){},n.mb=function(){},n.yc=function(){},n.$c=function(t){return t},qe.prototype.a=function(t,e){return new Ve(t,e)},_(Ve,Ct),(n=Ve.prototype).addEventListener=function(t,e,r,n){Ve.S.addEventListener.call(this,t,e,r,n)},n.removeEventListener=function(t,e,r,n){Ve.S.removeEventListener.call(this,t,e,r,n)},n.Yc=function(){this.a.jc(this.f),this.l&&this.a.Rd(),this.a.bd(this.o,this.g,this.b||void 0)},n.close=function(){this.a.Qa()},n.Zc=function(t){if(s(t)){var e={};e.__data__=t,this.a.Xa(e)}else this.h?((e={}).__data__=kt(t),this.a.Xa(e)):this.a.Xa(t)},n.G=function(){this.a.jc(null),delete this.f,this.a.Qa(),delete this.a,Ve.S.G.call(this)},_(Ue,Zt),_(We,te),_(ze,Le),ze.prototype.pb=function(){this.a.dispatchEvent("a")},ze.prototype.ob=function(t){this.a.dispatchEvent(new Ue(t))},ze.prototype.nb=function(t){this.a.dispatchEvent(new We(t))},ze.prototype.mb=function(){this.a.dispatchEvent("b")};var He=w(function(t,e){function r(){}r.prototype=t.prototype;var n=new r;return t.apply(n,Array.prototype.slice.call(arguments,1)),n},qe);qe.prototype.createWebChannel=qe.prototype.a,Ve.prototype.send=Ve.prototype.Zc,Ve.prototype.open=Ve.prototype.Yc,Ve.prototype.close=Ve.prototype.close,Gt.NO_ERROR=0,Gt.TIMEOUT=8,Gt.HTTP_ERROR=6,Kt.COMPLETE="complete",Qt.EventType=Xt,Xt.OPEN="a",Xt.CLOSE="b",Xt.ERROR="c",Xt.MESSAGE="d",Ct.prototype.listen=Ct.prototype.Lb,Pe.prototype.listenOnce=Pe.prototype.Mb,Pe.prototype.getLastError=Pe.prototype.dd,Pe.prototype.getLastErrorCode=Pe.prototype.Db,Pe.prototype.getStatus=Pe.prototype.aa,Pe.prototype.getStatusText=Pe.prototype.Fb,Pe.prototype.getResponseJson=Pe.prototype.Nc,Pe.prototype.getResponseText=Pe.prototype.va,Pe.prototype.send=Pe.prototype.xa;var Je={createWebChannelTransport:He,ErrorCode:Gt,EventType:Kt,WebChannel:Qt,XhrIo:Pe},Ge=Je.createWebChannelTransport,Ke=Je.ErrorCode,$e=Je.EventType,Qe=Je.WebChannel,Ye=Je.XhrIo;e.default=Je},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=(n=r(2))&&"object"==typeof n&&"default"in n?n.default:n,o=r(1),a={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},s=function(t){function e(r,n,i){var o=t.call(this,n)||this;return Object.setPrototypeOf(o,e.prototype),o.code=r,o.details=i,o}return o.__extends(e,t),e}(Error);var c=function(){function t(t){this.app=t}return t.prototype.getAuthToken=function(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.app.INTERNAL.getToken()];case 1:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 2:return e.sent(),[2,void 0];case 3:return[2]}})})},t.prototype.getInstanceIdToken=function(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.app.messaging?[4,this.app.messaging().getToken()]:[2,void 0];case 1:return(t=e.sent())?[2,t]:[2,void 0];case 2:return e.sent(),[2,void 0];case 3:return[2]}})})},t.prototype.getContext=function(){return o.__awaiter(this,void 0,void 0,function(){var t,e;return o.__generator(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return t=r.sent(),[4,this.getInstanceIdToken()];case 2:return e=r.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u(t,e){var r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}var l=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map(function(t){return e.encode(t)});if("function"==typeof t||"object"==typeof t)return u(t,function(t){return e.encode(t)});throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null===t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var r=parseFloat(t.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+t);return r;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(t){return e.decode(t)}):"function"==typeof t||"object"==typeof t?u(t,function(t){return e.decode(t)}):t},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h=function(){function t(t,e){void 0===e&&(e="us-central1"),this.app_=t,this.region_=e,this.serializer=new l,this.emulatorOrigin=null,this.contextProvider=new c(t)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId,r=this.region_;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+r+"/"+t:"https://"+r+"-"+e+".cloudfunctions.net/"+t},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var r=this;return function(n){return r.call(t,n,e||{})}},t.prototype.postJSON=function(t,e,r){return o.__awaiter(this,void 0,void 0,function(){var n,i;return o.__generator(this,function(o){switch(o.label){case 0:r.append("Content-Type","application/json"),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(t,{method:"POST",body:JSON.stringify(e),headers:r})];case 2:return n=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,n.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:n.status,json:i}]}})})},t.prototype.call=function(t,e,r){return o.__awaiter(this,void 0,void 0,function(){var n,i,c,u,l,h,p,d;return o.__generator(this,function(o){switch(o.label){case 0:return n=this._url(t),e=this.serializer.encode(e),i={data:e},c=new Headers,[4,this.contextProvider.getContext()];case 1:return(u=o.sent()).authToken&&c.append("Authorization","Bearer "+u.authToken),u.instanceIdToken&&c.append("Firebase-Instance-ID-Token",u.instanceIdToken),l=r.timeout||7e4,[4,Promise.race([this.postJSON(n,i,c),(f=l,new Promise(function(t,e){setTimeout(function(){e(new s("deadline-exceeded","deadline-exceeded"))},f)}))])];case 2:if(h=o.sent(),p=function(t,e,r){var n=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=n,o=void 0;try{var c=e.error;if(c){var u=c.status;if("string"==typeof u){if(!a[u])return new s("internal","internal");n=a[u]}i=u;var l=c.message;"string"==typeof l&&(i=l),void 0!==(o=c.details)&&(o=r.decode(o))}}catch(t){}return"ok"===n?null:new s(n,i,o)}(h.status,h.json,this.serializer))throw p;if(!h.json)throw new s("internal","Response is not valid JSON object.");if(void 0===(d=h.json.data)&&(d=h.json.result),void 0===d)throw new s("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}var f})})},t}(),p="functions";
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d(t,e,r){return new h(t,r)}function f(t){var e={Functions:h};t.INTERNAL.registerService(p,d,e,void 0,!0)}f(i),e.registerFunctions=f},function(t,e,r){"use strict";r.r(e),r.d(e,"registerMessaging",function(){return O}),r.d(e,"isSupported",function(){return R});var n,i,o,a=r(2),s=r.n(a),c=r(1),u=r(32),l={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",TOKEN_UNSUBSCRIBE_FAILED:"token-unsubscribe-failed",TOKEN_UPDATE_FAILED:"token-update-failed",TOKEN_UPDATE_NO_TOKEN:"token-update-no-token",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key",INVALID_PUBLIC_VAPID_KEY:"invalid-public-vapid-key",USE_PUBLIC_KEY_BEFORE_GET_TOKEN:"use-public-key-before-get-token",PUBLIC_KEY_DECRYPTION_FAILED:"public-vapid-key-decryption-failed"},h=((n={})[l.AVAILABLE_IN_WINDOW]="This method is available in a Window context.",n[l.AVAILABLE_IN_SW]="This method is available in a service worker context.",n[l.SHOULD_BE_INHERITED]="This method should be overriden by extended classes.",n[l.BAD_SENDER_ID]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",n[l.PERMISSION_DEFAULT]="The required permissions were not granted and dismissed instead.",n[l.PERMISSION_BLOCKED]="The required permissions were not granted and blocked instead.",n[l.UNSUPPORTED_BROWSER]="This browser doesn't support the API's required to use the firebase SDK.",n[l.NOTIFICATIONS_BLOCKED]="Notifications have been blocked.",n[l.FAILED_DEFAULT_REGISTRATION]="We are unable to register the default service worker. {$browserErrorMessage}",n[l.SW_REGISTRATION_EXPECTED]="A service worker registration was the expected input.",n[l.GET_SUBSCRIPTION_FAILED]="There was an error when trying to get any existing Push Subscriptions.",n[l.INVALID_SAVED_TOKEN]="Unable to access details of the saved token.",n[l.SW_REG_REDUNDANT]="The service worker being used for push was made redundant.",n[l.TOKEN_SUBSCRIBE_FAILED]="A problem occured while subscribing the user to FCM: {$message}",n[l.TOKEN_SUBSCRIBE_NO_TOKEN]="FCM returned no token when subscribing the user to push.",n[l.TOKEN_SUBSCRIBE_NO_PUSH_SET]="FCM returned an invalid response when getting an FCM token.",n[l.TOKEN_UNSUBSCRIBE_FAILED]="A problem occured while unsubscribing the user from FCM: {$message}",n[l.TOKEN_UPDATE_FAILED]="A problem occured while updating the user from FCM: {$message}",n[l.TOKEN_UPDATE_NO_TOKEN]="FCM returned no token when updating the user to push.",n[l.USE_SW_BEFORE_GET_TOKEN]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",n[l.INVALID_DELETE_TOKEN]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",n[l.DELETE_TOKEN_NOT_FOUND]="The deletion attempt for token could not be performed as the token was not found.",n[l.DELETE_SCOPE_NOT_FOUND]="The deletion attempt for service worker scope could not be performed as the scope was not found.",n[l.BG_HANDLER_FUNCTION_EXPECTED]="The input to setBackgroundMessageHandler() must be a function.",n[l.NO_WINDOW_CLIENT_TO_MSG]="An attempt was made to message a non-existant window client.",n[l.UNABLE_TO_RESUBSCRIBE]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",n[l.NO_FCM_TOKEN_FOR_RESUBSCRIBE]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",n[l.FAILED_TO_DELETE_TOKEN]="Unable to delete the currently saved token.",n[l.NO_SW_IN_REG]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",n[l.INCORRECT_GCM_SENDER_ID]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",n[l.BAD_SCOPE]="The service worker scope must be a string with at least one character.",n[l.BAD_VAPID_KEY]="The public VAPID key is not a Uint8Array with 65 bytes.",n[l.BAD_SUBSCRIPTION]="The subscription must be a valid PushSubscription.",n[l.BAD_TOKEN]="The FCM Token used for storage / lookup was not a valid token string.",n[l.BAD_PUSH_SET]="The FCM push set used for storage / lookup was not not a valid push set string.",n[l.FAILED_DELETE_VAPID_KEY]="The VAPID key could not be deleted.",n[l.INVALID_PUBLIC_VAPID_KEY]="The public VAPID key must be a string.",n[l.PUBLIC_KEY_DECRYPTION_FAILED]="The public VAPID key did not equal 65 bytes when decrypted.",n),p=new u.ErrorFactory("messaging","Messaging",h),d=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),f="https://fcm.googleapis.com";
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function g(t,e){if(null==t||null==e)return!1;if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(var r=new DataView(t),n=new DataView(e),i=0;i<t.byteLength;i++)if(r.getUint8(i)!==n.getUint8(i))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m(t){return function(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(c.__spread)(e)))}(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t.TYPE_OF_MSG="firebase-messaging-msg-type",t.DATA="firebase-messaging-msg-data"}(i||(i={})),function(t){t.PUSH_MSG_RECEIVED="push-msg-received",t.NOTIFICATION_CLICKED="notification-clicked"}(o||(o={}));var y=function(){function t(){}return t.prototype.getToken=function(t,e,r){return Object(c.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,u,h,y;return Object(c.__generator)(this,function(c){switch(c.label){case 0:n=m(e.getKey("p256dh")),i=m(e.getKey("auth")),o="authorized_entity="+t+"&endpoint="+e.endpoint+"&encryption_key="+n+"&encryption_auth="+i,g(r.buffer,d.buffer)||(a=m(r),o+="&application_pub_key="+a),(s=new Headers).append("Content-Type","application/x-www-form-urlencoded"),u={method:"POST",headers:s,body:o},c.label=1;case 1:return c.trys.push([1,4,,5]),[4,fetch(f+"/fcm/connect/subscribe",u)];case 2:return[4,c.sent().json()];case 3:return h=c.sent(),[3,5];case 4:throw c.sent(),p.create(l.TOKEN_SUBSCRIBE_FAILED);case 5:if(h.error)throw y=h.error.message,p.create(l.TOKEN_SUBSCRIBE_FAILED,{message:y});if(!h.token)throw p.create(l.TOKEN_SUBSCRIBE_NO_TOKEN);if(!h.pushSet)throw p.create(l.TOKEN_SUBSCRIBE_NO_PUSH_SET);return[2,{token:h.token,pushSet:h.pushSet}]}})})},t.prototype.updateToken=function(t,e,r,n,i){return Object(c.__awaiter)(this,void 0,void 0,function(){var o,a,s,u,h,y,v,w;return Object(c.__generator)(this,function(c){switch(c.label){case 0:o=m(n.getKey("p256dh")),a=m(n.getKey("auth")),s="push_set="+r+"&token="+e+"&authorized_entity="+t+"&endpoint="+n.endpoint+"&encryption_key="+o+"&encryption_auth="+a,g(i.buffer,d.buffer)||(u=m(i),s+="&application_pub_key="+u),(h=new Headers).append("Content-Type","application/x-www-form-urlencoded"),y={method:"POST",headers:h,body:s},c.label=1;case 1:return c.trys.push([1,4,,5]),[4,fetch(f+"/fcm/connect/subscribe",y)];case 2:return[4,c.sent().json()];case 3:return v=c.sent(),[3,5];case 4:throw c.sent(),p.create(l.TOKEN_UPDATE_FAILED);case 5:if(v.error)throw w=v.error.message,p.create(l.TOKEN_UPDATE_FAILED,{message:w});if(!v.token)throw p.create(l.TOKEN_UPDATE_NO_TOKEN);return[2,v.token]}})})},t.prototype.deleteToken=function(t,e,r){return Object(c.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s;return Object(c.__generator)(this,function(c){switch(c.label){case 0:n="authorized_entity="+t+"&token="+e+"&pushSet="+r,(i=new Headers).append("Content-Type","application/x-www-form-urlencoded"),o={method:"POST",headers:i,body:n},c.label=1;case 1:return c.trys.push([1,4,,5]),[4,fetch(f+"/fcm/connect/unsubscribe",o)];case 2:return[4,c.sent().json()];case 3:if((a=c.sent()).error)throw s=a.error.message,p.create(l.TOKEN_UNSUBSCRIBE_FAILED,{message:s});return[3,5];case 4:throw c.sent(),p.create(l.TOKEN_UNSUBSCRIBE_FAILED);case 5:return[2]}})})},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(e),n=new Uint8Array(r.length),i=0;i<r.length;++i)n[i]=r.charCodeAt(i);return n}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w="undefined",b="fcm_token_object_Store";function _(){var t=indexedDB.open(w);t.onerror=function(t){},t.onsuccess=function(e){!function(t){if(t.objectStoreNames.contains(b)){var e=t.transaction(b).objectStore(b),r=new y,n=e.openCursor();n.onerror=function(t){console.warn("Unable to cleanup old IDB.",t)},n.onsuccess=function(){var e=n.result;if(e){var i=e.value;r.deleteToken(i.fcmSenderId,i.fcmToken,i.fcmPushSet),e.continue()}else t.close(),indexedDB.deleteDatabase(w)}}}(t.result)}}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E=function(){function t(){this.dbPromise=null}return t.prototype.get=function(t){return this.createTransaction(function(e){return e.get(t)})},t.prototype.getIndex=function(t,e){return this.createTransaction(function(r){return r.index(t).get(e)})},t.prototype.put=function(t){return this.createTransaction(function(e){return e.put(t)},"readwrite")},t.prototype.delete=function(t){return this.createTransaction(function(e){return e.delete(t)},"readwrite")},t.prototype.closeDatabase=function(){return Object(c.__awaiter)(this,void 0,void 0,function(){return Object(c.__generator)(this,function(t){switch(t.label){case 0:return this.dbPromise?[4,this.dbPromise]:[3,2];case 1:t.sent().close(),this.dbPromise=null,t.label=2;case 2:return[2]}})})},t.prototype.createTransaction=function(t,e){return void 0===e&&(e="readonly"),Object(c.__awaiter)(this,void 0,void 0,function(){var r,n,i,o;return Object(c.__generator)(this,function(a){switch(a.label){case 0:return[4,this.getDb()];case 1:return r=a.sent(),n=r.transaction(this.objectStoreName,e),i=n.objectStore(this.objectStoreName),[4,C(t(i))];case 2:return o=a.sent(),[2,new Promise(function(t,e){n.oncomplete=function(){t(o)},n.onerror=function(){e(n.error)}})]}})})},t.prototype.getDb=function(){var t=this;return this.dbPromise||(this.dbPromise=new Promise(function(e,r){var n=indexedDB.open(t.dbName,t.dbVersion);n.onsuccess=function(){e(n.result)},n.onerror=function(){t.dbPromise=null,r(n.error)},n.onupgradeneeded=function(e){return t.onDbUpgrade(n,e)}})),this.dbPromise},t}();function C(t){return new Promise(function(e,r){t.onsuccess=function(){e(t.result)},t.onerror=function(){r(t.error)}})}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dbName="fcm_token_details_db",e.dbVersion=3,e.objectStoreName="fcm_token_object_Store",e}return Object(c.__extends)(e,t),e.prototype.onDbUpgrade=function(t,e){var r=t.result;switch(e.oldVersion){case 0:(n=r.createObjectStore(this.objectStoreName,{keyPath:"swScope"})).createIndex("fcmSenderId","fcmSenderId",{unique:!1}),n.createIndex("fcmToken","fcmToken",{unique:!0});case 1:_();case 2:var n,i=(n=t.transaction.objectStore(this.objectStoreName)).openCursor();i.onsuccess=function(){var t=i.result;if(t){var e=t.value,r=Object(c.__assign)({},e);e.createTime||(r.createTime=Date.now()),"string"==typeof e.vapidKey&&(r.vapidKey=v(e.vapidKey)),"string"==typeof e.auth&&(r.auth=v(e.auth).buffer),"string"==typeof e.auth&&(r.p256dh=v(e.p256dh).buffer),t.update(r),t.continue()}}}},e.prototype.getTokenDetailsFromToken=function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){return Object(c.__generator)(this,function(e){if(!t)throw p.create(l.BAD_TOKEN);return x({fcmToken:t}),[2,this.getIndex("fcmToken",t)]})})},e.prototype.getTokenDetailsFromSWScope=function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){return Object(c.__generator)(this,function(e){if(!t)throw p.create(l.BAD_SCOPE);return x({swScope:t}),[2,this.get(t)]})})},e.prototype.saveTokenDetails=function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){return Object(c.__generator)(this,function(e){if(!t.swScope)throw p.create(l.BAD_SCOPE);if(!t.vapidKey)throw p.create(l.BAD_VAPID_KEY);if(!t.endpoint||!t.auth||!t.p256dh)throw p.create(l.BAD_SUBSCRIPTION);if(!t.fcmSenderId)throw p.create(l.BAD_SENDER_ID);if(!t.fcmToken)throw p.create(l.BAD_TOKEN);if(!t.fcmPushSet)throw p.create(l.BAD_PUSH_SET);return x(t),[2,this.put(t)]})})},e.prototype.deleteToken=function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var e;return Object(c.__generator)(this,function(r){switch(r.label){case 0:return"string"!=typeof t||0===t.length?[2,Promise.reject(p.create(l.INVALID_DELETE_TOKEN))]:[4,this.getTokenDetailsFromToken(t)];case 1:if(!(e=r.sent()))throw p.create(l.DELETE_TOKEN_NOT_FOUND);return[4,this.delete(e.swScope)];case 2:return r.sent(),[2,e]}})})},e}(E);function x(t){if(t.fcmToken&&("string"!=typeof t.fcmToken||0===t.fcmToken.length))throw p.create(l.BAD_TOKEN);if(t.swScope&&("string"!=typeof t.swScope||0===t.swScope.length))throw p.create(l.BAD_SCOPE);if(t.vapidKey&&(!(t.vapidKey instanceof Uint8Array)||65!==t.vapidKey.length))throw p.create(l.BAD_VAPID_KEY);if(t.endpoint&&("string"!=typeof t.endpoint||0===t.endpoint.length))throw p.create(l.BAD_SUBSCRIPTION);if(t.auth&&!(t.auth instanceof ArrayBuffer))throw p.create(l.BAD_SUBSCRIPTION);if(t.p256dh&&!(t.p256dh instanceof ArrayBuffer))throw p.create(l.BAD_SUBSCRIPTION);if(t.fcmSenderId&&("string"!=typeof t.fcmSenderId||0===t.fcmSenderId.length))throw p.create(l.BAD_SENDER_ID);if(t.fcmPushSet&&("string"!=typeof t.fcmPushSet||0===t.fcmPushSet.length))throw p.create(l.BAD_PUSH_SET)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dbName="fcm_vapid_details_db",e.dbVersion=1,e.objectStoreName="fcm_vapid_object_Store",e}return Object(c.__extends)(e,t),e.prototype.onDbUpgrade=function(t){t.result.createObjectStore(this.objectStoreName,{keyPath:"swScope"})},e.prototype.getVapidFromSWScope=function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var e;return Object(c.__generator)(this,function(r){switch(r.label){case 0:if("string"!=typeof t||0===t.length)throw p.create(l.BAD_SCOPE);return[4,this.get(t)];case 1:return[2,(e=r.sent())?e.vapidKey:void 0]}})})},e.prototype.saveVapidDetails=function(t,e){return Object(c.__awaiter)(this,void 0,void 0,function(){var r;return Object(c.__generator)(this,function(n){if("string"!=typeof t||0===t.length)throw p.create(l.BAD_SCOPE);if(null===e||65!==e.length)throw p.create(l.BAD_VAPID_KEY);return r={swScope:t,vapidKey:e},[2,this.put(r)]})})},e.prototype.deleteVapidDetails=function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var e;return Object(c.__generator)(this,function(r){switch(r.label){case 0:return[4,this.getVapidFromSWScope(t)];case 1:if(!(e=r.sent()))throw p.create(l.DELETE_SCOPE_NOT_FOUND);return[4,this.delete(t)];case 2:return r.sent(),[2,e]}})})},e}(E),S="messagingSenderId",A=function(){function t(t){var e=this;if(!t.options[S]||"string"!=typeof t.options[S])throw p.create(l.BAD_SENDER_ID);this.messagingSenderId=t.options[S],this.tokenDetailsModel=new k,this.vapidDetailsModel=new T,this.iidModel=new y,this.app=t,this.INTERNAL={delete:function(){return e.delete()}}}return t.prototype.getToken=function(){return Object(c.__awaiter)(this,void 0,void 0,function(){var t,e,r,n,i;return Object(c.__generator)(this,function(o){switch(o.label){case 0:if("denied"===(t=this.getNotificationPermission_()))throw p.create(l.NOTIFICATIONS_BLOCKED);return"granted"!==t?[2,null]:[4,this.getSWRegistration_()];case 1:return e=o.sent(),[4,this.getPublicVapidKey_()];case 2:return r=o.sent(),[4,this.getPushSubscription(e,r)];case 3:return n=o.sent(),[4,this.tokenDetailsModel.getTokenDetailsFromSWScope(e.scope)];case 4:return(i=o.sent())?[2,this.manageExistingToken(e,n,r,i)]:[2,this.getNewToken(e,n,r)]}})})},t.prototype.manageExistingToken=function(t,e,r,n){return Object(c.__awaiter)(this,void 0,void 0,function(){return Object(c.__generator)(this,function(i){switch(i.label){case 0:return function(t,e,r){if(!r.vapidKey||!g(e.buffer,r.vapidKey.buffer))return!1;var n=t.endpoint===r.endpoint,i=g(t.getKey("auth"),r.auth),o=g(t.getKey("p256dh"),r.p256dh);return n&&i&&o}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,r,n)?Date.now()<n.createTime+6048e5?[2,n.fcmToken]:[2,this.updateToken(t,e,r,n)]:[4,this.deleteTokenFromDB(n.fcmToken)];case 1:return i.sent(),[2,this.getNewToken(t,e,r)]}})})},t.prototype.updateToken=function(t,e,r,n){return Object(c.__awaiter)(this,void 0,void 0,function(){var i,o,a;return Object(c.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,6]),[4,this.iidModel.updateToken(this.messagingSenderId,n.fcmToken,n.fcmPushSet,e,r)];case 1:return i=s.sent(),o={swScope:t.scope,vapidKey:r,fcmSenderId:this.messagingSenderId,fcmToken:i,fcmPushSet:n.fcmPushSet,createTime:Date.now(),endpoint:e.endpoint,auth:e.getKey("auth"),p256dh:e.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(o)];case 2:return s.sent(),[4,this.vapidDetailsModel.saveVapidDetails(t.scope,r)];case 3:return s.sent(),[2,i];case 4:return a=s.sent(),[4,this.deleteToken(n.fcmToken)];case 5:throw s.sent(),a;case 6:return[2]}})})},t.prototype.getNewToken=function(t,e,r){return Object(c.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(c.__generator)(this,function(o){switch(o.label){case 0:return[4,this.iidModel.getToken(this.messagingSenderId,e,r)];case 1:return n=o.sent(),i={swScope:t.scope,vapidKey:r,fcmSenderId:this.messagingSenderId,fcmToken:n.token,fcmPushSet:n.pushSet,createTime:Date.now(),endpoint:e.endpoint,auth:e.getKey("auth"),p256dh:e.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(i)];case 2:return o.sent(),[4,this.vapidDetailsModel.saveVapidDetails(t.scope,r)];case 3:return o.sent(),[2,n.token]}})})},t.prototype.deleteToken=function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var e,r;return Object(c.__generator)(this,function(n){switch(n.label){case 0:return[4,this.deleteTokenFromDB(t)];case 1:return n.sent(),[4,this.getSWRegistration_()];case 2:return(e=n.sent())?[4,e.pushManager.getSubscription()]:[3,4];case 3:if(r=n.sent())return[2,r.unsubscribe()];n.label=4;case 4:return[2,!0]}})})},t.prototype.deleteTokenFromDB=function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var e;return Object(c.__generator)(this,function(r){switch(r.label){case 0:return[4,this.tokenDetailsModel.deleteToken(t)];case 1:return e=r.sent(),[4,this.iidModel.deleteToken(e.fcmSenderId,e.fcmToken,e.fcmPushSet)];case 2:return r.sent(),[2]}})})},t.prototype.getPushSubscription=function(t,e){return t.pushManager.getSubscription().then(function(r){return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})})},t.prototype.requestPermission=function(){throw p.create(l.AVAILABLE_IN_WINDOW)},t.prototype.useServiceWorker=function(t){throw p.create(l.AVAILABLE_IN_WINDOW)},t.prototype.usePublicVapidKey=function(t){throw p.create(l.AVAILABLE_IN_WINDOW)},t.prototype.onMessage=function(t,e,r){throw p.create(l.AVAILABLE_IN_WINDOW)},t.prototype.onTokenRefresh=function(t,e,r){throw p.create(l.AVAILABLE_IN_WINDOW)},t.prototype.setBackgroundMessageHandler=function(t){throw p.create(l.AVAILABLE_IN_SW)},t.prototype.delete=function(){return Object(c.__awaiter)(this,void 0,void 0,function(){return Object(c.__generator)(this,function(t){switch(t.label){case 0:return[4,Promise.all([this.tokenDetailsModel.closeDatabase(),this.vapidDetailsModel.closeDatabase()])];case 1:return t.sent(),[2]}})})},t.prototype.getNotificationPermission_=function(){return Notification.permission},t.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel},t.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel},t.prototype.getIidModel=function(){return this.iidModel},t}();var I=function(t){function e(e){var r=t.call(this,e)||this;return r.bgMessageHandler=null,self.addEventListener("push",function(t){r.onPush(t)}),self.addEventListener("pushsubscriptionchange",function(t){r.onSubChange(t)}),self.addEventListener("notificationclick",function(t){r.onNotificationClick(t)}),r}return Object(c.__extends)(e,t),e.prototype.onPush=function(t){t.waitUntil(this.onPush_(t))},e.prototype.onSubChange=function(t){t.waitUntil(this.onSubChange_(t))},e.prototype.onNotificationClick=function(t){t.waitUntil(this.onNotificationClick_(t))},e.prototype.onPush_=function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var e,r,n,i,o,a;return Object(c.__generator)(this,function(s){switch(s.label){case 0:if(!t.data)return[2];try{e=t.data.json()}catch(t){return[2]}return[4,this.hasVisibleClients_()];case 1:return s.sent()?[2,this.sendMessageToWindowClients_(e)]:(r=this.getNotificationData_(e))?(n=r.title||"",[4,this.getSWRegistration_()]):[3,3];case 2:return i=s.sent(),o=r.actions,a=Notification.maxActions,o&&a&&o.length>a&&console.warn("This browser only supports "+a+" actions.The remaining actions will not be displayed."),[2,i.showNotification(n,r)];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(e)]:[3,5];case 4:return s.sent(),[2];case 5:return[2]}})})},e.prototype.onSubChange_=function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var t,e,r,n;return Object(c.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.getSWRegistration_()];case 1:return t=i.sent(),[3,3];case 2:throw e=i.sent(),p.create(l.UNABLE_TO_RESUBSCRIBE,{message:e});case 3:return i.trys.push([3,5,,8]),[4,t.pushManager.getSubscription()];case 4:return i.sent(),[3,8];case 5:return r=i.sent(),[4,this.getTokenDetailsModel().getTokenDetailsFromSWScope(t.scope)];case 6:if(!(n=i.sent()))throw r;return[4,this.deleteToken(n.fcmToken)];case 7:throw i.sent(),r;case 8:return[2]}})})},e.prototype.onNotificationClick_=function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var e,r,n,i;return Object(c.__generator)(this,function(a){switch(a.label){case 0:return t.notification&&t.notification.data&&t.notification.data.FCM_MSG?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(e=t.notification.data.FCM_MSG).notification&&(r=e.fcmOptions&&e.fcmOptions.link||e.notification.click_action)?[4,this.getWindowClient_(r)]:[2]):[2];case 1:return(n=a.sent())?[3,3]:[4,self.clients.openWindow(r)];case 2:return n=a.sent(),[3,5];case 3:return[4,n.focus()];case 4:n=a.sent(),a.label=5;case 5:return n?(delete e.notification,delete e.fcmOptions,i=P(o.NOTIFICATION_CLICKED,e),[2,this.attemptToMessageClient_(n,i)]):[2]}})})},e.prototype.getNotificationData_=function(t){var e;if(t&&"object"==typeof t.notification){var r=Object(c.__assign)({},t.notification);return r.data=Object(c.__assign)({},t.notification.data,((e={}).FCM_MSG=t,e)),r}},e.prototype.setBackgroundMessageHandler=function(t){if(!t||"function"!=typeof t)throw p.create(l.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler=t},e.prototype.getWindowClient_=function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var e,r,n,i;return Object(c.__generator)(this,function(o){switch(o.label){case 0:return e=new URL(t,self.location.href).href,[4,N()];case 1:for(r=o.sent(),n=null,i=0;i<r.length;i++)if(new URL(r[i].url,self.location.href).href===e){n=r[i];break}return[2,n]}})})},e.prototype.attemptToMessageClient_=function(t,e){return Object(c.__awaiter)(this,void 0,void 0,function(){return Object(c.__generator)(this,function(r){if(!t)throw p.create(l.NO_WINDOW_CLIENT_TO_MSG);return t.postMessage(e),[2]})})},e.prototype.hasVisibleClients_=function(){return Object(c.__awaiter)(this,void 0,void 0,function(){return Object(c.__generator)(this,function(t){switch(t.label){case 0:return[4,N()];case 1:return[2,t.sent().some(function(t){return"visible"===t.visibilityState})]}})})},e.prototype.sendMessageToWindowClients_=function(t){return Object(c.__awaiter)(this,void 0,void 0,function(){var e,r,n=this;return Object(c.__generator)(this,function(i){switch(i.label){case 0:return[4,N()];case 1:return e=i.sent(),r=P(o.PUSH_MSG_RECEIVED,t),[4,Promise.all(e.map(function(t){return n.attemptToMessageClient_(t,r)}))];case 2:return i.sent(),[2]}})})},e.prototype.getSWRegistration_=function(){return Object(c.__awaiter)(this,void 0,void 0,function(){return Object(c.__generator)(this,function(t){return[2,self.registration]})})},e.prototype.getPublicVapidKey_=function(){return Object(c.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(c.__generator)(this,function(r){switch(r.label){case 0:return[4,this.getSWRegistration_()];case 1:if(!(t=r.sent()))throw p.create(l.SW_REGISTRATION_EXPECTED);return[4,this.getVapidDetailsModel().getVapidFromSWScope(t.scope)];case 2:return null==(e=r.sent())?[2,d]:[2,e]}})})},e}(A);function N(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function P(t,e){var r;return(r={})[i.TYPE_OF_MSG]=t,r[i.DATA]=e,r
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var D=function(t){function e(e){var r=t.call(this,e)||this;return r.registrationToUse=null,r.publicVapidKeyToUse=null,r.manifestCheckPromise=null,r.messageObserver=null,r.tokenRefreshObserver=null,r.onMessageInternal=Object(u.createSubscribe)(function(t){r.messageObserver=t}),r.onTokenRefreshInternal=Object(u.createSubscribe)(function(t){r.tokenRefreshObserver=t}),r.setupSWMessageListener_(),r}return Object(c.__extends)(e,t),e.prototype.getToken=function(){return Object(c.__awaiter)(this,void 0,void 0,function(){return Object(c.__generator)(this,function(e){switch(e.label){case 0:return this.manifestCheckPromise||(this.manifestCheckPromise=function(){return Object(c.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(c.__generator)(this,function(r){switch(r.label){case 0:if(!(t=document.querySelector('link[rel="manifest"]')))return[2];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,fetch(t.href)];case 2:return[4,r.sent().json()];case 3:return e=r.sent(),[3,5];case 4:return r.sent(),[2];case 5:if(!e||!e.gcm_sender_id)return[2];if("103953800507"!==e.gcm_sender_id)throw p.create(l.INCORRECT_GCM_SENDER_ID);return[2]}})})}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()),[4,this.manifestCheckPromise];case 1:return e.sent(),[2,t.prototype.getToken.call(this)]}})})},e.prototype.requestPermission=function(){return Object(c.__awaiter)(this,void 0,void 0,function(){var t;return Object(c.__generator)(this,function(e){switch(e.label){case 0:return"granted"===this.getNotificationPermission_()?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?p.create(l.PERMISSION_BLOCKED):p.create(l.PERMISSION_DEFAULT)}})})},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw p.create(l.SW_REGISTRATION_EXPECTED);if(null!=this.registrationToUse)throw p.create(l.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse=t},e.prototype.usePublicVapidKey=function(t){if("string"!=typeof t)throw p.create(l.INVALID_PUBLIC_VAPID_KEY);if(null!=this.publicVapidKeyToUse)throw p.create(l.USE_PUBLIC_KEY_BEFORE_GET_TOKEN);var e=v(t);if(65!==e.length)throw p.create(l.PUBLIC_KEY_DECRYPTION_FAILED);this.publicVapidKeyToUse=e},e.prototype.onMessage=function(t,e,r){return"function"==typeof t?this.onMessageInternal(t,e,r):this.onMessageInternal(t)},e.prototype.onTokenRefresh=function(t,e,r){return"function"==typeof t?this.onTokenRefreshInternal(t,e,r):this.onTokenRefreshInternal(t)},e.prototype.waitForRegistrationToActivate_=function(t){var e=t.installing||t.waiting||t.active;return new Promise(function(r,n){if(e)if("activated"!==e.state)if("redundant"!==e.state){var i=function(){if("activated"===e.state)r(t);else{if("redundant"!==e.state)return;n(p.create(l.SW_REG_REDUNDANT))}e.removeEventListener("statechange",i)};e.addEventListener("statechange",i)}else n(p.create(l.SW_REG_REDUNDANT));else r(t);else n(p.create(l.NO_SW_IN_REG))})},e.prototype.getSWRegistration_=function(){var t=this;return this.registrationToUse?this.waitForRegistrationToActivate_(this.registrationToUse):(this.registrationToUse=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch(function(t){throw p.create(l.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:t.message})}).then(function(e){return t.waitForRegistrationToActivate_(e).then(function(){return t.registrationToUse=e,e.update(),e})}))},e.prototype.getPublicVapidKey_=function(){return Object(c.__awaiter)(this,void 0,void 0,function(){return Object(c.__generator)(this,function(t){return this.publicVapidKeyToUse?[2,this.publicVapidKeyToUse]:[2,d]})})},e.prototype.setupSWMessageListener_=function(){var t=this;navigator.serviceWorker.addEventListener("message",function(e){if(e.data&&e.data[i.TYPE_OF_MSG]){var r=e.data;switch(r[i.TYPE_OF_MSG]){case o.PUSH_MSG_RECEIVED:case o.NOTIFICATION_CLICKED:var n=r[i.DATA];t.messageObserver&&t.messageObserver.next(n)}}},!1)},e}(A);function O(t){var e={isSupported:R};t.INTERNAL.registerService("messaging",function(t){if(!R())throw p.create(l.UNSUPPORTED_BROWSER);return self&&"ServiceWorkerGlobalScope"in self?new I(t):new D(t)},e)}function R(){return self&&"ServiceWorkerGlobalScope"in self?"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}O(s.a)},function(t,e,r){"use strict";r.r(e),r.d(e,"registerStorage",function(){return Xt});var n=r(2),i=r.n(n),o="https://firebasestorage.googleapis.com",a="https://firebasestorage.googleapis.com",s="/v0",c="/v0",u=12e4,l=6e4,h=-9007199254740991,p=function(){function t(t,e){this.code_=f(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return f(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),d={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function f(t){return"storage/"+t}function g(){return new p(d.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function m(){return new p(d.CANCELED,"User canceled the upload/download.")}function y(){return new p(d.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function v(){return new p(d.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function w(t,e,r){return new p(d.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+r)}function b(){return new p(d.APP_DELETED,"The Firebase app was deleted.")}function _(t,e){return new p(d.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function E(t){throw new p(d.INTERNAL_ERROR,"Internal error: "+t)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function k(t){switch(t){case C.RAW:case C.BASE64:case C.BASE64URL:case C.DATA_URL:return;default:throw"Expected one of the event types: ["+C.RAW+", "+C.BASE64+", "+C.BASE64URL+", "+C.DATA_URL+"]."}}var x=function(t,e){this.data=t,this.contentType=e||null};function T(t,e){switch(t){case C.RAW:return new x(S(e));case C.BASE64:case C.BASE64URL:return new x(A(t,e));case C.DATA_URL:return new x(function(t){var e=new I(t);return e.base64?A(C.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw _(C.DATA_URL,"Malformed data URL.")}return S(e)}(e.rest)}(e),function(t){return new I(t).contentType}(e))}throw g()}function S(t){for(var e=[],r=0;r<t.length;r++){var n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|63&n);else if(55296==(64512&n))if(r<t.length-1&&56320==(64512&t.charCodeAt(r+1)))n=65536|(1023&n)<<10|1023&t.charCodeAt(++r),e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n);else e.push(239,191,189);else 56320==(64512&n)?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|63&n)}return new Uint8Array(e)}function A(t,e){switch(t){case C.BASE64:var r=-1!==e.indexOf("-"),n=-1!==e.indexOf("_");if(r||n)throw _(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break;case C.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw _(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(e){throw _(t,"Invalid character found")}for(var s=new Uint8Array(a.length),c=0;c<a.length;c++)s[c]=a.charCodeAt(c);return s}var I=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw _(C.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=e[1]||null;null!=r&&(this.base64=(n=r,i=";base64",n.length>=i.length&&n.substring(n.length-i.length)===i),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1);var n,i;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */};var N,P={STATE_CHANGED:"state_changed"},D={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},O={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function R(t){switch(t){case D.RUNNING:case D.PAUSING:case D.CANCELING:return O.RUNNING;case D.PAUSED:return O.PAUSED;case D.SUCCESS:return O.SUCCESS;case D.CANCELED:return O.CANCELED;case D.ERROR:default:return O.ERROR}}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function B(t,e){for(var r in t)j(t,r)&&e(r,t[r])}function M(t){if(null==t)return{};var e={};return B(t,function(t,r){e[t]=r}),e}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F(t){return new Promise(t)}function L(t){return Promise.resolve(t)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function q(t){return null!=t}function V(t){return void 0!==t}function U(t){return"function"==typeof t}function W(t){return"object"==typeof t}function z(t){return W(t)&&null!==t}function H(t){return"string"==typeof t||t instanceof String}function J(t){return G()&&t instanceof Blob}function G(){return"undefined"!=typeof Blob}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(N||(N={}));
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var K=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=N.NO_ERROR,this.sendPromise_=F(function(e,r){t.xhr_.addEventListener("abort",function(r){t.errorCode_=N.ABORT,e(t)}),t.xhr_.addEventListener("error",function(r){t.errorCode_=N.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(r){e(t)})})}return t.prototype.send=function(t,e,r,n){var i=this;if(this.sent_)throw E("cannot .send() more than once");(this.sent_=!0,this.xhr_.open(e,t,!0),q(n))&&B(n,function(t,e){i.xhr_.setRequestHeader(t,e.toString())});return q(r)?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw E("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw E("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw E("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){q(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){q(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),$=function(){function t(){}return t.prototype.createXhrIo=function(){return new K},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Q(t){var e,r;try{e=JSON.parse(t)}catch(t){return null}return W(r=e)&&!Array.isArray(r)?e:null}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var r,n;try{r=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===r.path)return r;throw n=e,new p(d.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")},t.makeFromUrl=function(e){var r=null;for(var n=[{regex:new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i"),indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://firebasestorage\\.googleapis\\.com/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(t){t.path_=decodeURIComponent(t.path)}}],i=0;i<n.length;i++){var o=n[i],a=o.regex.exec(e);if(a){var s=a[o.indices.bucket],c=a[o.indices.path];c||(c=""),r=new t(s,c),o.postModify(r);break}}if(null==r)throw function(t){return new p(d.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t,e){var r=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?r:t+"/"+r}function Z(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t){return o+s+t}function et(t){return o+c+t}function rt(t){var e=encodeURIComponent,r="?";return B(t,function(t,n){var i=e(t)+"="+e(n);r=r+i+"&"}),r=r.slice(0,-1)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t,e){return e}var it=function(t,e,r,n){this.server=t,this.local=e||t,this.writable=!!r,this.xform=n||nt},ot=null;function at(){if(ot)return ot;var t=[];t.push(new it("bucket")),t.push(new it("generation")),t.push(new it("metageneration")),t.push(new it("name","fullPath",!0));var e=new it("name");e.xform=function(t,e){return function(t){return!H(t)||t.length<2?t:Z(t=t)}(e)},t.push(e);var r=new it("size");return r.xform=function(t,e){return q(e)?+e:e},t.push(r),t.push(new it("timeCreated")),t.push(new it("updated")),t.push(new it("md5Hash",null,!0)),t.push(new it("cacheControl",null,!0)),t.push(new it("contentDisposition",null,!0)),t.push(new it("contentEncoding",null,!0)),t.push(new it("contentLanguage",null,!0)),t.push(new it("contentType",null,!0)),t.push(new it("metadata","customMetadata",!0)),ot=t}function st(t,e,r){for(var n={type:"file"},i=r.length,o=0;o<i;o++){var a=r[o];n[a.local]=a.xform(n,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var r=t.bucket,n=t.fullPath,i=new Y(r,n);return e.makeStorageReference(i)}})}(n,t),n}function ct(t,e,r){var n=Q(e);return null===n?null:st(t,n,r)}function ut(t,e){var r=Q(e);if(null===r)return null;if(!H(r.downloadTokens))return null;var n=r.downloadTokens;if(0===n.length)return null;var i=encodeURIComponent;return n.split(",").map(function(e){var r=t.bucket,n=t.fullPath;return function(t){return a+s+t}("/b/"+i(r)+"/o/"+i(n))+rt({alt:"media",token:e})})[0]}function lt(t,e){for(var r={},n=e.length,i=0;i<n;i++){var o=e[i];o.writable&&(r[o.server]=t[o.local])}return JSON.stringify(r)}function ht(t){if(!(t&&W(t)))throw"Expected Metadata object.";for(var e in t){var r=t[e];if("customMetadata"===e){if(!W(r))throw"Expected object for 'customMetadata' mapping."}else if(z(r))throw"Mapping for '"+e+"' cannot be an object."}}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t,e,r){for(var n=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){n=o;break}var a,s,c,u,l,h;if(!(n<=r.length&&r.length<=i))throw a=n,s=i,c=t,u=r.length,a===s?(l=a,h=1===a?"argument":"arguments"):(l="between "+a+" and "+s,h="arguments"),new p(d.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+c+"`: Expected "+l+" "+h+", received "+u+".");for(o=0;o<r.length;o++)try{e[o].validator(r[o])}catch(e){throw e instanceof Error?w(o,t,e.message):w(o,t,e)}}var dt=function(t,e){var r=this;this.validator=function(e){r.optional&&!V(e)||t(e)},this.optional=!!e};function ft(t,e){function r(t){if(!H(t))throw"Expected string."}var n,i,o;return t?(i=r,o=t,n=function(t){i(t),o(t)}):n=r,new dt(n,e)}function gt(){return new dt(function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||G()&&t instanceof Blob))throw"Expected Blob or File."})}function mt(t){return new dt(ht,t)}function yt(){return new dt(function(t){if(!(function(t){return"number"==typeof t||t instanceof Number}(t)&&t>=0))throw"Expected a number 0 or greater."})}function vt(t,e){return new dt(function(e){if(!(null===e||q(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)},e)}function wt(t){return new dt(function(t){if(!(null===t||U(t)))throw"Expected a Function."},t)}function bt(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function _t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=bt();if(void 0!==r){for(var n=new r,i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}if(G())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Et=function(){function t(t,e){var r=0,n="";J(t)?(this.data_=t,r=t.size,n=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=n}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,r){if(J(this.data_)){var n=function(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}(this.data_,e,r);return null===n?null:new t(n)}return new t(new Uint8Array(this.data_.buffer,e,r-e),!0)},t.getBlob=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(G()){var n=e.map(function(e){return e instanceof t?e.data_:e});return new t(_t.apply(null,n))}var i=e.map(function(t){return H(t)?T(C.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]}),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t,e){return-1!==t.indexOf(e)}var kt=function(t,e,r,n){this.url=t,this.method=e,this.handler=r,this.timeout=n,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t){if(!t)throw g()}function Tt(t,e){return function(r,n){var i=ct(t,n,e);return xt(null!==i),i}}function St(t){return function(e,r){var n,i,o;return 401===e.getStatus()?n=new p(d.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,n=new p(d.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,n=new p(d.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):n=r,n.setServerResponseProp(r.serverResponseProp()),n}}function At(t){var e=St(t);return function(r,n){var i,o=e(r,n);return 404===r.getStatus()&&(i=t.path,o=new p(d.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),o.setServerResponseProp(n.serverResponseProp()),o}}function It(t,e,r){var n=tt(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new kt(n,"GET",Tt(t,r),i);return o.errorHandler=At(e),o}function Nt(t,e,r){var n=tt(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new kt(n,"GET",function(t,e){return function(r,n){var i=ct(t,n,e);return xt(null!==i),ut(i,n)}}(t,r),i);return o.errorHandler=At(e),o}function Pt(t,e,r,n){var i=tt(e.fullServerUrl()),o=lt(r,n),a=t.maxOperationRetryTime(),s=new kt(i,"PATCH",Tt(t,n),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=At(e),s}function Dt(t,e){var r=tt(e.fullServerUrl()),n=t.maxOperationRetryTime();var i=new kt(r,"DELETE",function(t,e){},n);return i.successCodes=[200,204],i.errorHandler=At(e),i}function Ot(t,e,r){var n=M(r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),n}var Rt=function(t,e,r,n){this.current=t,this.total=e,this.finalized=!!r,this.metadata=n||null};function jt(t,e){var r;try{r=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){xt(!1)}return xt(Ct(e||["active"],r)),r}function Bt(t,e,r,n,i,o,a,s){var c=new Rt(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=n.size()),n.size()!==c.total)throw new p(d.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var u=c.total-c.current,l=u;i>0&&(l=Math.min(l,i));var h=c.current,f=h+l,g={"X-Goog-Upload-Command":l===u?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},m=n.slice(h,f);if(null===m)throw y();var v=e.maxUploadRetryTime(),w=new kt(r,"POST",function(t,r){var i,a=jt(t,["active","final"]),s=c.current+l,u=n.size();return i="final"===a?Tt(e,o)(t,r):null,new Rt(s,u,"final"===a,i)},v);return w.headers=g,w.body=m.uploadData(),w.progressCallback=s||null,w.errorHandler=St(t),w}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt=function(t,e,r){if(U(t)||q(e)||q(r))this.next=t,this.error=e||null,this.complete=r||null;else{var n=t;this.next=n.next||null,this.error=n.error||null,this.complete=n.complete||null}},Ft=function(t,e,r,n,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=r,this.metadata=n,this.task=i,this.ref=o};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Lt(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];L(!0).then(function(){t.apply(null,e)})}}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt=function(){function t(t,e,r,n,i,o){void 0===o&&(o=null);var a=this;this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=r,this.blob_=i,this.metadata_=o,this.mappings_=n,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=D.RUNNING,this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals(d.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_(D.ERROR))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals(d.CANCELED)?a.completeTransitions_():(a.error_=t,a.transition_(D.ERROR))},this.promise_=F(function(t,e){a.resolve_=t,a.reject_=e,a.start_()}),this.promise_.then(null,function(){})}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(r,n){t.updateProgress_(e+r)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===D.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then(function(r){switch(e.state_){case D.RUNNING:t(r);break;case D.CANCELING:e.transition_(D.CANCELED);break;case D.PAUSING:e.transition_(D.PAUSED)}})},t.prototype.createResumable_=function(){var t=this;this.resolveToken_(function(e){var r=function(t,e,r,n,i){var o=e.bucketOnlyServerUrl(),a=Ot(e,n,i),s={name:a.fullPath},c=et(o),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":n.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=lt(a,r),h=t.maxUploadRetryTime(),p=new kt(c,"POST",function(t,e){var r;jt(t);try{r=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){xt(!1)}return xt(H(r)),r},h);return p.urlParams=s,p.headers=u,p.body=l,p.errorHandler=St(e),p}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),n=t.authWrapper_.makeRequest(r,e);t.request_=n,n.getPromise().then(function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()},t.errorHandler_)})},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_(function(r){var n=function(t,e,r,n){var i=t.maxUploadRetryTime(),o=new kt(r,"POST",function(t,e){var r,i=jt(t,["active","final"]);try{r=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){xt(!1)}var o=parseInt(r,10);return xt(!isNaN(o)),new Rt(o,n.size(),"final"===i)},i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=St(e),o}(t.authWrapper_,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(n,r);t.request_=i,i.getPromise().then(function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()},t.errorHandler_)})},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,r=new Rt(this.transferred_,this.blob_.size()),n=this.uploadUrl_;this.resolveToken_(function(i){var o;try{o=Bt(t.location_,t.authWrapper_,n,t.blob_,e,t.mappings_,r,t.makeProgressCallback_())}catch(e){return t.error_=e,void t.transition_(D.ERROR)}var a=t.authWrapper_.makeRequest(o,i);t.request_=a,a.getPromise().then(function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(D.SUCCESS)):t.completeTransitions_()},t.errorHandler_)})},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_(function(e){var r=It(t.authWrapper_,t.location_,t.mappings_),n=t.authWrapper_.makeRequest(r,e);t.request_=n,n.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.transition_(D.SUCCESS)},t.metadataErrorHandler_)})},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_(function(e){var r=function(t,e,r,n,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var c=Ot(e,n,i),u="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+lt(c,r)+"\r\n--"+s+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=Et.getBlob(u,n,l);if(null===h)throw y();var p={name:c.fullPath},d=et(o),f=t.maxUploadRetryTime(),g=new kt(d,"POST",Tt(t,r),f);return g.urlParams=p,g.headers=a,g.body=h.uploadData(),g.errorHandler=St(e),g}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),n=t.authWrapper_.makeRequest(r,e);t.request_=n,n.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(D.SUCCESS)},t.errorHandler_)})},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case D.CANCELING:case D.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case D.RUNNING:var e=this.state_===D.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case D.PAUSED:this.state_=t,this.notifyObservers_();break;case D.CANCELED:this.error_=m(),this.state_=t,this.notifyObservers_();break;case D.ERROR:case D.SUCCESS:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case D.PAUSING:this.transition_(D.PAUSED);break;case D.CANCELING:this.transition_(D.CANCELED);break;case D.RUNNING:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=R(this.state_);return new Ft(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,r,n){function i(e){if(t!==P.STATE_CHANGED)throw"Expected one of the event types: ["+P.STATE_CHANGED+"]."}void 0===e&&(e=void 0),void 0===r&&(r=void 0),void 0===n&&(n=void 0);var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",a=wt(!0).validator,s=vt(null,!0).validator;function c(t){try{return void a(t)}catch(t){}try{if(s(t),!(V(t.next)||V(t.error)||V(t.complete)))throw"";return}catch(t){throw o}}var u=[ft(i),vt(c,!0),wt(!0),wt(!0)];pt("on",u,arguments);var l=this;function h(t){return function(e,r,i){null!==t&&pt("on",t,arguments);var o=new Mt(e,r,n);return l.addObserver_(o),function(){l.removeObserver_(o)}}}function p(t){if(null===t)throw o;c(t)}var d=[vt(p),wt(!0),wt(!0)],f=!(V(e)||V(r)||V(n));return f?h(d):h(null)(e,r,n)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e,r,n;e=this.observers_,r=t,-1!==(n=e.indexOf(r))&&e.splice(n,1)},t.prototype.notifyObservers_=function(){var t,e=this;this.finishPromise_(),(t=this.observers_,Array.prototype.slice.call(t)).forEach(function(t){e.notifyObserver_(t)})},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(R(this.state_)){case O.SUCCESS:Lt(this.resolve_.bind(null,this.snapshot))();break;case O.CANCELED:case O.ERROR:Lt(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(R(this.state_)){case O.RUNNING:case O.PAUSED:null!==t.next&&Lt(t.next.bind(t,this.snapshot))();break;case O.SUCCESS:null!==t.complete&&Lt(t.complete.bind(t))();break;case O.CANCELED:case O.ERROR:null!==t.error&&Lt(t.error.bind(t,this.error_))();break;default:null!==t.error&&Lt(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){pt("resume",[],arguments);var t=this.state_===D.PAUSED||this.state_===D.PAUSING;return t&&this.transition_(D.RUNNING),t},t.prototype.pause=function(){pt("pause",[],arguments);var t=this.state_===D.RUNNING;return t&&this.transition_(D.PAUSING),t},t.prototype.cancel=function(){pt("cancel",[],arguments);var t=this.state_===D.RUNNING||this.state_===D.PAUSING;return t&&this.transition_(D.CANCELING),t},t}(),Vt=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof Y?e:Y.makeFromUrl(e)}return t.prototype.toString=function(){return pt("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,r){return new t(e,r)},t.prototype.mappings=function(){return at()},t.prototype.child=function(t){pt("child",[ft()],arguments);var e=X(this.location.path,t),r=new Y(this.location.bucket,e);return this.newRef(this.authWrapper,r)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0==t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new Y(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new Y(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Z(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),pt("put",[gt(),mt(!0)],arguments),this.throwIfRoot_("put"),new qt(this,this.authWrapper,this.location,this.mappings(),new Et(t),e)},t.prototype.putString=function(t,e,r){void 0===e&&(e=C.RAW),pt("putString",[ft(),ft(k,!0),mt(!0)],arguments),this.throwIfRoot_("putString");var n=T(e,t),i=M(r);return!q(i.contentType)&&q(n.contentType)&&(i.contentType=n.contentType),new qt(this,this.authWrapper,this.location,this.mappings(),new Et(n.data,!0),i)},t.prototype.delete=function(){pt("delete",[],arguments),this.throwIfRoot_("delete");var t=this;return this.authWrapper.getAuthToken().then(function(e){var r=Dt(t.authWrapper,t.location);return t.authWrapper.makeRequest(r,e).getPromise()})},t.prototype.getMetadata=function(){pt("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(e){var r=It(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(r,e).getPromise()})},t.prototype.updateMetadata=function(t){pt("updateMetadata",[mt()],arguments),this.throwIfRoot_("updateMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(r){var n=Pt(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(n,r).getPromise()})},t.prototype.getDownloadURL=function(){pt("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL");var t=this;return this.authWrapper.getAuthToken().then(function(e){var r=Nt(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(r,e).getPromise().then(function(t){if(null===t)throw v();return t})})},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new p(d.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),Ut=function(){function t(t){this.promise_=function(t){return Promise.reject(t)}(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){void 0===t&&(t=!1)},t}(),Wt=function(){function t(){this.map_={},this.id_=h}return t.prototype.addRequest=function(t){var e=this.id_;this.id_++,this.map_[e]=t;var r=this;function n(){delete r.map_[e]}t.getPromise().then(n,n)},t.prototype.clear=function(){B(this.map_,function(t,e){e&&e.cancel(!0)}),this.map_={}},t}(),zt=function(){function t(e,r,n,i,o){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var a=this.app_.options;q(a)&&(this.bucket_=t.extractBucket_(a))}this.storageRefMaker_=r,this.requestMaker_=n,this.pool_=o,this.service_=i,this.maxOperationRetryTime_=u,this.maxUploadRetryTime_=l,this.requestMap_=new Wt}return t.extractBucket_=function(t){var e=t.storageBucket||null;return null==e?null:Y.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){return null!==this.app_&&q(this.app_.INTERNAL)&&q(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(t){return null!==t?t.accessToken:null},function(t){return null}):L(null)},t.prototype.bucket=function(){if(this.deleted_)throw b();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new Ut(b());var r=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(r),r},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ht=function(){function t(t,e,r,n,i,o,a,s,c,u,l){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=r,this.body_=n,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=u,this.timeout_=c,this.pool_=l;var h=this;this.promise_=F(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,r){var n,i=t.resolve_,o=t.reject_,a=r.xhr;if(r.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());V(s)?i(s):i()}catch(t){o(t)}else null!==a?((n=g()).setServerResponseProp(a.getResponseText()),t.errorCallback_?o(t.errorCallback_(a,n)):o(n)):r.canceled?o(n=t.appDelete_?b():m()):o(n=new p(d.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Jt(!1,null,!0)):this.backoffId_=
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e,r){var n=1,i=null,o=!1,a=0;function s(){return 2===a}var c=!1;function u(){c||(c=!0,e.apply(null,arguments))}function l(e){i=setTimeout(function(){i=null,t(h,s())},e)}function h(t){for(var e,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];c||(t?u.apply(null,arguments):s()||o?u.apply(null,arguments):(n<64&&(n*=2),1===a?(a=2,e=0):e=1e3*(n+Math.random()),l(e)))}var p=!1;function d(t){p||(p=!0,c||(null!==i?(t||(a=2),clearTimeout(i),l(0)):t||(a=1)))}return l(0),setTimeout(function(){o=!0,d(!0)},r),d}(function(e,r){if(r)e(!1,new Jt(!1,null,!0));else{var n=t.pool_.createXhrIo();t.pendingXhr_=n,null!==t.progressCallback_&&n.addUploadProgressListener(i),n.send(t.url_,t.method_,t.body_,t.headers_).then(function(r){null!==t.progressCallback_&&r.removeUploadProgressListener(i),t.pendingXhr_=null;var n=(r=r).getErrorCode()===N.NO_ERROR,o=r.getStatus();if(n&&!t.isRetryStatusCode_(o)){var a=Ct(t.successCodes_,o);e(!0,new Jt(a,r))}else{var s=r.getErrorCode()===N.ABORT;e(!1,new Jt(!1,null,s))}})}function i(e){var r=e.loaded,n=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(r,n)}},e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,r=Ct([408,429],t),n=Ct(this.additionalRetryCodes_,t);return e||r||n},t}(),Jt=function(t,e,r){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!r};function Gt(t,e,r){var n=rt(t.urlParams),o=t.url+n,a=M(t.headers);return function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,e),function(t){var e=void 0!==i.a?i.a.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}(a),new Ht(o,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt=function(){function t(t,e,r){if(this.bucket_=null,this.authWrapper_=new zt(t,function(t,e){return new Vt(t,e)},Gt,this,e),this.app_=t,null!=r)this.bucket_=Y.makeFromBucketSpec(r);else{var n=this.authWrapper_.bucket();null!=n&&(this.bucket_=new Y(n,""))}this.internals_=new $t(this)}return t.prototype.ref=function(t){function e(t){if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(pt("ref",[ft(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var r=new Vt(this.authWrapper_,this.bucket_);return null!=t?r.child(t):r},t.prototype.refFromURL=function(t){function e(t){if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{Y.makeFromUrl(t)}catch(t){throw"Expected valid full URL but got an invalid one."}}return pt("refFromURL",[ft(e,!1)],arguments),new Vt(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){pt("setMaxUploadRetryTime",[yt()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.authWrapper_.maxOperationRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){pt("setMaxOperationRetryTime",[yt()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),$t=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),L(void 0)},t}(),Qt="storage";function Yt(t,e,r){return new Kt(t,new $,r)}function Xt(t){var e={TaskState:O,TaskEvent:P,StringFormat:C,Storage:Kt,Reference:Vt};t.INTERNAL.registerService(Qt,Yt,e,void 0,!0)}Xt(i.a)},function(t,e,r){Promise.all([r.e(0),r.e(133)]).then(r.t.bind(null,267,7))},function(t,e,r){r(102),r(67),t.exports=r(261)},function(t,e,r){var n=r(38),i=r(139);t.exports=r(19).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},function(t,e,r){"use strict";var n=r(72);r.n(n).a},function(t,e,r){"use strict";var n=r(73);r.n(n).a},function(t,e,r){"use strict";r.r(e);var n=r(3);
/*!
  * vue-router v3.1.0
  * (c) 2019 Evan You
  * @license MIT
  */function i(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function o(t,e){return e instanceof t||e&&(e.name===t.name||e._name===t._name)}function a(t,e){for(var r in e)t[r]=e[r];return t}var s={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var r=e.props,n=e.children,i=e.parent,o=e.data;o.routerView=!0;for(var s=i.$createElement,c=r.name,u=i.$route,l=i._routerViewCache||(i._routerViewCache={}),h=0,p=!1;i&&i._routerRoot!==i;){var d=i.$vnode&&i.$vnode.data;d&&(d.routerView&&h++,d.keepAlive&&i._inactive&&(p=!0)),i=i.$parent}if(o.routerViewDepth=h,p)return s(l[c],o,n);var f=u.matched[h];if(!f)return l[c]=null,s();var g=l[c]=f.components[c];o.registerRouteInstance=function(t,e){var r=f.instances[c];(e&&r!==t||!e&&r===t)&&(f.instances[c]=e)},(o.hook||(o.hook={})).prepatch=function(t,e){f.instances[c]=e.componentInstance},o.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==f.instances[c]&&(f.instances[c]=t.componentInstance)};var m=o.props=function(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}(u,f.props&&f.props[c]);if(m){m=o.props=a({},m);var y=o.attrs=o.attrs||{};for(var v in m)g.props&&v in g.props||(y[v]=m[v],delete m[v])}return s(g,o,n)}};var c=/[!'()*]/g,u=function(t){return"%"+t.charCodeAt(0).toString(16)},l=/%2C/g,h=function(t){return encodeURIComponent(t).replace(c,u).replace(l,",")},p=decodeURIComponent;function d(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var r=t.replace(/\+/g," ").split("="),n=p(r.shift()),i=r.length>0?p(r.join("=")):null;void 0===e[n]?e[n]=i:Array.isArray(e[n])?e[n].push(i):e[n]=[e[n],i]}),e):e}function f(t){var e=t?Object.keys(t).map(function(e){var r=t[e];if(void 0===r)return"";if(null===r)return h(e);if(Array.isArray(r)){var n=[];return r.forEach(function(t){void 0!==t&&(null===t?n.push(h(e)):n.push(h(e)+"="+h(t)))}),n.join("&")}return h(e)+"="+h(r)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}var g=/\/?$/;function m(t,e,r,n){var i=n&&n.options.stringifyQuery,o=e.query||{};try{o=y(o)}catch(t){}var a={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:b(e,i),matched:t?w(t):[]};return r&&(a.redirectedFrom=b(r,i)),Object.freeze(a)}function y(t){if(Array.isArray(t))return t.map(y);if(t&&"object"==typeof t){var e={};for(var r in t)e[r]=y(t[r]);return e}return t}var v=m(null,{path:"/"});function w(t){for(var e=[];t;)e.unshift(t),t=t.parent;return e}function b(t,e){var r=t.path,n=t.query;void 0===n&&(n={});var i=t.hash;return void 0===i&&(i=""),(r||"/")+(e||f)(n)+i}function _(t,e){return e===v?t===e:!!e&&(t.path&&e.path?t.path.replace(g,"")===e.path.replace(g,"")&&t.hash===e.hash&&E(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&E(t.query,e.query)&&E(t.params,e.params)))}function E(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var r=Object.keys(t),n=Object.keys(e);return r.length===n.length&&r.every(function(r){var n=t[r],i=e[r];return"object"==typeof n&&"object"==typeof i?E(n,i):String(n)===String(i)})}function C(t,e,r){var n=t.charAt(0);if("/"===n)return t;if("?"===n||"#"===n)return e+t;var i=e.split("/");r&&i[i.length-1]||i.pop();for(var o=t.replace(/^\//,"").split("/"),a=0;a<o.length;a++){var s=o[a];".."===s?i.pop():"."!==s&&i.push(s)}return""!==i[0]&&i.unshift(""),i.join("/")}function k(t){return t.replace(/\/\//g,"/")}var x=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},T=q,S=D,A=function(t,e){return R(D(t,e))},I=R,N=L,P=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function D(t,e){for(var r,n=[],i=0,o=0,a="",s=e&&e.delimiter||"/";null!=(r=P.exec(t));){var c=r[0],u=r[1],l=r.index;if(a+=t.slice(o,l),o=l+c.length,u)a+=u[1];else{var h=t[o],p=r[2],d=r[3],f=r[4],g=r[5],m=r[6],y=r[7];a&&(n.push(a),a="");var v=null!=p&&null!=h&&h!==p,w="+"===m||"*"===m,b="?"===m||"*"===m,_=r[2]||s,E=f||g;n.push({name:d||i++,prefix:p||"",delimiter:_,optional:b,repeat:w,partial:v,asterisk:!!y,pattern:E?B(E):y?".*":"[^"+j(_)+"]+?"})}}return o<t.length&&(a+=t.substr(o)),a&&n.push(a),n}function O(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function R(t){for(var e=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(e[r]=new RegExp("^(?:"+t[r].pattern+")$"));return function(r,n){for(var i="",o=r||{},a=(n||{}).pretty?O:encodeURIComponent,s=0;s<t.length;s++){var c=t[s];if("string"!=typeof c){var u,l=o[c.name];if(null==l){if(c.optional){c.partial&&(i+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(x(l)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(l)+"`");if(0===l.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var h=0;h<l.length;h++){if(u=a(l[h]),!e[s].test(u))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(u)+"`");i+=(0===h?c.prefix:c.delimiter)+u}}else{if(u=c.asterisk?encodeURI(l).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):a(l),!e[s].test(u))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+u+'"');i+=c.prefix+u}}else i+=c}return i}}function j(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function B(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function M(t,e){return t.keys=e,t}function F(t){return t.sensitive?"":"i"}function L(t,e,r){x(e)||(r=e||r,e=[]);for(var n=(r=r||{}).strict,i=!1!==r.end,o="",a=0;a<t.length;a++){var s=t[a];if("string"==typeof s)o+=j(s);else{var c=j(s.prefix),u="(?:"+s.pattern+")";e.push(s),s.repeat&&(u+="(?:"+c+u+")*"),o+=u=s.optional?s.partial?c+"("+u+")?":"(?:"+c+"("+u+"))?":c+"("+u+")"}}var l=j(r.delimiter||"/"),h=o.slice(-l.length)===l;return n||(o=(h?o.slice(0,-l.length):o)+"(?:"+l+"(?=$))?"),o+=i?"$":n&&h?"":"(?="+l+"|$)",M(new RegExp("^"+o,F(r)),e)}function q(t,e,r){return x(e)||(r=e||r,e=[]),r=r||{},t instanceof RegExp?function(t,e){var r=t.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return M(t,e)}(t,e):x(t)?function(t,e,r){for(var n=[],i=0;i<t.length;i++)n.push(q(t[i],e,r).source);return M(new RegExp("(?:"+n.join("|")+")",F(r)),e)}(t,e,r):function(t,e,r){return L(D(t,r),e,r)}(t,e,r)}T.parse=S,T.compile=A,T.tokensToFunction=I,T.tokensToRegExp=N;var V=Object.create(null);function U(t,e,r){e=e||{};try{var n=V[t]||(V[t]=T.compile(t));return e.pathMatch&&(e[0]=e.pathMatch),n(e,{pretty:!0})}catch(t){return""}finally{delete e[0]}}function W(t,e,r,n){var i="string"==typeof t?{path:t}:t;if(i._normalized)return i;if(i.name)return a({},t);if(!i.path&&i.params&&e){(i=a({},i))._normalized=!0;var o=a(a({},e.params),i.params);if(e.name)i.name=e.name,i.params=o;else if(e.matched.length){var s=e.matched[e.matched.length-1].path;i.path=U(s,o,e.path)}else 0;return i}var c=function(t){var e="",r="",n=t.indexOf("#");n>=0&&(e=t.slice(n),t=t.slice(0,n));var i=t.indexOf("?");return i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),{path:t,query:r,hash:e}}(i.path||""),u=e&&e.path||"/",l=c.path?C(c.path,u,r||i.append):u,h=function(t,e,r){void 0===e&&(e={});var n,i=r||d;try{n=i(t||"")}catch(t){n={}}for(var o in e)n[o]=e[o];return n}(c.query,i.query,n&&n.options.parseQuery),p=i.hash||c.hash;return p&&"#"!==p.charAt(0)&&(p="#"+p),{_normalized:!0,path:l,query:h,hash:p}}var z,H=[String,Object],J=[String,Array],G={name:"RouterLink",props:{to:{type:H,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:J,default:"click"}},render:function(t){var e=this,r=this.$router,n=this.$route,i=r.resolve(this.to,n,this.append),o=i.location,s=i.route,c=i.href,u={},l=r.options.linkActiveClass,h=r.options.linkExactActiveClass,p=null==l?"router-link-active":l,d=null==h?"router-link-exact-active":h,f=null==this.activeClass?p:this.activeClass,y=null==this.exactActiveClass?d:this.exactActiveClass,v=s.redirectedFrom?m(null,W(s.redirectedFrom),null,r):s;u[y]=_(n,v),u[f]=this.exact?u[y]:function(t,e){return 0===t.path.replace(g,"/").indexOf(e.path.replace(g,"/"))&&(!e.hash||t.hash===e.hash)&&function(t,e){for(var r in e)if(!(r in t))return!1;return!0}(t.query,e.query)}(n,v);var w=function(t){K(t)&&(e.replace?r.replace(o):r.push(o))},b={click:K};Array.isArray(this.event)?this.event.forEach(function(t){b[t]=w}):b[this.event]=w;var E={class:u},C=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:c,route:s,navigate:w,isActive:u[f],isExactActive:u[y]});if(C){if(1===C.length)return C[0];if(C.length>1||!C.length)return 0===C.length?t():t("span",{},C)}if("a"===this.tag)E.on=b,E.attrs={href:c};else{var k=function t(e){if(e)for(var r,n=0;n<e.length;n++){if("a"===(r=e[n]).tag)return r;if(r.children&&(r=t(r.children)))return r}}(this.$slots.default);if(k)k.isStatic=!1,(k.data=a({},k.data)).on=b,(k.data.attrs=a({},k.data.attrs)).href=c;else E.on=b}return t(this.tag,E,this.$slots.default)}};function K(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}var $="undefined"!=typeof window;function Q(t,e,r,n){var i=e||[],o=r||Object.create(null),a=n||Object.create(null);t.forEach(function(t){!function t(e,r,n,i,o,a){var s=i.path;var c=i.name;0;var u=i.pathToRegexpOptions||{};var l=function(t,e,r){r||(t=t.replace(/\/$/,""));if("/"===t[0])return t;if(null==e)return t;return k(e.path+"/"+t)}(s,o,u.strict);"boolean"==typeof i.caseSensitive&&(u.sensitive=i.caseSensitive);var h={path:l,regex:Y(l,u),components:i.components||{default:i.component},instances:{},name:c,parent:o,matchAs:a,redirect:i.redirect,beforeEnter:i.beforeEnter,meta:i.meta||{},props:null==i.props?{}:i.components?i.props:{default:i.props}};i.children&&i.children.forEach(function(i){var o=a?k(a+"/"+i.path):void 0;t(e,r,n,i,h,o)});r[h.path]||(e.push(h.path),r[h.path]=h);if(void 0!==i.alias)for(var p=Array.isArray(i.alias)?i.alias:[i.alias],d=0;d<p.length;++d){var f=p[d];0;var g={path:f,children:i.children};t(e,r,n,g,o,h.path||"/")}c&&(n[c]||(n[c]=h))}(i,o,a,t)});for(var s=0,c=i.length;s<c;s++)"*"===i[s]&&(i.push(i.splice(s,1)[0]),c--,s--);return{pathList:i,pathMap:o,nameMap:a}}function Y(t,e){return T(t,[],e)}function X(t,e){var r=Q(t),n=r.pathList,i=r.pathMap,o=r.nameMap;function a(t,r,a){var s=W(t,r,!1,e),u=s.name;if(u){var l=o[u];if(!l)return c(null,s);var h=l.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!=typeof s.params&&(s.params={}),r&&"object"==typeof r.params)for(var p in r.params)!(p in s.params)&&h.indexOf(p)>-1&&(s.params[p]=r.params[p]);return s.path=U(l.path,s.params),c(l,s,a)}if(s.path){s.params={};for(var d=0;d<n.length;d++){var f=n[d],g=i[f];if(Z(g.regex,s.path,s.params))return c(g,s,a)}}return c(null,s)}function s(t,r){var n=t.redirect,i="function"==typeof n?n(m(t,r,null,e)):n;if("string"==typeof i&&(i={path:i}),!i||"object"!=typeof i)return c(null,r);var s=i,u=s.name,l=s.path,h=r.query,p=r.hash,d=r.params;if(h=s.hasOwnProperty("query")?s.query:h,p=s.hasOwnProperty("hash")?s.hash:p,d=s.hasOwnProperty("params")?s.params:d,u){o[u];return a({_normalized:!0,name:u,query:h,hash:p,params:d},void 0,r)}if(l){var f=function(t,e){return C(t,e.parent?e.parent.path:"/",!0)}(l,t);return a({_normalized:!0,path:U(f,d),query:h,hash:p},void 0,r)}return c(null,r)}function c(t,r,n){return t&&t.redirect?s(t,n||r):t&&t.matchAs?function(t,e,r){var n=a({_normalized:!0,path:U(r,e.params)});if(n){var i=n.matched,o=i[i.length-1];return e.params=n.params,c(o,e)}return c(null,e)}(0,r,t.matchAs):m(t,r,n,e)}return{match:a,addRoutes:function(t){Q(t,n,i,o)}}}function Z(t,e,r){var n=e.match(t);if(!n)return!1;if(!r)return!0;for(var i=1,o=n.length;i<o;++i){var a=t.keys[i-1],s="string"==typeof n[i]?decodeURIComponent(n[i]):n[i];a&&(r[a.name||"pathMatch"]=s)}return!0}var tt=Object.create(null);function et(){var t=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(t,"");window.history.replaceState({key:ft()},"",e),window.addEventListener("popstate",function(t){var e;nt(),t.state&&t.state.key&&(e=t.state.key,pt=e)})}function rt(t,e,r,n){if(t.app){var i=t.options.scrollBehavior;i&&t.app.$nextTick(function(){var o=function(){var t=ft();if(t)return tt[t]}(),a=i.call(t,e,r,n?o:null);a&&("function"==typeof a.then?a.then(function(t){ct(t,o)}).catch(function(t){0}):ct(a,o))})}}function nt(){var t=ft();t&&(tt[t]={x:window.pageXOffset,y:window.pageYOffset})}function it(t){return at(t.x)||at(t.y)}function ot(t){return{x:at(t.x)?t.x:window.pageXOffset,y:at(t.y)?t.y:window.pageYOffset}}function at(t){return"number"==typeof t}var st=/^#\d/;function ct(t,e){var r,n="object"==typeof t;if(n&&"string"==typeof t.selector){var i=st.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(i){var o=t.offset&&"object"==typeof t.offset?t.offset:{};e=function(t,e){var r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{x:n.left-r.left-e.x,y:n.top-r.top-e.y}}(i,o={x:at((r=o).x)?r.x:0,y:at(r.y)?r.y:0})}else it(t)&&(e=ot(t))}else n&&it(t)&&(e=ot(t));e&&window.scrollTo(e.x,e.y)}var ut,lt=$&&((-1===(ut=window.navigator.userAgent).indexOf("Android 2.")&&-1===ut.indexOf("Android 4.0")||-1===ut.indexOf("Mobile Safari")||-1!==ut.indexOf("Chrome")||-1!==ut.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history),ht=$&&window.performance&&window.performance.now?window.performance:Date,pt=dt();function dt(){return ht.now().toFixed(3)}function ft(){return pt}function gt(t,e){nt();var r=window.history;try{e?r.replaceState({key:pt},"",t):(pt=dt(),r.pushState({key:pt},"",t))}catch(r){window.location[e?"replace":"assign"](t)}}function mt(t){gt(t,!0)}function yt(t,e,r){var n=function(i){i>=t.length?r():t[i]?e(t[i],function(){n(i+1)}):n(i+1)};n(0)}function vt(t){return function(e,r,n){var o=!1,a=0,s=null;wt(t,function(t,e,r,c){if("function"==typeof t&&void 0===t.cid){o=!0,a++;var u,l=Et(function(e){var i;((i=e).__esModule||_t&&"Module"===i[Symbol.toStringTag])&&(e=e.default),t.resolved="function"==typeof e?e:z.extend(e),r.components[c]=e,--a<=0&&n()}),h=Et(function(t){var e="Failed to resolve async component "+c+": "+t;s||(s=i(t)?t:new Error(e),n(s))});try{u=t(l,h)}catch(t){h(t)}if(u)if("function"==typeof u.then)u.then(l,h);else{var p=u.component;p&&"function"==typeof p.then&&p.then(l,h)}}}),o||n()}}function wt(t,e){return bt(t.map(function(t){return Object.keys(t.components).map(function(r){return e(t.components[r],t.instances[r],t,r)})}))}function bt(t){return Array.prototype.concat.apply([],t)}var _t="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function Et(t){var e=!1;return function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];if(!e)return e=!0,t.apply(this,r)}}var Ct=function(t){function e(){t.call(this,"Navigating to current location is not allowed"),this.name=this._name="NavigationDuplicated"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);Ct._name="NavigationDuplicated";var kt=function(t,e){this.router=t,this.base=function(t){if(!t)if($){var e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else t="/";"/"!==t.charAt(0)&&(t="/"+t);return t.replace(/\/$/,"")}(e),this.current=v,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};function xt(t,e,r,n){var i=wt(t,function(t,n,i,o){var a=function(t,e){"function"!=typeof t&&(t=z.extend(t));return t.options[e]}(t,e);if(a)return Array.isArray(a)?a.map(function(t){return r(t,n,i,o)}):r(a,n,i,o)});return bt(n?i.reverse():i)}function Tt(t,e){if(e)return function(){return t.apply(e,arguments)}}kt.prototype.listen=function(t){this.cb=t},kt.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},kt.prototype.onError=function(t){this.errorCbs.push(t)},kt.prototype.transitionTo=function(t,e,r){var n=this,i=this.router.match(t,this.current);this.confirmTransition(i,function(){n.updateRoute(i),e&&e(i),n.ensureURL(),n.ready||(n.ready=!0,n.readyCbs.forEach(function(t){t(i)}))},function(t){r&&r(t),t&&!n.ready&&(n.ready=!0,n.readyErrorCbs.forEach(function(e){e(t)}))})},kt.prototype.confirmTransition=function(t,e,r){var n=this,a=this.current,s=function(t){!o(Ct,t)&&i(t)&&(n.errorCbs.length?n.errorCbs.forEach(function(e){e(t)}):console.error(t)),r&&r(t)};if(_(t,a)&&t.matched.length===a.matched.length)return this.ensureURL(),s(new Ct(t));var c=function(t,e){var r,n=Math.max(t.length,e.length);for(r=0;r<n&&t[r]===e[r];r++);return{updated:e.slice(0,r),activated:e.slice(r),deactivated:t.slice(r)}}(this.current.matched,t.matched),u=c.updated,l=c.deactivated,h=c.activated,p=[].concat(function(t){return xt(t,"beforeRouteLeave",Tt,!0)}(l),this.router.beforeHooks,function(t){return xt(t,"beforeRouteUpdate",Tt)}(u),h.map(function(t){return t.beforeEnter}),vt(h));this.pending=t;var d=function(e,r){if(n.pending!==t)return s();try{e(t,a,function(t){!1===t||i(t)?(n.ensureURL(!0),s(t)):"string"==typeof t||"object"==typeof t&&("string"==typeof t.path||"string"==typeof t.name)?(s(),"object"==typeof t&&t.replace?n.replace(t):n.push(t)):r(t)})}catch(t){s(t)}};yt(p,d,function(){var r=[];yt(function(t,e,r){return xt(t,"beforeRouteEnter",function(t,n,i,o){return function(t,e,r,n,i){return function(o,a,s){return t(o,a,function(t){"function"==typeof t&&n.push(function(){!function t(e,r,n,i){r[n]&&!r[n]._isBeingDestroyed?e(r[n]):i()&&setTimeout(function(){t(e,r,n,i)},16)}(t,e.instances,r,i)}),s(t)})}}(t,i,o,e,r)})}(h,r,function(){return n.current===t}).concat(n.router.resolveHooks),d,function(){if(n.pending!==t)return s();n.pending=null,e(t),n.router.app&&n.router.app.$nextTick(function(){r.forEach(function(t){t()})})})})},kt.prototype.updateRoute=function(t){var e=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach(function(r){r&&r(t,e)})};var St=function(t){function e(e,r){var n=this;t.call(this,e,r);var i=e.options.scrollBehavior,o=lt&&i;o&&et();var a=At(this.base);window.addEventListener("popstate",function(t){var r=n.current,i=At(n.base);n.current===v&&i===a||n.transitionTo(i,function(t){o&&rt(e,t,r,!0)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,r){var n=this,i=this.current;this.transitionTo(t,function(t){gt(k(n.base+t.fullPath)),rt(n.router,t,i,!1),e&&e(t)},r)},e.prototype.replace=function(t,e,r){var n=this,i=this.current;this.transitionTo(t,function(t){mt(k(n.base+t.fullPath)),rt(n.router,t,i,!1),e&&e(t)},r)},e.prototype.ensureURL=function(t){if(At(this.base)!==this.current.fullPath){var e=k(this.base+this.current.fullPath);t?gt(e):mt(e)}},e.prototype.getCurrentLocation=function(){return At(this.base)},e}(kt);function At(t){var e=decodeURI(window.location.pathname);return t&&0===e.indexOf(t)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var It=function(t){function e(e,r,n){t.call(this,e,r),n&&function(t){var e=At(t);if(!/^\/#/.test(e))return window.location.replace(k(t+"/#"+e)),!0}(this.base)||Nt()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this,e=this.router.options.scrollBehavior,r=lt&&e;r&&et(),window.addEventListener(lt?"popstate":"hashchange",function(){var e=t.current;Nt()&&t.transitionTo(Pt(),function(n){r&&rt(t.router,n,e,!0),lt||Rt(n.fullPath)})})},e.prototype.push=function(t,e,r){var n=this,i=this.current;this.transitionTo(t,function(t){Ot(t.fullPath),rt(n.router,t,i,!1),e&&e(t)},r)},e.prototype.replace=function(t,e,r){var n=this,i=this.current;this.transitionTo(t,function(t){Rt(t.fullPath),rt(n.router,t,i,!1),e&&e(t)},r)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;Pt()!==e&&(t?Ot(e):Rt(e))},e.prototype.getCurrentLocation=function(){return Pt()},e}(kt);function Nt(){var t=Pt();return"/"===t.charAt(0)||(Rt("/"+t),!1)}function Pt(){var t=window.location.href,e=t.indexOf("#");if(e<0)return"";var r=(t=t.slice(e+1)).indexOf("?");if(r<0){var n=t.indexOf("#");t=n>-1?decodeURI(t.slice(0,n))+t.slice(n):decodeURI(t)}else r>-1&&(t=decodeURI(t.slice(0,r))+t.slice(r));return t}function Dt(t){var e=window.location.href,r=e.indexOf("#"),n=r>-1?e.slice(0,r):e,i=n.indexOf("?"),o=i>-1?n.slice(i):"";return(n=o?n.slice(0,i):n)+"#"+(t+o)}function Ot(t){lt?gt(Dt(t)):window.location.hash=t}function Rt(t){lt?mt(Dt(t)):window.location.replace(Dt(t))}var jt=function(t){function e(e,r){t.call(this,e,r),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,r){var n=this;this.transitionTo(t,function(t){n.stack=n.stack.slice(0,n.index+1).concat(t),n.index++,e&&e(t)},r)},e.prototype.replace=function(t,e,r){var n=this;this.transitionTo(t,function(t){n.stack=n.stack.slice(0,n.index).concat(t),e&&e(t)},r)},e.prototype.go=function(t){var e=this,r=this.index+t;if(!(r<0||r>=this.stack.length)){var n=this.stack[r];this.confirmTransition(n,function(){e.index=r,e.updateRoute(n)},function(t){o(Ct,t)&&(e.index=r)})}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(kt),Bt=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=X(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!lt&&!1!==t.fallback,this.fallback&&(e="hash"),$||(e="abstract"),this.mode=e,e){case"history":this.history=new St(this,t.base);break;case"hash":this.history=new It(this,t.base,this.fallback);break;case"abstract":this.history=new jt(this,t.base);break;default:0}},Mt={currentRoute:{configurable:!0}};function Ft(t,e){return t.push(e),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}Bt.prototype.match=function(t,e,r){return this.matcher.match(t,e,r)},Mt.currentRoute.get=function(){return this.history&&this.history.current},Bt.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once("hook:destroyed",function(){var r=e.apps.indexOf(t);r>-1&&e.apps.splice(r,1),e.app===t&&(e.app=e.apps[0]||null)}),!this.app){this.app=t;var r=this.history;if(r instanceof St)r.transitionTo(r.getCurrentLocation());else if(r instanceof It){var n=function(){r.setupListeners()};r.transitionTo(r.getCurrentLocation(),n,n)}r.listen(function(t){e.apps.forEach(function(e){e._route=t})})}},Bt.prototype.beforeEach=function(t){return Ft(this.beforeHooks,t)},Bt.prototype.beforeResolve=function(t){return Ft(this.resolveHooks,t)},Bt.prototype.afterEach=function(t){return Ft(this.afterHooks,t)},Bt.prototype.onReady=function(t,e){this.history.onReady(t,e)},Bt.prototype.onError=function(t){this.history.onError(t)},Bt.prototype.push=function(t,e,r){var n=this;if(!e&&!r&&"undefined"!=typeof Promise)return new Promise(function(e,r){n.history.push(t,e,r)});this.history.push(t,e,r)},Bt.prototype.replace=function(t,e,r){var n=this;if(!e&&!r&&"undefined"!=typeof Promise)return new Promise(function(e,r){n.history.replace(t,e,r)});this.history.replace(t,e,r)},Bt.prototype.go=function(t){this.history.go(t)},Bt.prototype.back=function(){this.go(-1)},Bt.prototype.forward=function(){this.go(1)},Bt.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},Bt.prototype.resolve=function(t,e,r){var n=W(t,e=e||this.history.current,r,this),i=this.match(n,e),o=i.redirectedFrom||i.fullPath;return{location:n,route:i,href:function(t,e,r){var n="hash"===r?"#"+e:e;return t?k(t+"/"+n):n}(this.history.base,o,this.mode),normalizedTo:n,resolved:i}},Bt.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==v&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Bt.prototype,Mt),Bt.install=function t(e){if(!t.installed||z!==e){t.installed=!0,z=e;var r=function(t){return void 0!==t},n=function(t,e){var n=t.$options._parentVnode;r(n)&&r(n=n.data)&&r(n=n.registerRouteInstance)&&n(t,e)};e.mixin({beforeCreate:function(){r(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",s),e.component("RouterLink",G);var i=e.config.optionMergeStrategies;i.beforeRouteEnter=i.beforeRouteLeave=i.beforeRouteUpdate=i.created}},Bt.version="3.1.0",$&&window.Vue&&window.Vue.use(Bt);var Lt=Bt;var qt=r(0);function Vt(t,e){if(e&&[...e].forEach(t=>{document.head.removeChild(t)}),t)return t.map(t=>{const e=document.createElement("meta");return Object.keys(t).forEach(r=>{e.setAttribute(r,t[r])}),document.head.appendChild(e),e})}var Ut=[{created(){this.$ssrContext&&(this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.description=this.$page.description||this.$description)},mounted(){this.currentMetaTags=new Set,this.updateMeta()},methods:{updateMeta(){document.title=this.$title,document.documentElement.lang=this.$lang;const t=this.$page.frontmatter.meta||[],e=t.slice(0);0===t.filter(t=>"description"===t.name).length&&e.push({name:"description",content:this.$description});const r=document.querySelectorAll('meta[name="description"]');r.length&&r.forEach(t=>this.currentMetaTags.add(t)),this.currentMetaTags=new Set(Vt(e,this.currentMetaTags))}},watch:{$page(){this.updateMeta()}},beforeDestroy(){Vt(null,this.currentMetaTags)}}],Wt={methods:{getLayout:function(){if(this.$page.path){var t=this.$page.frontmatter.layout;return t&&(this.$vuepress.getLayoutAsyncComponent(t)||this.$vuepress.getVueComponent(t))?t:"Layout"}return"NotFound"}},computed:{layout:function(){var t=this.getLayout();return Object(qt.h)("layout",t),n.default.component(t)}}},zt=r(17),Ht=Object(zt.a)(Wt,function(){var t=this.$createElement;return(this._self._c||t)(this.layout,{tag:"component"})},[],!1,null,null,null).exports;Object(qt.f)(Ht,"mixins",Ut);var Jt=[{name:"v-8892394c",path:"/About/",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("AboutFullPage","v-8892394c").then(r)}},{path:"/About/index.html",redirect:"/About/"},{name:"v-320aac86",path:"/Coding/CSharp/AutoMapper-class%E7%B9%BC%E6%89%BF%E5%BE%8C%E4%B9%8B%E5%B0%8D%E6%87%89.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-320aac86").then(r)}},{path:"/Coding/CSharp/AutoMapper-class繼承後之對應.html",redirect:"/Coding/CSharp/AutoMapper-class%E7%B9%BC%E6%89%BF%E5%BE%8C%E4%B9%8B%E5%B0%8D%E6%87%89.html"},{name:"v-85f4c948",path:"/Coding/CSharp/%E8%AE%8A%E6%95%B8%E5%91%BD%E5%90%8D.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-85f4c948").then(r)}},{path:"/Coding/CSharp/變數命名.html",redirect:"/Coding/CSharp/%E8%AE%8A%E6%95%B8%E5%91%BD%E5%90%8D.html"},{name:"v-7bfb30a6",path:"/Coding/CSharp/String-Concatenate.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-7bfb30a6").then(r)}},{name:"v-9a2a43a4",path:"/Coding/CSharp/%E4%BE%8B%E5%A4%96%E8%99%95%E7%90%86.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-9a2a43a4").then(r)}},{path:"/Coding/CSharp/例外處理.html",redirect:"/Coding/CSharp/%E4%BE%8B%E5%A4%96%E8%99%95%E7%90%86.html"},{name:"v-8da9df6c",path:"/Coding/CSharp/%E8%B2%AC%E4%BB%BB%E9%8F%88.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-8da9df6c").then(r)}},{path:"/Coding/CSharp/責任鏈.html",redirect:"/Coding/CSharp/%E8%B2%AC%E4%BB%BB%E9%8F%88.html"},{name:"v-1c4a4e12",path:"/Coding/CSharp/csharp-tips.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-1c4a4e12").then(r)}},{name:"v-e72e49e8",path:"/Coding/CSharp/%E8%B2%AC%E4%BB%BB%E9%8F%883.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-e72e49e8").then(r)}},{path:"/Coding/CSharp/責任鏈3.html",redirect:"/Coding/CSharp/%E8%B2%AC%E4%BB%BB%E9%8F%883.html"},{name:"v-0c6c4d65",path:"/Coding/Front-End/CSS/awesome-css.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-0c6c4d65").then(r)}},{name:"v-5cdb680e",path:"/Coding/CSharp/%E8%B2%AC%E4%BB%BB%E9%8F%882.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-5cdb680e").then(r)}},{path:"/Coding/CSharp/責任鏈2.html",redirect:"/Coding/CSharp/%E8%B2%AC%E4%BB%BB%E9%8F%882.html"},{name:"v-545b8d99",path:"/Coding/Front-End/CSS/css-quarter-oval.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-545b8d99").then(r)}},{name:"v-c4bdd70e",path:"/Coding/Front-End/CSS/css-parameters.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-c4bdd70e").then(r)}},{name:"v-7507c3f6",path:"/Coding/Front-End/Security/%E9%96%8B%E6%96%B0%E5%88%86%E9%A0%81.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-7507c3f6").then(r)}},{path:"/Coding/Front-End/Security/開新分頁.html",redirect:"/Coding/Front-End/Security/%E9%96%8B%E6%96%B0%E5%88%86%E9%A0%81.html"},{name:"v-916af89c",path:"/Coding/Front-End/awesome-pwa.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-916af89c").then(r)}},{name:"v-1a34eb5d",path:"/Coding/JS/Module%20Bundler/Webpack/awesome-webpack.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-1a34eb5d").then(r)}},{path:"/Coding/JS/Module Bundler/Webpack/awesome-webpack.html",redirect:"/Coding/JS/Module%20Bundler/Webpack/awesome-webpack.html"},{name:"v-0193e625",path:"/Coding/JS/Vue/awesome-vue.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-0193e625").then(r)}},{name:"v-c5f1a60e",path:"/Coding/Front-End/CSS/css-tips.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-c5f1a60e").then(r)}},{name:"v-445c88ce",path:"/Coding/JS/Vue/vue-basic-tutorial/",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-445c88ce").then(r)}},{path:"/Coding/JS/Vue/vue-basic-tutorial/index.html",redirect:"/Coding/JS/Vue/vue-basic-tutorial/"},{name:"v-0e69d9d2",path:"/Coding/JS/Vue/vue-basic-tutorial/Syntax.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-0e69d9d2").then(r)}},{name:"v-47f71914",path:"/Coding/CodeReview/code-review-memo.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-47f71914").then(r)}},{name:"v-89b130dc",path:"/Coding/JS/js-tips.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-89b130dc").then(r)}},{name:"v-761a0ef6",path:"/Coding/JS/Vue/vue-event-binding.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-761a0ef6").then(r)}},{name:"v-b0521034",path:"/Coding/Front-End/awesome-graphic-resources.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-b0521034").then(r)}},{name:"v-793331a0",path:"/Coding/JS/publish-package-to-npm.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-793331a0").then(r)}},{name:"v-4d521b14",path:"/Coding/JS/awesome-js.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-4d521b14").then(r)}},{name:"v-b40de7ce",path:"/Coding/SQL/StoredProcedure/cursor-syntax-memo.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-b40de7ce").then(r)}},{name:"v-ed303fba",path:"/Coding/Server/IIS/iis-memo.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-ed303fba").then(r)}},{name:"v-1db42de8",path:"/Coding/SQL/sql-memo.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-1db42de8").then(r)}},{name:"v-64a9a694",path:"/Coding/Website/vue-csarhp-todolist-tutorial/",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-64a9a694").then(r)}},{path:"/Coding/Website/vue-csarhp-todolist-tutorial/index.html",redirect:"/Coding/Website/vue-csarhp-todolist-tutorial/"},{name:"v-0d32e5ee",path:"/Coding/Website/vue-csarhp-todolist-tutorial/back-end.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-0d32e5ee").then(r)}},{name:"v-68b44e7f",path:"/Coding/Website/vue-csarhp-todolist-tutorial/front-end.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-68b44e7f").then(r)}},{name:"v-f6776002",path:"/Coding/Website/heroku/coding-tips.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-f6776002").then(r)}},{name:"v-7ba2451f",path:"/Coding/Website/vue-dotnetcore-scaffolding/authorization.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-7ba2451f").then(r)}},{name:"v-4107293f",path:"/Coding/Website/vue-dotnetcore-scaffolding/basic.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-4107293f").then(r)}},{name:"v-11a8df82",path:"/Coding/Website/vue-dotnetcore-scaffolding/page-idle.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-11a8df82").then(r)}},{name:"v-d3e58f16",path:"/Coding/Website/vue-dotnetcore-scaffolding/user-setting.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-d3e58f16").then(r)}},{name:"v-177d640c",path:"/Coding/SQL/sqlite-to-postgresql.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-177d640c").then(r)}},{name:"v-c405dd3e",path:"/Coding/Website/vue-dotnetcore-scaffolding/authentication.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-c405dd3e").then(r)}},{name:"v-1e536af9",path:"/Coding/progessive-design.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-1e536af9").then(r)}},{name:"v-59cd63bf",path:"/Coding/coding-tips.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-59cd63bf").then(r)}},{name:"v-ec44d602",path:"/Coding/package-tips.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-ec44d602").then(r)}},{name:"v-39e05f8b",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/1.%20%E5%BF%83/TMP.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-39e05f8b").then(r)}},{path:"/Game/FEZ/1. 遊戲思路/1. 心/TMP.html",redirect:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/1.%20%E5%BF%83/TMP.html"},{name:"v-ad24ce34",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/1.%20%E5%BF%83/%E5%BF%83%E7%90%86%E6%88%B0.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-ad24ce34").then(r)}},{path:"/Game/FEZ/1. 遊戲思路/1. 心/心理戰.html",redirect:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/1.%20%E5%BF%83/%E5%BF%83%E7%90%86%E6%88%B0.html"},{name:"v-7d3a6963",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E7%A5%9E%E5%B0%8F%E8%B7%B3.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-7d3a6963").then(r)}},{path:"/Game/FEZ/1. 遊戲思路/2. 技/神小跳.html",redirect:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E7%A5%9E%E5%B0%8F%E8%B7%B3.html"},{name:"v-455360d1",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E8%A6%96%E9%87%8E%E8%AE%8A%E6%8F%9B.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-455360d1").then(r)}},{path:"/Game/FEZ/1. 遊戲思路/2. 技/視野變換.html",redirect:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E8%A6%96%E9%87%8E%E8%AE%8A%E6%8F%9B.html"},{name:"v-b0d90ce6",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E8%B5%B0%E4%BD%8D.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-b0d90ce6").then(r)}},{path:"/Game/FEZ/1. 遊戲思路/2. 技/走位.html",redirect:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E8%B5%B0%E4%BD%8D.html"},{name:"v-0a921c99",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E8%B7%B3%E9%BB%9E.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-0a921c99").then(r)}},{path:"/Game/FEZ/1. 遊戲思路/2. 技/跳點.html",redirect:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E8%B7%B3%E9%BB%9E.html"},{name:"v-29c918e5",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E9%A0%90%E5%87%BA%E6%89%8B.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-29c918e5").then(r)}},{path:"/Game/FEZ/1. 遊戲思路/2. 技/預出手.html",redirect:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E9%A0%90%E5%87%BA%E6%89%8B.html"},{name:"v-4478a866",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/1.%20%E5%BF%83/",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-4478a866").then(r)}},{path:"/Game/FEZ/1. 遊戲思路/1. 心/",redirect:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/1.%20%E5%BF%83/"},{path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/1.%20%E5%BF%83/index.html",redirect:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/1.%20%E5%BF%83/"},{name:"v-4d9fba32",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/3.%20%E9%AB%94/",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-4d9fba32").then(r)}},{path:"/Game/FEZ/1. 遊戲思路/3. 體/",redirect:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/3.%20%E9%AB%94/"},{path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/3.%20%E9%AB%94/index.html",redirect:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/3.%20%E9%AB%94/"},{name:"v-70612fe6",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/4.%20%E7%BE%A4/%E5%8D%A1%E4%BD%8D.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-70612fe6").then(r)}},{path:"/Game/FEZ/1. 遊戲思路/4. 群/卡位.html",redirect:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/4.%20%E7%BE%A4/%E5%8D%A1%E4%BD%8D.html"},{name:"v-7e6b5e12",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/4.%20%E7%BE%A4/%E7%B5%84%E9%9A%8A.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-7e6b5e12").then(r)}},{path:"/Game/FEZ/1. 遊戲思路/4. 群/組隊.html",redirect:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/4.%20%E7%BE%A4/%E7%B5%84%E9%9A%8A.html"},{name:"v-486aacae",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/5.%20%E7%95%A5/",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-486aacae").then(r)}},{path:"/Game/FEZ/1. 遊戲思路/5. 略/",redirect:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/5.%20%E7%95%A5/"},{path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/5.%20%E7%95%A5/index.html",redirect:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/5.%20%E7%95%A5/"},{name:"v-339369e0",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/4.%20%E7%BE%A4/",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-339369e0").then(r)}},{path:"/Game/FEZ/1. 遊戲思路/4. 群/",redirect:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/4.%20%E7%BE%A4/"},{path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/4.%20%E7%BE%A4/index.html",redirect:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/4.%20%E7%BE%A4/"},{name:"v-82c2c642",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/6.%20%E6%B1%BA/",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-82c2c642").then(r)}},{path:"/Game/FEZ/1. 遊戲思路/6. 決/",redirect:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/6.%20%E6%B1%BA/"},{path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/6.%20%E6%B1%BA/index.html",redirect:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/6.%20%E6%B1%BA/"},{name:"v-4df429d2",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-4df429d2").then(r)}},{path:"/Game/FEZ/1. 遊戲思路/2. 技/",redirect:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/"},{path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/index.html",redirect:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/"},{name:"v-1486eb54",path:"/Demos/",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-1486eb54").then(r)}},{path:"/Demos/index.html",redirect:"/Demos/"},{name:"v-6dbff0ea",path:"/Game/FEZ/2.%20%E5%9C%8B%E6%88%B0%E6%AD%A5%E5%85%B5%E6%88%B0%E7%AD%96%E7%95%A5/",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-6dbff0ea").then(r)}},{path:"/Game/FEZ/2. 國戰步兵戰策略/",redirect:"/Game/FEZ/2.%20%E5%9C%8B%E6%88%B0%E6%AD%A5%E5%85%B5%E6%88%B0%E7%AD%96%E7%95%A5/"},{path:"/Game/FEZ/2.%20%E5%9C%8B%E6%88%B0%E6%AD%A5%E5%85%B5%E6%88%B0%E7%AD%96%E7%95%A5/index.html",redirect:"/Game/FEZ/2.%20%E5%9C%8B%E6%88%B0%E6%AD%A5%E5%85%B5%E6%88%B0%E7%AD%96%E7%95%A5/"},{name:"v-9ec1a766",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-9ec1a766").then(r)}},{path:"/Game/FEZ/1. 遊戲思路/",redirect:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/"},{path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/index.html",redirect:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/"},{name:"v-36d5d2b3",path:"/Game/FEZ/2.%20%E5%9C%8B%E6%88%B0%E6%AD%A5%E5%85%B5%E6%88%B0%E7%AD%96%E7%95%A5/%E5%83%BB%E5%9C%B0%E6%88%B0.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-36d5d2b3").then(r)}},{path:"/Game/FEZ/2. 國戰步兵戰策略/僻地戰.html",redirect:"/Game/FEZ/2.%20%E5%9C%8B%E6%88%B0%E6%AD%A5%E5%85%B5%E6%88%B0%E7%AD%96%E7%95%A5/%E5%83%BB%E5%9C%B0%E6%88%B0.html"},{name:"v-55a376be",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/5.%20%E7%95%A5/%E5%B1%80%E5%8B%A2.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-55a376be").then(r)}},{path:"/Game/FEZ/1. 遊戲思路/5. 略/局勢.html",redirect:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/5.%20%E7%95%A5/%E5%B1%80%E5%8B%A2.html"},{name:"v-a6174872",path:"/Game/FEZ/3.%20%E5%90%84%E8%81%B7%E7%8E%A9%E6%B3%95/%E9%9B%99%E4%BF%AE.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-a6174872").then(r)}},{path:"/Game/FEZ/3. 各職玩法/雙修.html",redirect:"/Game/FEZ/3.%20%E5%90%84%E8%81%B7%E7%8E%A9%E6%B3%95/%E9%9B%99%E4%BF%AE.html"},{name:"v-4dc00f25",path:"/Game/FEZ/4.%202on/",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-4dc00f25").then(r)}},{path:"/Game/FEZ/4. 2on/",redirect:"/Game/FEZ/4.%202on/"},{path:"/Game/FEZ/4.%202on/index.html",redirect:"/Game/FEZ/4.%202on/"},{name:"v-2c6bc4ab",path:"/Game/FEZ/4.%202on/%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-2c6bc4ab").then(r)}},{path:"/Game/FEZ/4. 2on/玩法介紹.html",redirect:"/Game/FEZ/4.%202on/%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html"},{name:"v-6890df9a",path:"/Game/FEZ/3.%20%E5%90%84%E8%81%B7%E7%8E%A9%E6%B3%95/%E5%88%80.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-6890df9a").then(r)}},{path:"/Game/FEZ/3. 各職玩法/刀.html",redirect:"/Game/FEZ/3.%20%E5%90%84%E8%81%B7%E7%8E%A9%E6%B3%95/%E5%88%80.html"},{name:"v-6f7fa8b4",path:"/Game/FEZ/5.%203on/3on%E5%85%B1%E9%80%9A%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-6f7fa8b4").then(r)}},{path:"/Game/FEZ/5. 3on/3on共通玩法介紹.html",redirect:"/Game/FEZ/5.%203on/3on%E5%85%B1%E9%80%9A%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html"},{name:"v-9f0190e0",path:"/Game/FEZ/5.%203on/3on%E9%9B%99%E4%BF%AE%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-9f0190e0").then(r)}},{path:"/Game/FEZ/5. 3on/3on雙修玩法介紹.html",redirect:"/Game/FEZ/5.%203on/3on%E9%9B%99%E4%BF%AE%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html"},{name:"v-3ff73aa5",path:"/Game/FEZ/5.%203on/3on%E5%A4%A7%E5%8A%8D%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-3ff73aa5").then(r)}},{path:"/Game/FEZ/5. 3on/3on大劍玩法介紹.html",redirect:"/Game/FEZ/5.%203on/3on%E5%A4%A7%E5%8A%8D%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html"},{name:"v-5de41bb6",path:"/Game/FEZ/5.%203on/",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-5de41bb6").then(r)}},{path:"/Game/FEZ/5. 3on/",redirect:"/Game/FEZ/5.%203on/"},{path:"/Game/FEZ/5.%203on/index.html",redirect:"/Game/FEZ/5.%203on/"},{name:"v-1080dbe2",path:"/Game/FEZ/5.%203on/3on%E5%88%80%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-1080dbe2").then(r)}},{path:"/Game/FEZ/5. 3on/3on刀玩法介紹.html",redirect:"/Game/FEZ/5.%203on/3on%E5%88%80%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html"},{name:"v-0c7f77bc",path:"/Game/FEZ/X.%20Theorem/HMM.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-0c7f77bc").then(r)}},{path:"/Game/FEZ/X. Theorem/HMM.html",redirect:"/Game/FEZ/X.%20Theorem/HMM.html"},{name:"v-ace574d0",path:"/VueJCBlog/Development/article/test/test-comment.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-ace574d0").then(r)}},{name:"v-3c8dbd4b",path:"/VueJCBlog/Development/article/hello-vuejcblog.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-3c8dbd4b").then(r)}},{name:"v-27f6ecec",path:"/VueJCBlog/Development/article/test/test-lazy-load2.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-27f6ecec").then(r)}},{name:"v-25bc4f18",path:"/VueJCBlog/Development/article/test/test-lazy-load.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-25bc4f18").then(r)}},{name:"v-7690c622",path:"/VueJCBlog/Feature/archive-page.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-7690c622").then(r)}},{name:"v-2e8c0cd0",path:"/VueJCBlog/Feature/category-page.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-2e8c0cd0").then(r)}},{name:"v-74a44f51",path:"/VueJCBlog/Feature/",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-74a44f51").then(r)}},{path:"/VueJCBlog/Feature/index.html",redirect:"/VueJCBlog/Feature/"},{name:"v-021b3aa4",path:"/VueJCBlog/Feature/common-feature.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-021b3aa4").then(r)}},{name:"v-e468b710",path:"/VueJCBlog/Feature/about-page.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-e468b710").then(r)}},{name:"v-aab392fc",path:"/VueJCBlog/Feature/index-page.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-aab392fc").then(r)}},{name:"v-5edad598",path:"/VueJCBlog/Feature/search-page.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-5edad598").then(r)}},{name:"v-422a7e52",path:"/VueJCBlog/Feature/tag-page.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-422a7e52").then(r)}},{name:"v-1ccc22d8",path:"/VueJCBlog/Feature/post-page.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-1ccc22d8").then(r)}},{name:"v-c26b0310",path:"/VueJCBlog/Feature/sidebar-feature.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-c26b0310").then(r)}},{name:"v-302e6251",path:"/VueJCBlog/Config.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-302e6251").then(r)}},{name:"v-66061c06",path:"/VueJCBlog/Usage/Markdown/",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-66061c06").then(r)}},{path:"/VueJCBlog/Usage/Markdown/index.html",redirect:"/VueJCBlog/Usage/Markdown/"},{name:"v-d6c4343e",path:"/VueJCBlog/Installation.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-d6c4343e").then(r)}},{name:"v-4829d184",path:"/VueJCBlog/Usage/Container/",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-4829d184").then(r)}},{path:"/VueJCBlog/Usage/Container/index.html",redirect:"/VueJCBlog/Usage/Container/"},{name:"v-4dc54ba5",path:"/VueJCBlog/Usage/Markdown/advanced.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-4dc54ba5").then(r)}},{name:"v-21fcb945",path:"/VueJCBlog/Usage/Markdown/flow-chart.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-21fcb945").then(r)}},{name:"v-c60be50a",path:"/VueJCBlog/Usage/",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-c60be50a").then(r)}},{path:"/VueJCBlog/Usage/index.html",redirect:"/VueJCBlog/Usage/"},{name:"v-4d7e2aa5",path:"/VueJCBlog/Usage/Markdown/link.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-4d7e2aa5").then(r)}},{name:"v-f313c186",path:"/VueJCBlog/Usage/Markdown/basic.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-f313c186").then(r)}},{name:"v-518ca8d8",path:"/VueJCBlog/Usage/Slide.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-518ca8d8").then(r)}},{name:"v-3cdc4745",path:"/VueJCBlog/Quick-Start.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-3cdc4745").then(r)}},{name:"v-4144513c",path:"/VueJCBlog/Usage/front-matter.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-4144513c").then(r)}},{name:"v-720c8312",path:"/hello-vuejcblog.html",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Layout","v-720c8312").then(r)}},{name:"v-b2754d56",path:"/",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Page","v-b2754d56").then(r)}},{path:"/index.html",redirect:"/"},{name:"v-28e6393c",path:"/category/",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Page","v-28e6393c").then(r)}},{path:"/category/index.html",redirect:"/category/"},{name:"v-b1564aac",path:"/tag/",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Page","v-b1564aac").then(r)}},{path:"/tag/index.html",redirect:"/tag/"},{name:"v-9e6f27fc",path:"/archive/",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Page","v-9e6f27fc").then(r)}},{path:"/archive/index.html",redirect:"/archive/"},{name:"v-5d4abc92",path:"/search/",component:Ht,beforeEnter:function(t,e,r){Object(qt.a)("Page","v-5d4abc92").then(r)}},{path:"/search/index.html",redirect:"/search/"},{path:"*",component:Ht}],Gt={title:"VueJCBlog",description:"A Blog made by Vuepress",base:"/",pages:[{title:"About",frontmatter:{layout:"AboutFullPage",title:"About",meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"About"},{property:"og:type",content:"website"},{property:"og:url",content:"/About/"},{name:"twitter:title",content:"About"},{name:"twitter:url",content:"/About/"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"background, img, url, size, self, image, center, repeat, png, svg, 100, 0.7, 73, 002, picture, jpg, icon, theme, style, 2., 20, backend, 200, coding, opacity, rgba, end, 1., 155, 80"},{property:"article:tag",content:"background"},{property:"article:tag",content:"img"},{property:"article:tag",content:"url"},{property:"article:tag",content:"size"},{property:"article:tag",content:"self"},{property:"article:tag",content:"image"},{property:"article:tag",content:"center"},{property:"article:tag",content:"repeat"},{property:"article:tag",content:"png"},{property:"article:tag",content:"svg"},{property:"article:tag",content:"100"},{property:"article:tag",content:"0.7"},{property:"article:tag",content:"73"},{property:"article:tag",content:"002"},{property:"article:tag",content:"picture"},{property:"article:tag",content:"jpg"},{property:"article:tag",content:"icon"},{property:"article:tag",content:"theme"},{property:"article:tag",content:"style"},{property:"article:tag",content:"2."},{property:"article:tag",content:"20"},{property:"article:tag",content:"backend"},{property:"article:tag",content:"200"},{property:"article:tag",content:"coding"},{property:"article:tag",content:"opacity"},{property:"article:tag",content:"rgba"},{property:"article:tag",content:"end"},{property:"article:tag",content:"1."},{property:"article:tag",content:"155"},{property:"article:tag",content:"80"}]},regularPath:"/About/",relativePath:"About/README.md",key:"v-8892394c",path:"/About/",git:{created:"9/27/2020, 2:37:47 PM",updated:"4/9/2019, 10:15:26 PM",author:"johnny1991524",commits:[{fullHash:"a98967185db212c6da0aa9c22306f64511af4f3e",authorTime:"1601188667",commitTime:"1601188667",authorName:"johnny1991524"},{fullHash:"d2ba5b452490df4f4a953a0ee3ad9241dfe6e037",authorTime:"1555443751",commitTime:"1555443751",authorName:"PC\\JC"},{fullHash:"c1e3cdfef92dd185d30f674e7b87e73b78272e83",authorTime:"1555443704",commitTime:"1555443704",authorName:"PC\\JC"},{fullHash:"c88dd9747f1905cbe57bcf3811dd2ba7a46cce53",authorTime:"1554819326",commitTime:"1554819326",authorName:"PC\\JC"}],contributors:["johnny1991524","PC\\JC"]},pure_content:'<style>\r\n    .picture{\r\n        background-image: url("/img/self/002-1.png");\r\n        background-size: 100%;\r\n\r\n        / background-image: url("/img/self/s-gundam.jpg");\r\n        background-size: 155%;\r\n        background-position: calc(50% + 20px) !important; /\r\n    }\r\n\r\n    .picture-2{\r\n        / background-image: url("~@theme/img/002-2.png"); /\r\n        / background: rgba(73, 73, 73, 0.7);\r\n        opacity: 0.7; /\r\n        / background-size: 100%; /\r\n\r\n        background-image: url("/img/self/coding-1.png");\r\n        background-size: 200%;\r\n        \r\n    }\r\n\r\n    .picture-3{\r\n        / background-image: url("~@theme/img/002-3.png"); /\r\n        / background: rgba(15, 20, 51, 0.7);\r\n        background-image: url(\r\n        opacity: 0.7; /\r\n        / background-size: 100%; /\r\n\r\n        background-image: url("/img/self/coding-2.jpg");\r\n        background-size: 200%;\r\n    }\r\n\r\n    .front-end-img{\r\n        background: url("/img/self/rwd-icon.svg") no-repeat center top;\r\n        background-size: 90%;\r\n\r\n        / background: url("/img/self/frontend-icon.jpg") no-repeat center;\r\n        background-size: 230%; /\r\n    }\r\n\r\n    .backend-end-img{\r\n        background: url("/img/self/backend-icon2.svg") no-repeat center;\r\n        background-size: 120%;\r\n\r\n        / background: url("/img/self/server-icon.png") no-repeat center;\r\n        background-size: 80%; /\r\n    }\r\n\r\n    .analytics-img{\r\n        background: url("/img/self/analytics2.svg") no-repeat center;\r\n        background-size: 105%;\r\n    }\r\n\r\n    .data-collection-img{\r\n        background: url("/img/self/crawler.svg") no-repeat center;\r\n        background-size: 100%;\r\n    }\r\n\r\n</style>',word_token:["style","picture","background","-","image","url","img","self","002","-","1","png","background","-","size","100","background","-","image","url","img","self","s","-","gundam","jpg","background","-","size","155","background","-","position","calc","50","20","px","important","picture","-","2","background","-","image","url","@","theme","img","002","-","2","png","background","rgba","73","73","73","07","opacity","07","background","-","size","100","background","-","image","url","img","self","coding","-","1","png","background","-","size","200","picture","-","3","background","-","image","url","@","theme","img","002","-","3","png","background","rgba","15","20","51","07","background","-","image","url","opacity","07","background","-","size","100","background","-","image","url","img","self","coding","-","2","jpg","background","-","size","200","front","-","end","-","img","background","url","img","self","rwd","-","icon","svg","no","-","repeat","center","top","background","-","size","90","background","url","img","self","frontend","-","icon","jpg","no","-","repeat","center","background","-","size","230","backend","-","end","-","img","background","url","img","self","backend","-","icon2","svg","no","-","repeat","center","background","-","size","120","background","url","img","self","server","-","icon","png","no","-","repeat","center","background","-","size","80","analytics","-","img","background","url","img","self","analytics2","svg","no","-","repeat","center","background","-","size","105","data","-","collection","-","img","background","url","img","self","crawler","svg","no","-","repeat","center","background","-","size","100","style"],key_words:[{word:"background",weight:328.6977205983392},{word:"img",weight:187.82726891333667},{word:"url",weight:152.60965599208603},{word:"size",weight:140.8704516850025},{word:"self",weight:117.39204307083541},{word:"image",weight:82.1744301495848},{word:"center",weight:70.43522584250125},{word:"repeat",weight:70.43522584250125},{word:"png",weight:58.69602153541771},{word:"svg",weight:46.95681722833417},{word:"100",weight:46.95681722833417},{word:"0.7",weight:46.95681722833417},{word:"73",weight:35.21761292125063},{word:"002",weight:35.21761292125063},{word:"picture",weight:35.21761292125063},{word:"jpg",weight:35.21761292125063},{word:"icon",weight:35.21761292125063},{word:"theme",weight:23.478408614167083},{word:"style",weight:23.478408614167083},{word:"2.",weight:23.478408614167083},{word:"20",weight:23.478408614167083},{word:"backend",weight:23.478408614167083},{word:"200",weight:23.478408614167083},{word:"coding",weight:23.478408614167083},{word:"opacity",weight:23.478408614167083},{word:"rgba",weight:23.478408614167083},{word:"end",weight:23.478408614167083},{word:"1.",weight:23.478408614167083},{word:"155",weight:11.739204307083542},{word:"80",weight:11.739204307083542}],excerpt:'<style> .picture{ background-image: url("/img/self/002-1.png"); background-size: 100%; / background-image: url("/img/self/s-gundam.jpg"); background-size: 155%; background-position: calc(50% + 20px) !important; / } .picture-2{ / background-image: url("~@theme/img/002-2.png"); / / background: rgba(73, 73, 73, 0.7); opacity: 0.7; / / background-size: 100%; / background-image: url("/img/self/coding-1...'},{title:"Auto mapping property of base class for inherited class",frontmatter:{title:"Auto mapping property of base class for inherited class",datetime:"2019/8/9",tag:["C#","AutoMapper"],aliases:["Coding/日常筆記/AutoMapper-class繼承後之對應.html"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Auto mapping property of base class for inherited class"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/CSharp/AutoMapper-class%E7%B9%BC%E6%89%BF%E5%BE%8C%E4%B9%8B%E5%B0%8D%E6%87%89.html"},{name:"twitter:title",content:"Auto mapping property of base class for inherited class"},{name:"twitter:url",content:"/Coding/CSharp/AutoMapper-class%E7%B9%BC%E6%89%BF%E5%BE%8C%E4%B9%8B%E5%B0%8D%E6%87%89.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"public, base, class, property, string, data, baseuserinfo, test, model, cellphone, 資料, 傳遞, aaa, userinfovm, csharp, set, mapper, bbb, 這時, somemaskfunction, maskedcellphone, cons, 呈現, var, 問題, target, dto, auto, cfg, 對應"},{property:"article:tag",content:"public"},{property:"article:tag",content:"base"},{property:"article:tag",content:"class"},{property:"article:tag",content:"property"},{property:"article:tag",content:"string"},{property:"article:tag",content:"data"},{property:"article:tag",content:"baseuserinfo"},{property:"article:tag",content:"test"},{property:"article:tag",content:"model"},{property:"article:tag",content:"cellphone"},{property:"article:tag",content:"資料"},{property:"article:tag",content:"傳遞"},{property:"article:tag",content:"aaa"},{property:"article:tag",content:"userinfovm"},{property:"article:tag",content:"csharp"},{property:"article:tag",content:"set"},{property:"article:tag",content:"mapper"},{property:"article:tag",content:"bbb"},{property:"article:tag",content:"這時"},{property:"article:tag",content:"somemaskfunction"},{property:"article:tag",content:"maskedcellphone"},{property:"article:tag",content:"cons"},{property:"article:tag",content:"呈現"},{property:"article:tag",content:"var"},{property:"article:tag",content:"問題"},{property:"article:tag",content:"target"},{property:"article:tag",content:"dto"},{property:"article:tag",content:"auto"},{property:"article:tag",content:"cfg"},{property:"article:tag",content:"對應"}]},regularPath:"/Coding/CSharp/AutoMapper-class%E7%B9%BC%E6%89%BF%E5%BE%8C%E4%B9%8B%E5%B0%8D%E6%87%89.html",relativePath:"Coding/CSharp/AutoMapper-class繼承後之對應.md",key:"v-320aac86",path:"/Coding/CSharp/AutoMapper-class%E7%B9%BC%E6%89%BF%E5%BE%8C%E4%B9%8B%E5%B0%8D%E6%87%89.html",headers:[{level:2,title:"All data in one data model",slug:"all-data-in-one-data-model"},{level:3,title:"Cons",slug:"cons"},{level:2,title:"Split data model",slug:"split-data-model"},{level:3,title:"Cons",slug:"cons-2"}],git:{created:"12/23/2019, 5:23:21 PM",updated:"12/23/2019, 5:23:21 PM",author:"JC",commits:[{fullHash:"ad8ac6fd4025929d7634fa8c96ea39f8325ba9c0",authorTime:"1577093001",commitTime:"1577093001",authorName:"JC"}],contributors:["JC"]},pure_content:'scenario\r\n\r\n all data in one data model\r\n\r\n有時候，資料要進行傳遞，可能又要進行呈現\r\n\r\n舉例來說，若現在需要呈現user經過隱碼的手機號碼\r\n\r\n但是server後續傳遞資料還是需要完整手機號碼，那就可以規劃如下 data model\r\n\r\n```csharp\r\npublic class userinfo\r\n{\r\n    public string cellphone { get; set; }\r\n    public string maskedcellphone { get => somemaskfunction(this.cellphone); }\r\n}\r\n```\r\n\r\n cons\r\n\r\n目前 data model 之中只有2個 property\r\n\r\n但有些情況下，property有可能會有好幾十個甚至上百個\r\n\r\n這時要在一個data model中看出哪些property是顯示用，哪些是資料傳遞用就會很不方便\r\n\r\n split data model\r\n\r\n因此一種規畫方式，就是切分 data model\r\n\r\n讓資料的傳遞靠 dto[^1]，而資料的呈現靠 view model\r\n\r\n然後用繼承的方式把他們合起來\r\n\r\n```csharp\r\npublic class baseuserinfo\r\n{\r\n    public string cellphone { get; set; }\r\n}\r\n\r\npublic class userinfovm: baseuserinfo\r\n{\r\n    public string maskedcellphone { get => somemaskfunction(this.cellphone); }\r\n}\r\n```\r\n\r\n cons\r\n\r\n而這時新的問題就來了\r\n\r\n當從其他來原拿到 `baseuserinfo` 後，若要assign進 `userinfovm`\r\n\r\n最直觀暴力的做法，就是直接塞\r\n\r\n```csharp\r\npublic class userinfovm: baseuserinfo\r\n{\r\n    public string maskedcellphone { get => somemaskfunction(this.cellphone); }\r\n\r\n    public userinfovm(baseuserinfo baseuserinfo){\r\n        this.cellphone = baseuserinfo.cellphone;\r\n    }\r\n}\r\n```\r\n\r\n但當 property變多時，這做法就會有很多問題了\r\n\r\n1. 有幾個 property 就塞幾次，很花時間\r\n2. 若 base class 的 property 一異動，一致性不會獲得保證\r\n\r\n    只要忘了將 inherited class constructor 中的 property塞入base的property\r\n\r\n    那就會產生邏輯上的bug，而這個是compile階段，compiler檢查不出來的\r\n\r\n    要run time才會知道這個錯\r\n\r\n auto mapper\r\n\r\n這時使用auto mapper就很方便了\r\n\r\n只需要設定好對應，就可以自動將property去做一一對應了\r\n\r\n```csharp\r\nusing automapper;\r\n\r\nnamespace consoleapp\r\n{\r\n    class program\r\n    {\r\n        static void main(string[] args)\r\n        {\r\n            // 在初始階段建立對應\r\n            mapper.initialize(cfg => \r\n            {\r\n                // 建立 source(base) 跟 target(test) 的對應\r\n                // source & target 是有方向性的\r\n                cfg.createmap<base, test>();\r\n            });\r\n\r\n            var b = new base() { aaa = "aaa" };\r\n            var test = new test(b) { bbb = "bbb" };\r\n            // test.aaa == base.aaa\r\n            ;\r\n        }\r\n    }\r\n\r\n    public class base\r\n    {\r\n        public string aaa { get; set; }\r\n    }\r\n\r\n    public class test: base\r\n    {\r\n        public string bbb { get; set; }\r\n\r\n        public test(base b)\r\n        {\r\n            mapper.map(b, this);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n[^1]: dto(data transform object)，通常用以傳遞資料用',word_token:["scenario","data","one","data","model","時候","資料","要","進行","傳遞","可能","要","進行","呈現","舉例","來","說","若現","需要","呈現","user","經過","隱碼","手機","號碼","但是","server","後","續","傳遞","資料","還是","需要","完整","手機","號碼","可以","規劃","如下","data","model","`","`","`","csharp","public","class","userinfo","public","string","cellphone","set","public","string","maskedcellphone","=","somemaskfunction","cellphone","`","`","`","cons","目前","data","model","之中","只有","2","個","property","但","有些","情況","下","property","可能","會","好","幾十個","甚至","上百","個","這時","要","一個","data","model","看出","哪些","property","顯示","用","哪些","資料","傳遞","用","會","方便","split","data","model","因此","一種","規畫","方式","就是","切分","data","model","讓","資料","傳遞","靠","dto","1","而","資料","呈","現靠","view","model","然後用","繼承","方式","他們","合起","來","`","`","`","csharp","public","class","baseuserinfo","public","string","cellphone","set","public","class","userinfovm","baseuserinfo","public","string","maskedcellphone","=","somemaskfunction","cellphone","`","`","`","cons","而","這時","新","問題","來","當從","其他","來原","拿到","`","baseuserinfo","`","後","若要","assign","進","`","userinfovm","`","最直觀","暴力","做法","就是","直接","塞","`","`","`","csharp","public","class","userinfovm","baseuserinfo","public","string","maskedcellphone","=","somemaskfunction","cellphone","public","userinfovm","baseuserinfo","baseuserinfo","cellphone","=","baseuserinfo","cellphone","`","`","`","但當","property","變多時","這","做法","會","很多","問題","1","幾個","property","塞","幾次","很花","時間","2","若","base","class","property","一異動","一致性","不會","獲得","保證","只要","忘","了將","inherited","class","constructor","property","塞入","base","property","會產生","邏輯","上","bug","而","這個","compile","階段","compiler","檢","查不出","來","要","run","time","才","會","知道","這個","錯","auto","mapper","這時","使用","auto","mapper","方便","只","需要","設定","好","對","應","可以","自動將","property","去","一一","對應","`","`","`","csharp","using","automapper","namespace","consoleapp","class","program","static","void","main","string","args","初始","階段","建立","對應","mapper","initialize","cfg","=","建立","source","base","target","test","對","應","source","target","方向性","cfg","createmap","base","test","var","b","=","new","base","aaa","=","aaa","var","test","=","new","test","b","bbb","=","bbb","test","aaa","=","=","base","aaa","public","class","base","public","string","aaa","set","public","class","test","base","public","string","bbb","set","public","test","base","b","mapper","map","b","`","`","`","1","dto","data","transform","object","通常","用以","傳遞","資料","用"],key_words:[{word:"public",weight:176.0880646062531},{word:"base",weight:105.65283876375187},{word:"class",weight:105.65283876375187},{word:"property",weight:105.65283876375187},{word:"string",weight:93.91363445666833},{word:"data",weight:93.91363445666833},{word:"baseuserinfo",weight:82.1744301495848},{word:"test",weight:82.1744301495848},{word:"model",weight:82.1744301495848},{word:"cellphone",weight:82.1744301495848},{word:"資料",weight:70.43522584250125},{word:"傳遞",weight:58.69602153541771},{word:"aaa",weight:58.69602153541771},{word:"userinfovm",weight:46.95681722833417},{word:"csharp",weight:46.95681722833417},{word:"set",weight:46.95681722833417},{word:"mapper",weight:46.95681722833417},{word:"bbb",weight:35.21761292125063},{word:"這時",weight:35.21761292125063},{word:"somemaskfunction",weight:35.21761292125063},{word:"maskedcellphone",weight:35.21761292125063},{word:"cons",weight:23.478408614167083},{word:"呈現",weight:23.478408614167083},{word:"var",weight:23.478408614167083},{word:"問題",weight:23.478408614167083},{word:"target",weight:23.478408614167083},{word:"dto",weight:23.478408614167083},{word:"auto",weight:23.478408614167083},{word:"cfg",weight:23.478408614167083},{word:"對應",weight:23.478408614167083}],excerpt:"scenario all data in one data model 有時候，資料要進行傳遞，可能又要進行呈現 舉例來說，若現在需要呈現user經過隱碼的手機號碼 但是server後續傳遞資料還是需要完整手機號碼，那就可以規劃如下 data model public class userinfo { public string cellphone { get; set; } public string maskedcellphone { get => somemaskfunction(this.cellphone); } } cons 目前 data model 之中只有2個 property 但有些情況下，property有可能會有好幾十個甚至上百個 這時要在一個data model中看出哪些property是顯示用，哪些是資料傳遞用就會很不方便 split data model 因此..."},{title:"變數命名",frontmatter:{title:"變數命名",datetime:"2020/3/18",is_tmp:!0,meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"變數命名"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/CSharp/%E8%AE%8A%E6%95%B8%E5%91%BD%E5%90%8D.html"},{name:"twitter:title",content:"變數命名"},{name:"twitter:url",content:"/Coding/CSharp/%E8%AE%8A%E6%95%B8%E5%91%BD%E5%90%8D.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"person, people, 變數, replace, rename, boolean, run, var, foreach, function, private, id, class, isable, 什麼, variable, jquery, aaa, member, 動詞, 名稱, 名詞, 計算出, 情況, getdata, 時候, candosomething, reference, 沒人用, 基本思路"},{property:"article:tag",content:"person"},{property:"article:tag",content:"people"},{property:"article:tag",content:"變數"},{property:"article:tag",content:"replace"},{property:"article:tag",content:"rename"},{property:"article:tag",content:"boolean"},{property:"article:tag",content:"run"},{property:"article:tag",content:"var"},{property:"article:tag",content:"foreach"},{property:"article:tag",content:"function"},{property:"article:tag",content:"private"},{property:"article:tag",content:"id"},{property:"article:tag",content:"class"},{property:"article:tag",content:"isable"},{property:"article:tag",content:"什麼"},{property:"article:tag",content:"variable"},{property:"article:tag",content:"jquery"},{property:"article:tag",content:"aaa"},{property:"article:tag",content:"member"},{property:"article:tag",content:"動詞"},{property:"article:tag",content:"名稱"},{property:"article:tag",content:"名詞"},{property:"article:tag",content:"計算出"},{property:"article:tag",content:"情況"},{property:"article:tag",content:"getdata"},{property:"article:tag",content:"時候"},{property:"article:tag",content:"candosomething"},{property:"article:tag",content:"reference"},{property:"article:tag",content:"沒人用"},{property:"article:tag",content:"基本思路"}]},regularPath:"/Coding/CSharp/%E8%AE%8A%E6%95%B8%E5%91%BD%E5%90%8D.html",relativePath:"Coding/CSharp/變數命名.md",key:"v-85f4c948",path:"/Coding/CSharp/%E8%AE%8A%E6%95%B8%E5%91%BD%E5%90%8D.html",git:{created:"3/26/2020, 10:14:10 PM",updated:"12/23/2019, 5:23:21 PM",author:"PC\\JC",commits:[{fullHash:"86195bf39c56842a1db844b1e294b374f56089f2",authorTime:"1585232050",commitTime:"1585232050",authorName:"PC\\JC"},{fullHash:"ad8ac6fd4025929d7634fa8c96ea39f8325ba9c0",authorTime:"1577093001",commitTime:"1577093001",authorName:"JC"}],contributors:["PC\\JC","JC"]},pure_content:"variable\r\n    名詞\r\n\r\n    單複數\r\n\t\tpeople, person\r\n\t\t    foreach( var people in person )\r\nfunction\r\n    動詞\r\n    run\r\n    getdata\r\nclass\r\nprivate member\r\n    _id\r\nprivate function\r\n    _run\r\n\r\n\r\n單複數\r\npeople, person\r\nforeach( var people in person )\r\n\r\nboolean變數 isable\r\njquery變數 $aaa\r\n計算出boolean值 candosomething\r\n\r\n變數rename的技巧\r\n\t\t在不依靠reference rename的情況下\r\n\t\t什麼時候可以直接replace all\r\n\t\t基本思路\r\n\t\t\t只要replace後的名稱，目前沒人用，就可以replace all",word_token:["variable","名詞","單","複","數","people","person","foreach","var","people","person","function","動詞","run","getdata","class","private","member","_","id","private","function","_","run","單","複","數","people","person","foreach","var","people","person","boolean","變數","isable","jquery","變數","aaa","計算出","boolean","值","candosomething","變數","rename","技巧","依靠","reference","rename","情況","下","什麼","時候","可以","直接","replace","基本思路","只要","replace","後","名稱","目前","沒人用","可以","replace"],key_words:[{word:"person",weight:46.95681722833417},{word:"people",weight:46.95681722833417},{word:"變數",weight:35.21761292125063},{word:"replace",weight:35.21761292125063},{word:"rename",weight:23.478408614167083},{word:"boolean",weight:23.478408614167083},{word:"run",weight:23.478408614167083},{word:"var",weight:23.478408614167083},{word:"foreach",weight:23.478408614167083},{word:"function",weight:23.478408614167083},{word:"private",weight:23.478408614167083},{word:"id",weight:11.739204307083542},{word:"class",weight:11.739204307083542},{word:"isable",weight:11.739204307083542},{word:"什麼",weight:11.739204307083542},{word:"variable",weight:11.739204307083542},{word:"jquery",weight:11.739204307083542},{word:"aaa",weight:11.739204307083542},{word:"member",weight:11.739204307083542},{word:"動詞",weight:11.739204307083542},{word:"名稱",weight:11.739204307083542},{word:"名詞",weight:11.739204307083542},{word:"計算出",weight:11.739204307083542},{word:"情況",weight:11.739204307083542},{word:"getdata",weight:11.739204307083542},{word:"時候",weight:11.739204307083542},{word:"candosomething",weight:11.739204307083542},{word:"reference",weight:11.739204307083542},{word:"沒人用",weight:11.739204307083542},{word:"基本思路",weight:11.2616203224}],excerpt:"variable 名詞 單複數 people, person foreach( var people in person ) function 動詞 run getdata class private member _id private function _run 單複數 people, person foreach( var people in person ) boolean變數 isable jquery變數 $aaa 計算出boolean值 candosomething 變數rename的技巧 在不依靠reference rename的情況下 什麼時候可以直接replace all 基本思路 只要replace後的名稱，目前沒人用，就可以replace all"},{title:"String Concatenate",frontmatter:{title:"String Concatenate",datetime:"2019/8/16",tag:["C#","string format","string join"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"String Concatenate"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/CSharp/String-Concatenate.html"},{name:"twitter:title",content:"String Concatenate"},{name:"twitter:url",content:"/Coding/CSharp/String-Concatenate.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"string, option, 字串, 1., stringbuilder, 1000, result, 2., csharp, array, value, world, builder, aaa, 123, hello, 串串, join, new, item, select, 地址, 程式, 類似, bbb, 組合, html, format, 填空, 串接"},{property:"article:tag",content:"string"},{property:"article:tag",content:"option"},{property:"article:tag",content:"字串"},{property:"article:tag",content:"1."},{property:"article:tag",content:"stringbuilder"},{property:"article:tag",content:"1000"},{property:"article:tag",content:"result"},{property:"article:tag",content:"2."},{property:"article:tag",content:"csharp"},{property:"article:tag",content:"array"},{property:"article:tag",content:"value"},{property:"article:tag",content:"world"},{property:"article:tag",content:"builder"},{property:"article:tag",content:"aaa"},{property:"article:tag",content:"123"},{property:"article:tag",content:"hello"},{property:"article:tag",content:"串串"},{property:"article:tag",content:"join"},{property:"article:tag",content:"new"},{property:"article:tag",content:"item"},{property:"article:tag",content:"select"},{property:"article:tag",content:"地址"},{property:"article:tag",content:"程式"},{property:"article:tag",content:"類似"},{property:"article:tag",content:"bbb"},{property:"article:tag",content:"組合"},{property:"article:tag",content:"html"},{property:"article:tag",content:"format"},{property:"article:tag",content:"填空"},{property:"article:tag",content:"串接"}]},regularPath:"/Coding/CSharp/String-Concatenate.html",relativePath:"Coding/CSharp/String-Concatenate.md",key:"v-7bfb30a6",path:"/Coding/CSharp/String-Concatenate.html",headers:[{level:2,title:"String Concatenate",slug:"string-concatenate"},{level:2,title:"Batch String Concatenate",slug:"batch-string-concatenate"},{level:2,title:"string format",slug:"string-format"},{level:3,title:'"+" operator',slug:"operator"},{level:3,title:"String.Format",slug:"string-format-2"},{level:3,title:"Interpolated Strings",slug:"interpolated-strings"},{level:2,title:"string builder",slug:"string-builder"},{level:3,title:"bad efficiency",slug:"bad-efficiency"},{level:3,title:"string builder",slug:"string-builder-2"},{level:2,title:"string join",slug:"string-join"}],git:{created:"12/23/2019, 5:23:21 PM",updated:"12/23/2019, 5:23:21 PM",author:"JC",commits:[{fullHash:"ad8ac6fd4025929d7634fa8c96ea39f8325ba9c0",authorTime:"1577093001",commitTime:"1577093001",authorName:"JC"}],contributors:["JC"]},pure_content:'字串串接是很常見之應用、像是爬蟲、動態產生網頁內容、產生機器學習資料 ... 等等等\r\n\r\n許多場景下都會需要做字串的串接處理\r\n\r\n scenario\r\n\r\n一般在做字串處理時，大致上不外乎就是\r\n\r\n1. 根據需求情境計算出一些字串後組合字串\r\n\r\n2. 將大量類似之字串組合成一個字串\r\n\r\n string concatenate\r\n\r\n即字串串接，像是\r\n\r\n1. 組 csv 中一筆 row 各 field 之字串\r\n\r\n    | ... | 地址代碼 | 地址 | ... |\r\n    | --- | ------ | --- | --- |\r\n    | ... | 123    | aaa | ... |\r\n\r\n    像上方表格之地址`aaa`，可能就是要查另一個表，去看`123`會轉出什麼地址\r\n\r\n2. 組出 html select 中之單個 option\r\n\r\n    ```html\r\n    <select name="name">\r\n        ...\r\n        <option value="option_value">option_name</option>\r\n        ...\r\n    </select>\r\n    ```\r\n\r\n    其中 option 你可能還會需要看是否\r\n\r\n    1. selected?\r\n    2. disabled?\r\n    3. 特別的class\r\n    4. data-attr\r\n    5. ...\r\n\r\n batch string concatenate\r\n\r\n即大量同質性的字串串接\r\n\r\n承上方之舉例\r\n\r\n1. 組合 csv 中之各個 row\r\n\r\n    |   | ... | 地址代碼 | 地址 | ... |\r\n    | - | --- | ------ | --- | --- |\r\n    | 1 | ... | 123    | aaa | ... |\r\n    | 2 | ... | 234    | bbb | ... |\r\n\r\n    像上方之表格，可能會需要將 `[ "123, \'aaa\'", "234, \'bbb\'" ]`\r\n    組合成 `"123, \'aaa\'\\n234, \'bbb\'"`\r\n\r\n2. 將 html select 中之各 option 組合起來\r\n\r\n    像 `[ "<option value=\'0\'>a</option>", "<option value=\'1\'>b</option>" ]`\r\n    組成 `"<option value=\'0\'>a</option><option value=\'1\'>b</option>"`\r\n\r\n convenient skill\r\n\r\n string format\r\n\r\n "+" operator\r\n\r\n為最傳統、最直接之字串編輯方式\r\n\r\n```csharp\r\nstring a = "hello";\r\nstring b = "world";\r\nstring message = a + " " + b\r\n```\r\n\r\n但壞處為，程式可讀性較低\r\n\r\n以及大量字串處理時，有可能會有程式執行效率不佳的問題[^1]\r\n\r\n string.format\r\n\r\n以一種類似填空的方式組字串\r\n\r\nex\r\n\r\n```csharp\r\nstring a = "hello";\r\nstring b = "world";\r\nstring c = string.format("{0},{1}",a,b);\r\n// c => "hello, world"\r\n```\r\n\r\n好處:\r\n1. 字串模板可以變數化\r\n2. 程式可讀性佳\r\n\r\n壞處:\r\n1. 不能用名字去對應，只能用順序(0,1,2)去對應\r\n\r\n interpolated strings\r\n\r\n也是以一種類似填空的方式組字串，但使用上更直觀\r\n\r\n```csharp\r\nstring a = "hello";\r\nstring b = "world";\r\nstring c = $"{a}, {b}";\r\n// c => "hello, world"\r\n```\r\n\r\n好處:\r\n1. 更加直觀\r\n2. 可以用名字去對應\r\n\r\n壞處:\r\n1. 字串模板較難變數化\r\n\r\n string builder\r\n\r\n在做大量字串串接時，若都是使用 `+` 去做字串串接\r\n\r\n那程式可能會跑得非常沒有效率 [^2]\r\n\r\n因此針對這種情境，可以使用 `string builder`\r\n\r\n bad efficiency\r\n\r\n```csharp\r\nstring [] array = new [] { "1", "2" ... "1000" };\r\nstring result = "";\r\nforeach(var item in array){\r\n    result += item + ", ";\r\n}\r\n// result => "1, 2, ... 1000, "\r\n```\r\n\r\n string builder\r\n\r\n```csharp\r\nstring [] array = new [] { "1", "2" ... "1000" };\r\nstringbuilder stringbuilder = new stringbuilder();\r\nforeach(var item in array){\r\n    stringbuilder.append(item + ", ");\r\n}\r\nstring result = stringbuilder.tostring();\r\n// result => "1, 2, ... 1000, "\r\n```\r\n\r\n string join\r\n\r\n其實 `string.join` 跟 string builder 很像\r\n\r\n他算是 string builder 的一種使用特例\r\n\r\n```csharp\r\nstring [] array = new [] { "1", "2" ... "1000" };\r\nstring stringforjoin = ", ";\r\nstring result = string.join(stringforjoin, array);\r\n// result => "1, 2, ... 999, 1000"\r\n```\r\n\r\n但他有個很大的好處是，1000的後面不會出現 `", "`\r\n\r\n他只會在中間插入 999 個 `", "`\r\n\r\n[^1]: [c.net] 動態處理字串 - stringbuilder 類別 與 string 類別的效能\r\n\r\n\r\n[^2]: [performance][c]stringbuilder與string.join串接字串時的效能比較',word_token:["字","串串","接是","很常見","應用","像是","爬蟲","、","動","態","產","生","網","頁","內","容","、","產","生","機","器","學","習","資","料","等等","許多場","景下","會","需要","字串","串接","處理","scenario","一般","字串","處理時","大致","上","不外乎","就是","1","根據","需求","情境","計算出","一些","字串","後","組合","字串","2","將","大量","類似","字串","組","合成","一個","字串","string","concatenate","即字","串串","接","像是","1","組","csv","中一筆","row","field","字串","|","|","地址","代碼","|","地址","|","|","|","-","-","-","|","-","-","-","-","-","-","|","-","-","-","|","-","-","-","|","|","|","123","|","aaa","|","|","像","上方","表格","地址","`","aaa","`","可能","就是","要查","另","一個表","去","`","123","`","會","轉出","什麼","地址","2","組出","html","select","單個","option","`","`","`","html","select","name","=","name","option","value","=","option","_","value","option","_","name","option","select","`","`","`","其中","option","可能","還會","需要","是否","1","selected","2","disabled","3","特別","class","4","data","-","attr","5","batch","string","concatenate","即","大量","同質性","字","串串","接","承","上方","之舉例","1","組合","csv","各個","row","|","|","|","地址","代碼","|","地址","|","|","|","-","|","-","-","-","|","-","-","-","-","-","-","|","-","-","-","|","-","-","-","|","|","1","|","|","123","|","aaa","|","|","|","2","|","|","234","|","bbb","|","|","像","上方","表格","可能","會","需要","將","`","123","aaa","234","bbb","`","組","合成","`","123","aaa","n234","bbb","`","2","將","html","select","option","組合","起來","像","`","option","value","=","0","option","option","value","=","1","b","option","`","組成","`","option","value","=","0","option","option","value","=","1","b","option","`","convenient","skill","string","format","operator","為","最","傳統","、","最","直接","字串","編輯","方式","`","`","`","csharp","string","=","hello","string","b","=","world","string","message","=","b","`","`","`","但壞","處","為","程式","可讀","性","較","低","以及","大量","字串","處理時","可能","會","程式","執行","效率","不佳","問題","1","string","format","以一種","類似","填空","方式","組","字串","ex","`","`","`","csharp","string","=","hello","string","b","=","world","string","c","=","string","format","0","1","b","c","=","hello","world","`","`","`","好處","1","字串","模板","可以","變數化","2","程式","可讀","性佳","壞處","1","不能","用","名字","去","對","應","只能","用","順序","0","1","2","去","對","應","interpolated","strings","以","一種","類似","填空","方式","組","字串","但","使用","上","直觀","`","`","`","csharp","string","=","hello","string","b","=","world","string","c","=","b","c","=","hello","world","`","`","`","好處","1","更加","直觀","2","可以","用","名字","去","對","應","壞處","1","字串","模板","較","難變","數化","string","builder","大量","字","串串","接時","若","使用","`","`","去","字","串串","接","程式","可能","會","跑","非常","沒","有效率","2","因此","針對","這種","情境","可以","使用","`","string","builder","`","bad","efficiency","`","`","`","csharp","string","array","=","new","1","2","1000","string","result","=","foreach","var","item","array","result","=","item","result","=","1","2","1000","`","`","`","string","builder","`","`","`","csharp","string","array","=","new","1","2","1000","stringbuilder","stringbuilder","=","new","stringbuilder","foreach","var","item","array","stringbuilder","append","item","string","result","=","stringbuilder","tostring","result","=","1","2","1000","`","`","`","string","join","其實","`","string","join","`","string","builder","像","算是","string","builder","一種","使用","特例","`","`","`","csharp","string","array","=","new","1","2","1000","string","stringforjoin","=","string","result","=","string","join","stringforjoin","array","result","=","1","2","999","1000","`","`","`","但","個","很大","好","處","1000","後","面不會","出現","`","`","只會","中間","插入","999","個","`","`","1","c","net","動態","處理","字串","-","stringbuilder","類別","與","string","類別","效能","2","performance","c","stringbuilder","與","string","join","串接","字串","時","效能","比較"],key_words:[{word:"string",weight:363.9153335195898},{word:"option",weight:176.0880646062531},{word:"字串",weight:166.9213339455},{word:"1.",weight:93.91363445666833},{word:"stringbuilder",weight:82.1744301495848},{word:"1000",weight:82.1744301495848},{word:"result",weight:82.1744301495848},{word:"2.",weight:70.43522584250125},{word:"csharp",weight:70.43522584250125},{word:"array",weight:70.43522584250125},{word:"value",weight:70.43522584250125},{word:"world",weight:58.69602153541771},{word:"builder",weight:58.69602153541771},{word:"aaa",weight:58.69602153541771},{word:"123",weight:58.69602153541771},{word:"hello",weight:58.69602153541771},{word:"串串",weight:53.4090091355},{word:"join",weight:46.95681722833417},{word:"new",weight:46.95681722833417},{word:"item",weight:46.95681722833417},{word:"select",weight:46.95681722833417},{word:"地址",weight:46.03299989028},{word:"程式",weight:37.42953147884},{word:"類似",weight:35.21761292125063},{word:"bbb",weight:35.21761292125063},{word:"組合",weight:35.21761292125063},{word:"html",weight:35.21761292125063},{word:"format",weight:35.21761292125063},{word:"填空",weight:24.582479479},{word:"串接",weight:24.2178363654}],excerpt:'字串串接是很常見之應用、像是爬蟲、動態產生網頁內容、產生機器學習資料 ... 等等等 許多場景下都會需要做字串的串接處理 scenario 一般在做字串處理時，大致上不外乎就是 根據需求情境計算出一些字串後組合字串 將大量類似之字串組合成一個字串 string concatenate 即字串串接，像是 組 csv 中一筆 row 各 field 之字串 ... 地址代碼 地址 ... ... 123 aaa ... 像上方表格之地址aaa，可能就是要查另一個表，去看123會轉出什麼地址 組出 html select 中之單個 option <select name="name"> ... <option value="option_value">option_name</option> ... </select> 其中 option 你可能還會需要看是否 selected? disable...'},{title:"例外處理",frontmatter:{title:"例外處理",datetime:"2019/11/24",tag:["C#","Exception"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"例外處理"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/CSharp/%E4%BE%8B%E5%A4%96%E8%99%95%E7%90%86.html"},{name:"twitter:title",content:"例外處理"},{name:"twitter:url",content:"/Coding/CSharp/%E4%BE%8B%E5%A4%96%E8%99%95%E7%90%86.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"exception, 發生, 系統, log, 一個, try, mass, 這樣, catch, error, 開發, height, 處理, 其實, fault, finally, 像是, 時間, 多樣, 訊息, 覺得, failure, assert, 畢竟, diversity, 例外, 執行, code, 問題, 時候"},{property:"article:tag",content:"exception"},{property:"article:tag",content:"發生"},{property:"article:tag",content:"系統"},{property:"article:tag",content:"log"},{property:"article:tag",content:"一個"},{property:"article:tag",content:"try"},{property:"article:tag",content:"mass"},{property:"article:tag",content:"這樣"},{property:"article:tag",content:"catch"},{property:"article:tag",content:"error"},{property:"article:tag",content:"開發"},{property:"article:tag",content:"height"},{property:"article:tag",content:"處理"},{property:"article:tag",content:"其實"},{property:"article:tag",content:"fault"},{property:"article:tag",content:"finally"},{property:"article:tag",content:"像是"},{property:"article:tag",content:"時間"},{property:"article:tag",content:"多樣"},{property:"article:tag",content:"訊息"},{property:"article:tag",content:"覺得"},{property:"article:tag",content:"failure"},{property:"article:tag",content:"assert"},{property:"article:tag",content:"畢竟"},{property:"article:tag",content:"diversity"},{property:"article:tag",content:"例外"},{property:"article:tag",content:"執行"},{property:"article:tag",content:"code"},{property:"article:tag",content:"問題"},{property:"article:tag",content:"時候"}]},regularPath:"/Coding/CSharp/%E4%BE%8B%E5%A4%96%E8%99%95%E7%90%86.html",relativePath:"Coding/CSharp/例外處理.md",key:"v-9a2a43a4",path:"/Coding/CSharp/%E4%BE%8B%E5%A4%96%E8%99%95%E7%90%86.html",headers:[{level:2,title:"關於log",slug:"關於log"},{level:2,title:"Fault Handling",slug:"fault-handling"},{level:2,title:"Retry",slug:"retry"}],git:{created:"12/23/2019, 5:23:21 PM",updated:"12/23/2019, 5:23:21 PM",author:"JC",commits:[{fullHash:"ad8ac6fd4025929d7634fa8c96ea39f8325ba9c0",authorTime:"1577093001",commitTime:"1577093001",authorName:"JC"}],contributors:["JC"]},pure_content:"程式中之例外處理是門大學問，有時他可能微不足道，有時他也可以毀了一個應用\r\n\r\n剛好這幾天去上了teddy的例外處理，這邊就記錄一下當時上課的想法\r\n\r\n design by contract\r\n\r\n一種開發思維，不精確來說，可以當作是在做初始值的檢查，並且把他變成是一種機制\r\n\r\n畢竟許多 exception 的發生，其實都跟不正確的初始值有關\r\n\r\n我在知乎看到了一個python範例我覺得滿淺顯易懂的[^1]\r\n\r\n```python\r\ndef calc_bmi(mass: float, height: float) -> float:\r\n\r\n\"\"\"\r\ncalculate bmi indicator value.\r\n\"\"\"\r\n\r\n contracts\r\nassert 20 < mass    , 'mass should not be smaller than 20[kg]. '\r\nassert mass < 300   , 'mass should not be larger than 300[kg]. '\r\nassert 0.7 < height , 'height should not be smaller than 0.7[m]. '\r\nassert height < 2.8 , 'height should not be larger than 2.8[m]. '\r\n\r\n body\r\nres = mass / height2\r\nreturn res\r\n```\r\n\r\n root cause(根本原因)\r\n\r\n有的時候一個exception的發生式來源於前面code的邏輯出錯\r\n\r\n比方說到db拿值，結果拿到null，但預期應該要是空陣列，這時執行foreach的code就會壞的莫名其妙，不好找到出錯源頭\r\n    \r\n robustness(強建度)\r\n\r\n可以簡單類比成系統的例外處理做的好不好，做的好，系統不容易掛掉，當然就是比較穩健的系統\r\n\r\n但要開發這樣的系統，成本就會非常高昂\r\n\r\n很多時候，開需求的人都總會覺得系統這樣那樣不應該壞掉，但給的開發時程又不是很充足\r\n\r\n如何跟開需求的人闡明 `robustness` 與 `開發成本` 真的是個大問題\r\n\r\n fault x error x failure\r\n\r\n有的人將例外分成了3種等級，簡單來說，有點連鎖效應的感覺\r\n\r\n前者可會導致後者的發生，像是fault發生可能導致error也發生，error發生可能導致failure發生\r\n\r\n而 failure 是最危險的，因為他可能會導致服務偏離規格\r\n\r\n所以若要在強健度與開發時程取個平衡點的話，或許可以盡量把exception的發生控制在低一點的層級\r\n\r\n有時間再盡可能的去修掉可能發生exception的code\r\n\r\n 發生來源\r\n\r\n其實這也是一個看待exception的角度，exception的發生要不是自己造成的，不然就是別人造成的\r\n\r\n若是自己造成的，控制權在自己手上，那當然就是自己能有多點的處理空間\r\n\r\n若是別人造成的，控制權在別人手上，有時就要祈禱對方願意改了，但若別人有歷史包袱，或兼容問題\r\n\r\n那狀況就比較麻煩了，可能就得由自己這邊多做些處理了\r\n\r\n fault-tolerant(高容錯)\r\n\r\n簡單來說，就是系統一部分壞掉了，整體還是可以正常運行\r\n\r\n像是微服務化的系統，可以利用像是k8s之類的技術，動態調整服務\r\n\r\n asynchronous exception\r\n\r\n這類型的exception還滿有趣的，像是runtime的時候遇到記憶體不足\r\n\r\n這類由系統主動通知的，通常都是asynchronous exception\r\n\r\n也就是說，這類exception能不遇到就不要遇到，不然一發生似乎都是滿大條的 lol\r\n\r\n try-catch-finally\r\n\r\n大多數程式語言都會有try-catch-finally這樣的語法可以用\r\n\r\n一般來說，大概會是這樣使用\r\n\r\n|||\r\n|-|-|\r\n|try    |主要要執行的邏輯|\r\n|catch  |有例外時要做的事|\r\n|finally|最終要做的事    |\r\n\r\n而具體來說，我大概是會這樣使用\r\n\r\n|||\r\n|-|-|\r\n|try|主要要執行的邏輯|\r\n|^^|log訊息|\r\n|catch|嘗試錯誤修復|\r\n|^^|將對外訊息整理得更具可讀性|\r\n|^^|log訊息|\r\n|finally|最終要做的事|\r\n|^^|關掉connection|\r\n|^^|記憶體釋放|\r\n|^^|log訊息|\r\n\r\n而在上課時，我覺得投影片上的定義寫的滿不錯的\r\n\r\n|||\r\n|-|-|\r\n| try | implement requirements(can have alternatives) |\r\n| ^^  | prepare state recovery (ex make a check point) |\r\n| ^^  | report exceptional conditions |\r\n| catch | perform error and fault handling |\r\n| ^^ | report exceptional conditions |\r\n| ^^ | control retry flow |\r\n| finally | release resources |\r\n| ^^ | drop check points if any |\r\n\r\n 關於log\r\n\r\n最好不要每個try catch都寫log，否則一樣的訊息可能會被重複log好多次\r\n\r\n一種解法是做個\"保護傘\"，在最外層進行log，這樣就能確保只會log一次\r\n\r\n error handling\r\n\r\nerror其實就已經有點可怕了，畢竟可能會造成failure\r\n\r\n而針對這種情形，復原(backward recovery)或許是種好的應對策略\r\n\r\n具體做法大致可分為兩類\r\n\r\n state-based: 像是製作映像檔\r\n\r\n operation-based: 像是使用undo，可以一個指令一個指令回復\r\n\r\n 行為回復的實作策略\r\n\r\n fault handling\r\n\r\n 診斷 diagnosis\r\n 隔離 isolation\r\n 重新組態 reconfiguration\r\n 重新初始化 reinitialization\r\n\r\n retry\r\n\r\n 設計多樣性( design diversity )\r\n 功能多樣性( functional diversity )\r\n   像是不同的登入方式\r\n   fb登入、google登入\r\n 資料多樣性( data diversity )\r\n   像是exception後給default data\r\n 時序多樣性( temporal diversity )\r\n   隔一段時間再retry，像是網路瞬斷\r\n\r\n---\r\n\r\nexception 很多是不可預期的，無法靠事先if else去做檢查\r\n\r\n當然能事先預判也是不錯的，畢竟exception的產生，其實也是會耗掉系統效能的\r\n\r\n其實我覺得這也引導出了一個問題: `什麼是好的軟體？`\r\n\r\n這其實在課堂上大家也有不少的討論，而有幾個方像我覺得滿不錯的\r\n    \r\n    好不好加功能?\r\n\r\n畢竟，不好加功能的話，那就跟硬體好像沒什麼區別了\r\n\r\n    調整跟scope有關跟時間比較無關\r\n\r\n基本上來說，就是希望開發的時程是可預期的，加幾個功能大概需要花多少時間\r\n\r\n如果是架構很雜亂的系統，這件事一定很難達到\r\n\r\n甚至加一個功能搞不好還會影響到以前的功能\r\n\r\n[^1]:",word_token:["程式","例外","處理","門大學問","有時","可能","微不足道","有時","可以","毀了","一個","應用","剛好","這幾天","去","上","teddy","例外","處理","這邊","記錄","一下","當時","上","課","想法","design","contract","一種","開","發思維","精確","來","說","可以","當作","初始值","檢查","並且","變成","一種","機制","畢竟","許多","exception","發生","其實","不正","確的","初始值","有關","知乎","看到","一個","python","範例","覺得","滿淺顯","易懂","1","`","`","`","python","def","calc","_","bmi","mass","float","height","float","-","float","calculate","bmi","indicator","value","contracts","assert","20","mass","mass","not","smaller","20","kg","assert","mass","300","mass","not","larger","300","kg","assert","07","height","height","not","smaller","07","m","assert","height","28","height","not","larger","28","m","body","res","=","mass","height2","return","res","`","`","`","root","cause","根本原因","時候","一個","exception","發生式","來源","於","前面","code","邏輯","出錯","比方","說","db","拿值","結果","拿到","null","但","預期","應該","要是","空陣列","這時","執行","foreach","code","會","壞","莫名其妙","不好","找到","出錯","源頭","robustness","強建度","可以","簡單類","比成","系統","例外","處理","好不好","好","系統","容易","掛掉","當然","就是","比較","穩健","系統","但要","開發","這樣","系統","成本","會","非常","高昂","很多","時候","開","需求","人","總會","覺得","系統","這樣","那樣","不應","該","壞","掉","但給","開發","時程","不是","充足","如何","跟開","需求","人","闡明","`","robustness","`","與","`","開發","成本","`","真的","個","大","問題","fault","x","error","x","failure","人將","例外","分成","3","種等級","簡單","來","說","有點","連鎖","效應","感覺","前者","可會導","致後者","發生","像是","fault","發生","可能","導致","error","發生","error","發生","可能","導致","failure","發生","而","failure","最","危險","因為","可能","會導致","服務","偏離","規格","所以","若要","強健度","與","開發","時程","取個","平衡","點的","話","或許","可以","盡量","exception","發生","控制","低","一點","層級","時間","再","盡","可能","去","修掉","可能","發生","exception","code","發生","來源","其實","這也","一個","看待","exception","角度","exception","發生","要不是","自己","造成","不然","就是","別人","造成","若","自己","造成","控制","權在","自己","手上","那當然","就是","自己","能","多點","處理","空間","若","別人","造成","控制","權在","別人","手上","有時","就要","祈禱","對","方願","意改","但若別","人","歷史","包袱","兼容","問題","那狀況","比","較","麻煩","可能","由","自己","這邊","做些","處理","fault","-","tolerant","高容錯","簡單","來","說","就是","系統","一部分","壞","掉","整體","還是","可以","正常","運行","像是","微服","務化","系統","可以","利用","像是","k8s","之類","技術","動態","調整","服務","asynchronous","exception","這類","型","exception","還滿","有趣","像是","runtime","時候","遇到","記憶體","不足","這類","由系","統主動","通知","通常","asynchronous","exception","就是","說","這類","exception","能","遇到","不要","遇到","不然","一發生","似乎","滿大條","lol","try","-","catch","-","finally","大多","數","程式","語言","會","try","-","catch","-","finally","這樣","語法","可以","用","一般","來","說","大概","會","這樣","使用","|","|","|","|","-","|","-","|","|","try","|","主要","要","執行","邏輯","|","|","catch","|","例外","時要","事","|","|","finally","|","最終","要","事","|","而","具體","來","說","大概","會","這樣","使用","|","|","|","|","-","|","-","|","|","try","|","主要","要","執行","邏輯","|","|","|","log","訊息","|","|","catch","|","嘗試","錯誤","修","復","|","|","|","將對","外訊息","整理","更具","可","讀性","|","|","|","log","訊息","|","|","finally","|","最終","要","事","|","|","|","關掉","connection","|","|","|","記憶體","釋放","|","|","|","log","訊息","|","而","上","課時","我覺","投","影片","上","定義寫","滿不錯","|","|","|","|","-","|","-","|","|","try","|","implement","requirements","alternatives","|","|","|","prepare","state","recovery","ex","check","point","|","|","|","report","exceptional","conditions","|","|","catch","|","perform","error","fault","handling","|","|","|","report","exceptional","conditions","|","|","|","control","retry","flow","|","|","finally","|","release","resources","|","|","|","drop","check","points","|","關於","log","最好","不要","每個","try","catch","寫","log","否則","一樣","訊息","可能","會","被","重","複","log","好","多次","一種","解法","個","保護傘","最","外層","進行","log","這樣","能","確保","只會","log","一次","error","handling","error","其實","已經","有點","可怕","畢竟","可能","會","造成","failure","而針","對","這種","情形","復","原","backward","recovery","或許","種好","應","對","策略","具體","做法","大致","可分","為","兩類","state","-","based","像是","製","作","映像","檔","operation","-","based","像是","使用","undo","可以","一個","指令","一個","指令","回","復","行為","回","復","實作","策略","fault","handling","診斷","diagnosis","隔離","isolation","重新","組態","reconfiguration","重新","初始化","reinitialization","retry","設計","多樣","性","design","diversity","功能","多樣","性","functional","diversity","像是","不同","登入","方式","fb","登入","google","登入","資料","多樣","性","data","diversity","像是","exception","後給","default","data","時序","多樣","性","temporal","diversity","隔","一段","時間","再","retry","像是","網路","瞬斷","-","-","-","exception","很多","不可","預期","無法","靠","事先","else","去","檢查","當然","能","事先","預判","不錯","畢竟","exception","產生","其實","會","耗掉","系統","效能","其實","覺得","這也","引導出","一個","問題","`","什麼","好","軟體","`","這其實","課","堂上","大家","不少","討論","而","幾個","方像","覺得","滿不錯","好不好","加","功能","畢竟","不好","加","功能","話","硬體","好像","沒什麼","區別","調整","scope","有關","時間","比較","無關","基本上","來","說","就是","希望","開發","時程","可","預期","加幾個","功能","大概","需要","花","多少","時間","如果","架構","雜亂","系統","這件","事","一定","很難","達","甚至","加一個","功能","搞不好","還會","影響","以前","功能","1"],key_words:[{word:"exception",weight:152.60965599208603},{word:"發生",weight:117.39204307083541},{word:"系統",weight:105.65283876375187},{word:"log",weight:93.91363445666833},{word:"一個",weight:82.1744301495848},{word:"try",weight:70.43522584250125},{word:"mass",weight:70.43522584250125},{word:"這樣",weight:70.43522584250125},{word:"catch",weight:70.43522584250125},{word:"error",weight:70.43522584250125},{word:"開發",weight:58.69602153541771},{word:"height",weight:58.69602153541771},{word:"處理",weight:58.69602153541771},{word:"其實",weight:58.69602153541771},{word:"fault",weight:58.69602153541771},{word:"finally",weight:58.69602153541771},{word:"像是",weight:57.38990613093},{word:"時間",weight:46.95681722833417},{word:"多樣",weight:46.95681722833417},{word:"訊息",weight:46.95681722833417},{word:"覺得",weight:46.95681722833417},{word:"failure",weight:46.95681722833417},{word:"assert",weight:46.95681722833417},{word:"畢竟",weight:46.95681722833417},{word:"diversity",weight:46.95681722833417},{word:"例外",weight:37.59430817285},{word:"執行",weight:35.21761292125063},{word:"code",weight:35.21761292125063},{word:"問題",weight:35.21761292125063},{word:"時候",weight:35.21761292125063}],excerpt:'程式中之例外處理是門大學問，有時他可能微不足道，有時他也可以毀了一個應用 剛好這幾天去上了teddy的例外處理，這邊就記錄一下當時上課的想法 design by contract 一種開發思維，不精確來說，可以當作是在做初始值的檢查，並且把他變成是一種機制 畢竟許多 exception 的發生，其實都跟不正確的初始值有關 我在知乎看到了一個python範例我覺得滿淺顯易懂的[^1] def calc_bmi(mass: float, height: float) -> float: """ calculate bmi indicator value. """ contracts assert 20 < mass , \'mass should not be smaller than 20[kg]. \' assert mass < 300 , \'mass should not be large...'},{title:"責任鏈",frontmatter:{title:"責任鏈",datetime:"2020/3/8",tag:["C#","csharp","chain-of-responsibility"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"責任鏈"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/CSharp/%E8%B2%AC%E4%BB%BB%E9%8F%88.html"},{name:"twitter:title",content:"責任鏈"},{name:"twitter:url",content:"/Coding/CSharp/%E8%B2%AC%E4%BB%BB%E9%8F%88.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"public, customer, customerinfo, summary, 判斷, 進行, ideterminevalue, isvaluable, genderhandler, 超過, new, 付費, class, list, agehandler, 年齡, set, 方案, 邏輯, 目標, determineprocessa, basehandler, 則為, bool, 一個, genders, 族群, code, male, add"},{property:"article:tag",content:"public"},{property:"article:tag",content:"customer"},{property:"article:tag",content:"customerinfo"},{property:"article:tag",content:"summary"},{property:"article:tag",content:"判斷"},{property:"article:tag",content:"進行"},{property:"article:tag",content:"ideterminevalue"},{property:"article:tag",content:"isvaluable"},{property:"article:tag",content:"genderhandler"},{property:"article:tag",content:"超過"},{property:"article:tag",content:"new"},{property:"article:tag",content:"付費"},{property:"article:tag",content:"class"},{property:"article:tag",content:"list"},{property:"article:tag",content:"agehandler"},{property:"article:tag",content:"年齡"},{property:"article:tag",content:"set"},{property:"article:tag",content:"方案"},{property:"article:tag",content:"邏輯"},{property:"article:tag",content:"目標"},{property:"article:tag",content:"determineprocessa"},{property:"article:tag",content:"basehandler"},{property:"article:tag",content:"則為"},{property:"article:tag",content:"bool"},{property:"article:tag",content:"一個"},{property:"article:tag",content:"genders"},{property:"article:tag",content:"族群"},{property:"article:tag",content:"code"},{property:"article:tag",content:"male"},{property:"article:tag",content:"add"}]},regularPath:"/Coding/CSharp/%E8%B2%AC%E4%BB%BB%E9%8F%88.html",relativePath:"Coding/CSharp/責任鏈.md",key:"v-8da9df6c",path:"/Coding/CSharp/%E8%B2%AC%E4%BB%BB%E9%8F%88.html",git:{created:"12/10/2020, 1:58:14 PM",updated:"3/22/2020, 5:49:23 AM",author:"johnny1991524",commits:[{fullHash:"119d25d415482a968cb7a914e883702ee6d54ad5",authorTime:"1607579894",commitTime:"1607579894",authorName:"johnny1991524"},{fullHash:"f8fd2a5f23952beba697a50b5a2b46d65513551b",authorTime:"1584827363",commitTime:"1584827363",authorName:"PC\\JC"}],contributors:["johnny1991524","PC\\JC"]},pure_content:"scenario\r\n\r\n當開發時有遇到許多邏輯重複出現，並最終構成一個商業邏輯時\r\n\r\n其實就可以考慮使用責任鏈的方式來進行開發，以達到不僅code可以重用，連商業邏輯都盡量的去重用\r\n\r\n並且因邏輯抽離，當商業邏輯需要進行更改時，在一定程度上也會降低重構的難易度\r\n\r\n example case\r\n\r\n這邊做一個簡單的例子，假設今天公司要判斷一個顧客是否值得關注\r\n\r\n而我們有兩種判斷方式都想進行嘗試\r\n\r\n 方案a: \r\n   若是男生，且付費超過1000，且年齡超過30，則為目標族群\r\n   若是女生，且付費超過500，且年齡超過30，則為目標族群\r\n\r\n 方案b:\r\n   若是男生，且付費超過1000，則為目標族群\r\n   若是女生，且付費超過500，則為目標族群\r\n\r\n兩個方案其實只差在年齡的判斷，因此可以將邏輯拆分為\r\n\r\n1. genderhandler: 進行性別與付費的判斷\r\n2. agehandler: 進行年齡的判斷\r\n\r\n所以方案a會變成由 genderhandler & agehandler 共同進行判斷\r\n方案b會變成由 genderhandler 進行判斷\r\n\r\n example code\r\n\r\n以下是完整的code\r\n\r\n```csharp\r\nusing system;\r\nusing system.collections.generic;\r\n\r\npublic class program\r\n{\r\n    public static void main()\r\n    {\r\n        // 建立一個顧客\r\n        customer customer = new customer() {\r\n            gender = customer.genders.male,\r\n            paid = 1200,\r\n            age = 20\r\n        };\r\n\r\n        // 設定方案a\r\n        list<ideterminevalue> determineprocessa = new list<ideterminevalue>();\r\n        determineprocessa.add(new genderhandler(customer));\r\n        determineprocessa.add(new agehandler(customer));\r\n\r\n        // 設定方案b\r\n        list<ideterminevalue> determineprocessb = new list<ideterminevalue>();\r\n        determineprocessb.add(new genderhandler(customer));\r\n\r\n        // 用方案a進行判斷\r\n        console.writeline( determineprocess.isvaluable(determineprocessa) ); // false\r\n\r\n        // 用方案b進行判斷\r\n        console.writeline( determineprocess.isvaluable(determineprocessb) ); // true\r\n    }\r\n}\r\n\r\n/// <summary>\r\n/// 儲存顧客的基本資訊\r\n/// </summary>\r\npublic class customer\r\n{\r\n    public enum genders\r\n    {\r\n        male,\r\n        female,\r\n    };\r\n\r\n    public genders gender { get; set; }\r\n\r\n    public int paid { get; set; }\r\n\r\n    public int age { get; set; }\r\n}\r\n\r\n/// <summary>\r\n/// 定義責任鏈之共通介面\r\n/// </summary>\r\npublic interface ideterminevalue\r\n{\r\n    customer customerinfo { get; set; }\r\n\r\n    bool isvaluable();\r\n}\r\n\r\n/// <summary>\r\n/// 將共用行為放到base\r\n/// </summary>\r\npublic class basehandler\r\n{\r\n    public customer customerinfo { get; set; }\r\n\r\n    public basehandler(customer customerinfo)\r\n    {\r\n        this.customerinfo = customerinfo;\r\n    }\r\n}\r\n\r\n/// <summary>\r\n/// 進行性別與付費的判斷\r\n/// </summary>\r\npublic class genderhandler: basehandler, ideterminevalue\r\n{\r\n    public genderhandler(customer customerinfo) : base(customerinfo) {}\r\n\r\n    private int threshold { get => this.customerinfo.gender == customer.genders.male ? 1000 : 500; }\r\n\r\n    public bool isvaluable() => this.customerinfo.paid > this.threshold;\r\n}\r\n\r\n/// <summary>\r\n/// 進行年齡的判斷\r\n/// </summary>\r\npublic class agehandler: basehandler, ideterminevalue\r\n{\r\n    public agehandler(customer customerinfo) : base(customerinfo) { }\r\n\r\n    public bool isvaluable() => this.customerinfo.age > 30;\r\n}\r\n\r\n/// <summary>\r\n/// 進行責任鏈之執行\r\n/// </summary>\r\npublic class determineprocess\r\n{\r\n    public static bool isvaluable(list<ideterminevalue> processlist) {\r\n        foreach (var process in processlist)\r\n        {\r\n            if ( !process.isvaluable() )\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n```",word_token:["scenario","當開","發時","遇到","許多","邏輯","重","複","出現","並最終","構成","一個","商業","邏輯","時","其實","可以","考慮","使用","責任","鏈","方式","來","進行","開發","以達","不僅","code","可以","重用","連商業","邏輯","盡量","去","重用","並且","因邏輯","抽離","當商業","邏輯","需要","進行","更改","時","一定","程度","上","會","降低","重構","難","易度","example","case","這邊","一個","簡單","例子","假設","今天","公司","要","判斷","一個","顧客","是否","值得","關注","而","我們","兩種","判斷","方式","想","進行","嘗試","方案","若","男生","且","付費","超過","1000","且","年齡","超過","30","則為","目標","族群","若","女生","且","付費","超過","500","且","年齡","超過","30","則為","目標","族群","方案","b","若","男生","且","付費","超過","1000","則為","目標","族群","若","女生","且","付費","超過","500","則為","目標","族群","兩個","方案","其實","只","差","年齡","判斷","因此","可以","將邏輯","拆分","為","1","genderhandler","進行","性別","與","付費","判斷","2","agehandler","進行","年齡","判斷","所以","方案","會","變成","由","genderhandler","agehandler","共同","進行","判斷","方案","b","會","變成","由","genderhandler","進行","判斷","example","code","以下","完整","code","`","`","`","csharp","using","system","using","system","collections","generic","public","class","program","public","static","void","main","建立","一個","顧客","customer","customer","=","new","customer","gender","=","customer","genders","male","paid","=","1200","age","=","20","設定","方案","list","ideterminevalue","determineprocessa","=","new","list","ideterminevalue","determineprocessa","add","new","genderhandler","customer","determineprocessa","add","new","agehandler","customer","設定","方案","b","list","ideterminevalue","determineprocessb","=","new","list","ideterminevalue","determineprocessb","add","new","genderhandler","customer","用","方案","進行","判斷","console","writeline","determineprocess","isvaluable","determineprocessa","false","用","方案","b","進行","判斷","console","writeline","determineprocess","isvaluable","determineprocessb","true","summary","儲存","顧客","基本","資訊","summary","public","class","customer","public","enum","genders","male","female","public","genders","gender","set","public","int","paid","set","public","int","age","set","summary","定義責","任鏈","共通","介面","summary","public","interface","ideterminevalue","customer","customerinfo","set","bool","isvaluable","summary","將","共用","行為","放到","base","summary","public","class","basehandler","public","customer","customerinfo","set","public","basehandler","customer","customerinfo","customerinfo","=","customerinfo","summary","進行","性別","與","付費","判斷","summary","public","class","genderhandler","basehandler","ideterminevalue","public","genderhandler","customer","customerinfo","base","customerinfo","private","int","threshold","=","customerinfo","gender","=","=","customer","genders","male","1000","500","public","bool","isvaluable","=","customerinfo","paid","threshold","summary","進行","年齡","判斷","summary","public","class","agehandler","basehandler","ideterminevalue","public","agehandler","customer","customerinfo","base","customerinfo","public","bool","isvaluable","=","customerinfo","age","30","summary","進行責","任鏈","執行","summary","public","class","determineprocess","public","static","bool","isvaluable","list","ideterminevalue","processlist","foreach","var","process","processlist","process","isvaluable","return","false","return","true","`","`","`"],key_words:[{word:"public",weight:223.0448818345873},{word:"customer",weight:164.3488602991696},{word:"customerinfo",weight:140.8704516850025},{word:"summary",weight:140.8704516850025},{word:"判斷",weight:129.13124737791895},{word:"進行",weight:129.13124737791895},{word:"ideterminevalue",weight:93.91363445666833},{word:"isvaluable",weight:82.1744301495848},{word:"genderhandler",weight:82.1744301495848},{word:"超過",weight:70.43522584250125},{word:"new",weight:70.43522584250125},{word:"付費",weight:70.43522584250125},{word:"class",weight:70.43522584250125},{word:"list",weight:58.69602153541771},{word:"agehandler",weight:58.69602153541771},{word:"年齡",weight:58.69602153541771},{word:"set",weight:58.69602153541771},{word:"方案",weight:52.669880174789995},{word:"邏輯",weight:46.95681722833417},{word:"目標",weight:46.95681722833417},{word:"determineprocessa",weight:46.95681722833417},{word:"basehandler",weight:46.95681722833417},{word:"則為",weight:46.95681722833417},{word:"bool",weight:46.95681722833417},{word:"一個",weight:46.95681722833417},{word:"genders",weight:46.95681722833417},{word:"族群",weight:41.9979210812},{word:"code",weight:35.21761292125063},{word:"male",weight:35.21761292125063},{word:"add",weight:35.21761292125063}],excerpt:"scenario 當開發時有遇到許多邏輯重複出現，並最終構成一個商業邏輯時 其實就可以考慮使用責任鏈的方式來進行開發，以達到不僅code可以重用，連商業邏輯都盡量的去重用 並且因邏輯抽離，當商業邏輯需要進行更改時，在一定程度上也會降低重構的難易度 example case 這邊做一個簡單的例子，假設今天公司要判斷一個顧客是否值得關注 而我們有兩種判斷方式都想進行嘗試 方案a: 若是男生，且付費超過1000，且年齡超過30，則為目標族群 若是女生，且付費超過500，且年齡超過30，則為目標族群 方案b: 若是男生，且付費超過1000，則為目標族群 若是女生，且付費超過500，則為目標族群 兩個方案其實只差在年齡的判斷，因此可以將邏輯拆分為 genderhandler: 進行性別與付費的判斷 agehandler: 進行年齡的判斷 所以方案a會變成由 genderhandler & ageha..."},{title:"C# Tips",frontmatter:{title:"C# Tips",datetime:"2020/3/14",tag:["C#","csharp","tips"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"C# Tips"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/CSharp/csharp-tips.html"},{name:"twitter:title",content:"C# Tips"},{name:"twitter:url",content:"/Coding/CSharp/csharp-tips.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"string, bbb, csharp, datetime, null, 寫法, aaa, public, customer, 直覺, datetimemodel, class, customername, somevar, address, 123, customeraddresscode, 一行, 正確, code, getisostring, touniversaltime, conditional, issuccess, operator, 賦值, tostring, tolower, set, private"},{property:"article:tag",content:"string"},{property:"article:tag",content:"bbb"},{property:"article:tag",content:"csharp"},{property:"article:tag",content:"datetime"},{property:"article:tag",content:"null"},{property:"article:tag",content:"寫法"},{property:"article:tag",content:"aaa"},{property:"article:tag",content:"public"},{property:"article:tag",content:"customer"},{property:"article:tag",content:"直覺"},{property:"article:tag",content:"datetimemodel"},{property:"article:tag",content:"class"},{property:"article:tag",content:"customername"},{property:"article:tag",content:"somevar"},{property:"article:tag",content:"address"},{property:"article:tag",content:"123"},{property:"article:tag",content:"customeraddresscode"},{property:"article:tag",content:"一行"},{property:"article:tag",content:"正確"},{property:"article:tag",content:"code"},{property:"article:tag",content:"getisostring"},{property:"article:tag",content:"touniversaltime"},{property:"article:tag",content:"conditional"},{property:"article:tag",content:"issuccess"},{property:"article:tag",content:"operator"},{property:"article:tag",content:"賦值"},{property:"article:tag",content:"tostring"},{property:"article:tag",content:"tolower"},{property:"article:tag",content:"set"},{property:"article:tag",content:"private"}]},regularPath:"/Coding/CSharp/csharp-tips.html",relativePath:"Coding/CSharp/csharp-tips.md",key:"v-1c4a4e12",path:"/Coding/CSharp/csharp-tips.html",headers:[{level:2,title:"?: Ternary Conditional Operator",slug:"ternary-conditional-operator"},{level:2,title:"?? Null Coalescing Operator",slug:"null-coalescing-operator"},{level:2,title:"?. Null Conditional Operators",slug:"null-conditional-operators"},{level:2,title:"x?.y?.z Null Propagation",slug:"x-y-z-null-propagation"},{level:2,title:"() => {} Arrow Function",slug:"arrow-function"},{level:2,title:"short circuit",slug:"short-circuit"},{level:2,title:"constructor塞值，最好在property/field前面加上this",slug:"constructor塞值，最好在property-field前面加上this"},{level:2,title:"責任鏈",slug:"責任鏈"}],git:{created:"3/26/2020, 10:14:10 PM",updated:"3/22/2020, 5:49:23 AM",author:"PC\\JC",commits:[{fullHash:"86195bf39c56842a1db844b1e294b374f56089f2",authorTime:"1585232050",commitTime:"1585232050",authorName:"PC\\JC"},{fullHash:"f8fd2a5f23952beba697a50b5a2b46d65513551b",authorTime:"1584827363",commitTime:"1584827363",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:'精簡語法\r\n\r\n `?:` ternary conditional operator\r\n\r\n 直覺寫法\r\n\r\n```csharp\r\nif( issuccess ){\r\n    somevar = 1\r\n}else{\r\n    somevar = 0\r\n}\r\n```\r\n\r\n 一行寫法\r\n\r\n```csharp\r\nsomevar = issuccess ? 1 : 0;\r\n```\r\n\r\n `??` null coalescing operator\r\n\r\n```csharp\r\nstring x = "aaa";\r\nstring y = x ?? "123"; // y => "aaa"\r\n```\r\n\r\n```csharp\r\nstring x = null;\r\nstring y = x ?? "123"; // y => "123"\r\n```\r\n\r\n `?.` null conditional operators\r\n\r\n 直覺寫法\r\n\r\n```csharp\r\nstring customername = null;\r\nif( customer != null ){\r\n    customername = customer.name;\r\n}\r\n```\r\n\r\n 一行寫法\r\n\r\n```csharp\r\nstring customername = customer?.name;\r\n```\r\n\r\n `x?.y?.z` null propagation\r\n\r\n 直覺寫法\r\n\r\n```csharp\r\nstring customeraddresscode = null;\r\nif( customer != null ){\r\n    if( customer.address != null ){\r\n        customeraddresscode = customer.address.code;\r\n    }\r\n}\r\n```\r\n\r\n 一行寫法\r\n\r\n```csharp\r\nstring customeraddresscode = customer?.address?.code;\r\n```\r\n\r\n `() => {}` arrow function\r\n\r\n 直覺寫法\r\n\r\n```csharp\r\npublic class datetimemodel\r\n{\r\n    private datetime datetime;\r\n\r\n    public string getisostring()\r\n    {\r\n        return this.datetime.touniversaltime().tostring("s");\r\n    }\r\n\r\n    public datetimemodel(datetime datetime)\r\n    {\r\n        this.datetime = datetime;\r\n    }\r\n}\r\n```\r\n\r\n 一行寫法\r\n\r\n```csharp\r\npublic class datetimemodel\r\n{\r\n    private datetime datetime;\r\n\r\n    public string getisostring() => this.datetime.touniversaltime().tostring("s");\r\n\r\n    public datetimemodel(datetime datetime)\r\n    {\r\n        this.datetime = datetime;\r\n    }\r\n}\r\n```     \r\n\r\n short circuit\r\n\r\n 直覺寫法\r\n\r\n```csharp\r\nstring s = null;\r\nif( s != null ){\r\n    if( s.tolower() == "aaa" ){\r\n        // do something\r\n    }\r\n}\r\n```\r\n\r\n 一行寫法\r\n\r\n```csharp\r\nstring s = null;\r\nif( s != null && s.tolower() == "aaa" ){\r\n    // do something\r\n}\r\n```\r\n\r\n 降低誤用機會\r\n\r\n constructor塞值，最好在property/field前面加上this\r\n\r\n```csharp\r\npublic class aaa{\r\n    string bbb;\r\n    string bbb { get; set; }\r\n    aaa(string bbb){\r\n        this.bbb = bbb;\r\n        this.bbb = bbb;\r\n    }\r\n}\r\n```\r\n\r\n 邏輯錯誤的寫法\r\n\r\n```csharp\r\npublic class aaa{\r\n    string bbb;\r\n    string bbb { get; set; }\r\n    aaa(string bbb){\r\n        bbb = bbb; // bbb 有正確賦值\r\n        bbb = bbb; // bbb "沒有"正確賦值，但compiler並不會報錯\r\n    }\r\n}\r\n```\r\n\r\n 增加重用性\r\n\r\n 責任鏈',word_token:["精簡","語法","`","`","ternary","conditional","operator","直覺","寫法","`","`","`","csharp","issuccess","somevar","=","1","else","somevar","=","0","`","`","`","一行","寫法","`","`","`","csharp","somevar","=","issuccess","1","0","`","`","`","`","`","null","coalescing","operator","`","`","`","csharp","string","x","=","aaa","string","y","=","x","123","y","=","aaa","`","`","`","`","`","`","csharp","string","x","=","null","string","y","=","x","123","y","=","123","`","`","`","`","`","null","conditional","operators","直覺","寫法","`","`","`","csharp","string","customername","=","null","customer","=","null","customername","=","customer","name","`","`","`","一行","寫法","`","`","`","csharp","string","customername","=","customer","name","`","`","`","`","x","y","z","`","null","propagation","直覺","寫法","`","`","`","csharp","string","customeraddresscode","=","null","customer","=","null","customer","address","=","null","customeraddresscode","=","customer","address","code","`","`","`","一行","寫法","`","`","`","csharp","string","customeraddresscode","=","customer","address","code","`","`","`","`","=","`","arrow","function","直覺","寫法","`","`","`","csharp","public","class","datetimemodel","private","datetime","datetime","public","string","getisostring","return","datetime","touniversaltime","tostring","s","public","datetimemodel","datetime","datetime","datetime","=","datetime","`","`","`","一行","寫法","`","`","`","csharp","public","class","datetimemodel","private","datetime","datetime","public","string","getisostring","=","datetime","touniversaltime","tostring","s","public","datetimemodel","datetime","datetime","datetime","=","datetime","`","`","`","short","circuit","直覺","寫法","`","`","`","csharp","string","s","=","null","s","=","null","s","tolower","=","=","aaa","something","`","`","`","一行","寫法","`","`","`","csharp","string","s","=","null","s","=","null","s","tolower","=","=","aaa","something","`","`","`","降低","誤用","機會","constructor","塞值","最好","property","field","前面","加上","`","`","`","csharp","public","class","aaa","string","bbb","string","bbb","set","aaa","string","bbb","bbb","=","bbb","bbb","=","bbb","`","`","`","邏輯","錯誤","寫法","`","`","`","csharp","public","class","aaa","string","bbb","string","bbb","set","aaa","string","bbb","bbb","=","bbb","bbb","正確","賦值","bbb","=","bbb","bbb","沒有","正確","賦值","但","compiler","並不會","報錯","`","`","`","增加","重用","性","責任","鏈"],key_words:[{word:"string",weight:211.30567752750375},{word:"bbb",weight:187.82726891333667},{word:"csharp",weight:164.3488602991696},{word:"datetime",weight:164.3488602991696},{word:"null",weight:152.60965599208603},{word:"寫法",weight:129.13124737791895},{word:"aaa",weight:93.91363445666833},{word:"public",weight:93.91363445666833},{word:"customer",weight:82.1744301495848},{word:"直覺",weight:58.69602153541771},{word:"datetimemodel",weight:46.95681722833417},{word:"class",weight:46.95681722833417},{word:"customername",weight:35.21761292125063},{word:"somevar",weight:35.21761292125063},{word:"address",weight:35.21761292125063},{word:"123",weight:35.21761292125063},{word:"customeraddresscode",weight:35.21761292125063},{word:"一行",weight:34.9297337963},{word:"正確",weight:23.478408614167083},{word:"code",weight:23.478408614167083},{word:"getisostring",weight:23.478408614167083},{word:"touniversaltime",weight:23.478408614167083},{word:"conditional",weight:23.478408614167083},{word:"issuccess",weight:23.478408614167083},{word:"operator",weight:23.478408614167083},{word:"賦值",weight:23.478408614167083},{word:"tostring",weight:23.478408614167083},{word:"tolower",weight:23.478408614167083},{word:"set",weight:23.478408614167083},{word:"private",weight:23.478408614167083}],excerpt:'精簡語法 ?: ternary conditional operator 直覺寫法 if( issuccess ){ somevar = 1 }else{ somevar = 0 } 一行寫法 somevar = issuccess ? 1 : 0; ?? null coalescing operator string x = "aaa"; string y = x ?? "123"; // y => "aaa" string x = null; string y = x ?? "123"; // y => "123" ?. null conditional operators 直覺寫法 string customername = null; if( customer != null ){ customername = customer.name; } 一行寫法 string custom...'},{title:"在責任鏈中傳遞運算資訊",frontmatter:{title:"在責任鏈中傳遞運算資訊",datetime:"2020/3/10",tag:["C#","csharp","chain-of-responsibility"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"在責任鏈中傳遞運算資訊"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/CSharp/%E8%B2%AC%E4%BB%BB%E9%8F%883.html"},{name:"twitter:title",content:"在責任鏈中傳遞運算資訊"},{name:"twitter:url",content:"/Coding/CSharp/%E8%B2%AC%E4%BB%BB%E9%8F%883.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"public, processresult, customer, summary, payload, new, return, customerinfo, set, 進行, class, 判斷, exception, isprocessok, credit, run, true, isvaluable, ideterminevalue, determineprocess, 過程, 顧客, case, 資訊, int, basehandler, db, 信用, paidhandler, random"},{property:"article:tag",content:"public"},{property:"article:tag",content:"processresult"},{property:"article:tag",content:"customer"},{property:"article:tag",content:"summary"},{property:"article:tag",content:"payload"},{property:"article:tag",content:"new"},{property:"article:tag",content:"return"},{property:"article:tag",content:"customerinfo"},{property:"article:tag",content:"set"},{property:"article:tag",content:"進行"},{property:"article:tag",content:"class"},{property:"article:tag",content:"判斷"},{property:"article:tag",content:"exception"},{property:"article:tag",content:"isprocessok"},{property:"article:tag",content:"credit"},{property:"article:tag",content:"run"},{property:"article:tag",content:"true"},{property:"article:tag",content:"isvaluable"},{property:"article:tag",content:"ideterminevalue"},{property:"article:tag",content:"determineprocess"},{property:"article:tag",content:"過程"},{property:"article:tag",content:"顧客"},{property:"article:tag",content:"case"},{property:"article:tag",content:"資訊"},{property:"article:tag",content:"int"},{property:"article:tag",content:"basehandler"},{property:"article:tag",content:"db"},{property:"article:tag",content:"信用"},{property:"article:tag",content:"paidhandler"},{property:"article:tag",content:"random"}]},regularPath:"/Coding/CSharp/%E8%B2%AC%E4%BB%BB%E9%8F%883.html",relativePath:"Coding/CSharp/責任鏈3.md",key:"v-e72e49e8",path:"/Coding/CSharp/%E8%B2%AC%E4%BB%BB%E9%8F%883.html",git:{created:"10/3/2020, 12:38:30 AM",updated:"3/22/2020, 5:49:23 AM",author:"johnny1991524",commits:[{fullHash:"24f2670c238dfbe384990111e6f26ab1cfd8fd3f",authorTime:"1601656710",commitTime:"1601656710",authorName:"johnny1991524"},{fullHash:"f8fd2a5f23952beba697a50b5a2b46d65513551b",authorTime:"1584827363",commitTime:"1584827363",authorName:"PC\\JC"}],contributors:["johnny1991524","PC\\JC"]},pure_content:'scenario\r\n\r\n承上篇，有時在責任鏈判斷過程中，需要使用之前計算之結果來進行判斷\r\n\r\n這時我們就會需要在責任鏈中傳遞運算資訊\r\n\r\n example case\r\n\r\n假如顧客正在線上進行購物，當買完物品時，需要進行以下判斷，決定顧客是否是vip，以利後續服務\r\n\r\n1. 付費超過1000\r\n2. 信用大於80\r\n     信用分數需查詢公司交易記錄\r\n     若查詢過程失敗，為避免流失潛在客戶，需要讓顧客在瀏覽器上看到通知，請他聯繫客服以獲得更多優惠\r\n3. 信用客製化比率大於60\r\n     客製化比率需查詢公司交易記錄\r\n     若查詢過程失敗，為避免流失潛在客戶，需要讓顧客在瀏覽器上看到通知，請他聯繫客服以獲得更多優惠\r\n\r\n因此可以將邏輯拆分為\r\n\r\n1. paidhandler: 進行付費的判斷\r\n2. credithandler: 進行信用的判斷\r\n3. creditratehandler: 進行信用客製化比率的判斷\r\n\r\n而在責任鏈運算過程中，可以使用payload來傳遞資訊\r\n\r\n example code\r\n\r\n以下是完整的code\r\n\r\n```csharp\r\nusing system;\r\nusing system.collections.generic;\r\n\r\npublic class program\r\n{\r\n    public static void main()\r\n    {\r\n        // 建立一個顧客\r\n        customer customer = new customer()\r\n        {\r\n            paid = 1200,\r\n            db_pk = 123\r\n        };\r\n\r\n        processresult processresult = determineprocess.run(customer);\r\n        // 若辨識過程不成功，進行一些處理\r\n        if ( !processresult.isprocessok )\r\n        {\r\n            if (processresult.isnotification)\r\n            {\r\n                console.writeline("send notification");\r\n            }\r\n            else\r\n            {\r\n                console.writeline("do error handling");\r\n            }\r\n        }\r\n        // 若辨識過程成功，判斷是否為vip\r\n        if ( processresult.isprocessok && processresult.isvaluable)\r\n        {\r\n            console.writeline("do something for vip");\r\n        }\r\n\r\n        // not vip, do nothing\r\n    }\r\n}\r\n\r\n/// <summary>\r\n/// 儲存顧客的基本資訊\r\n/// </summary>\r\npublic class customer\r\n{\r\n    public int paid { get; set; }\r\n\r\n    public int db_pk { get; set; }\r\n}\r\n\r\n/// <summary>\r\n/// 定義責任鏈之執行結果\r\n/// </summary>\r\npublic class processresult {\r\n    public bool isprocessok { get; set; } = false;\r\n\r\n    public bool isvaluable { get; set; } = false;\r\n\r\n    public bool isnotification { get; set; } = false;\r\n\r\n    public exception exception { get; set; } = null;\r\n}\r\n\r\n/// <summary>\r\n/// 用以在責任鏈中傳遞運算資訊\r\n/// </summary>\r\npublic class payload\r\n{\r\n    // 若要以更general purpose的方式設計payload\r\n    // 可以改使用dictionay的方式來儲存資訊\r\n    public int? credit { get; set; } = null;\r\n}\r\n\r\n/// <summary>\r\n/// 定義責任鏈之共通見面\r\n/// </summary>\r\npublic interface ideterminevalue\r\n{\r\n    customer customerinfo { get; set; }\r\n\r\n    processresult run(payload payload);\r\n}\r\n\r\n/// <summary>\r\n/// 將共用行為放到base\r\n/// </summary>\r\npublic class basehandler\r\n{\r\n    public customer customerinfo { get; set; }\r\n\r\n    public basehandler(customer customerinfo)\r\n    {\r\n        this.customerinfo = customerinfo;\r\n    }\r\n}\r\n\r\n/// <summary>\r\n/// 進行付費的判斷\r\n/// </summary>\r\npublic class paidhandler : basehandler, ideterminevalue\r\n{\r\n    public paidhandler(customer customerinfo) : base(customerinfo) { }\r\n\r\n    public processresult run(payload payload) => new processresult() {\r\n        isprocessok = true,\r\n        isvaluable = this.customerinfo.paid > 1000\r\n    };\r\n}\r\n\r\n/// <summary>\r\n/// 進行信用的判斷\r\n/// </summary>\r\npublic class credithandler : basehandler, ideterminevalue\r\n{\r\n    public int credit { get; set; }\r\n\r\n    public credithandler(customer customerinfo) : base(customerinfo) { }\r\n\r\n    private int getcredit()\r\n    {\r\n        // 由於無法直接連db，因此這邊用random模擬幾種情況\r\n        switch (new random().next(3)) {\r\n            case 0:\r\n                return 66;\r\n            case 1:\r\n                return 88;\r\n            default:\r\n                throw new exception("can not connect db");\r\n        }\r\n    }\r\n\r\n    public processresult run(payload payload)\r\n    {\r\n        try\r\n        {\r\n            this.credit = this.getcredit();\r\n            payload.credit = this.credit;\r\n\r\n            return new processresult()\r\n            {\r\n                isprocessok = true,\r\n                isvaluable = this.credit > 80\r\n            };\r\n        }\r\n        catch (exception ex)\r\n        {\r\n            return new processresult()\r\n            {\r\n                exception = ex,\r\n                isnotification = true\r\n            };\r\n        }\r\n    }\r\n}\r\n\r\n/// <summary>\r\n/// 進行信用的判斷\r\n/// </summary>\r\npublic class creditratehandler : basehandler, ideterminevalue\r\n{\r\n    public creditratehandler(customer customerinfo) : base(customerinfo) { }\r\n\r\n    private double getcreditrate()\r\n    {\r\n        // 由於無法直接連db，因此這邊用random模擬幾種情況\r\n        switch (new random().next(3))\r\n        {\r\n            case 0:\r\n                return 0.8;\r\n            case 1:\r\n                return 0.2;\r\n            default:\r\n                throw new exception("can not get credit rate");\r\n        }\r\n    }\r\n\r\n    public processresult run(payload payload)\r\n    {\r\n        try\r\n        {\r\n            return new processresult()\r\n            {\r\n                isprocessok = true,\r\n                isvaluable = payload.credit  this.getcreditrate() > 60\r\n            };\r\n        }\r\n        catch (exception ex)\r\n        {\r\n            return new processresult()\r\n            {\r\n                exception = ex,\r\n                isnotification = true\r\n            };\r\n        }\r\n    }\r\n}\r\n\r\n/// <summary>\r\n/// 進行責任鏈之執行\r\n/// </summary>\r\npublic class determineprocess\r\n{\r\n    private static list<ideterminevalue> _getdetermineprocess(customer customer) {\r\n        list<ideterminevalue> determineprocess = new list<ideterminevalue>();\r\n        determineprocess.add(new paidhandler(customer));\r\n        determineprocess.add(new credithandler(customer));\r\n        determineprocess.add(new creditratehandler(customer));\r\n        \r\n        return determineprocess;\r\n    }\r\n\r\n    public static processresult run(customer customer)\r\n    {\r\n        payload payload = new payload();\r\n        foreach (var process in _getdetermineprocess(customer))\r\n        {\r\n            processresult processresult = process.run(payload);\r\n            if ( !processresult.isprocessok )\r\n            {\r\n                return processresult;\r\n            }\r\n\r\n            if ( !processresult.isvaluable )\r\n            {\r\n                return processresult;\r\n            }\r\n        }\r\n\r\n        return new processresult() {\r\n            isprocessok = true,\r\n            isvaluable = true\r\n        };\r\n    }\r\n}\r\n```',word_token:["scenario","承上","篇","有時","責任","鏈判斷","過程","需要","使用","之前","計算","結果","來","進行","判斷","這時","我們","會","需要","責任","鏈","傳遞","運算","資訊","example","case","假如","顧客","正在","線上","進行","購物","當買","完","物品","時","需要","進行","以下","判斷","決定","顧客","是否是","vip","以利","後","續","服務","1","付費","超過","1000","2","信用","大","於","80","信用","分數","需查詢","公司","交易","記錄","若查詢","過程","失敗","為","避免","流失","潛在","客戶","需要","讓","顧客","瀏覽器","上","看到","通知","請","他聯","繫","客服","以","獲得","優惠","3","信用","客","製","化","比率","大","於","60","客","製","化","比率","需查詢","公司","交易","記錄","若查詢","過程","失敗","為","避免","流失","潛在","客戶","需要","讓","顧客","瀏覽器","上","看到","通知","請","他聯","繫","客服","以","獲得","優惠","因此","可以","將邏輯","拆分","為","1","paidhandler","進行","付費","判斷","2","credithandler","進行","信用","判斷","3","creditratehandler","進行","信用","客","製","化","比率","判斷","而","責任","鏈運算","過程","可以","使用","payload","來","傳遞","資訊","example","code","以下","完整","code","`","`","`","csharp","using","system","using","system","collections","generic","public","class","program","public","static","void","main","建立","一個","顧客","customer","customer","=","new","customer","paid","=","1200","db","_","pk","=","123","processresult","processresult","=","determineprocess","run","customer","若辨識","過程","成功","進行","一些","處理","processresult","isprocessok","processresult","isnotification","console","writeline","send","notification","else","console","writeline","error","handling","若辨識","過程","成功","判斷","是否","為","vip","processresult","isprocessok","processresult","isvaluable","console","writeline","something","vip","not","vip","nothing","summary","儲存","顧客","基本","資訊","summary","public","class","customer","public","int","paid","set","public","int","db","_","pk","set","summary","定義責","任鏈","執行","結果","summary","public","class","processresult","public","bool","isprocessok","set","=","false","public","bool","isvaluable","set","=","false","public","bool","isnotification","set","=","false","public","exception","exception","set","=","null","summary","用以","責任","鏈","傳遞","運算","資訊","summary","public","class","payload","若要","以","general","purpose","方式","設計","payload","可以","改","使用","dictionay","方式","來","儲存","資訊","public","int","credit","set","=","null","summary","定義責","任鏈","共通","見面","summary","public","interface","ideterminevalue","customer","customerinfo","set","processresult","run","payload","payload","summary","將","共用","行為","放到","base","summary","public","class","basehandler","public","customer","customerinfo","set","public","basehandler","customer","customerinfo","customerinfo","=","customerinfo","summary","進行","付費","判斷","summary","public","class","paidhandler","basehandler","ideterminevalue","public","paidhandler","customer","customerinfo","base","customerinfo","public","processresult","run","payload","payload","=","new","processresult","isprocessok","=","true","isvaluable","=","customerinfo","paid","1000","summary","進行","信用","判斷","summary","public","class","credithandler","basehandler","ideterminevalue","public","int","credit","set","public","credithandler","customer","customerinfo","base","customerinfo","private","int","getcredit","由","於","無法","直接","連","db","因此","這邊","用","random","模擬","幾種","情況","switch","new","random","next","3","case","0","return","66","case","1","return","88","default","throw","new","exception","not","connect","db","public","processresult","run","payload","payload","try","credit","=","getcredit","payload","credit","=","credit","return","new","processresult","isprocessok","=","true","isvaluable","=","credit","80","catch","exception","ex","return","new","processresult","exception","=","ex","isnotification","=","true","summary","進行","信用","判斷","summary","public","class","creditratehandler","basehandler","ideterminevalue","public","creditratehandler","customer","customerinfo","base","customerinfo","private","double","getcreditrate","由","於","無法","直接","連","db","因此","這邊","用","random","模擬","幾種","情況","switch","new","random","next","3","case","0","return","08","case","1","return","02","default","throw","new","exception","not","credit","rate","public","processresult","run","payload","payload","try","return","new","processresult","isprocessok","=","true","isvaluable","=","payload","credit","getcreditrate","60","catch","exception","ex","return","new","processresult","exception","=","ex","isnotification","=","true","summary","進行責","任鏈","執行","summary","public","class","determineprocess","private","static","list","ideterminevalue","_","getdetermineprocess","customer","customer","list","ideterminevalue","determineprocess","=","new","list","ideterminevalue","determineprocess","add","new","paidhandler","customer","determineprocess","add","new","credithandler","customer","determineprocess","add","new","creditratehandler","customer","return","determineprocess","public","static","processresult","run","customer","customer","payload","payload","=","new","payload","foreach","var","process","_","getdetermineprocess","customer","processresult","processresult","=","process","run","payload","processresult","isprocessok","return","processresult","processresult","isvaluable","return","processresult","return","new","processresult","isprocessok","=","true","isvaluable","=","true","`","`","`"],key_words:[{word:"public",weight:328.6977205983392},{word:"processresult",weight:281.740903370005},{word:"customer",weight:223.0448818345873},{word:"summary",weight:211.30567752750375},{word:"payload",weight:199.56647322042022},{word:"new",weight:187.82726891333667},{word:"return",weight:140.8704516850025},{word:"customerinfo",weight:140.8704516850025},{word:"set",weight:117.39204307083541},{word:"進行",weight:117.39204307083541},{word:"class",weight:105.65283876375187},{word:"判斷",weight:105.65283876375187},{word:"exception",weight:93.91363445666833},{word:"isprocessok",weight:93.91363445666833},{word:"credit",weight:93.91363445666833},{word:"run",weight:82.1744301495848},{word:"true",weight:82.1744301495848},{word:"isvaluable",weight:82.1744301495848},{word:"ideterminevalue",weight:82.1744301495848},{word:"determineprocess",weight:82.1744301495848},{word:"過程",weight:70.43522584250125},{word:"顧客",weight:70.43522584250125},{word:"case",weight:58.69602153541771},{word:"資訊",weight:58.69602153541771},{word:"int",weight:58.69602153541771},{word:"basehandler",weight:58.69602153541771},{word:"db",weight:58.69602153541771},{word:"信用",weight:47.135478425420004},{word:"paidhandler",weight:46.95681722833417},{word:"random",weight:46.95681722833417}],excerpt:"scenario 承上篇，有時在責任鏈判斷過程中，需要使用之前計算之結果來進行判斷 這時我們就會需要在責任鏈中傳遞運算資訊 example case 假如顧客正在線上進行購物，當買完物品時，需要進行以下判斷，決定顧客是否是vip，以利後續服務 付費超過1000 信用大於80 信用分數需查詢公司交易記錄 若查詢過程失敗，為避免流失潛在客戶，需要讓顧客在瀏覽器上看到通知，請他聯繫客服以獲得更多優惠 信用客製化比率大於60 客製化比率需查詢公司交易記錄 若查詢過程失敗，為避免流失潛在客戶，需要讓顧客在瀏覽器上看到通知，請他聯繫客服以獲得更多優惠 因此可以將邏輯拆分為 paidhandler: 進行付費的判斷 credithandler: 進行信用的判斷 creditratehandler: 進行信用客製化比率的判斷 而在責任鏈運算過程中，可以使用payload來傳遞資訊 example code..."},{title:"Awesome Css",frontmatter:{title:"Awesome Css",datetime:"2020/3/21",tag:["css","library"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Awesome Css"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/Front-End/CSS/awesome-css.html"},{name:"twitter:title",content:"Awesome Css"},{name:"twitter:url",content:"/Coding/Front-End/CSS/awesome-css.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"css, grid, shadow, requestanimationframe, demo, flex, animation, box, animate, attachment, layout, awesome, parallax, background, 深入, blueprint, depth, drop, article, bootstrap, example, flexbox, cards, github, change, guide, library, complete, markdown, action"},{property:"article:tag",content:"css"},{property:"article:tag",content:"grid"},{property:"article:tag",content:"shadow"},{property:"article:tag",content:"requestanimationframe"},{property:"article:tag",content:"demo"},{property:"article:tag",content:"flex"},{property:"article:tag",content:"animation"},{property:"article:tag",content:"box"},{property:"article:tag",content:"animate"},{property:"article:tag",content:"attachment"},{property:"article:tag",content:"layout"},{property:"article:tag",content:"awesome"},{property:"article:tag",content:"parallax"},{property:"article:tag",content:"background"},{property:"article:tag",content:"深入"},{property:"article:tag",content:"blueprint"},{property:"article:tag",content:"depth"},{property:"article:tag",content:"drop"},{property:"article:tag",content:"article"},{property:"article:tag",content:"bootstrap"},{property:"article:tag",content:"example"},{property:"article:tag",content:"flexbox"},{property:"article:tag",content:"cards"},{property:"article:tag",content:"github"},{property:"article:tag",content:"change"},{property:"article:tag",content:"guide"},{property:"article:tag",content:"library"},{property:"article:tag",content:"complete"},{property:"article:tag",content:"markdown"},{property:"article:tag",content:"action"}]},regularPath:"/Coding/Front-End/CSS/awesome-css.html",relativePath:"Coding/Front-End/CSS/awesome-css.md",key:"v-0c6c4d65",path:"/Coding/Front-End/CSS/awesome-css.html",headers:[{level:2,title:"Flex",slug:"flex"},{level:2,title:"Grid",slug:"grid"},{level:2,title:"will-change",slug:"will-change"},{level:2,title:"requestAnimationFrame",slug:"requestanimationframe"},{level:2,title:"Animate",slug:"animate"},{level:2,title:"Layout",slug:"layout-2"},{level:2,title:"Article",slug:"article"}],git:{created:"3/31/2020, 11:53:01 AM",updated:"10/3/2019, 12:15:14 AM",author:"PC\\JC",commits:[{fullHash:"73b756f49a771038096efc7eff5f4fb0dacf3976",authorTime:"1585626781",commitTime:"1585626781",authorName:"PC\\JC"},{fullHash:"ca204d5e4de675b2dec1eb9902a7760988ff7b9f",authorTime:"1585432264",commitTime:"1585432264",authorName:"PC\\JC"},{fullHash:"589f992f0e78fd4d26e5535a3a76fd89776a00a6",authorTime:"1585339655",commitTime:"1585339655",authorName:"PC\\JC"},{fullHash:"bbf3f5053281c1f3aa725e8861d3ef0e02721b0a",authorTime:"1585297332",commitTime:"1585297332",authorName:"PC\\JC"},{fullHash:"91865b36512bb94c2bc3d97bde2cc43cc9a55e4c",authorTime:"1584736610",commitTime:"1584736610",authorName:"PC\\JC"},{fullHash:"ad8ac6fd4025929d7634fa8c96ea39f8325ba9c0",authorTime:"1577093001",commitTime:"1577093001",authorName:"JC"},{fullHash:"a243c01318210234c78797a56b8ac3d00185e8bb",authorTime:"1574590134",commitTime:"1574590134",authorName:"PC\\JC"},{fullHash:"9bbe692ed7680451de6471c077fdaa9196e608a5",authorTime:"1573913209",commitTime:"1573913209",authorName:"PC\\JC"},{fullHash:"7e302a7c8835ff348557ee28910fb4e2f03dddfb",authorTime:"1570032914",commitTime:"1570032914",authorName:"PC\\JC"}],contributors:["PC\\JC","JC"]},pure_content:"awesome demo\r\n\r\n \r\n [bootstrap sidebar](\r\n\r\n parallax\r\n\r\n [parallax depth cards](\r\n [用css表現最簡單的視差滾動](\r\n\r\n awesome shadow\r\n\r\n [box-shadow](\r\n [drop-shadow vs box-shadow](\r\n\r\n layout\r\n\r\n [學習 css 版面配置](\r\n\r\n flex\r\n\r\n [深入解析 css flexbox](\r\n [圖解：css flex 屬性一點也不難](\r\n\r\n grid\r\n\r\n [與 css grid 的第一次接觸](\r\n [a complete guide to grid](\r\n [grid by example](\r\n\r\n background-attachment\r\n\r\n [css沒有極限 - 意想不到的background-attachment](\r\n\r\n css sprite\r\n\r\n \r\n  \r\n touch-action\r\n\r\n \r\n \r\n\r\n animation optimization\r\n\r\n will-change\r\n\r\n requestanimationframe \r\n\r\n [requestanimationframe 優化動畫效率與資源](\r\n\r\n [requestanimationframe 與 css3 animation 比較](\r\n\r\n [深入理解requestanimationframe的動畫迴圈](\r\n\r\n library\r\n\r\n animate\r\n\r\n [animate.css]( [demo](\r\n\r\n layout\r\n\r\n [blueprint-css]( [demo](\r\n\r\n article\r\n\r\n [github-markdown-css]( [demo](",word_token:["awesome","demo","bootstrap","sidebar","parallax","parallax","depth","cards","用","css","表現","最","簡單","視差","滾動","awesome","shadow","box","-","shadow","drop","-","shadow","vs","box","-","shadow","layout","學習","css","版面","配置","flex","深入","解析","css","flexbox","圖解","css","flex","屬性","一點","不難","grid","與","css","grid","第一次","接觸","complete","guide","grid","grid","example","background","-","attachment","css","沒有","極限","-","意想不到","background","-","attachment","css","sprite","touch","-","action","animation","optimization","will","-","change","requestanimationframe","requestanimationframe","優化動畫","效率","與","資源","requestanimationframe","與","css3","animation","比較","深入","理解","requestanimationframe","動畫","迴","圈","library","animate","animate","css","demo","layout","blueprint","-","css","demo","article","github","-","markdown","-","css","demo"],key_words:[{word:"css",weight:117.39204307083541},{word:"grid",weight:46.95681722833417},{word:"shadow",weight:46.95681722833417},{word:"requestanimationframe",weight:46.95681722833417},{word:"demo",weight:46.95681722833417},{word:"flex",weight:23.478408614167083},{word:"animation",weight:23.478408614167083},{word:"box",weight:23.478408614167083},{word:"animate",weight:23.478408614167083},{word:"attachment",weight:23.478408614167083},{word:"layout",weight:23.478408614167083},{word:"awesome",weight:23.478408614167083},{word:"parallax",weight:23.478408614167083},{word:"background",weight:23.478408614167083},{word:"深入",weight:12.79808638818},{word:"blueprint",weight:11.739204307083542},{word:"depth",weight:11.739204307083542},{word:"drop",weight:11.739204307083542},{word:"article",weight:11.739204307083542},{word:"bootstrap",weight:11.739204307083542},{word:"example",weight:11.739204307083542},{word:"flexbox",weight:11.739204307083542},{word:"cards",weight:11.739204307083542},{word:"github",weight:11.739204307083542},{word:"change",weight:11.739204307083542},{word:"guide",weight:11.739204307083542},{word:"library",weight:11.739204307083542},{word:"complete",weight:11.739204307083542},{word:"markdown",weight:11.739204307083542},{word:"action",weight:11.739204307083542}],excerpt:"awesome demo [bootstrap sidebar]( parallax [parallax depth cards]( [用css表現最簡單的視差滾動]( awesome shadow [box-shadow]( [drop-shadow vs box-shadow]( layout [學習 css 版面配置]( flex [深入解析 css flexbox]( [圖解：css flex 屬性一點也不難]( grid [與 css grid 的第一次接觸]( [a complete guide to grid]( [grid by example]( background-attachment [css沒有極限 - 意想不到的background-attachment]( css sprite touch-action animation optimization will-..."},{title:"運用責任鏈之執行結果",frontmatter:{title:"運用責任鏈之執行結果",datetime:"2020/3/9",tag:["C#","csharp","chain-of-responsibility"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"運用責任鏈之執行結果"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/CSharp/%E8%B2%AC%E4%BB%BB%E9%8F%882.html"},{name:"twitter:title",content:"運用責任鏈之執行結果"},{name:"twitter:url",content:"/Coding/CSharp/%E8%B2%AC%E4%BB%BB%E9%8F%882.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"public, processresult, customer, summary, new, customerinfo, return, set, isprocessok, 進行, class, isvaluable, run, determineprocess, ideterminevalue, 判斷, 顧客, true, exception, 過程, credithandler, basehandler, 任鏈, vip, db, paidhandler, isnotification, static, int, console"},{property:"article:tag",content:"public"},{property:"article:tag",content:"processresult"},{property:"article:tag",content:"customer"},{property:"article:tag",content:"summary"},{property:"article:tag",content:"new"},{property:"article:tag",content:"customerinfo"},{property:"article:tag",content:"return"},{property:"article:tag",content:"set"},{property:"article:tag",content:"isprocessok"},{property:"article:tag",content:"進行"},{property:"article:tag",content:"class"},{property:"article:tag",content:"isvaluable"},{property:"article:tag",content:"run"},{property:"article:tag",content:"determineprocess"},{property:"article:tag",content:"ideterminevalue"},{property:"article:tag",content:"判斷"},{property:"article:tag",content:"顧客"},{property:"article:tag",content:"true"},{property:"article:tag",content:"exception"},{property:"article:tag",content:"過程"},{property:"article:tag",content:"credithandler"},{property:"article:tag",content:"basehandler"},{property:"article:tag",content:"任鏈"},{property:"article:tag",content:"vip"},{property:"article:tag",content:"db"},{property:"article:tag",content:"paidhandler"},{property:"article:tag",content:"isnotification"},{property:"article:tag",content:"static"},{property:"article:tag",content:"int"},{property:"article:tag",content:"console"}]},regularPath:"/Coding/CSharp/%E8%B2%AC%E4%BB%BB%E9%8F%882.html",relativePath:"Coding/CSharp/責任鏈2.md",key:"v-5cdb680e",path:"/Coding/CSharp/%E8%B2%AC%E4%BB%BB%E9%8F%882.html",git:{created:"10/3/2020, 12:38:30 AM",updated:"3/22/2020, 5:49:23 AM",author:"johnny1991524",commits:[{fullHash:"24f2670c238dfbe384990111e6f26ab1cfd8fd3f",authorTime:"1601656710",commitTime:"1601656710",authorName:"johnny1991524"},{fullHash:"f8fd2a5f23952beba697a50b5a2b46d65513551b",authorTime:"1584827363",commitTime:"1584827363",authorName:"PC\\JC"}],contributors:["johnny1991524","PC\\JC"]},pure_content:'scenario\r\n\r\n承上篇，有時在責任鏈判斷過程中可能會發生不正常的問題\r\n\r\n這時我們就會希望從責任鏈的執行結果中，獲得一些資訊\r\n\r\n example case\r\n\r\n假如顧客正在線上進行購物，當買完物品時，需要進行以下判斷，決定顧客是否是vip，以利後續服務\r\n\r\n1. 付費超過1000\r\n2. 信用大於80\r\n     信用分數需查詢公司交易記錄\r\n     若查詢過程失敗，為避免流失潛在客戶，需要讓顧客在瀏覽器上看到通知，請他聯繫客服以獲得更多優惠\r\n\r\n因此可以將邏輯拆分為\r\n\r\n1. paidhandler: 進行付費的判斷\r\n2. credithandler: 進行信用的判斷\r\n\r\n example code\r\n\r\n以下是完整的code\r\n\r\n```csharp\r\nusing system;\r\nusing system.collections.generic;\r\n\r\npublic class program\r\n{\r\n    public static void main()\r\n    {\r\n        // 建立一個顧客\r\n        customer customer = new customer()\r\n        {\r\n            paid = 1200,\r\n            db_pk = 123\r\n        };\r\n\r\n        processresult processresult = determineprocess.run(customer);\r\n        // 若辨識過程不成功，進行一些處理\r\n        if ( !processresult.isprocessok )\r\n        {\r\n            if (processresult.isnotification)\r\n            {\r\n                console.writeline("send notification");\r\n            }\r\n            else\r\n            {\r\n                console.writeline("do error handling");\r\n            }\r\n        }\r\n        // 若辨識過程成功，判斷是否為vip\r\n        if ( processresult.isprocessok && processresult.isvaluable)\r\n        {\r\n            console.writeline("do something for vip");\r\n        }\r\n\r\n        // not vip, do nothing\r\n    }\r\n}\r\n\r\n/// <summary>\r\n/// 儲存顧客的基本資訊\r\n/// </summary>\r\npublic class customer\r\n{\r\n    public int paid { get; set; }\r\n\r\n    public int db_pk { get; set; }\r\n}\r\n\r\n/// <summary>\r\n/// 定義責任鏈之執行結果\r\n/// </summary>\r\npublic class processresult {\r\n    public bool isprocessok { get; set; } = false;\r\n\r\n    public bool isvaluable { get; set; } = false;\r\n\r\n    public bool isnotification { get; set; } = false;\r\n\r\n    public exception exception { get; set; } = null;\r\n}\r\n\r\n/// <summary>\r\n/// 定義責任鏈之共通見面\r\n/// </summary>\r\npublic interface ideterminevalue\r\n{\r\n    customer customerinfo { get; set; }\r\n\r\n    processresult run();\r\n}\r\n\r\n/// <summary>\r\n/// 將共用行為放到base\r\n/// </summary>\r\npublic class basehandler\r\n{\r\n    public customer customerinfo { get; set; }\r\n\r\n    public basehandler(customer customerinfo)\r\n    {\r\n        this.customerinfo = customerinfo;\r\n    }\r\n}\r\n\r\n/// <summary>\r\n/// 進行付費的判斷\r\n/// </summary>\r\npublic class paidhandler : basehandler, ideterminevalue\r\n{\r\n    public paidhandler(customer customerinfo) : base(customerinfo) { }\r\n\r\n    public processresult run() => new processresult() {\r\n        isprocessok = true,\r\n        isvaluable = this.customerinfo.paid > 1000\r\n    };\r\n}\r\n\r\n/// <summary>\r\n/// 進行信用的判斷\r\n/// </summary>\r\npublic class credithandler : basehandler, ideterminevalue\r\n{\r\n    public credithandler(customer customerinfo) : base(customerinfo) { }\r\n\r\n    private int getcredit()\r\n    {\r\n        // 由於無法直接連db，因此這邊用random模擬幾種情況\r\n        switch (new random().next(3)) {\r\n            case 0:\r\n                return 66;\r\n            case 1:\r\n                return 88;\r\n            default:\r\n                throw new exception("can not connect db");\r\n        }\r\n    }\r\n\r\n    public processresult run()\r\n    {\r\n        try\r\n        {\r\n            return new processresult()\r\n            {\r\n                isprocessok = true,\r\n                isvaluable = this.getcredit() > 80\r\n            };\r\n        }\r\n        catch (exception ex)\r\n        {\r\n            return new processresult()\r\n            {\r\n                exception = ex,\r\n                isnotification = true\r\n            };\r\n        }\r\n    }\r\n}\r\n\r\n/// <summary>\r\n/// 進行責任鏈之執行\r\n/// </summary>\r\npublic class determineprocess\r\n{\r\n    private static list<ideterminevalue> _getdetermineprocess(customer customer) {\r\n        list<ideterminevalue> determineprocess = new list<ideterminevalue>();\r\n        determineprocess.add(new paidhandler(customer));\r\n        determineprocess.add(new credithandler(customer));\r\n        return determineprocess;\r\n    }\r\n\r\n    public static processresult run(customer customer)\r\n    {\r\n        foreach (var process in _getdetermineprocess(customer))\r\n        {\r\n            processresult processresult = process.run();\r\n            if ( !processresult.isprocessok )\r\n            {\r\n                return processresult;\r\n            }\r\n\r\n            if ( !processresult.isvaluable )\r\n            {\r\n                return processresult;\r\n            }\r\n        }\r\n\r\n        return new processresult() {\r\n            isprocessok = true,\r\n            isvaluable = true\r\n        };\r\n    }\r\n}\r\n```',word_token:["scenario","承上","篇","有時","責任","鏈判斷","過程","可能","會","發生","正常","問題","這時","我們","會","希望","從責","任鏈","執行","結果","獲得","一些","資訊","example","case","假如","顧客","正在","線上","進行","購物","當買","完","物品","時","需要","進行","以下","判斷","決定","顧客","是否是","vip","以利","後","續","服務","1","付費","超過","1000","2","信用","大","於","80","信用","分數","需查詢","公司","交易","記錄","若查詢","過程","失敗","為","避免","流失","潛在","客戶","需要","讓","顧客","瀏覽器","上","看到","通知","請","他聯","繫","客服","以","獲得","優惠","因此","可以","將邏輯","拆分","為","1","paidhandler","進行","付費","判斷","2","credithandler","進行","信用","判斷","example","code","以下","完整","code","`","`","`","csharp","using","system","using","system","collections","generic","public","class","program","public","static","void","main","建立","一個","顧客","customer","customer","=","new","customer","paid","=","1200","db","_","pk","=","123","processresult","processresult","=","determineprocess","run","customer","若辨識","過程","成功","進行","一些","處理","processresult","isprocessok","processresult","isnotification","console","writeline","send","notification","else","console","writeline","error","handling","若辨識","過程","成功","判斷","是否","為","vip","processresult","isprocessok","processresult","isvaluable","console","writeline","something","vip","not","vip","nothing","summary","儲存","顧客","基本","資訊","summary","public","class","customer","public","int","paid","set","public","int","db","_","pk","set","summary","定義責","任鏈","執行","結果","summary","public","class","processresult","public","bool","isprocessok","set","=","false","public","bool","isvaluable","set","=","false","public","bool","isnotification","set","=","false","public","exception","exception","set","=","null","summary","定義責","任鏈","共通","見面","summary","public","interface","ideterminevalue","customer","customerinfo","set","processresult","run","summary","將","共用","行為","放到","base","summary","public","class","basehandler","public","customer","customerinfo","set","public","basehandler","customer","customerinfo","customerinfo","=","customerinfo","summary","進行","付費","判斷","summary","public","class","paidhandler","basehandler","ideterminevalue","public","paidhandler","customer","customerinfo","base","customerinfo","public","processresult","run","=","new","processresult","isprocessok","=","true","isvaluable","=","customerinfo","paid","1000","summary","進行","信用","判斷","summary","public","class","credithandler","basehandler","ideterminevalue","public","credithandler","customer","customerinfo","base","customerinfo","private","int","getcredit","由","於","無法","直接","連","db","因此","這邊","用","random","模擬","幾種","情況","switch","new","random","next","3","case","0","return","66","case","1","return","88","default","throw","new","exception","not","connect","db","public","processresult","run","try","return","new","processresult","isprocessok","=","true","isvaluable","=","getcredit","80","catch","exception","ex","return","new","processresult","exception","=","ex","isnotification","=","true","summary","進行責","任鏈","執行","summary","public","class","determineprocess","private","static","list","ideterminevalue","_","getdetermineprocess","customer","customer","list","ideterminevalue","determineprocess","=","new","list","ideterminevalue","determineprocess","add","new","paidhandler","customer","determineprocess","add","new","credithandler","customer","return","determineprocess","public","static","processresult","run","customer","customer","foreach","var","process","_","getdetermineprocess","customer","processresult","processresult","=","process","run","processresult","isprocessok","return","processresult","processresult","isvaluable","return","processresult","return","new","processresult","isprocessok","=","true","isvaluable","=","true","`","`","`"],key_words:[{word:"public",weight:258.2624947558379},{word:"processresult",weight:246.52329044875438},{word:"customer",weight:199.56647322042022},{word:"summary",weight:164.3488602991696},{word:"new",weight:117.39204307083541},{word:"customerinfo",weight:117.39204307083541},{word:"return",weight:93.91363445666833},{word:"set",weight:93.91363445666833},{word:"isprocessok",weight:82.1744301495848},{word:"進行",weight:82.1744301495848},{word:"class",weight:82.1744301495848},{word:"isvaluable",weight:70.43522584250125},{word:"run",weight:70.43522584250125},{word:"determineprocess",weight:70.43522584250125},{word:"ideterminevalue",weight:70.43522584250125},{word:"判斷",weight:70.43522584250125},{word:"顧客",weight:58.69602153541771},{word:"true",weight:58.69602153541771},{word:"exception",weight:58.69602153541771},{word:"過程",weight:46.95681722833417},{word:"credithandler",weight:46.95681722833417},{word:"basehandler",weight:46.95681722833417},{word:"任鏈",weight:46.95681722833417},{word:"vip",weight:46.95681722833417},{word:"db",weight:46.95681722833417},{word:"paidhandler",weight:46.95681722833417},{word:"isnotification",weight:35.21761292125063},{word:"static",weight:35.21761292125063},{word:"int",weight:35.21761292125063},{word:"console",weight:35.21761292125063}],excerpt:"scenario 承上篇，有時在責任鏈判斷過程中可能會發生不正常的問題 這時我們就會希望從責任鏈的執行結果中，獲得一些資訊 example case 假如顧客正在線上進行購物，當買完物品時，需要進行以下判斷，決定顧客是否是vip，以利後續服務 付費超過1000 信用大於80 信用分數需查詢公司交易記錄 若查詢過程失敗，為避免流失潛在客戶，需要讓顧客在瀏覽器上看到通知，請他聯繫客服以獲得更多優惠 因此可以將邏輯拆分為 paidhandler: 進行付費的判斷 credithandler: 進行信用的判斷 example code 以下是完整的code using system; using system.collections.generic; public class program { public static void main() { // 建立一個顧客 customer cust..."},{title:"CSS Quarter Oval, 用CSS畫4分之1橢圓",frontmatter:{title:"CSS Quarter Oval, 用CSS畫4分之1橢圓",datetime:"2020/9/23",tag:["css","tips"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"CSS Quarter Oval, 用CSS畫4分之1橢圓"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/Front-End/CSS/css-quarter-oval.html"},{name:"twitter:title",content:"CSS Quarter Oval, 用CSS畫4分之1橢圓"},{name:"twitter:url",content:"/Coding/Front-End/CSS/css-quarter-oval.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"px, 100, quarter, oval, div, a1b7bd, 200, width, radius, background, border, height, css, class, demo, right, case, ellipse, image, left, 70, radial, 橢圓, style, transparent, 60, gradient, make, 令一邊, shaped"},{property:"article:tag",content:"px"},{property:"article:tag",content:"100"},{property:"article:tag",content:"quarter"},{property:"article:tag",content:"oval"},{property:"article:tag",content:"div"},{property:"article:tag",content:"a1b7bd"},{property:"article:tag",content:"200"},{property:"article:tag",content:"width"},{property:"article:tag",content:"radius"},{property:"article:tag",content:"background"},{property:"article:tag",content:"border"},{property:"article:tag",content:"height"},{property:"article:tag",content:"css"},{property:"article:tag",content:"class"},{property:"article:tag",content:"demo"},{property:"article:tag",content:"right"},{property:"article:tag",content:"case"},{property:"article:tag",content:"ellipse"},{property:"article:tag",content:"image"},{property:"article:tag",content:"left"},{property:"article:tag",content:"70"},{property:"article:tag",content:"radial"},{property:"article:tag",content:"橢圓"},{property:"article:tag",content:"style"},{property:"article:tag",content:"transparent"},{property:"article:tag",content:"60"},{property:"article:tag",content:"gradient"},{property:"article:tag",content:"make"},{property:"article:tag",content:"令一邊"},{property:"article:tag",content:"shaped"}]},regularPath:"/Coding/Front-End/CSS/css-quarter-oval.html",relativePath:"Coding/Front-End/CSS/css-quarter-oval.md",key:"v-545b8d99",path:"/Coding/Front-End/CSS/css-quarter-oval.html",git:{created:"9/27/2020, 2:39:45 PM",updated:"9/27/2020, 2:39:45 PM",author:"johnny1991524",commits:[{fullHash:"16d6f0c11568d3ef01947bb5d9006ef441eed078",authorTime:"1601188785",commitTime:"1601188785",authorName:"johnny1991524"}],contributors:["johnny1991524"]},pure_content:'case 1\r\n\r\n令一邊border-radius是100%畫圓，透過長寬去變形成橢圓\r\n\r\n```css\r\n.quarter-oval-1-1{\r\n    background: a1b7bd;\r\n    height: 100px;\r\n    width: 100px;\r\n    border-top-right-radius: 100%;\r\n}\r\n```\r\n\r\n<div class="quarter-demo quarter-oval-1-1"></div>\r\n\r\n```css\r\n.quarter-oval-1-2{\r\n    background: a1b7bd;\r\n    height: 100px;\r\n    width: 200px;\r\n    border-top-right-radius: 100%;\r\n}\r\n```\r\n\r\n<div class="quarter-demo quarter-oval-1-2"></div>\r\n\r\n case 2\r\n\r\n完全靠border-radius來調整\r\n\r\n```css\r\n.quarter-oval-2-1{\r\n    background: a1b7bd;\r\n    height: 100px;\r\n    width: 200px;\r\n    border-radius: 0 100px 0 0 / 0 100px 0 0;\r\n}\r\n```\r\n\r\n<div class="quarter-demo quarter-oval-2-1"></div>\r\n\r\n```css\r\n.quarter-oval-2-2{\r\n    background: a1b7bd;\r\n    height: 100px;\r\n    width: 200px;\r\n    border-radius: 0 200px 0 0 / 0 100px 0 0;\r\n}\r\n```\r\n\r\n<div class="quarter-demo quarter-oval-2-2"></div>\r\n\r\n case 3\r\n\r\n靠背景漸層來做到\r\n\r\n```css\r\n.quarter-oval-3{\r\n    height: 100px;\r\n    width: 200px;\r\n    background-image: radial-gradient(ellipse at bottom left, a1b7bd 60%, transparent 70%);\r\n}\r\n```\r\n\r\n<div class="quarter-demo quarter-oval-3"></div>\r\n\r\n 主要參考\r\n\r\n [how do you make a div shaped like a quarter of an ellipse in css?](\r\n [你如何在css中制作一個形狀像橢圓的四分之一的div？](\r\n\r\n<style>\r\n    .quarter-oval-1-1{\r\n        background: a1b7bd;\r\n        height: 100px;\r\n        width: 100px;\r\n        border-top-right-radius: 100%;\r\n    }\r\n\r\n    .quarter-oval-1-2{\r\n        background: a1b7bd;\r\n        height: 100px;\r\n        width: 200px;\r\n        border-top-right-radius: 100%;\r\n    }\r\n\r\n    .quarter-oval-2-1{\r\n        background: a1b7bd;\r\n        height: 100px;\r\n        width: 200px;\r\n        border-radius: 0 100px 0 0 / 0 100px 0 0;\r\n    }\r\n\r\n    .quarter-oval-2-2{\r\n        background: a1b7bd;\r\n        height: 100px;\r\n        width: 200px;\r\n        border-radius: 0 200px 0 0 / 0 100px 0 0;\r\n    }\r\n\r\n    .quarter-oval-3{\r\n        height: 100px;\r\n        width: 200px;\r\n        background-image: radial-gradient(ellipse at bottom left, a1b7bd 60%, transparent 70%);\r\n    }\r\n</style>',word_token:["case","1","令一邊","border","-","radius","100","畫圓","透過","長","寬","去","變","形成","橢圓","`","`","`","css","quarter","-","oval","-","1","-","1","background","a1b7bd","height","100","px","width","100","px","border","-","top","-","right","-","radius","100","`","`","`","div","class","=","quarter","-","demo","quarter","-","oval","-","1","-","1","div","`","`","`","css","quarter","-","oval","-","1","-","2","background","a1b7bd","height","100","px","width","200","px","border","-","top","-","right","-","radius","100","`","`","`","div","class","=","quarter","-","demo","quarter","-","oval","-","1","-","2","div","case","2","完全","靠","border","-","radius","來","調整","`","`","`","css","quarter","-","oval","-","2","-","1","background","a1b7bd","height","100","px","width","200","px","border","-","radius","0","100","px","0","0","0","100","px","0","0","`","`","`","div","class","=","quarter","-","demo","quarter","-","oval","-","2","-","1","div","`","`","`","css","quarter","-","oval","-","2","-","2","background","a1b7bd","height","100","px","width","200","px","border","-","radius","0","200","px","0","0","0","100","px","0","0","`","`","`","div","class","=","quarter","-","demo","quarter","-","oval","-","2","-","2","div","case","3","靠","背景","漸層","來","做到","`","`","`","css","quarter","-","oval","-","3","height","100","px","width","200","px","background","-","image","radial","-","gradient","ellipse","bottom","left","a1b7bd","60","transparent","70","`","`","`","div","class","=","quarter","-","demo","quarter","-","oval","-","3","div","主要","參考","div","shaped","quarter","ellipse","css","如何","css","制作","一個","形狀","像","橢圓","四分之一","div","style","quarter","-","oval","-","1","-","1","background","a1b7bd","height","100","px","width","100","px","border","-","top","-","right","-","radius","100","quarter","-","oval","-","1","-","2","background","a1b7bd","height","100","px","width","200","px","border","-","top","-","right","-","radius","100","quarter","-","oval","-","2","-","1","background","a1b7bd","height","100","px","width","200","px","border","-","radius","0","100","px","0","0","0","100","px","0","0","quarter","-","oval","-","2","-","2","background","a1b7bd","height","100","px","width","200","px","border","-","radius","0","200","px","0","0","0","100","px","0","0","quarter","-","oval","-","3","height","100","px","width","200","px","background","-","image","radial","-","gradient","ellipse","bottom","left","a1b7bd","60","transparent","70","style"],key_words:[{word:"px",weight:328.6977205983392},{word:"100",weight:270.00169906292143},{word:"quarter",weight:246.52329044875438},{word:"oval",weight:176.0880646062531},{word:"div",weight:140.8704516850025},{word:"a1b7bd",weight:117.39204307083541},{word:"200",weight:117.39204307083541},{word:"width",weight:117.39204307083541},{word:"radius",weight:117.39204307083541},{word:"background",weight:117.39204307083541},{word:"border",weight:117.39204307083541},{word:"height",weight:117.39204307083541},{word:"css",weight:82.1744301495848},{word:"class",weight:58.69602153541771},{word:"demo",weight:58.69602153541771},{word:"right",weight:46.95681722833417},{word:"case",weight:35.21761292125063},{word:"ellipse",weight:35.21761292125063},{word:"image",weight:23.478408614167083},{word:"left",weight:23.478408614167083},{word:"70",weight:23.478408614167083},{word:"radial",weight:23.478408614167083},{word:"橢圓",weight:23.478408614167083},{word:"style",weight:23.478408614167083},{word:"transparent",weight:23.478408614167083},{word:"60",weight:23.478408614167083},{word:"gradient",weight:23.478408614167083},{word:"make",weight:11.739204307083542},{word:"令一邊",weight:11.739204307083542},{word:"shaped",weight:11.739204307083542}],excerpt:'case 1 令一邊border-radius是100%畫圓，透過長寬去變形成橢圓 .quarter-oval-1-1{ background: a1b7bd; height: 100px; width: 100px; border-top-right-radius: 100%; } <div class="quarter-demo quarter-oval-1-1"></div> .quarter-oval-1-2{ background: a1b7bd; height: 100px; width: 200px; border-top-right-radius: 100%; } <div class="quarter-demo quarter-oval-1-2"></div> case 2 完全靠border-radius來調整 .quarter-oval-2-1{ background...'},{title:"CSS Parameters",frontmatter:{title:"CSS Parameters",datetime:"2020/3/27",tag:["css","tips"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"CSS Parameters"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/Front-End/CSS/css-parameters.html"},{name:"twitter:title",content:"CSS Parameters"},{name:"twitter:url",content:"/Coding/Front-End/CSS/css-parameters.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"width, mediaquery, px, colors, group, media, devices, blue, max, min, gray, sm, large, xl, md, 992, 1200, 576, 768, e4c5e, green, desktops, 424242, a1aebd, a1b7bd, 252, 496586, a34, a4a4a, 527096"},{property:"article:tag",content:"width"},{property:"article:tag",content:"mediaquery"},{property:"article:tag",content:"px"},{property:"article:tag",content:"colors"},{property:"article:tag",content:"group"},{property:"article:tag",content:"media"},{property:"article:tag",content:"devices"},{property:"article:tag",content:"blue"},{property:"article:tag",content:"max"},{property:"article:tag",content:"min"},{property:"article:tag",content:"gray"},{property:"article:tag",content:"sm"},{property:"article:tag",content:"large"},{property:"article:tag",content:"xl"},{property:"article:tag",content:"md"},{property:"article:tag",content:"992"},{property:"article:tag",content:"1200"},{property:"article:tag",content:"576"},{property:"article:tag",content:"768"},{property:"article:tag",content:"e4c5e"},{property:"article:tag",content:"green"},{property:"article:tag",content:"desktops"},{property:"article:tag",content:"424242"},{property:"article:tag",content:"a1aebd"},{property:"article:tag",content:"a1b7bd"},{property:"article:tag",content:"252"},{property:"article:tag",content:"496586"},{property:"article:tag",content:"a34"},{property:"article:tag",content:"a4a4a"},{property:"article:tag",content:"527096"}]},regularPath:"/Coding/Front-End/CSS/css-parameters.html",relativePath:"Coding/Front-End/CSS/css-parameters.md",key:"v-c4bdd70e",path:"/Coding/Front-End/CSS/css-parameters.html",git:{created:"3/28/2020, 4:07:35 AM",updated:"3/27/2020, 4:22:12 PM",author:"PC\\JC",commits:[{fullHash:"589f992f0e78fd4d26e5535a3a76fd89776a00a6",authorTime:"1585339655",commitTime:"1585339655",authorName:"PC\\JC"},{fullHash:"bbf3f5053281c1f3aa725e8861d3ef0e02721b0a",authorTime:"1585297332",commitTime:"1585297332",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"rwd media query\r\n\r\n```scss\r\n$mediaquery-width-sm: 576px;\r\n$mediaquery-width-md: 768px;\r\n$mediaquery-width-l: 992px;\r\n$mediaquery-width-xl: 1200px;\r\n\r\n// xsmall devices\r\n@media (max-width: $mediaquery-width-sm) { \r\n\r\n}\r\n\r\n// small devices (landscape phones, 576px and up)\r\n@media (min-width: $mediaquery-width-sm) and (max-width: $mediaquery-width-md) { \r\n\r\n}\r\n\r\n// medium devices (tablets, 768px and up)\r\n@media (min-width: $mediaquery-width-md) and (max-width: $mediaquery-width-l) { \r\n   \r\n}\r\n\r\n// large devices (desktops, 992px and up)\r\n@media (min-width: $mediaquery-width-l) and (max-width: $mediaquery-width-xl) { \r\n    \r\n}\r\n\r\n// extra large devices (large desktops, 1200px and up)\r\n@media (min-width: $mediaquery-width-xl) { \r\n\r\n}\r\n```\r\n\r\n colors\r\n\r\n<colortable :data=\"[{\r\n    group: 'gray',\r\n    colors: [\r\n        'f6f8fa',\r\n        'whitesmoke',\r\n        'cecfd1',\r\n        'a9a9a9',\r\n        '838383',\r\n        '555',\r\n        '4a4a4a',\r\n        '424242',\r\n]},{\r\n    group: 'gray blue',\r\n    colors: [\r\n        'e2e5ea',\r\n        'a1aebd',\r\n        '6c757d',\r\n]},{\r\n    group: 'green',\r\n    colors: [\r\n        'a8e8e2',\r\n        '8ab0b1',\r\n        '1e4c5e',\r\n]},{\r\n    group: 'blue',\r\n    colors: [\r\n        '90b7df',\r\n        '4e7ac7',\r\n        '0366d6',\r\n        '0b64b8',\r\n        '3d6aa2',\r\n        '269',\r\n        '369',\r\n        '355e95',\r\n]},{\r\n    group: 'blue gray',\r\n    colors: [\r\n        '9bb4e0',\r\n        '527096',\r\n        '496586',\r\n        '123456',\r\n        '1c2f45',\r\n        '252a34',\r\n]},{\r\n    group: 'blue green',\r\n    colors: [\r\n        'a1b7bd',\r\n        '1e4c5e',\r\n]}]\"/>",word_token:["rwd","media","query","`","`","`","scss","mediaquery","-","width","-","sm","576","px","mediaquery","-","width","-","md","768","px","mediaquery","-","width","-","l","992","px","mediaquery","-","width","-","xl","1200","px","xsmall","devices","@","media","max","-","width","mediaquery","-","width","-","sm","small","devices","landscape","phones","576","px","@","media","min","-","width","mediaquery","-","width","-","sm","max","-","width","mediaquery","-","width","-","md","medium","devices","tablets","768","px","@","media","min","-","width","mediaquery","-","width","-","md","max","-","width","mediaquery","-","width","-","l","large","devices","desktops","992","px","@","media","min","-","width","mediaquery","-","width","-","l","max","-","width","mediaquery","-","width","-","xl","extra","large","devices","large","desktops","1200","px","@","media","min","-","width","mediaquery","-","width","-","xl","`","`","`","colors","colortable","data","=","group","gray","colors","f6f8fa","whitesmoke","cecfd1","a9a9a9","838383","555","4","a4a4a","424242","group","gray","blue","colors","e2e5ea","a1aebd","6","c757d","group","green","colors","a8e8e2","8","ab0b1","1","e4c5e","group","blue","colors","90","b7df","4","e7ac7","0366","d6","0","b64b8","3","d6aa2","269","369","355","e95","group","blue","gray","colors","9","bb4e0","527096","496586","123456","1","c2f45","252","a34","group","blue","green","colors","a1b7bd","1","e4c5e"],key_words:[{word:"width",weight:234.78408614167083},{word:"mediaquery",weight:140.8704516850025},{word:"px",weight:93.91363445666833},{word:"colors",weight:82.1744301495848},{word:"group",weight:70.43522584250125},{word:"media",weight:70.43522584250125},{word:"devices",weight:58.69602153541771},{word:"blue",weight:46.95681722833417},{word:"max",weight:46.95681722833417},{word:"min",weight:46.95681722833417},{word:"gray",weight:35.21761292125063},{word:"sm",weight:35.21761292125063},{word:"large",weight:35.21761292125063},{word:"xl",weight:35.21761292125063},{word:"md",weight:35.21761292125063},{word:"992",weight:23.478408614167083},{word:"1200",weight:23.478408614167083},{word:"576",weight:23.478408614167083},{word:"768",weight:23.478408614167083},{word:"e4c5e",weight:23.478408614167083},{word:"green",weight:23.478408614167083},{word:"desktops",weight:23.478408614167083},{word:"424242",weight:11.739204307083542},{word:"a1aebd",weight:11.739204307083542},{word:"a1b7bd",weight:11.739204307083542},{word:"252",weight:11.739204307083542},{word:"496586",weight:11.739204307083542},{word:"a34",weight:11.739204307083542},{word:"a4a4a",weight:11.739204307083542},{word:"527096",weight:11.739204307083542}],excerpt:"rwd media query $mediaquery-width-sm: 576px; $mediaquery-width-md: 768px; $mediaquery-width-l: 992px; $mediaquery-width-xl: 1200px; // xsmall devices @media (max-width: $mediaquery-width-sm) { } // small devices (landscape phones, 576px and up) @media (min-width: $mediaquery-width-sm) and (max-width: $mediaquery-width-md) { } // medium devices (tablets, 768px and up) @media (min-width: $mediaquery..."},{title:'Add rel="noopener noreferrer" when "a" open new tab',frontmatter:{title:'Add rel="noopener noreferrer" when "a" open new tab',datetime:"2020/5/30",meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:'Add rel="noopener noreferrer" when "a" open new tab'},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/Front-End/Security/%E9%96%8B%E6%96%B0%E5%88%86%E9%A0%81.html"},{name:"twitter:title",content:'Add rel="noopener noreferrer" when "a" open new tab'},{name:"twitter:url",content:"/Coding/Front-End/Security/%E9%96%8B%E6%96%B0%E5%88%86%E9%A0%81.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"blank, target, open, html, new, noopener, click, rel, tab, href, noreferrer, 將有, 改寫, 瀏覽器, 當網, 網頁, 機會, 資安風險, website, 開新, url, 這會, 內容, 分頁, 解法, 原本, 加上"},{property:"article:tag",content:"blank"},{property:"article:tag",content:"target"},{property:"article:tag",content:"open"},{property:"article:tag",content:"html"},{property:"article:tag",content:"new"},{property:"article:tag",content:"noopener"},{property:"article:tag",content:"click"},{property:"article:tag",content:"rel"},{property:"article:tag",content:"tab"},{property:"article:tag",content:"href"},{property:"article:tag",content:"noreferrer"},{property:"article:tag",content:"將有"},{property:"article:tag",content:"改寫"},{property:"article:tag",content:"瀏覽器"},{property:"article:tag",content:"當網"},{property:"article:tag",content:"網頁"},{property:"article:tag",content:"機會"},{property:"article:tag",content:"資安風險"},{property:"article:tag",content:"website"},{property:"article:tag",content:"開新"},{property:"article:tag",content:"url"},{property:"article:tag",content:"這會"},{property:"article:tag",content:"內容"},{property:"article:tag",content:"分頁"},{property:"article:tag",content:"解法"},{property:"article:tag",content:"原本"},{property:"article:tag",content:"加上"}]},regularPath:"/Coding/Front-End/Security/%E9%96%8B%E6%96%B0%E5%88%86%E9%A0%81.html",relativePath:"Coding/Front-End/Security/開新分頁.md",key:"v-7507c3f6",path:"/Coding/Front-End/Security/%E9%96%8B%E6%96%B0%E5%88%86%E9%A0%81.html",git:{created:"6/3/2020, 4:12:30 PM",updated:"6/3/2020, 4:12:30 PM",author:"PC\\JC",commits:[{fullHash:"7d442f68bc55438e309e92dc68c76e723dee3a02",authorTime:"1591171950",commitTime:"1591171950",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:'當網頁要開新分頁時，可以寫\r\n\r\n```html\r\n<a href=" target="_blank" >click to open new tab</a>\r\n```\r\n\r\n而這會有資安風險[^1]，"some.website.url"將有機會改寫原本網頁的內容\r\n\r\n解法為加上 rel="noopener noreferrer"[^2]\r\n\r\n```html\r\n<a href=" target="_blank" rel="noopener">click to open new tab</a>\r\n```\r\n\r\n[^1]: \r\n\r\n      \r\n\r\n      \r\n\r\n[^2]: [noreferrer是為了舊的瀏覽器](',word_token:["當網","頁","要","開新","分頁","時","可以","寫","`","`","`","html","href","=","target","=","_","blank","click","open","new","tab","`","`","`","而","這會","資安風險","1","website","url","將有","機會","改寫","原本","網頁","內容","解法","為","加上","rel","=","noopener","noreferrer","2","`","`","`","html","href","=","target","=","_","blank","rel","=","noopener","click","open","new","tab","`","`","`","1","2","noreferrer","為","舊","瀏覽器"],key_words:[{word:"blank",weight:23.478408614167083},{word:"target",weight:23.478408614167083},{word:"open",weight:23.478408614167083},{word:"html",weight:23.478408614167083},{word:"new",weight:23.478408614167083},{word:"noopener",weight:23.478408614167083},{word:"click",weight:23.478408614167083},{word:"rel",weight:23.478408614167083},{word:"tab",weight:23.478408614167083},{word:"href",weight:23.478408614167083},{word:"noreferrer",weight:23.478408614167083},{word:"將有",weight:11.739204307083542},{word:"改寫",weight:11.739204307083542},{word:"瀏覽器",weight:11.739204307083542},{word:"當網",weight:11.739204307083542},{word:"網頁",weight:11.739204307083542},{word:"機會",weight:11.739204307083542},{word:"資安風險",weight:11.739204307083542},{word:"website",weight:11.739204307083542},{word:"開新",weight:11.739204307083542},{word:"url",weight:11.739204307083542},{word:"這會",weight:11.739204307083542},{word:"內容",weight:11.739204307083542},{word:"分頁",weight:11.739204307083542},{word:"解法",weight:9.65218240993},{word:"原本",weight:6.82910428776},{word:"加上",weight:5.52874147322}],excerpt:'當網頁要開新分頁時，可以寫 <a href=" target="_blank" >click to open new tab</a> 而這會有資安風險[^1]，"some.website.url"將有機會改寫原本網頁的內容 解法為加上 rel="noopener noreferrer"[^2] <a href=" target="_blank" rel="noopener">click to open new tab</a> [^1]: [^2]: [noreferrer是為了舊的瀏覽器]('},{title:"Awesome PWA",frontmatter:{title:"Awesome PWA",datetime:"2020/3/16",meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Awesome PWA"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/Front-End/awesome-pwa.html"},{name:"twitter:title",content:"Awesome PWA"},{name:"twitter:url",content:"/Coding/Front-End/awesome-pwa.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"pwa, pwa2apk, apk, store, desktop, using, convert, upload, application, chrome, play, 網頁, 桌面, 添加"},{property:"article:tag",content:"pwa"},{property:"article:tag",content:"pwa2apk"},{property:"article:tag",content:"apk"},{property:"article:tag",content:"store"},{property:"article:tag",content:"desktop"},{property:"article:tag",content:"using"},{property:"article:tag",content:"convert"},{property:"article:tag",content:"upload"},{property:"article:tag",content:"application"},{property:"article:tag",content:"chrome"},{property:"article:tag",content:"play"},{property:"article:tag",content:"網頁"},{property:"article:tag",content:"桌面"},{property:"article:tag",content:"添加"}]},regularPath:"/Coding/Front-End/awesome-pwa.html",relativePath:"Coding/Front-End/awesome-pwa.md",key:"v-916af89c",path:"/Coding/Front-End/awesome-pwa.html",git:{created:"3/31/2020, 11:53:01 AM",updated:"3/31/2020, 11:53:01 AM",author:"PC\\JC",commits:[{fullHash:"73b756f49a771038096efc7eff5f4fb0dacf3976",authorTime:"1585626781",commitTime:"1585626781",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"pwa to apk\r\n\r\n[upload pwa to play store using pwa2apk - convert pwa to apk - pwa2apk](\r\n\r\n\r\n pwa to desktop application\r\n\r\n[chrome 將 pwa 網頁添加至桌面](",word_token:["pwa","apk","upload","pwa","play","store","using","pwa2apk","-","convert","pwa","apk","-","pwa2apk","pwa","desktop","application","chrome","將","pwa","網頁","添加","至","桌面"],key_words:[{word:"pwa",weight:58.69602153541771},{word:"pwa2apk",weight:23.478408614167083},{word:"apk",weight:23.478408614167083},{word:"store",weight:11.739204307083542},{word:"desktop",weight:11.739204307083542},{word:"using",weight:11.739204307083542},{word:"convert",weight:11.739204307083542},{word:"upload",weight:11.739204307083542},{word:"application",weight:11.739204307083542},{word:"chrome",weight:11.739204307083542},{word:"play",weight:11.739204307083542},{word:"網頁",weight:11.739204307083542},{word:"桌面",weight:9.32596667347},{word:"添加",weight:8.0484751722}],excerpt:"pwa to apk [upload pwa to play store using pwa2apk - convert pwa to apk - pwa2apk]( pwa to desktop application [chrome 將 pwa 網頁添加至桌面]("},{title:"Awesome Webpack",frontmatter:{title:"Awesome Webpack",datetime:"2019/9/21",tag:["webpack","libarary","tools"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Awesome Webpack"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/JS/Module%20Bundler/Webpack/awesome-webpack.html"},{name:"twitter:title",content:"Awesome Webpack"},{name:"twitter:url",content:"/Coding/JS/Module%20Bundler/Webpack/awesome-webpack.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"webpack, demos, 能吃嗎, tutorial, 入門, createapp, library, 教學, 文章"},{property:"article:tag",content:"webpack"},{property:"article:tag",content:"demos"},{property:"article:tag",content:"能吃嗎"},{property:"article:tag",content:"tutorial"},{property:"article:tag",content:"入門"},{property:"article:tag",content:"createapp"},{property:"article:tag",content:"library"},{property:"article:tag",content:"教學"},{property:"article:tag",content:"文章"}]},regularPath:"/Coding/JS/Module%20Bundler/Webpack/awesome-webpack.html",relativePath:"Coding/JS/Module Bundler/Webpack/awesome-webpack.md",key:"v-1a34eb5d",path:"/Coding/JS/Module%20Bundler/Webpack/awesome-webpack.html",headers:[{level:2,title:"Createapp",slug:"createapp"},{level:2,title:"webpack入門文章",slug:"webpack入門文章"}],git:{created:"3/31/2020, 11:53:01 AM",updated:"12/23/2019, 5:23:21 PM",author:"PC\\JC",commits:[{fullHash:"73b756f49a771038096efc7eff5f4fb0dacf3976",authorTime:"1585626781",commitTime:"1585626781",authorName:"PC\\JC"},{fullHash:"91865b36512bb94c2bc3d97bde2cc43cc9a55e4c",authorTime:"1584736610",commitTime:"1584736610",authorName:"PC\\JC"},{fullHash:"ad8ac6fd4025929d7634fa8c96ea39f8325ba9c0",authorTime:"1577093001",commitTime:"1577093001",authorName:"JC"}],contributors:["PC\\JC","JC"]},pure_content:"library\r\n\r\n [createapp](\r\n\r\n tutorial\r\n\r\n webpack入門文章\r\n\r\n [webpack教學 (一) ：什麼是webpack? 能吃嗎？](\r\n [webpack-demos](",word_token:["library","createapp","tutorial","webpack","入門","文章","webpack","教學","麼","webpack","能吃嗎","webpack","-","demos"],key_words:[{word:"webpack",weight:46.95681722833417},{word:"demos",weight:11.739204307083542},{word:"能吃嗎",weight:11.739204307083542},{word:"tutorial",weight:11.739204307083542},{word:"入門",weight:11.739204307083542},{word:"createapp",weight:11.739204307083542},{word:"library",weight:11.739204307083542},{word:"教學",weight:11.739204307083542},{word:"文章",weight:6.62342992534}],excerpt:"library [createapp]( tutorial webpack入門文章 [webpack教學 (一) ：什麼是webpack? 能吃嗎？]( [webpack-demos]("},{title:"Awesome Vue",frontmatter:{title:"Awesome Vue",datetime:"2019/9/21",tag:["vue"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Awesome Vue"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/JS/Vue/awesome-vue.html"},{name:"twitter:title",content:"Awesome Vue"},{name:"twitter:url",content:"/Coding/JS/Vue/awesome-vue.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"demo, vue, progress, awesome, composition, modal, mocha, ui, color, tooltip, calendar, sticky, tab, carousel, player, animate, echarts, parallax, transition, multiselect, element, notification, menu, clickaway, framework, jobs, header, page, js, icon"},{property:"article:tag",content:"demo"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"progress"},{property:"article:tag",content:"awesome"},{property:"article:tag",content:"composition"},{property:"article:tag",content:"modal"},{property:"article:tag",content:"mocha"},{property:"article:tag",content:"ui"},{property:"article:tag",content:"color"},{property:"article:tag",content:"tooltip"},{property:"article:tag",content:"calendar"},{property:"article:tag",content:"sticky"},{property:"article:tag",content:"tab"},{property:"article:tag",content:"carousel"},{property:"article:tag",content:"player"},{property:"article:tag",content:"animate"},{property:"article:tag",content:"echarts"},{property:"article:tag",content:"parallax"},{property:"article:tag",content:"transition"},{property:"article:tag",content:"multiselect"},{property:"article:tag",content:"element"},{property:"article:tag",content:"notification"},{property:"article:tag",content:"menu"},{property:"article:tag",content:"clickaway"},{property:"article:tag",content:"framework"},{property:"article:tag",content:"jobs"},{property:"article:tag",content:"header"},{property:"article:tag",content:"page"},{property:"article:tag",content:"js"},{property:"article:tag",content:"icon"}]},regularPath:"/Coding/JS/Vue/awesome-vue.html",relativePath:"Coding/JS/Vue/awesome-vue.md",key:"v-0193e625",path:"/Coding/JS/Vue/awesome-vue.html",headers:[{level:2,title:"vue mocha chai unit test",slug:"vue-mocha-chai-unit-test"},{level:2,title:"UI Framework",slug:"ui-framework"},{level:2,title:"UI",slug:"ui"},{level:3,title:"Modal",slug:"modal"},{level:3,title:"Multiselect",slug:"multiselect"},{level:3,title:"Notification",slug:"notification"},{level:3,title:"Header",slug:"header"},{level:3,title:"Highlighter",slug:"highlighter"},{level:3,title:"Pagination",slug:"pagination"},{level:3,title:"Tooltip",slug:"tooltip"},{level:3,title:"Image Viewer",slug:"image-viewer"},{level:3,title:"Carousel",slug:"carousel"},{level:3,title:"Charts",slug:"charts"},{level:3,title:"Progress",slug:"progress"},{level:3,title:"Calendar",slug:"calendar"},{level:3,title:"Color Picker",slug:"color-picker"},{level:3,title:"Icon",slug:"icon"},{level:3,title:"Video player",slug:"video-player"},{level:3,title:"Menu",slug:"menu"},{level:2,title:"Animate",slug:"animate"},{level:3,title:"Sticky",slug:"sticky"},{level:3,title:"Transition",slug:"transition"},{level:3,title:"Parallax",slug:"parallax"},{level:2,title:"Helper",slug:"helper"},{level:3,title:"Clickaway",slug:"clickaway"},{level:3,title:"Clipboard",slug:"clipboard"},{level:3,title:"Validate",slug:"validate"},{level:2,title:"Vuex plugins",slug:"vuex-plugins"},{level:3,title:"Share Store Cross Browser Tab",slug:"share-store-cross-browser-tab"},{level:2,title:"Composition API",slug:"composition-api"}],git:{created:"12/4/2020, 7:44:40 AM",updated:"12/23/2019, 5:23:21 PM",author:"johnny1991524",commits:[{fullHash:"66a045338acf4da9463171eefb0217d57e4b98a6",authorTime:"1607039080",commitTime:"1607039080",authorName:"johnny1991524"},{fullHash:"73b756f49a771038096efc7eff5f4fb0dacf3976",authorTime:"1585626781",commitTime:"1585626781",authorName:"PC\\JC"},{fullHash:"ca204d5e4de675b2dec1eb9902a7760988ff7b9f",authorTime:"1585432264",commitTime:"1585432264",authorName:"PC\\JC"},{fullHash:"2f0bd20ec2d424d86cced7c67527d0d4af6def4f",authorTime:"1584803803",commitTime:"1584803803",authorName:"PC\\JC"},{fullHash:"91865b36512bb94c2bc3d97bde2cc43cc9a55e4c",authorTime:"1584736610",commitTime:"1584736610",authorName:"PC\\JC"},{fullHash:"ad8ac6fd4025929d7634fa8c96ea39f8325ba9c0",authorTime:"1577093001",commitTime:"1577093001",authorName:"JC"}],contributors:["johnny1991524","PC\\JC","JC"]},pure_content:"jobs\r\n\r\n [vue jobs](\r\n\r\n articles\r\n\r\n [vue 實體與生命週期](\r\n [生命週期(lifecycle)](\r\n [vue.nexttick 的原理和用途](\r\n [風格指南](\r\n\r\n vue mocha chai unit test\r\n\r\n [测试框架 mocha 实例教程](\r\n [用 mocha 和 webpack 测试单文件组件](\r\n\r\n awesome collections\r\n\r\n [awesome vue](\r\n [awesome vuepress](\r\n\r\n library\r\n\r\n ui framework\r\n\r\n [vue-element-admin]( [demo](\r\n [bootstrap-vue]( [demo](\r\n [vuesax]( [demo](\r\n [vue material]( [demo](\r\n [wave ui]( [demo](\r\n [vuetify]( [demo](\r\n [ionic framework]( [demo](\r\n [element]( [demo](\r\n\r\n ui\r\n\r\n modal\r\n\r\n [vue-js-modal]( [demo](\r\n [vue-final-modal]( [demo](\r\n\r\n multiselect\r\n\r\n [vue-multiselect]( [demo](\r\n [vue-tags-input]( [demo](\r\n\r\n notification\r\n\r\n [vue-toasted]( [demo](\r\n [cxlt-vue2-toastr]( [demo](\r\n [vue-snotify]( [demo](\r\n [vue-notification]( [demo](\r\n\r\n header\r\n\r\n [vue-fixed-header]( [demo](\r\n\r\n highlighter\r\n\r\n [vue-text-highlight]( [demo](\r\n\r\n pagination\r\n\r\n [v-page]( [demo](\r\n\r\n tooltip\r\n\r\n [v-tooltip]( [demo](\r\n\r\n image viewer\r\n\r\n [v-viewer]( [demo](\r\n\r\n carousel\r\n\r\n [vue-carousel-3d]( [demo](\r\n\r\n charts\r\n\r\n [vue-echarts-v3]( [demo](\r\n [echarts-for-vue]( [demo](\r\n\r\n progress\r\n\r\n [vue-progress-path]( [demo](\r\n [vue-radial-progress]( [demo](\r\n [vue-scroll-progress-bar]( [demo](\r\n\r\n calendar\r\n\r\n [vue2-slot-calendar]( [demo](\r\n\r\n color picker\r\n\r\n [vue-color]( [demo](\r\n\r\n icon\r\n\r\n [vue-icon]( [demo](\r\n\r\n video player\r\n\r\n [vue responsive video background player]( [demo](\r\n\r\n menu\r\n\r\n [vue float menu]( [demo](\r\n\r\n animate\r\n\r\n [vivus.js]( [demo](\r\n     animate svg\r\n\r\n sticky\r\n\r\n [vue-sticky-directive]( [demo](\r\n\r\n transition\r\n\r\n [vueg----page-transition-plugin](\r\n \r\n parallax\r\n\r\n [vue-parallax]( [demo](\r\n [vue-kinesis]( [demo](\r\n\r\n helper\r\n\r\n clickaway\r\n\r\n [vue-clickaway]( [demo](\r\n\r\n clipboard\r\n\r\n [vue-clipboard2]( [demo](\r\n\r\n validate\r\n\r\n [veevalidate]( [demo](\r\n [vuelidate]( [demo](\r\n\r\n vuex plugins\r\n\r\n share store cross browser tab \r\n\r\n [vuex-multi-tab-state](\r\n\r\n [vue-warehouse](\r\n\r\n composition api\r\n\r\n [composition api](\r\n\r\n [vue-composition-toolkit](\r\n\r\n [vue-hooks](",word_token:["jobs","vue","jobs","articles","vue","實體","與","生命","週期","生命","週期","lifecycle","vue","nexttick","原理","用途","風格","指南","vue","mocha","chai","unit","test","测试","框架","mocha","实例教程","用","mocha","webpack","测试","单","文件","组件","awesome","collections","awesome","vue","awesome","vuepress","library","ui","framework","vue","-","element","-","admin","demo","bootstrap","-","vue","demo","vuesax","demo","vue","material","demo","wave","ui","demo","vuetify","demo","ionic","framework","demo","element","demo","ui","modal","vue","-","js","-","modal","demo","vue","-","final","-","modal","demo","multiselect","vue","-","multiselect","demo","vue","-","tags","-","input","demo","notification","vue","-","toasted","demo","cxlt","-","vue2","-","toastr","demo","vue","-","snotify","demo","vue","-","notification","demo","header","vue","-","fixed","-","header","demo","highlighter","vue","-","text","-","highlight","demo","pagination","v","-","page","demo","tooltip","v","-","tooltip","demo","image","viewer","v","-","viewer","demo","carousel","vue","-","carousel","-","3","d","demo","charts","vue","-","echarts","-","v3","demo","echarts","-","-","vue","demo","progress","vue","-","progress","-","path","demo","vue","-","radial","-","progress","demo","vue","-","scroll","-","progress","-","bar","demo","calendar","vue2","-","slot","-","calendar","demo","color","picker","vue","-","color","demo","icon","vue","-","icon","demo","video","player","vue","responsive","video","background","player","demo","menu","vue","float","menu","demo","animate","vivus","js","demo","animate","svg","sticky","vue","-","sticky","-","directive","demo","transition","vueg","-","-","-","-","page","-","transition","-","plugin","parallax","vue","-","parallax","demo","vue","-","kinesis","demo","helper","clickaway","vue","-","clickaway","demo","clipboard","vue","-","clipboard2","demo","validate","veevalidate","demo","vuelidate","demo","vuex","plugins","share","store","cross","browser","tab","vuex","-","multi","-","tab","-","state","vue","-","warehouse","composition","api","composition","api","vue","-","composition","-","toolkit","vue","-","hooks"],key_words:[{word:"demo",weight:469.56817228334165},{word:"vue",weight:410.87215074792397},{word:"progress",weight:46.95681722833417},{word:"awesome",weight:35.21761292125063},{word:"composition",weight:35.21761292125063},{word:"modal",weight:35.21761292125063},{word:"mocha",weight:35.21761292125063},{word:"ui",weight:35.21761292125063},{word:"color",weight:23.478408614167083},{word:"tooltip",weight:23.478408614167083},{word:"calendar",weight:23.478408614167083},{word:"sticky",weight:23.478408614167083},{word:"tab",weight:23.478408614167083},{word:"carousel",weight:23.478408614167083},{word:"player",weight:23.478408614167083},{word:"animate",weight:23.478408614167083},{word:"echarts",weight:23.478408614167083},{word:"parallax",weight:23.478408614167083},{word:"transition",weight:23.478408614167083},{word:"multiselect",weight:23.478408614167083},{word:"element",weight:23.478408614167083},{word:"notification",weight:23.478408614167083},{word:"menu",weight:23.478408614167083},{word:"clickaway",weight:23.478408614167083},{word:"framework",weight:23.478408614167083},{word:"jobs",weight:23.478408614167083},{word:"header",weight:23.478408614167083},{word:"page",weight:23.478408614167083},{word:"js",weight:23.478408614167083},{word:"icon",weight:23.478408614167083}],excerpt:"jobs [vue jobs]( articles [vue 實體與生命週期]( [生命週期(lifecycle)]( [vue.nexttick 的原理和用途]( [風格指南]( vue mocha chai unit test [测试框架 mocha 实例教程]( [用 mocha 和 webpack 测试单文件组件]( awesome collections [awesome vue]( [awesome vuepress]( library ui framework [vue-element-admin]( [demo]( [bootstrap-vue]( [demo]( [vuesax]( [demo]( [vue material]( [demo]( [wave ui]( [demo]( [vuetify]( [demo]( [ionic framework]( [demo](..."},{title:"CSS Tips",frontmatter:{title:"CSS Tips",datetime:"2020/3/15",tag:["css","tips"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"CSS Tips"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/Front-End/CSS/css-tips.html"},{name:"twitter:title",content:"CSS Tips"},{name:"twitter:url",content:"/Coding/Front-End/CSS/css-tips.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"css, div, background, child, parent, margin, class, rgb, right, transparent, work, relative, auto, center, 圖去, better, whitesmoke, gray, html, absolute, 相對, mobile, 調整, opacity, 背景, 位置"},{property:"article:tag",content:"css"},{property:"article:tag",content:"div"},{property:"article:tag",content:"background"},{property:"article:tag",content:"child"},{property:"article:tag",content:"parent"},{property:"article:tag",content:"margin"},{property:"article:tag",content:"class"},{property:"article:tag",content:"rgb"},{property:"article:tag",content:"right"},{property:"article:tag",content:"transparent"},{property:"article:tag",content:"work"},{property:"article:tag",content:"relative"},{property:"article:tag",content:"auto"},{property:"article:tag",content:"center"},{property:"article:tag",content:"圖去"},{property:"article:tag",content:"better"},{property:"article:tag",content:"whitesmoke"},{property:"article:tag",content:"gray"},{property:"article:tag",content:"html"},{property:"article:tag",content:"absolute"},{property:"article:tag",content:"相對"},{property:"article:tag",content:"mobile"},{property:"article:tag",content:"調整"},{property:"article:tag",content:"opacity"},{property:"article:tag",content:"背景"},{property:"article:tag",content:"位置"}]},regularPath:"/Coding/Front-End/CSS/css-tips.html",relativePath:"Coding/Front-End/CSS/css-tips.md",key:"v-c5f1a60e",path:"/Coding/Front-End/CSS/css-tips.html",git:{created:"3/27/2020, 4:22:12 PM",updated:"3/21/2020, 11:16:43 PM",author:"PC\\JC",commits:[{fullHash:"bbf3f5053281c1f3aa725e8861d3ef0e02721b0a",authorTime:"1585297332",commitTime:"1585297332",authorName:"PC\\JC"},{fullHash:"2f0bd20ec2d424d86cced7c67527d0d4af6def4f",authorTime:"1584803803",commitTime:"1584803803",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:'css 背景圖去背\r\n\r\n```css\r\n.better{\r\n    background: rgb(0,0,0,0); // opacity為0\r\n}\r\n\r\n.not-work-at-mobile{\r\n    background: transparent;\r\n}\r\n```\r\n\r\n `margin` 置中\r\n\r\n```css\r\n.center{\r\n    margin: 0 auto;\r\n}\r\n```\r\n\r\n `relative - absolute` 調整相對位置\r\n\r\n```html\r\n<div class="parent">\r\n    i am parent\r\n    <div class="child">\r\n        i am child(always right)\r\n    </div>\r\n</div>\r\n```\r\n\r\n```css\r\n.parent{\r\n    background: whitesmoke;\r\n}\r\n\r\n.child{\r\n    background: gray;\r\n}\r\n```',word_token:["css","背景","圖去","背","`","`","`","css","better","background","rgb","0","0","0","0","opacity","為","0","not","-","work","-","-","mobile","background","transparent","`","`","`","`","margin","`","置","`","`","`","css","center","margin","0","auto","`","`","`","`","relative","-","absolute","`","調整","相對","位置","`","`","`","html","div","class","=","parent","parent","div","class","=","child","child","always","right","div","div","`","`","`","`","`","`","css","parent","background","whitesmoke","child","background","gray","`","`","`"],key_words:[{word:"css",weight:46.95681722833417},{word:"div",weight:46.95681722833417},{word:"background",weight:46.95681722833417},{word:"child",weight:35.21761292125063},{word:"parent",weight:35.21761292125063},{word:"margin",weight:23.478408614167083},{word:"class",weight:23.478408614167083},{word:"rgb",weight:11.739204307083542},{word:"right",weight:11.739204307083542},{word:"transparent",weight:11.739204307083542},{word:"work",weight:11.739204307083542},{word:"relative",weight:11.739204307083542},{word:"auto",weight:11.739204307083542},{word:"center",weight:11.739204307083542},{word:"圖去",weight:11.739204307083542},{word:"better",weight:11.739204307083542},{word:"whitesmoke",weight:11.739204307083542},{word:"gray",weight:11.739204307083542},{word:"html",weight:11.739204307083542},{word:"absolute",weight:11.739204307083542},{word:"相對",weight:11.739204307083542},{word:"mobile",weight:11.739204307083542},{word:"調整",weight:11.739204307083542},{word:"opacity",weight:11.739204307083542},{word:"背景",weight:5.83321498497},{word:"位置",weight:5.67463922249}],excerpt:'css 背景圖去背 .better{ background: rgb(0,0,0,0); // opacity為0 } .not-work-at-mobile{ background: transparent; } margin 置中 .center{ margin: 0 auto; } relative - absolute 調整相對位置 <div class="parent"> i am parent <div class="child"> i am child(always right) </div> </div> .parent{ background: whitesmoke; } .child{ background: gray; }'},{title:"淺談 Vue2",frontmatter:{title:"淺談 Vue2",datetime:"2020/12/8",tag:["tutorial","vue","usage"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"淺談 Vue2"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/JS/Vue/vue-basic-tutorial/"},{name:"twitter:title",content:"淺談 Vue2"},{name:"twitter:url",content:"/Coding/JS/Vue/vue-basic-tutorial/"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"資料, 開發, 組件, vue, html, 更新, 一個, js, 畫面, 使用, 專案, 網頁, 這邊, 進行, 這個, div, data, 框架, 學習, 傳遞, css, 內容, style, 語法, 前端, 處理, children, 網址, 檔案, 許多"},{property:"article:tag",content:"資料"},{property:"article:tag",content:"開發"},{property:"article:tag",content:"組件"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"html"},{property:"article:tag",content:"更新"},{property:"article:tag",content:"一個"},{property:"article:tag",content:"js"},{property:"article:tag",content:"畫面"},{property:"article:tag",content:"使用"},{property:"article:tag",content:"專案"},{property:"article:tag",content:"網頁"},{property:"article:tag",content:"這邊"},{property:"article:tag",content:"進行"},{property:"article:tag",content:"這個"},{property:"article:tag",content:"div"},{property:"article:tag",content:"data"},{property:"article:tag",content:"框架"},{property:"article:tag",content:"學習"},{property:"article:tag",content:"傳遞"},{property:"article:tag",content:"css"},{property:"article:tag",content:"內容"},{property:"article:tag",content:"style"},{property:"article:tag",content:"語法"},{property:"article:tag",content:"前端"},{property:"article:tag",content:"處理"},{property:"article:tag",content:"children"},{property:"article:tag",content:"網址"},{property:"article:tag",content:"檔案"},{property:"article:tag",content:"許多"}]},regularPath:"/Coding/JS/Vue/vue-basic-tutorial/",relativePath:"Coding/JS/Vue/vue-basic-tutorial/README.md",key:"v-445c88ce",path:"/Coding/JS/Vue/vue-basic-tutorial/",headers:[{level:2,title:"網頁動畫呈現",slug:"網頁動畫呈現"},{level:2,title:"網頁上的畫面(UI)",slug:"網頁上的畫面-ui"},{level:2,title:"資料流的更新",slug:"資料流的更新"},{level:3,title:"事件驅動(event driven)",slug:"事件驅動-event-driven"},{level:3,title:"資料驅動(data driven)",slug:"資料驅動-data-driven"},{level:3,title:"資料驅動的方向性",slug:"資料驅動的方向性"},{level:2,title:"學習難易度",slug:"學習難易度"},{level:2,title:"開發時間",slug:"開發時間"},{level:2,title:"重用性、模組化",slug:"重用性、模組化"},{level:2,title:"語法兼容",slug:"語法兼容"},{level:2,title:"基礎架構",slug:"基礎架構"},{level:2,title:"開發思維",slug:"開發思維"}],git:{created:"12/10/2020, 1:58:14 PM",updated:"6/5/2020, 6:05:43 PM",author:"johnny1991524",commits:[{fullHash:"119d25d415482a968cb7a914e883702ee6d54ad5",authorTime:"1607579894",commitTime:"1607579894",authorName:"johnny1991524"},{fullHash:"a98e0e6b5f1f993f94f0d25a95f4c7dab64c4f01",authorTime:"1591987273",commitTime:"1591987273",authorName:"PC\\JC"},{fullHash:"623de5f4f82c1038e7eb336fad93f4938214c973",authorTime:"1591351543",commitTime:"1591351543",authorName:"PC\\JC"}],contributors:["johnny1991524","PC\\JC"]},pure_content:'由於最近有朋友想要學習 vue 的東西\r\n\r\n這邊就稍微整理一下自己學 vue 的一些心得，並儘可能用比較"平滑"的方式來談談 vue\r\n\r\n本系列文預計將會介紹 vue 的一些常見用法以及常見語法\r\n\r\n why vue?\r\n\r\n一個網頁會由許多"要素"組成\r\n\r\n user跟網頁的互動體驗(ux)\r\n\r\n 網頁上的畫面(ui)\r\n\r\n 資料流的更新\r\n\r\n 開發成本(學習難易度、開發時間、重用性、模組化、語法兼容)\r\n\r\n ...\r\n\r\n而使用前端框架可以很大程度的讓上述的事情，在實作上變得有效率\r\n\r\n efficient\r\n\r\n這邊簡述使用vue如何對上述提及議題帶來幫助\r\n\r\n 網頁動畫呈現\r\n\r\n像是切換分頁時，有時淡進淡出的網頁效果會讓使用體驗更好\r\n\r\n而這可以透過 vue 的 transition 快速的做到\r\n\r\n```html\r\n<transition name="fade">\r\n    <div v-if="isdisplay">\r\n        ...\r\n    </div>\r\n</transition>\r\n```\r\n\r\n像以上寫法，當 isdisplay 被設為 true 時 div 就會套用 fade 的效果淡進\r\n\r\n當然 fade 需要撰寫對應的 css ， 但這邊暫且不談的太細節\r\n\r\n 網頁上的畫面(ui)\r\n\r\n網頁上的畫面，由許多的元素組成\r\n\r\n而一個元素可以是一個表單，一個按鈕，一個列表\r\n\r\n如果畫面要差異更新，那就要使用一大堆的 ajax 去讀資料，並更新畫面\r\n\r\n而這些更新的畫面若想要可以分享給別人看到一樣的內容\r\n\r\n那就要把當前的狀態與網址做對應的處理(也就是要做front-end routing)\r\n\r\n如果想要用網址一一對應的話，那就要在更新資料的同時，手動調整網址\r\n\r\n如果用前端框架，那就可以用框架的機制去做 front-end routing\r\n\r\n```js\r\nrouteconfig = [{\r\n    path: \'/\',\r\n    name: \'home\',\r\n    component: home,\r\n}]\r\n```\r\n\r\n而假如 routing 的定義檔這樣寫，那就代表網址對應到 `/` 時\r\n\r\n會幫你帶入到 home 這個組件，而 home 這個組件就包含了首頁該有的 html、css、js 了\r\n\r\n 資料流的更新\r\n\r\n 事件驅動(event driven)\r\n\r\n當 ajax 取得資料後，畫面上必然會需要更新對應的元素\r\n\r\n當使用 jquery 或原生的 event listener 進行開發時\r\n\r\n整個網頁的開發就會變成 `事件驅動(event driven)`\r\n\r\n當按下某個 button 後，觸發資料的更新，而資料更新後再去更新對應的畫面\r\n\r\n 資料驅動(data driven)\r\n\r\n但使用前端框架進行開發是一種 `資料驅動(data driven)` 的開發體驗\r\n\r\n你會先定義要`關注哪些資料`，在撰寫設定，`當資料更新時`\r\n\r\n`響應式(reactive)` ，`自動`觸發哪些function，`自動`對有關資料進行調整\r\n\r\n並且網頁上的內容，直接響應資料的變動自動更新\r\n\r\n所以你不需要再手動更新 html 的內容了，你在開發畫面時\r\n\r\n只需要定義好你要依照哪個資料去進行畫面的渲染(render)\r\n\r\n資料更新後，框架就會幫你更新畫面(而且框架還會幫你處理更新畫面的效率問題)\r\n\r\n```html\r\n<div>{{temperature}}</div>\r\n```\r\n\r\n像以上這個寫法，當系統自己每 30 秒擷取一次溫度資料時\r\n\r\n你只需要更新 `temperature` 這個變數，網頁上的溫度數值又會自己響應資料的變化進行更新\r\n\r\n這樣就不會當資料更新時，忘記要更新畫面上的哪些元素了\r\n\r\n 資料驅動的方向性\r\n\r\n但用 data driven 也不是萬能，他算是目前來說比較好的開發模式\r\n\r\n但這個開發模式也是需要考慮一些對應的issue\r\n\r\n也就是 `one-way-data-binding` 與 `two-way-data-binding`\r\n\r\n這邊我們暫且先提及到他，先不深入進行討論\r\n\r\n 開發成本\r\n\r\n開發是需要考量成本與效益的，而開發成本需要考量非常多的面向\r\n\r\n這邊就先稍微列舉幾個來談談\r\n\r\n 學習難易度\r\n\r\n這最直接關乎到開發人力的量，畢竟市場上工程師就這麼多\r\n\r\n技術的學習難易度，直接影響到一個系統有沒有人開發、維護\r\n\r\n而 vue 在學習曲線上就與 angular、react 有著極大的不同\r\n\r\nvue 是 progressive framework (漸進式框架)\r\n\r\n你可以用 vue 寫出 js 套件後，用最傳統的方式，在 html 引用套件\r\n\r\n也可以用 vue 進行整套的開發\r\n\r\n言下之意，你不需要學習 vue 的全部特性後才能用他\r\n\r\n你可以只使用他的一小部分功能，就進行開發\r\n\r\n然後隨著一步步的學習，在相同專案下，嘗試使用他的不同功能\r\n\r\n但 react 跟 angular 就沒辦法了\r\n\r\n要使用前，必須先學習相對來說比較多的背景知識後才能使用他們\r\n\r\n在前端世界變化極大極快的這個時代，我還滿喜歡這種 `progressive`\r\n\r\n漸進式的思維，比較不用為了某些新功能，導致必須要一口氣學很多東西後才能使用\r\n\r\n 開發時間\r\n\r\n使用前端框架開發、如果在技術上已經有一定熟練度的話\r\n\r\n在開發有規模的系統上時，開發時間將會巨量減少\r\n\r\n光是資料更新後，要更新對應畫面這件事，就不是傳統的開發模式能匹敵的\r\n\r\n傳統的開發方式，當系統開發到一定程度後，不同功能不同人開發\r\n\r\n資料更新後很難去追蹤你要更新哪些畫面，但使用前端框架的話\r\n\r\n這些事框架都會規範你寫好定義，並直接用這個定義去運行\r\n\r\n直接幫你省下檢查的時間，並增加了畫面更新的可靠性\r\n\r\n 重用性、模組化\r\n\r\n假如今天要製作一個日曆\r\n\r\n那麼可能要提供按鈕點擊時切換月份，切換時還要有轉場效果\r\n\r\n而日曆的布局可能還需要 css 去撰寫，甚至可能要靠 js 輔助\r\n\r\n而在不借助框架下，最原生的開發方式，就是分別寫 html、js、css\r\n\r\n然後將他們引用進來\r\n\r\n但只要有一個不小心，js沒有閉包，變數命名重複，css作用域重複\r\n\r\n開發偵錯時間直接倍量成長，bug變feature\r\n\r\n而原生開發模式若要用新的 js 語法模組化元件，封裝元件的話\r\n\r\n又不可避免的要"很手動"(自己架設轉譯流程)的處理瀏覽器兼容的問題\r\n\r\n使用前端框架的話，像 vue 就有提供 `組件(component)` 的開發模式\r\n\r\n甚至可以使用 `sfc(single file component)` 的方式開發\r\n\r\n一個組件，一個檔案，一個模組\r\n\r\n模組化的開發方式，直接幫你避掉上述的困難點\r\n\r\n用 vue-cli 架設專案的話，還幫你處理了瀏覽器兼容\r\n\r\n檔案大小最佳化...的功能\r\n\r\n 語法兼容\r\n\r\n當開發時想使用比較新的 js 語法時，很常要考慮瀏覽器兼容的問題\r\n\r\n尤其常常要害怕網站跑在上古神獸 ie 上會掛掉\r\n\r\n若專案用 vue-cli 架設，js 常見語法直接幫你編譯成 ie 也懂得語法\r\n\r\n許多新規格的語法、語法糖，就可以不用再靠像是 pollyfill 的方式來兼容了\r\n\r\n 事前準備\r\n\r\n以上描述了許多我看到的 vue 的優點，接著就來為 coding 做些準備吧!\r\n\r\n專案位置可以先[到github上下載](\r\n\r\n執行專案前需先安裝好node.js，接著在專案目錄中\r\n\r\n看得到`package.json`的地方開啟command line執行\r\n\r\n```bash\r\nnpm install\r\n```\r\n\r\n這個指令會將需要使用到的套件安裝\r\n\r\n若windows電腦下該指令有些問題，也可以使用專案中以下包好的`node_modules.zip`\r\n\r\n套件安裝完成後，便可在command line執行以下指令啟動專案\r\n\r\n```bash\r\nnpm run serve\r\n```\r\n\r\n預設將會在  開起專案\r\n\r\n 建立專案\r\n\r\n這邊使用 vue-cli 的指令進行專案的建立\r\n\r\n當下 `vue create your_project_name` 後\r\n\r\n會有許多的選項可以選，這邊就先暫且先不談及裡面的內容\r\n\r\n 開發架構\r\n\r\n 基礎架構\r\n\r\n這邊使用 vue-cli 建立起來的專案做基礎架構\r\n\r\n這個基礎架構的部分功能簡述如下\r\n\r\n 使用 `main.js` 作為單一進入點(entry point)\r\n\r\n    不精確來說，這個檔案就是整個專案運行的起點\r\n\r\n 使用 vue-router 來進行前端 routing + 前端spa開發\r\n\r\n 使用 vuex-store 來進行前端全域資料的儲存\r\n\r\n    (這算是不太精確的說法，但方便理解來說，可以簡單把它當成是一個client端的小db就好)\r\n\r\n 使用 sfc 的方式，進行模組化的開發\r\n\r\n 開發思維\r\n\r\n以下提供一些開發學習時的思考方向\r\n\r\n(以下提到的內容，下一篇文章會有更細節的說明)\r\n\r\n 在 router 設定哪個網址對應到哪個 `view組件`\r\n\r\n 而一個 `view組件` 再去使用 `子組件`\r\n\r\n 這個子組件若很多地方可以用上的話，就可以設計開發的模組化一點，增加共用性\r\n\r\n 用 sfc 的方式開發的話，一個檔案一個組件，檔案包含 html、js、css，看起來會長這樣\r\n\r\n    ```html\r\n    <template>\r\n        \x3c!-- 這邊寫html --\x3e\r\n    </template>\r\n\r\n    <script>\r\n        export default {\r\n            name: "compoentname",\r\n            components:{ \r\n                // 註冊要用到哪些組件\r\n            },\r\n            props:{\r\n                // 定義要從外部獲得什麼資料，甚至可以做到資料的驗證\r\n            },\r\n            data(){\r\n                return {\r\n                    // 定義組件內的共用資料\r\n                }\r\n            },\r\n            watch:{\r\n                // 定義要監聽哪些資料，讓該資料變化時觸發指定 function\r\n            },\r\n            computed:{\r\n                // 定義組件內的"響應式"衍伸資料\r\n            },\r\n            methods:{\r\n                // 定義共用的function\r\n            },\r\n            mounted(){\r\n                // 定義當組件被掛到 html 上時，要執行哪些動作\r\n            },\r\n            beforedestroy(){\r\n\r\n            }\r\n        }\r\n    <\/script>\r\n\r\n    <style lang="scss" scoped>\r\n\r\n    </style>\r\n    ```\r\n\r\n 更多可以定義的地方(`hook`)，可以參考官網\r\n\r\n 父組件的資料可以使用html property 的方式傳遞給子組件\r\n\r\n    而子組件要在 props 定義對外的 html property\r\n\r\n    這樣當外層丟給 props 的資料變化時，子組件就會響應\r\n\r\n    ```html\r\n    \x3c!-- i am parent --\x3e\r\n    <children myname="aaa" />\r\n    ```\r\n\r\n    ```js\r\n    // i am children\r\n    {\r\n        props:{\r\n            myname:{ // 當父組件將 myname 做 assign 時，這邊的值也會響應變化\r\n                type: string // 其他型態還有很多，像是 number, objects, array ...\r\n                required: true // 定義父組件是否一定要傳遞這個值\r\n            }\r\n        }\r\n    }\r\n    ```\r\n\r\n 子組件 props 收到的資料不要直接 assign 他，會破壞響應式機制\r\n\r\n    要往父組件傳遞的話，可以使用 `this.$emit` 往父組件傳遞訊息\r\n\r\n    假如使用了 `this.$emit(\'customevent\')`\r\n\r\n    父組件可以透過 `<childrencomponent @customevent="somehandler" />` 的方式處理\r\n\r\n    這就是2個方向的one-way-data-binding\r\n\r\n    而這有語法糖 `.sync` 可以包裝成 two-way-data-binding\r\n\r\n 當父組件使用子組件後，想要在子組件內寫html，可以使用 `slot`\r\n\r\n    ```html\r\n    <father>\r\n        <children>\r\n            <div>i want write something here</div>\r\n        </children>\r\n    </father>\r\n    ```\r\n\r\n    ```html\r\n    \x3c!-- children.vue --\x3e\r\n    <div class="children">\r\n        <slot></slot>\r\n    </div>\r\n    ```\r\n\r\n 當資料的傳遞必須透過多層的組件由上傳遞時，可以使用 `provide/inject`\r\n\r\n 當資料的傳遞必須透過多層的組件由下往上傳遞時，可以使用 vuex store\r\n\r\n 組件有許多生命週期，像是建立、掛載到html、從html上卸載、等等等\r\n\r\n    你可以在不同的生命週期處理對應的事\r\n\r\n    像是在掛載到 html 上之前( mounted() )前，先準備好資料\r\n\r\n    在組件被移除前( beforedestroyed() )前，把 event listener 清掉\r\n\r\n 當 css 樣式只希望作用在當前組件，又不想面臨作用域問題的話，可以使用 scoped\r\n\r\n    ```html\r\n    <style scoped>\r\n        // 裏頭的style只會作用在"當前"組件\r\n        // 影響不了外部組件\r\n    </style>\r\n    ```\r\n\r\n 若想寫 scss 也是可以的\r\n\r\n    ```html\r\n    <style lang="scss" scoped>\r\n        // ...\r\n    </style>\r\n    ```\r\n\r\n 備註\r\n\r\n以上從比較全域的角度談論了 vue 的一些相關內容\r\n\r\n接著下一篇將會提到 vue 的一些常見語法\r\n\r\n此外，這邊提到的算是 vue 的一些相關內容\r\n\r\n建議當遇到一些細節不是很清楚時，還是可以再額外多了解一下\r\n\r\n比方說網頁的特效可以用 `transition` 做到\r\n\r\nvue 跟後端做結合， vue 的生命週期，等等',word_token:["由","於","最近","朋友","想要","學習","vue","東西","這邊","稍微","整理","一下","自己","學","vue","一些","心得","並","儘","可能","用","比","較","平滑","方式","來","談談","vue","本","系列","文","預計","將會","介紹","vue","一些","常見","用法","以及","常見","語法","why","vue","一個","網頁","會","由","許多","要素","組成","user","網頁","互動","體驗","ux","網頁","上","畫面","ui","資料","流","更新","開發","成本","學習","難","易度","開","發","時","間","、","重用","性","、","模","組","化","、","語","法","兼容","而","使用","前端","框架","可以","很大","程度","讓","上述","事情","實作","上","變得","有效率","efficient","這邊","簡述","使用","vue","如何","對","上述","提及","議題","帶來","幫助","網頁","動畫","呈現","像是","切換","分頁","時","有時","淡進","淡出","網頁","效果","會","讓","使用","體驗","更好","而","這","可以","透過","vue","transition","快速","做到","`","`","`","html","transition","name","=","fade","div","v","-","=","isdisplay","div","transition","`","`","`","像","以上","寫法","當","isdisplay","被","設為","true","時","div","會","套用","fade","效果","淡進","當然","fade","需要","撰寫","對","應","css","但","這邊","暫且","不談","太細節","網頁","上","畫面","ui","網頁","上","畫面","由許","元素","組成","而","一個","元素","可以","一個","表單","一個","按鈕","一個","列表","如果","畫面","要","差異","更新","就要","使用","一大堆","ajax","去","讀","資料","並","更新","畫面","而","這些","更新","畫面","若","想要","可以","分享","給別","人","看到","一樣","內容","就要","當前","狀態","與","網址","對","應","處理","就是","要","front","-","end","routing","如果","想要","用","網址","一一","對應","話","就要","更新","資料","同時","手動","調整","網址","如果","用","前端","框架","可以","用","框架","機制","去","front","-","end","routing","`","`","`","js","routeconfig","=","path","name","home","component","home","`","`","`","而","假如","routing","定義檔","這樣","寫","代表","網址","對","應到","`","`","時","會","幫","帶入","home","這個","組件","而","home","這個","組件","包含","首頁","該","html","、","css","、","js","資料","流","更新","事件","驅動","event","driven","當","ajax","取得","資料","後","畫","面上","必然","會","需要","更新","對應","元素","當","使用","jquery","原生","event","listener","進行","開發時","整個","網頁","開發","會","變成","`","事件","驅動","event","driven","`","當按","下","某個","button","後","觸發","資料","更新","而","資料","更新","後","再","去","更新","對應","畫面","資料","驅動","data","driven","但","使用","前端","框架","進行","開發","一種","`","資料","驅動","data","driven","`","開發","體驗","你會","先定","義要","`","關注","哪些","資料","`","撰","寫","設定","`","當資料","更新","時","`","`","響應式","reactive","`","`","自動","`","觸發","哪些","function","`","自動","`","對","關資料","進行","調整","並且","網頁","上","內容","直接","響應","資料","變動","自動","更新","所以","需要","再","手動","更新","html","內容","開","發畫","面時","只","需要","定義好","要","依照","哪個","資料","去","進行","畫面","渲染","render","資料","更新","後","框架","會","幫","更新","畫面","而且","框架","還會","幫","處理","更新","畫面","效率","問題","`","`","`","html","div","temperature","div","`","`","`","像","以上","這個","寫法","當系統","自己","30","擷取","一次","溫度","資料","時","只","需要","更新","`","temperature","`","這個","變數","網頁","上","溫度","數值","會","自己","響應","資料","變化","進行","更新","這樣","不會","當資料","更新","時","忘","記要","更新","畫","面上","哪些","元素","資料","驅動","方向性","但用","data","driven","不是","萬能","算是","目前","來","說","比","較","好","開發","模式","但","這個","開發","模式","需要","考慮","一些","對應","issue","就是","`","one","-","-","data","-","binding","`","與","`","two","-","-","data","-","binding","`","這邊","我們","暫且","先","提及","先","深入","進行","討論","開發","成本","開發","需要","考量","成本","與","效益","而","開發","成本","需要","考量","非常","面向","這邊","先","稍微","列舉","幾個","來","談談","學習","難","易度","這最","直接","關乎","開發","人力","量","畢竟","市場","上","工程","師就","這麼","技術","學習","難","易度","直接","影響","一個","系統","沒","有人","開發","、","維","護","而","vue","學習","曲線","上","與","angular","、","react","有著","極大","不同","vue","progressive","framework","漸進式","框架","可以","用","vue","寫出","js","套件","後","用","最","傳統","方式","html","引用","套件","可以","用","vue","進行","整套","開發","言下之意","需要","學習","vue","全部","特性","後","才能","用","可以","只","使用","一小部分","功能","進行","開發","然後隨著","一步步","學習","相同","專案","下","嘗試","使用","不同","功能","但","react","angular","沒","辦法","要","使用","前","必須","先學習","相","對","來","說","比","較","背景","知識","後","才能","使用","他們","前端","世界","變化","極大極","快","這個","時代","還滿","喜歡","這種","`","progressive","`","漸進式","思維","比較","不用","為","某些","新","功能","導致","必須","要","一口","氣學","很多","東西","後","才能","使用","開發","時間","使用","前端","框架","開發","、","如果","技術","上","經有","一定","熟練度","話","開發","規模","系統","上","時","開發","時間","將會","巨量","減少","光是","資料","更新","後","要","更新","對應","畫面","這件","事","不是","傳統","開發","模式","能匹","敵","傳統","開發","方式","當系","統開","發到","一定","程度","後","不同","功能","不同","人開發","資料","更新","後","難","去追","蹤","要","更新","哪些","畫面","但","使用","前端","框架","話","這些","事","框架","會","規範","寫","好","定義","並","直接","用","這個","定義去","運行","直接","幫","省","下","檢查","時間","並","增加","畫面","更新","可靠性","重用","性","、","模","組","化","假如","今天","要","製","作","個","曆","那麼","可能","要","提供","按鈕","點擊","時切換","月份","切換","時","還要","轉場","效果","而","曆","布局","可能","還","需要","css","去","撰","寫","甚至","可能","要","靠","js","輔助","而","借助","框架","下","最","原生","開發","方式","就是","分別","寫","html","、","js","、","css","然後將","他們","引用","進來","但","只要","一個","小心","js","沒有","閉包","變數","命名","重","複","css","作用域","重","複","開發","偵錯","時間","直接","倍量","成長","bug","變","feature","而","原生","開發","模式","若要","用","新","js","語法模","組化","元件","封裝","元件","話","不可避免","要","手動","自己","架設","轉譯","流程","處理","瀏覽器","兼容","問題","使用","前端","框架","話","像","vue","提供","`","組件","component","`","開發","模式","甚至","可以","使用","`","sfc","single","file","component","`","方式","開發","一個","組件","一個","檔案","一個","模組","模組化","開發","方式","直接","幫","避掉","上述","困難點","用","vue","-","cli","架設","專案","話","還幫","處理","瀏覽器","兼容","檔案","大小","最佳化","功能","語法","兼容","當開","發時","想","使用","比較","新","js","語法時","很常要","考慮","瀏覽器","兼容","問題","尤其","常常","要","害怕","網站","跑","上古","神獸","ie","上會掛","掉","若","專案","用","vue","-","cli","架設","js","常見","語法","直接","幫","編譯成","ie","懂得","語法","許多","新","規格","語法","、","語","法","糖","可以","不用","再","靠","像是","pollyfill","方式","來","兼容","事前","準備","以上","描述","許多","看到","vue","優點","接著","來","為","coding","做些","準備","專案","位置","可以","先","github","上下","載","執行","專案","前","需","先安裝","好","node","js","接著","在專","案目","錄中","得到","`","package","json","`","地方","開啟","command","line","執行","`","`","`","bash","npm","install","`","`","`","這個","指令","會將","需要","使用","套件","安裝","若","windows","電腦","下","該","指令","有些","問題","可以","使用","專案","以下","包好","`","node","_","modules","zip","`","套件","安裝","完成","後","便","可","command","line","執行","以下","指令","啟動","專案","`","`","`","bash","npm","run","serve","`","`","`","預設","將會","開起","專案","建立","專案","這邊","使用","vue","-","cli","指令","進行","專案","建立","當下","`","vue","create","_","project","_","name","`","後","會有","許多","選項","可以","選","這邊","先","暫且","先不談","及裡面","內容","開發架構","基礎","架構","這邊","使用","vue","-","cli","建立","起來","專案","基礎","架構","這個","基礎","架構","部分","功能","簡述","如下","使用","`","main","js","`","作為","單一進","入點","entry","point","精確","來","說","這個","檔案","就是","整個","專案","運行","起點","使用","vue","-","router","來","進行","前端","routing","前端","spa","開發","使用","vuex","-","store","來","進行","前端","全域","資料","儲存","這","算是","不太","精確","說法","但","方便","理解","來","說","可以","簡單","它","當成","一個","client","端的","db","好","使用","sfc","方式","進行模","組化","開發","開發思維","以下","提供","一些","開發學習","時","思考","方向","以下","提到","內容","下","一篇","文章","會","細節","說明","router","設定","哪個","網址","對","應到","哪個","`","view","組件","`","而","一個","`","view","組件","`","再","去","使用","`","子","組件","`","這個子","組件","若","很多","地方","可以","用","上","話","可以","設計","開發","模組化","一點","增加","共用","性","用","sfc","方式","開發","話","一個","檔案","一個","組件","檔案","包含","html","、","js","、","css","看起","來會長","這樣","`","`","`","html","template","-","-","這邊","寫","html","-","-","template","script","export","default","name","compoentname","components","註","冊","要","用到","哪些","組件","props","定義要","從","外部","獲得","什麼","資料","甚至","可以","做到","資料","驗證","data","return","定義組件","內","共用","資料","watch","定義要","監聽","哪些","資料","讓","該","資料","變化時","觸發","指定","function","computed","定義組件","內","響應式","衍伸","資料","methods","定義","共用","function","mounted","定義當","組件","被","掛到","html","上時","要","執行","哪些","動作","beforedestroy","script","style","lang","=","scss","scoped","style","`","`","`","可以","定義的","地方","`","hook","`","可以","參","考官","網","父組件","資料","可以","使用","html","property","方式","傳遞","給子","組件","而子","組件","要","props","定義對","外","html","property","這樣","當外層","丟給","props","資料","變化時","子","組件","會響","應","`","`","`","html","-","-","parent","-","-","children","myname","=","aaa","`","`","`","`","`","`","js","children","props","myname","當父","組件將","myname","assign","時","這邊","值","會響","應","變化","type","string","其他","型態","還有","很多","像是","number","objects","array","required","true","定義父","組件","是否","一定","要","傳遞","這個值","`","`","`","子","組件","props","收到","資料","不要","直接","assign","會破","壞響","應式","機制","要","往父","組件","傳遞","話","可以","使用","`","emit","`","往父","組件","傳","遞訊息","假如","使用","`","emit","customevent","`","父組件","可以","透過","`","childrencomponent","@","customevent","=","somehandler","`","方式","處理","這","就是","2","個","方向","one","-","-","data","-","binding","而","這有","語法","糖","`","sync","`","可以","包裝成","two","-","-","data","-","binding","當父","組件","使用","子","組件","後","想要","在子","組件","內","寫","html","可以","使用","`","slot","`","`","`","`","html","father","children","div","want","write","something","div","children","father","`","`","`","`","`","`","html","-","-","children","vue","-","-","div","class","=","children","slot","slot","div","`","`","`","當資料","傳遞","必須","透過","多層","組件","由","上","傳遞","時","可以","使用","`","provide","inject","`","當資料","傳遞","必須","透過","多層","組件","由","下","往","上","傳遞","時","可以","使用","vuex","store","組件","許多","生命","週期","像是","建立","、","掛","載","html","、","從","html","上卸載","、","等等","可以","不同","生命","週期","處理","對","應","事","像是","掛載","html","上","之前","mounted","前","先準備","好","資料","組件","被","移除","前","beforedestroyed","前","event","listener","清掉","當","css","樣式","只","希望","作用","當前","組件","不想","面臨","作用域","問題","話","可以","使用","scoped","`","`","`","html","style","scoped","裏","頭的","style","只會","作用","當前","組件","影響","不了","外部","組件","style","`","`","`","若想","寫","scss","可以","`","`","`","html","style","lang","=","scss","scoped","style","`","`","`","備","註","以上","從","比","較","全域","角度","談論","vue","一些","相關","內容","接著下","一篇","將會","提到","vue","一些","常見","語法","此外","這邊","提到","算是","vue","一些","相關","內容","建議當","遇到","一些","細節","不是","清楚","時","還是","可以","再額","外多","了解","一下","比方","說","網頁","特效","可以","用","`","transition","`","做到","vue","跟後端","結合","vue","生命","週期","等等"],key_words:[{word:"資料",weight:340.4369249054227},{word:"開發",weight:340.4369249054227},{word:"組件",weight:328.6977205983392},{word:"vue",weight:305.21931198417207},{word:"html",weight:246.52329044875438},{word:"更新",weight:166.393402641},{word:"一個",weight:164.3488602991696},{word:"js",weight:152.60965599208603},{word:"畫面",weight:152.60965599208603},{word:"使用",weight:149.03789811207},{word:"專案",weight:140.8704516850025},{word:"網頁",weight:129.13124737791895},{word:"這邊",weight:129.13124737791895},{word:"進行",weight:129.13124737791895},{word:"這個",weight:117.39204307083541},{word:"div",weight:105.65283876375187},{word:"data",weight:93.91363445666833},{word:"框架",weight:86.91199927332},{word:"學習",weight:82.1744301495848},{word:"傳遞",weight:82.1744301495848},{word:"css",weight:82.1744301495848},{word:"內容",weight:82.1744301495848},{word:"style",weight:82.1744301495848},{word:"語法",weight:82.1744301495848},{word:"前端",weight:80.6586691491},{word:"處理",weight:70.43522584250125},{word:"children",weight:70.43522584250125},{word:"網址",weight:58.69602153541771},{word:"檔案",weight:58.69602153541771},{word:"許多",weight:58.69602153541771}],excerpt:'由於最近有朋友想要學習 vue 的東西 這邊就稍微整理一下自己學 vue 的一些心得，並儘可能用比較"平滑"的方式來談談 vue 本系列文預計將會介紹 vue 的一些常見用法以及常見語法 why vue? 一個網頁會由許多"要素"組成 user跟網頁的互動體驗(ux) 網頁上的畫面(ui) 資料流的更新 開發成本(學習難易度、開發時間、重用性、模組化、語法兼容) ... 而使用前端框架可以很大程度的讓上述的事情，在實作上變得有效率 efficient 這邊簡述使用vue如何對上述提及議題帶來幫助 網頁動畫呈現 像是切換分頁時，有時淡進淡出的網頁效果會讓使用體驗更好 而這可以透過 vue 的 transition 快速的做到 <transition name="fade"> <div v-if="isdisplay"> ... </div> </transition> 像以上寫法，當 isd...'},{title:"Vue2 SFC 語法",frontmatter:{title:"Vue2 SFC 語法",datetime:"2020/12/9",tag:["tutorial","vue","usage"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Vue2 SFC 語法"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/JS/Vue/vue-basic-tutorial/Syntax.html"},{name:"twitter:title",content:"Vue2 SFC 語法"},{name:"twitter:url",content:"/Coding/JS/Vue/vue-basic-tutorial/Syntax.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"vue, 組件, text, src, views, div, 範例, tutorial, js, html, script, 檔案, 位置, class, 變數, style, return, data, default, computed, props, uppertext, emit, methods, export, 使用, 元素, initial, vuex, 一個"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"組件"},{property:"article:tag",content:"text"},{property:"article:tag",content:"src"},{property:"article:tag",content:"views"},{property:"article:tag",content:"div"},{property:"article:tag",content:"範例"},{property:"article:tag",content:"tutorial"},{property:"article:tag",content:"js"},{property:"article:tag",content:"html"},{property:"article:tag",content:"script"},{property:"article:tag",content:"檔案"},{property:"article:tag",content:"位置"},{property:"article:tag",content:"class"},{property:"article:tag",content:"變數"},{property:"article:tag",content:"style"},{property:"article:tag",content:"return"},{property:"article:tag",content:"data"},{property:"article:tag",content:"default"},{property:"article:tag",content:"computed"},{property:"article:tag",content:"props"},{property:"article:tag",content:"uppertext"},{property:"article:tag",content:"emit"},{property:"article:tag",content:"methods"},{property:"article:tag",content:"export"},{property:"article:tag",content:"使用"},{property:"article:tag",content:"元素"},{property:"article:tag",content:"initial"},{property:"article:tag",content:"vuex"},{property:"article:tag",content:"一個"}]},regularPath:"/Coding/JS/Vue/vue-basic-tutorial/Syntax.html",relativePath:"Coding/JS/Vue/vue-basic-tutorial/Syntax.md",key:"v-0e69d9d2",path:"/Coding/JS/Vue/vue-basic-tutorial/Syntax.html",headers:[{level:2,title:"跟 watch 的差異",slug:"跟-watch-的差異"}],git:{created:"12/10/2020, 1:58:14 PM",updated:"12/10/2020, 1:58:14 PM",author:"johnny1991524",commits:[{fullHash:"119d25d415482a968cb7a914e883702ee6d54ad5",authorTime:"1607579894",commitTime:"1607579894",authorName:"johnny1991524"}],contributors:["johnny1991524"]},pure_content:'呈上篇，上篇從比較全域的角度，講述了 vue 的優點，架構\r\n\r\n本篇將會著重在開發 `組件` 時，組件內 coding 時的語法\r\n\r\n 運行範例\r\n\r\n在command line執行以下指令啟動專案\r\n\r\n```bash\r\nnpm run serve\r\n```\r\n\r\n預設將會在  開起專案\r\n\r\n\r\n component 組件\r\n\r\n使用vue開發的一大好處，就是可以將網頁上之元素組件化\r\n\r\n一個組件便封裝好網頁元素之 `html`,`js`,`css style`\r\n\r\n一個vue之組件，會取名叫做 `mycomponent.vue`\r\n\r\n一個component打開來後會有類似以下的格式\r\n\r\n```html\r\n\x3c!-- 在此放置元素之html --\x3e\r\n<template>\r\n    <div></div>\r\n</template>\r\n\r\n\x3c!-- 在此放置元素之js --\x3e\r\n<script>\r\n    export default {\r\n        ...\r\n    }\r\n<\/script>\r\n\r\n\x3c!-- 在此放置元素之css style --\x3e\r\n<style lang="scss" scoped>\r\n\r\n</style>\r\n```\r\n\r\n import 組件\r\n\r\n範例位置: \r\n\r\n檔案位置: src/views/tutorial/importcomponent.vue\r\n\r\n要使用組件前，需要使用import來引用組件\r\n\r\n```js\r\n// @ is an alias to /src\r\nimport demoimport from \'@/components/demoimport.vue\'\r\n```\r\n\r\n這代表被引用的組件在 `src/components/demoimport.vue`\r\n\r\n引用組件組件可以使用`絕對路徑`、`相對路徑`\r\n\r\n 絕對路徑: \r\n   @/components/demoimport.vue\r\n   @代表的是`/src`\r\n\r\n 相對路徑: \r\n   引用當前目錄組件: `./aaa.vue`\r\n   引用上層目錄組件: `../bbb.vue`\r\n\r\n mustache `{{}}`\r\n\r\n範例位置: \r\n\r\n檔案位置: src/views/tutorial/mustache.vue\r\n\r\n在vue中，可以在`template中`使用 `{{}}` 來顯示js變數內容\r\n\r\n```html\r\n<template>\r\n    <div>\r\n        <h3>{{imvariable1}}</h3>\r\n        <h3>{{imvariable2}}</h3>\r\n        <h3>{{imvariable3}}</h3>\r\n    </div>\r\n</template>\r\n```\r\n\r\n slot\r\n\r\n範例位置: \r\n\r\n檔案位置: src/views/tutorial/importcomponentwithslot.vue\r\n\r\n就像有時我們會用 `<p>123</p>` 在p tag中間寫123\r\n\r\n自己開發的組件也可以用slot的方式做到\r\n\r\n```html\r\n\x3c!-- 被引用的組件 demoimportslot.vue --\x3e\r\n<div class="imported-component">\r\n    <p>import me please</p>\r\n    <slot>you can cover me</slot>\r\n</div>\r\n```\r\n\r\n```html\r\n\x3c!-- importcomponentwithslot.vue --\x3e\r\n<demoimportslot>\r\n    <p>the message is coverd by parent</p>\r\n</demoimportslot>\r\n```\r\n\r\n v-model 基礎\r\n\r\n範例位置: \r\n\r\n檔案位置: src/views/tutorial/vmodel.vue\r\n\r\n當有時想讓user在網頁上藉由像是`input`來輸入內容\r\n\r\n可以使用v-model來讓輸入內容存到變數中\r\n\r\n```html\r\n<input v-model="text" />\r\n```\r\n\r\n而text需要在js中進行宣告\r\n\r\n```js\r\n<script>\r\n    export default {\r\n        name: "vmodel",\r\n        data(){\r\n            return {\r\n                text: "initial text"\r\n            }\r\n        },\r\n    }\r\n<\/script>\r\n```\r\n\r\n`注意在data中，要用return回傳object`，不然會多個組件共享同一個data\r\n\r\n watch\r\n\r\n範例位置: \r\n\r\n檔案位置: src/views/tutorial/watch.vue\r\n\r\n當需要某變數一被改變就做出對應計算時，可以使用watch監聽該變數\r\n\r\n比方說，user在input中輸入英文字時，想要轉大寫\r\n\r\n```html\r\n<input v-model="text" />\r\n```\r\n\r\n```js\r\n<script>\r\n    export default {\r\n        name: "watch",\r\n        data(){\r\n            return {\r\n                text: "initial text",\r\n                uppertext: "initial text"\r\n            }\r\n        },\r\n        watch:{\r\n            text(newvalue){\r\n                this.uppertext = newvalue.touppercase()\r\n            }\r\n        }\r\n    }\r\n<\/script>\r\n```\r\n\r\n computed\r\n\r\n範例位置: \r\n\r\n檔案位置: src/views/tutorial/computed.vue\r\n\r\n承 watch 的範例，有些變數想要更快速的計算得到\r\n\r\n也就是 `某b變數` 一改變 `某a變數` 就跟著計算完成，也可透過 `computed` 做到\r\n\r\n```html\r\n<input v-model="text" />\r\n```\r\n\r\n```js\r\n<script>\r\n    export default {\r\n        name: "computed",\r\n        data(){\r\n            return {\r\n                text: "initial text",\r\n                // uppertext: "initial text"\r\n                // computed宣告uppertext後，data不能宣告一樣的，反之亦然\r\n            }\r\n        },\r\n        computed:{\r\n            uppertext:{\r\n                get(){\r\n                    return this.text.touppercase()\r\n                }\r\n            }\r\n        },\r\n    }\r\n<\/script>\r\n```\r\n\r\n 跟 watch 的差異\r\n\r\n`computed`一定會得到一個新的reactive演伸變數\r\n\r\n但有時可能是某變數一改變就要去更新其他的東西，不單單只是一個變數\r\n\r\n那就可以使用`watch`\r\n\r\n methods\r\n\r\n範例位置: \r\n\r\n檔案位置: src/views/tutorial/methods.vue\r\n\r\n在組件中，當有共通的methods需要宣告時，可以放在methods裡\r\n\r\n承轉大寫的範例，將轉大寫的行為抽到`methods`裡的`toupper`中\r\n\r\n```js\r\n<script>\r\n    export default {\r\n        name: "methods",\r\n        data(){\r\n            return {\r\n                text: "initial text",\r\n                // uppertext: "initial text"\r\n                // computed宣告uppertext後，data不能宣告一樣的，反之亦然\r\n            }\r\n        },\r\n        computed:{\r\n            uppertext:{\r\n                get(){\r\n                    return this.toupper(this.text)\r\n                }\r\n            }\r\n        },\r\n        methods:{\r\n            toupper(string){\r\n                return string.touppercase()\r\n            }\r\n        }\r\n    }\r\n<\/script>\r\n```\r\n\r\n mounted\r\n\r\n範例位置: \r\n\r\n檔案位置: src/views/tutorial/mustache.vue\r\n\r\n有些初始化動作，我們需要在組件掛載到dom tree上後再進行\r\n\r\n像是呼叫 jquery 更改畫面的 ui\r\n\r\n那就可以把這些動作放到mounted中\r\n\r\n承轉大寫的範例，將字串的初始化動作放到mounted中\r\n\r\n```js\r\n<script>\r\n    export default {\r\n        name: "mounted",\r\n        data(){\r\n            return {\r\n                text: "",\r\n            }\r\n        },\r\n        computed:{\r\n            uppertext:{\r\n                get(){\r\n                    return this.toupper(this.text)\r\n                }\r\n            }\r\n        },\r\n        methods:{\r\n            toupper(string){\r\n                return string.touppercase()\r\n            }\r\n        },\r\n        mounted(){\r\n            this.text = "initial text"\r\n        }\r\n    }\r\n<\/script>\r\n```\r\n\r\nvue相關生命週期可以參考:\r\n\r\n   [vue 實體與生命週期](\r\n\r\n   [生命週期(lifecycle)](\r\n\r\n v-bind\r\n\r\n範例位置: \r\n\r\n檔案位置: src/views/tutorial/vbind.vue\r\n\r\n當需要對html元素之property(像是class, style, href...等等)動態進行修改時，可以使用v-bind\r\n\r\n以修改div之class為例\r\n\r\n```html\r\n<div class="demo-vbind-class" :class="dynamicclass">\r\n    my color will change at {{timer}} seconds\r\n</div>\r\n```\r\n\r\n`:class="dynamicclass"`代表，`class屬性`將隨著`dynamicclass`這個`變數`改變\r\n\r\n```js\r\n<script>\r\n    // 當組件被掛載，5秒後動態更改組件的class\r\n    // 5秒後，組件之class會多一個\'change\'，並改變顏色\r\n\r\n    export default {\r\n        name: "vbind",\r\n        data(){\r\n            return {\r\n                timer: 5,\r\n                dynamicclass: []\r\n            }\r\n        },\r\n        mounted(){\r\n            let that = this\r\n\r\n            let interval = setinterval(function(){\r\n                that.timer -= 1\r\n\r\n                if(that.timer <= 0){\r\n                    clearinterval(interval)\r\n                    that.dynamicclass = ["change"]\r\n                }\r\n            }, 1000)\r\n        },\r\n    }\r\n<\/script>\r\n```\r\n\r\nhtml元素之property有很多，像是`class`，`style`\r\n\r\n甚至`<a>`上常用`href`，等等\r\n\r\n這些property都是可以用v-bind來操作的\r\n\r\n另外，針對`style`，建議為了網頁效能，多利用`class屬性`來改變元素展示效果會比較好\r\n\r\n盡量避免直接操作`style`\r\n\r\n v-on\r\n\r\n範例位置: \r\n\r\n檔案位置: src/views/tutorial/von.vue\r\n\r\n當有event需要處理時，在vue上可以有幾種做法，以click為例:\r\n1. vue原生用法: @click\r\n2. jquery用法: on click\r\n3. js原生用法: addeventlistener\r\n\r\n```html\r\n<div @click="handleclick"></div>\r\n```\r\n\r\n這代表該div元素被click時，將會觸發handleclick這個method\r\n\r\n詳細範例細節請參考 `src/views/tutorial/von.vue`\r\n\r\n備註:\r\n\r\n使用 js原生用法: addeventlistener 時，要記得在卸載組件前，把listener remove掉\r\n\r\n不然會一直留在網頁上變僵屍\r\n\r\n v-if\r\n\r\n範例位置: \r\n\r\n檔案位置: src/views/tutorial/vifelse.vue\r\n\r\n當網頁上之元素希望滿足條件後，才掛載到dom上，可以使用`v-if`\r\n\r\n```html\r\n<div v-if="istoggle" class="demo"></div>\r\n<div v-else class="demo change"></div>\r\n```\r\n\r\n`v-if="istoggle"` 代表當 `istoggle` 這個變數為 `true` 時才會掛載該元素\r\n\r\n當 `istoggle` 為 `false` 時，該元素會從dom上`被移除`\r\n\r\n v-for\r\n\r\n範例位置: \r\n\r\n檔案位置: src/views/tutorial/vfor.vue\r\n\r\n當有元素需要批次產生時，可以使用v-for\r\n\r\n```html\r\n<div v-for="(setting, index) in elementsettings"\r\n    :key="index"\r\n    class="demo"\r\n    :class="setting.classsetting"\r\n>{{index}}. {{setting.text}}</div>\r\n```\r\n\r\n```js\r\ndata(){\r\n    return {\r\n        elementsettings:[{\r\n                text: "hello",\r\n                classsetting: []\r\n            },{\r\n                text: "hello",\r\n                classsetting: ["change"]\r\n            },{\r\n                text: "world",\r\n                classsetting: []\r\n            }]\r\n    }\r\n},\r\n```\r\n\r\n[需要注意的是，`:key` 建議要給予一個unique的值](\r\n\r\n props\r\n\r\n範例位置: \r\n\r\n檔案位置: src/views/tutorial/props.vue\r\n\r\n當需要傳遞資料給組件時，可以透過props來向下，向組件傳\r\n\r\n但被傳遞的組件無法透過props中之變數向上傳遞資料\r\n\r\n此外，props也可以用來做`形別檢查`，以及`值域檢查`\r\n\r\n詳見[官方說明](\r\n\r\n```js\r\n\x3c!-- \'src/components/demoprops.vue\' --\x3e\r\n<script>\r\n    export default {\r\n        name: "demoprops",\r\n        props:{\r\n            text:{\r\n                type: string,\r\n                default: () => "hello"\r\n            },\r\n            number:{\r\n                type: number,\r\n                required: true,\r\n                default: () => "hello"\r\n            }\r\n        },\r\n    }\r\n<\/script>\r\n```\r\n\r\n這代表`demoprops`這個組件，可以接收`text`，`number`這兩個自定義屬性，用法如下\r\n\r\n```html\r\n<demoprops :number="1" />\r\n<demoprops :number="2" :text="text" />\r\n```\r\n\r\n $emit\r\n\r\n範例位置: \r\n\r\n檔案位置: src/views/tutorial/emit.vue\r\n\r\n當組件要對父組件傳遞資料時可以使用emit，並且使用emit時，可以自定義event\r\n\r\n```html\r\n\x3c!-- \'src/components/demoemit.vue\' --\x3e\r\n<template>\r\n    <div>\r\n        <h3>{{text}}</h3>\r\n        <button @click="handleclick">click me</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: "demoemit",\r\n        props:{\r\n            text:{\r\n                type: string,\r\n                default: () => "hello"\r\n            }\r\n        },\r\n        methods:{\r\n            handleclick(event){\r\n                this.$emit("customevent", event)\r\n            }\r\n        }\r\n    }\r\n<\/script>\r\n```\r\n\r\n當按下button時，demoemit這個組件，會對父組件傳遞一個叫做`customevent`的自定義event\r\n\r\n```html\r\n\x3c!-- src/views/tutorial/emit.vue --\x3e\r\n<demoemit :text="text" @customevent="handlecustomevent" />\r\n```\r\n\r\n在父組件中就可以使用`@customevent`來接收此event，與對應資料\r\n\r\n two-way data binding\r\n\r\n範例位置: \r\n\r\n檔案位置: src/views/tutorial/twowaydatabinding.vue\r\n\r\n當使用`<input>`時，我們可以使用v-bind來將變數跟元素bind在一起\r\n\r\n若自己開發的組件也想使用v-bind，就要用到 `two-way data binding` 的技巧\r\n\r\n基本想法，就是靠props將資料往子組件送，而當子組件本身資料有異動時\r\n\r\n再透過emit將資料往父組件送\r\n\r\n詳細語法請參考 `src/components/demotwowaydatabinding.vue` 與 `src/views/tutorial/twowaydatabinding.vue` 這兩個檔案\r\n\r\n vuex\r\n\r\n範例位置: \r\n\r\n檔案位置: src/views/tutorial/store.vue\r\n\r\n當組件的引用關係變的很深很複雜時，使用vuex來傳遞資料會是比較好的做法\r\n\r\nvuex有點像是前端的資料庫，或者全域變數，或者可以說是資料的集散地\r\n\r\n以以下情境為例做個說明:\r\n\r\n當組件的引用關係如下\r\n\r\n     store.vue\r\n       alevelone.vue\r\n         aleveltwo.vue\r\n       blevelone.vue\r\n         bleveltwo.vue\r\n\r\n若 `aleveltwo.vue` 要向 `bleveltwo.vue` 傳遞資料\r\n\r\n靠`props`與`emit`，`aleveltwo.vue`必須先往上emit到`store.vue`再透過props往下傳到`bleveltwo.vue`\r\n\r\n而透過使用vuex則可以，`aleveltwo.vue`傳給`vuex`\r\n\r\n`bleveltwo.vue`使用`computed的變數`監聽`vuex中之變數`去自動的拿到資料\r\n\r\n`vuex`在專案中之位置為`src/store.js`，詳細實做請參考專案\r\n\r\n此外，vuex本身還有許多的用法，請參考[官網說明](\r\n\r\n router\r\n\r\n檔案位置: src/router.js\r\n\r\n當我們希望某個網址對應到某個組件時，可以透過router來做到\r\n\r\n實做請參考專案中之 `src/router.js` 與 `src/views/app.vue`\r\n\r\n基本運作原則如下\r\n\r\n當網址異動，router會根據`router.js`中之規則，尋找現在要掛載哪個組件\r\n\r\n而當找到組件時，變會在 `src/views/app.vue` 中之 `<router-view/>` 將該組件掛載上去\r\n\r\n詳細用法請參考[官網](\r\n\r\n scoped css style\r\n\r\n有時有些css style會希望只作用在該組件上，那就可以使用以下與法\r\n\r\n```html\r\n\x3c!-- 使用scss來寫該組件之style，並且這些style邏輯只作用在此組件上 --\x3e\r\n<style lang="scss" scoped>\r\n    ....\r\n</style>\r\n```',word_token:["呈","上","篇","上篇","從","比","較","全域","角度","講述","vue","優點","架構","本篇","將會","著重","開發","`","組件","`","時","組件","內","coding","時","語法","運行","範例","command","line","執行","以下","指令","啟動","專案","`","`","`","bash","npm","run","serve","`","`","`","預設","將會","開起","專案","component","組件","使用","vue","開發","一大","好處","就是","可以","將網","頁","上","元素","組件化","一個","組件","便","封裝","好","網頁","元素","`","html","`","`","js","`","`","css","style","`","一個","vue","組件","會","取名","叫做","`","mycomponent","vue","`","一個","component","打開","來後會","類似","以下","格式","`","`","`","html","-","-","放置","元素","html","-","-","template","div","div","template","-","-","放置","元素","js","-","-","script","export","default","script","-","-","放置","元素","css","style","-","-","style","lang","=","scss","scoped","style","`","`","`","import","組件","範例","位置","檔案","位置","src","views","tutorial","importcomponent","vue","要","使用","組件","前","需要","使用","import","來","引用","組件","`","`","`","js","@","alias","src","import","demoimport","@","components","demoimport","vue","`","`","`","這","代表","被","引用","組件","`","src","components","demoimport","vue","`","引用","組件","組件","可以","使用","`","絕對","路徑","`","`","相對","路徑","`","絕對","路徑","@","components","demoimport","vue","@","代表","`","src","`","相對","路徑","引用","當前","目錄","組件","`","aaa","vue","`","引用","上層","目錄","組件","`","bbb","vue","`","mustache","`","`","範例","位置","檔案","位置","src","views","tutorial","mustache","vue","vue","可以","`","template","`","使用","`","`","來","顯示","js","變數","內容","`","`","`","html","template","div","h3","imvariable1","h3","h3","imvariable2","h3","h3","imvariable3","h3","div","template","`","`","`","slot","範例","位置","檔案","位置","src","views","tutorial","importcomponentwithslot","vue","像","時","我們","會用","`","p","123","p","`","p","tag","中間","寫","123","自己","開發","組件","可以","用","slot","方式","做到","`","`","`","html","-","-","被","引用","組件","demoimportslot","vue","-","-","div","class","=","imported","-","component","p","import","please","p","slot","cover","slot","div","`","`","`","`","`","`","html","-","-","importcomponentwithslot","vue","-","-","demoimportslot","p","message","coverd","parent","p","demoimportslot","`","`","`","v","-","model","基礎","範例","位置","檔案","位置","src","views","tutorial","vmodel","vue","當有","時","想","讓","user","網頁","上","藉由","像是","`","input","`","來輸入","內容","可以","使用","v","-","model","來","讓","輸入","內容","存到","變數","`","`","`","html","input","v","-","model","=","text","`","`","`","而","text","需要","js","進行","宣告","`","`","`","js","script","export","default","name","vmodel","data","return","text","initial","text","script","`","`","`","`","注意","data","要用","return","回傳","object","`","不然","會多個","組件","共享","同一","個","data","watch","範例","位置","檔案","位置","src","views","tutorial","watch","vue","當","需要","某變數","被","改變","做出","對應","計算時","可以","使用","watch","監聽","該","變數","比方","說","user","input","中輸入","英文字","時","想要","轉大寫","`","`","`","html","input","v","-","model","=","text","`","`","`","`","`","`","js","script","export","default","name","watch","data","return","text","initial","text","uppertext","initial","text","watch","text","newvalue","uppertext","=","newvalue","touppercase","script","`","`","`","computed","範例","位置","檔案","位置","src","views","tutorial","computed","vue","承","watch","範例","有些","變數","想要","快速","計算","得到","就是","`","b","變數","`","一改變","`","變數","`","著計算","完成","可","透過","`","computed","`","做到","`","`","`","html","input","v","-","model","=","text","`","`","`","`","`","`","js","script","export","default","name","computed","data","return","text","initial","text","uppertext","initial","text","computed","宣告","uppertext","後","data","不能","宣告","一樣","反之亦然","computed","uppertext","return","text","touppercase","script","`","`","`","watch","差異","`","computed","`","一定","會","得到","一個","新","reactive","演伸","變數","但","時","可能","變數","改變","就要","去","更新","其他","東西","單單","只是","一個","變數","可以","使用","`","watch","`","methods","範例","位置","檔案","位置","src","views","tutorial","methods","vue","組件","當有","共通","methods","需要","宣告","時","可以","放在","methods","裡","承","轉大寫","範例","將轉","大寫","行為","抽到","`","methods","`","裡的","`","toupper","`","`","`","`","js","script","export","default","name","methods","data","return","text","initial","text","uppertext","initial","text","computed","宣告","uppertext","後","data","不能","宣告","一樣","反之亦然","computed","uppertext","return","toupper","text","methods","toupper","string","return","string","touppercase","script","`","`","`","mounted","範例","位置","檔案","位置","src","views","tutorial","mustache","vue","有些","初始化","動作","我們","需要","組件","掛載","dom","tree","上後再","進行","像是","呼叫","jquery","更改","畫面","ui","可以","這些","動作","放到","mounted","承","轉大寫","範例","將","字串","初始化","動作","放到","mounted","`","`","`","js","script","export","default","name","mounted","data","return","text","computed","uppertext","return","toupper","text","methods","toupper","string","return","string","touppercase","mounted","text","=","initial","text","script","`","`","`","vue","相關","生命","週期","可以","參考","vue","實體","與","生命","週期","生命","週期","lifecycle","v","-","bind","範例","位置","檔案","位置","src","views","tutorial","vbind","vue","當","需要","對","html","元素","property","像是","class","style","href","等等","動態","進行","修改","時","可以","使用","v","-","bind","以","修改","div","class","為例","`","`","`","html","div","class","=","demo","-","vbind","-","class","class","=","dynamicclass","color","will","change","timer","seconds","div","`","`","`","`","class","=","dynamicclass","`","代表","`","class","屬性","`","將隨著","`","dynamicclass","`","這個","`","變數","`","改變","`","`","`","js","script","當組件","被","掛載","5","秒後動態","更改","組件","class","5","後","組件","class","會多","一個","change","並改","變顏色","export","default","name","vbind","data","return","timer","5","dynamicclass","mounted","let","=","let","interval","=","setinterval","function","timer","-","=","1","timer","=","0","clearinterval","interval","dynamicclass","=","change","1000","script","`","`","`","html","元素","property","很多","像是","`","class","`","`","style","`","甚至","`","`","上","常用","`","href","`","等等","這些","property","可以","用","v","-","bind","來","操作","另外","針對","`","style","`","建議","為","網頁","效能","利用","`","class","屬性","`","來","改變","元素","展示","效果","會","比","較","好","盡量","避免","直接","操作","`","style","`","v","-","範例","位置","檔案","位置","src","views","tutorial","von","vue","當有","event","需要","處理時","vue","上","可以","幾種","做法","以","click","為例","1","vue","原生","用法","@","click","2","jquery","用法","click","3","js","原生","用法","addeventlistener","`","`","`","html","div","@","click","=","handleclick","div","`","`","`","這","代表","該","div","元素","被","click","時","將會","觸發","handleclick","這個","method","詳細範例","細節","請","參考","`","src","views","tutorial","von","vue","`","備","註","使用","js","原生","用法","addeventlistener","時","要","記得","卸載","組件","前","listener","remove","掉","不然","會","一直","留在","網頁","上變","僵屍","v","-","範例","位置","檔案","位置","src","views","tutorial","vifelse","vue","當網","頁","上","元素","希望","滿足","條件","後","才","掛載","dom","上","可以","使用","`","v","-","`","`","`","`","html","div","v","-","=","istoggle","class","=","demo","div","div","v","-","else","class","=","demo","change","div","`","`","`","`","v","-","=","istoggle","`","代表","當","`","istoggle","`","這個","變數","為","`","true","`","時才會","掛載","該","元素","當","`","istoggle","`","為","`","false","`","時","該","元素","會","從","dom","上","`","被","移除","`","v","-","範例","位置","檔案","位置","src","views","tutorial","vfor","vue","當有","元素","需要","批次","產生","時","可以","使用","v","-","`","`","`","html","div","v","-","=","setting","index","elementsettings","key","=","index","class","=","demo","class","=","setting","classsetting","index","setting","text","div","`","`","`","`","`","`","js","data","return","elementsettings","text","hello","classsetting","text","hello","classsetting","change","text","world","classsetting","`","`","`","需要","注意","`","key","`","建議","要","給予","一個","unique","值","props","範例","位置","檔案","位置","src","views","tutorial","props","vue","當","需要","傳遞","資料給","組件","時","可以","透過","props","來","向下","組件","傳","但","被","傳遞","組件","無法","透過","props","變數","向上","傳遞","資料","此外","props","可以","用來","`","形別","檢查","`","以及","`","值域","檢查","`","詳見","官方","說明","`","`","`","js","-","-","src","components","demoprops","vue","-","-","script","export","default","name","demoprops","props","text","type","string","default","=","hello","number","type","number","required","true","default","=","hello","script","`","`","`","這","代表","`","demoprops","`","這個","組件","可以","接收","`","text","`","`","number","`","這兩個","自定","義屬性","用法","如下","`","`","`","html","demoprops","number","=","1","demoprops","number","=","2","text","=","text","`","`","`","emit","範例","位置","檔案","位置","src","views","tutorial","emit","vue","當組件","要","對父","組件","傳遞","資料","時","可以","使用","emit","並且","使用","emit","時","可以","自定義","event","`","`","`","html","-","-","src","components","demoemit","vue","-","-","template","div","h3","text","h3","button","@","click","=","handleclick","click","button","div","template","script","export","default","name","demoemit","props","text","type","string","default","=","hello","methods","handleclick","event","emit","customevent","event","script","`","`","`","當按","下","button","時","demoemit","這個","組件","會","對父","組件","傳遞","一個","叫做","`","customevent","`","自定義","event","`","`","`","html","-","-","src","views","tutorial","emit","vue","-","-","demoemit","text","=","text","@","customevent","=","handlecustomevent","`","`","`","父組件","可以","使用","`","@","customevent","`","來","接收","event","與","對","應資料","two","-","data","binding","範例","位置","檔案","位置","src","views","tutorial","twowaydatabinding","vue","當","使用","`","input","`","時","我們","可以","使用","v","-","bind","來將","變數","元素","bind","一起","若","自己","開發","組件","想","使用","v","-","bind","就要","用到","`","two","-","data","binding","`","技巧","基本","想法","就是","靠","props","將資料","往子","組件","送","而","當子","組件","本身","資料","異動時","再","透過","emit","將資料","往父","組件","送","詳細","語法","請","參考","`","src","components","demotwowaydatabinding","vue","`","與","`","src","views","tutorial","twowaydatabinding","vue","`","這兩個","檔案","vuex","範例","位置","檔案","位置","src","views","tutorial","store","vue","當組件","引用","關","係","變","深","複","雜時","使用","vuex","來","傳遞","資料","會","比","較","好","做法","vuex","有點","像是","前端","資料","庫","或者","全域","變數","或者","可以","說","資料","集散地","以","以下","情境","為例","做個","說明","當組件","引用","關","係","如下","store","vue","alevelone","vue","aleveltwo","vue","blevelone","vue","bleveltwo","vue","若","`","aleveltwo","vue","`","要","`","bleveltwo","vue","`","傳遞","資料","靠","`","props","`","與","`","emit","`","`","aleveltwo","vue","`","必須","先往","上","emit","`","store","vue","`","再","透過","props","往下","傳到","`","bleveltwo","vue","`","而","透過","使用","vuex","則","可以","`","aleveltwo","vue","`","傳給","`","vuex","`","`","bleveltwo","vue","`","使用","`","computed","變數","`","監聽","`","vuex","變數","`","去","自動","拿到","資料","`","vuex","`","專案","位置","為","`","src","store","js","`","詳細實","請","參考","專案","此外","vuex","本身","還有","許多","用法","請","參考","官網","說明","router","檔案","位置","src","router","js","當我們","希望","某個","網址","對","應到","某個","組件","時","可以","透過","router","來","做到","實做","請","參考","專案","`","src","router","js","`","與","`","src","views","app","vue","`","基本","運作","原則","如下","當網址","異動","router","會","根據","`","router","js","`","規則","尋找","現在","要","掛載","哪個","組件","而當","找到","組件","時","變會","`","src","views","app","vue","`","`","router","-","view","`","將該","組件","掛載","上去","詳細","用法","請","參考","官網","scoped","css","style","有時","有些","css","style","會","希望","只","作用","該","組件","上","可以","使用","以下","與","法","`","`","`","html","-","-","使用","scss","來","寫","該","組件","style","並且","這些","style","邏輯","只","作用","組件","上","-","-","style","lang","=","scss","scoped","style","`","`","`"],key_words:[{word:"vue",weight:610.4386239683441},{word:"組件",weight:457.8289679762581},{word:"text",weight:399.13294644084044},{word:"src",weight:352.1761292125062},{word:"views",weight:246.52329044875438},{word:"div",weight:234.78408614167083},{word:"範例",weight:234.78408614167083},{word:"tutorial",weight:223.0448818345873},{word:"js",weight:223.0448818345873},{word:"html",weight:223.0448818345873},{word:"script",weight:211.30567752750375},{word:"檔案",weight:211.30567752750375},{word:"位置",weight:192.93773356466},{word:"class",weight:187.82726891333667},{word:"變數",weight:187.82726891333667},{word:"style",weight:164.3488602991696},{word:"return",weight:152.60965599208603},{word:"data",weight:152.60965599208603},{word:"default",weight:140.8704516850025},{word:"computed",weight:129.13124737791895},{word:"props",weight:117.39204307083541},{word:"uppertext",weight:105.65283876375187},{word:"emit",weight:105.65283876375187},{word:"methods",weight:105.65283876375187},{word:"export",weight:105.65283876375187},{word:"使用",weight:103.87489868416999},{word:"元素",weight:95.81096938392},{word:"initial",weight:93.91363445666833},{word:"vuex",weight:93.91363445666833},{word:"一個",weight:93.91363445666833}],excerpt:'呈上篇，上篇從比較全域的角度，講述了 vue 的優點，架構 本篇將會著重在開發 組件 時，組件內 coding 時的語法 運行範例 在command line執行以下指令啟動專案 npm run serve 預設將會在 開起專案 component 組件 使用vue開發的一大好處，就是可以將網頁上之元素組件化 一個組件便封裝好網頁元素之 html,js,css style 一個vue之組件，會取名叫做 mycomponent.vue 一個component打開來後會有類似以下的格式 \x3c!-- 在此放置元素之html --\x3e <template> <div></div> </template> \x3c!-- 在此放置元素之js --\x3e <script> export default { ... } <\/script> \x3c!-- 在此放置元素之css style --\x3e <style lang="...'},{title:"Code Review Memo",frontmatter:{title:"Code Review Memo",datetime:"2020/3/25",meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Code Review Memo"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/CodeReview/code-review-memo.html"},{name:"twitter:title",content:"Code Review Memo"},{name:"twitter:url",content:"/Coding/CodeReview/code-review-memo.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"是否, 邏輯, 過度, 物件, 轉換, 行為, 會不會, exception, 記憶體, 處理, 用途, methods, comment, 有將, 單一處, code, null, 沒有, property, recycle, class, 封裝, static, 清說, coding, function, 浪費, style, 變數值, method"},{property:"article:tag",content:"是否"},{property:"article:tag",content:"邏輯"},{property:"article:tag",content:"過度"},{property:"article:tag",content:"物件"},{property:"article:tag",content:"轉換"},{property:"article:tag",content:"行為"},{property:"article:tag",content:"會不會"},{property:"article:tag",content:"exception"},{property:"article:tag",content:"記憶體"},{property:"article:tag",content:"處理"},{property:"article:tag",content:"用途"},{property:"article:tag",content:"methods"},{property:"article:tag",content:"comment"},{property:"article:tag",content:"有將"},{property:"article:tag",content:"單一處"},{property:"article:tag",content:"code"},{property:"article:tag",content:"null"},{property:"article:tag",content:"沒有"},{property:"article:tag",content:"property"},{property:"article:tag",content:"recycle"},{property:"article:tag",content:"class"},{property:"article:tag",content:"封裝"},{property:"article:tag",content:"static"},{property:"article:tag",content:"清說"},{property:"article:tag",content:"coding"},{property:"article:tag",content:"function"},{property:"article:tag",content:"浪費"},{property:"article:tag",content:"style"},{property:"article:tag",content:"變數值"},{property:"article:tag",content:"method"}]},regularPath:"/Coding/CodeReview/code-review-memo.html",relativePath:"Coding/CodeReview/code-review-memo.md",key:"v-47f71914",path:"/Coding/CodeReview/code-review-memo.html",git:{created:"3/26/2020, 10:14:10 PM",updated:"12/23/2019, 5:23:21 PM",author:"PC\\JC",commits:[{fullHash:"86195bf39c56842a1db844b1e294b374f56089f2",authorTime:"1585232050",commitTime:"1585232050",authorName:"PC\\JC"},{fullHash:"ad8ac6fd4025929d7634fa8c96ea39f8325ba9c0",authorTime:"1577093001",commitTime:"1577093001",authorName:"JC"}],contributors:["PC\\JC","JC"]},pure_content:"coding style\r\n\r\n comment\r\n\t class: 能否知道物件用途\r\n\t method: 能否清說明乾淨用途、運作方式\r\n\r\n function\r\n\t 處理邏輯: 是否太多、太多要單一化比較好\r\n\t 命名是否貼切\r\n\r\n 值域\r\n\t 邊界值: 會不會超過最大值、最小值\r\n\t 會不會有特例值要處理\r\n\r\n if else\r\n\t 是否用過度、是否過於巢狀\r\n\r\n 有無不正常存取 static 變數值\r\n\r\n 邏輯是否過度暴露，沒有好好封裝在物件中\r\n\r\n 是否有可能操作到null物件的property或methods\r\n\r\n 相同行為是否有將code邏輯整合在單一處\r\n\t 時間轉換\r\n\t 字串格式轉換\r\n\r\n 記憶體控制\r\n\t 有沒有很浪費記憶體的行為\r\n\t 有沒有recycle好物件\r\n\r\n exception\r\n\t 有無過度拋exception",word_token:["coding","style","comment","class","能否","知道","物件","用途","method","能否","清說","明乾淨","用途","運","作","方式","function","處理","邏輯","是否","太多","、","太","要","單","化","比","較","好","命名","是否","貼切","值域","邊界值","會不會","超過","最大值","、","最小值","會不會","特例","值要","處理","else","是否","用","過度","、","是否","過於巢","狀","無","正常","存取","static","變數值","邏輯","是否","過度","暴露","沒有","好好","封裝","物件","是否","可能","操作","null","物件","property","methods","相同","行為","是否","有將","code","邏輯","整合","單一處","時間","轉換","字串","格式","轉換","記憶體","控制","沒","浪費","記憶體","行為","沒","recycle","好","物件","exception","無","過度","拋","exception"],key_words:[{word:"是否",weight:36.71092888708},{word:"邏輯",weight:35.21761292125063},{word:"過度",weight:35.21761292125063},{word:"物件",weight:34.1763655092},{word:"轉換",weight:23.478408614167083},{word:"行為",weight:23.478408614167083},{word:"會不會",weight:23.478408614167083},{word:"exception",weight:23.478408614167083},{word:"記憶體",weight:23.478408614167083},{word:"處理",weight:23.478408614167083},{word:"用途",weight:13.9345092525},{word:"methods",weight:11.739204307083542},{word:"comment",weight:11.739204307083542},{word:"有將",weight:11.739204307083542},{word:"單一處",weight:11.739204307083542},{word:"code",weight:11.739204307083542},{word:"null",weight:11.739204307083542},{word:"沒有",weight:11.739204307083542},{word:"property",weight:11.739204307083542},{word:"recycle",weight:11.739204307083542},{word:"class",weight:11.739204307083542},{word:"封裝",weight:11.739204307083542},{word:"static",weight:11.739204307083542},{word:"清說",weight:11.739204307083542},{word:"coding",weight:11.739204307083542},{word:"function",weight:11.739204307083542},{word:"浪費",weight:11.739204307083542},{word:"style",weight:11.739204307083542},{word:"變數值",weight:11.739204307083542},{word:"method",weight:11.739204307083542}],excerpt:"coding style comment class: 能否知道物件用途 method: 能否清說明乾淨用途、運作方式 function 處理邏輯: 是否太多、太多要單一化比較好 命名是否貼切 值域 邊界值: 會不會超過最大值、最小值 會不會有特例值要處理 if else 是否用過度、是否過於巢狀 有無不正常存取 static 變數值 邏輯是否過度暴露，沒有好好封裝在物件中 是否有可能操作到null物件的property或methods 相同行為是否有將code邏輯整合在單一處 時間轉換 字串格式轉換 記憶體控制 有沒有很浪費記憶體的行為 有沒有recycle好物件 exception 有無過度拋exception"},{title:"JS Tips",frontmatter:{title:"JS Tips",datetime:"2020/3/13",update_datetime:"2020/12/11",tag:["js","tips"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"JS Tips"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/JS/js-tips.html"},{name:"twitter:title",content:"JS Tips"},{name:"twitter:url",content:"/Coding/JS/js-tips.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"js, var, people, id, console, log, person, date, map, aaa, ccc, bbb, new, keys, style, css, 時間, object, filter, 資料, function, 寫法, age, timer, set, color, gender, remainingtime, candidate, el"},{property:"article:tag",content:"js"},{property:"article:tag",content:"var"},{property:"article:tag",content:"people"},{property:"article:tag",content:"id"},{property:"article:tag",content:"console"},{property:"article:tag",content:"log"},{property:"article:tag",content:"person"},{property:"article:tag",content:"date"},{property:"article:tag",content:"map"},{property:"article:tag",content:"aaa"},{property:"article:tag",content:"ccc"},{property:"article:tag",content:"bbb"},{property:"article:tag",content:"new"},{property:"article:tag",content:"keys"},{property:"article:tag",content:"style"},{property:"article:tag",content:"css"},{property:"article:tag",content:"時間"},{property:"article:tag",content:"object"},{property:"article:tag",content:"filter"},{property:"article:tag",content:"資料"},{property:"article:tag",content:"function"},{property:"article:tag",content:"寫法"},{property:"article:tag",content:"age"},{property:"article:tag",content:"timer"},{property:"article:tag",content:"set"},{property:"article:tag",content:"color"},{property:"article:tag",content:"gender"},{property:"article:tag",content:"remainingtime"},{property:"article:tag",content:"candidate"},{property:"article:tag",content:"el"}]},regularPath:"/Coding/JS/js-tips.html",relativePath:"Coding/JS/js-tips.md",key:"v-89b130dc",path:"/Coding/JS/js-tips.html",headers:[{level:2,title:"console.log",slug:"console-log"},{level:2,title:"console.group",slug:"console-group"},{level:2,title:"console.table",slug:"console-table"},{level:2,title:"Debug Performance",slug:"debug-performance"}],git:{created:"12/10/2020, 1:58:14 PM",updated:"3/21/2020, 4:36:50 AM",author:"johnny1991524",commits:[{fullHash:"119d25d415482a968cb7a914e883702ee6d54ad5",authorTime:"1607579894",commitTime:"1607579894",authorName:"johnny1991524"},{fullHash:"2f0bd20ec2d424d86cced7c67527d0d4af6def4f",authorTime:"1584803803",commitTime:"1584803803",authorName:"PC\\JC"},{fullHash:"91865b36512bb94c2bc3d97bde2cc43cc9a55e4c",authorTime:"1584736610",commitTime:"1584736610",authorName:"PC\\JC"}],contributors:["johnny1991524","PC\\JC"]},pure_content:'本文介紹的語法技巧並沒有特別標註上瀏覽器相容\r\n\r\n若想使用這些語法跨瀏覽器、瀏覽器版本\r\n\r\n在 js 上營運前先經過 babel 等工具轉換相容性會比較好\r\n\r\n template literals ( template strings )\r\n\r\n 直觀寫法\r\n\r\n    ```js\r\n    var url = " + domain + "/" + apiname\r\n    ```\r\n\r\n template 寫法\r\n\r\n    ```js\r\n    var url = `\r\n    ```\r\n\r\n[更多範例可以參考這邊](\r\n\r\n three equal\r\n\r\n條件判斷以 `===` 代替 `==`\r\n\r\n[更多的比較可以在這邊看到](\r\n\r\n\r\n```js\r\n\'1\' == 1  // true\r\n\'1\' === 1 // false\r\n```\r\n\r\n 避免直接改元素的style，而是靠css class\r\n\r\n1. 維護性比較好(像是要改顏色，只要改css的定義就好)\r\n\r\n2. 一致性比較好，比較不會漏掉特例忘了處理\r\n\r\n3. 當有特例邏輯時較好修改\r\n\r\n    (直接修改元素之style，會以元素上設定之style優先套用，但用掉了的話就不能再用了，類似 css 的!important)\r\n\r\n 直接修改元素 style\r\n\r\n    ```js\r\n    let $el = document.getelementbyid("id")\r\n    $el.style.color = \'fff\'\r\n    ```\r\n\r\n 通過套用css修改元素 style\r\n\r\n    ```js\r\n    let $el = document.getelementbyid("id")\r\n    $el.classlist.add(\'whitecolor\');\r\n    $el.classlist.remove(\'whitecolor\');\r\n    ```\r\n\r\n    ```css\r\n    .whitecolor{\r\n        color: fff;\r\n    }\r\n    ```\r\n\r\n 簡單的動畫多利用原生css去達成\r\n\r\n1. 用js去算開發工可能比較多\r\n\r\n2. 用js去算開發動畫效能可能也會比較不好\r\n\r\n 用 js 實作 button hover時顏色會變化\r\n\r\n    ```js \r\n    $("btn").on(\'mouseover\', function(){\r\n        $(this)style.color = \'fff\'\r\n    })\r\n\r\n    $("btn").on(\'mouseleave\', function(){\r\n        $(this)style.color = \'aaa\'\r\n    })\r\n    ```\r\n\r\n 用 css 實作 button hover時顏色會變化\r\n\r\n    ```css\r\n    btn{\r\n        color: fff;\r\n    }\r\n\r\n    btn:hover{\r\n        color: fff;\r\n    }\r\n    ```\r\n\r\n arrow function return object\r\n\r\n 不對的寫法\r\n\r\n    ```js\r\n    const square = (n) => { result: nn }\r\n    console.log( square(2) ) // undefined\r\n    ```\r\n\r\n 正確寫法(加上括號)\r\n\r\n    ```js\r\n    const square = (n) => ({ result: nn })\r\n    console.log( square(2) ) // {result: 4}\r\n    ```\r\n\r\n 用 filter 來篩選資料\r\n\r\n 直觀寫法\r\n\r\n    ```js\r\n    let custom = []\r\n    for( candidate of people ){\r\n        if( candidate.type == \'student\' ){\r\n            custom.push(candidate)\r\n        }\r\n    }\r\n    ```\r\n\r\n 用 filter\r\n\r\n    ```js\r\n    let custom = people.filter( (candidate) => candidate.type == \'student\' )\r\n    ```\r\n\r\n 用 map 來轉換資料\r\n\r\n 直觀寫法\r\n\r\n    ```js\r\n    var people = [ { id:5, name:"aaa" }, { id:2, name:"bbb" }, { id:3, name:"ccc" } ]\r\n    var peopleids = []\r\n    for( person of people ){\r\n        peopleids.push(person.id)\r\n    }\r\n    ```\r\n\r\n 用 map\r\n\r\n    ```js\r\n    var people = [ { id:5, name:"aaa" }, { id:2, name:"bbb" }, { id:3, name:"ccc" } ]\r\n    var peopleids = people.map( person => person.id )\r\n    ```\r\n\r\n 使用 ts 時，用 map 來轉換 object.keys() 的型態\r\n\r\n    使用 ts 時，若使用 `object.keys()` 的指令，一定會拿到 string 陣列\r\n    \r\n    但可能使用上會想拿到 number 陣列，那就可以這樣寫\r\n\r\n    ```ts\r\n    const people = { \r\n        5: "aaa", \r\n        2: "bbb", \r\n        3: "ccc", \r\n    } as record<number, string>\r\n    console.log( object.keys(people) )\r\n    // ["2", "3", "5"] \r\n    console.log( object.keys(people).map(number) )\r\n    // [2, 3, 5] \r\n    ```\r\n\r\n [用 map 來操作 ordered obejcts](\r\n\r\n 取得 ordered keys\r\n\r\n    若今天資料結構為以下\r\n\r\n    ```js\r\n    var people = { \r\n        5: "aaa", \r\n        2: "bbb", \r\n        3: "ccc", \r\n    } \r\n    console.log( object.keys(people).map(number) )\r\n    // [2, 3, 5] \r\n    ```\r\n\r\n    可以看到 object.keys(people) 產出來的陣列次序跟定義時的次序不一樣\r\n\r\n    若希望得到 `[ 5, 2, 3 ]` 可以這樣寫\r\n\r\n    ```js\r\n    var people = new map([\r\n        [ 5, "aaa" ],\r\n        [ 2, "bbb" ],\r\n        [ 3, "ccc" ],\r\n    ])\r\n    console.log( people.keys() )\r\n    // mapiterator {5, 2, 3}\r\n    ```\r\n\r\n 迴圈\r\n\r\n    ```js\r\n    var people = new map([\r\n        [ 5, "aaa" ],\r\n        [ 2, "bbb" ],\r\n        [ 3, "ccc" ],\r\n    ])\r\n\r\n    people.foreach( ( value, key ) => console.log(key, value) )\r\n    // 5 "aaa"\r\n    // 2 "bbb"\r\n    // 3 "ccc"\r\n\r\n    for( var [ key, value ] of people ){\r\n        console.log(key, value)\r\n    }\r\n    // 5 "aaa"\r\n    // 2 "bbb"\r\n    // 3 "ccc"\r\n    ```\r\n\r\n [用 set 來操作集合](\r\n\r\n 檢查資料有無重複\r\n\r\n    有時若拿到一個陣列，想知道裡面有沒有重複的資料，可以使用 set\r\n\r\n    ```js\r\n    var people = [\r\n        { id:5, name:"aaa" }, \r\n        { id:2, name:"bbb" }, \r\n        { id:3, name:"ccc" }, \r\n        { id:3, name:"ccc" } ]\r\n    // 3 號是重複的\r\n\r\n    var idset = new set(people.map( person => person.id ))\r\n    console.log( people.length === idset.size )\r\n    ```\r\n\r\n 檢查資料是否一致\r\n\r\n    有時資料經過不同篩選後，會想知道最終篩選出來的資料是哪些\r\n\r\n    ```js\r\n    var people = [\r\n        { id:1, name:"aaa", age:20, gender: 0 }, \r\n        { id:2, name:"bbb", age:23, gender: 0 }, \r\n        { id:3, name:"ccc", age:22, gender: 1 } ]\r\n    var filterdpeoplebyage = people.filter( person => person.age < 25 )\r\n    var filterdpeoplebygender = people.filter( person => person.gender == 0 )\r\n\r\n    var ageset = new set( filterdpeoplebyage.map( person => person.id ) )\r\n    var genderset = new set( filterdpeoplebygender.map( person => person.id ) )\r\n\r\n    var intersection = new set([ ...ageset].filter( x => genderset.has(x) ))\r\n    var filteredpeople = people.filter( person => intersection.has(person.id) )\r\n\r\n    console.log( filteredpeople )\r\n    // {id: 1, name: "aaa", age: 20, gender: 0}\r\n    //  { id:2, name:"bbb", age:23, gender: 0 }\r\n    ```\r\n\r\n 用 console debug\r\n\r\n console.log\r\n\r\n```js\r\nconsole.log(data)\r\n```\r\n\r\n console.group\r\n\r\n```js\r\nfor( data in datalist ){\r\n    console.group()\r\n    console.log(data)\r\n    // log more\r\n    console.groupend()\r\n}\r\n```\r\n\r\n console.table\r\n\r\n```js\r\nconsole.table(var) // 會log出table\r\n```\r\n\r\n!img\r\n\r\n debug performance\r\n\r\n [測量執行時間和對執行進行計數](\r\n\r\n timer前後端同步\r\n\r\n最好是後端給予前端一個end time(要記得使用 gmt/utc 標準時區時間)，並使用setinterval來倒數\r\n\r\n可以避免\r\n\r\n1. 時區的問題\r\n\r\n2. 前後端時間不一致問題\r\n\r\n3. 前後端時間驗證不一致問題\r\n\r\n4. timer暫時停止問題，導致倒數計時時間不正確\r\n\r\n     user使用手機暫時離開瀏覽器時，timeout跟interval都不會繼續執行\r\n    \r\n        因此若user回到瀏覽器上時，timeout倒數計時的時間就會錯誤\r\n\r\n```js\r\nfunction timer(enddatetime, interval, tasks){\r\n    var timer = setinterval(function(){\r\n        var currentdatetime = new date()\r\n        var remainingtime = getutc(enddatetime) - getutc(currentdatetime)\r\n        tasks(remainingtime)\r\n\r\n        if( remainingtime <= 0 ){\r\n            clearinterval(timer)\r\n        }\r\n    }, interval)\r\n\r\n    return timer\r\n}\r\n\r\nfunction sometasks(remainingtime){\r\n    if(remainingtime <= 0){\r\n        // do something\r\n        console.log("time out!")\r\n        return\r\n    }\r\n\r\n    // do something\r\n    console.log("waiting")\r\n}\r\n\r\nfunction getutc(date){\r\n    date = new date(date)\r\n    return new date(date.utc(\r\n        date.getutcfullyear(), \r\n        date.getutcmonth(), \r\n        date.getutcdate(),\r\n        date.getutchours(), \r\n        date.getutcminutes(), \r\n        date.getutcseconds()));\r\n}\r\n```\r\n\r\n後端給定 gmt/utc 標準時區時間，以c為例[^1]\r\n\r\n```csharp\r\nvar dt = new datetime(2016, 9, 25, 17, 57, 43);\r\nconsole.writeline(dt.touniversaltime().tostring("s"));\r\n// 2016-09-25t09:57:43\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n[^1]: [前端工程研究：關於 javascript 中 date 型別的常見地雷與建議作法](',word_token:["本文","介紹","語法","技巧","並沒有","特別標","註","上","瀏","覽","器","相容","若想","使用","這些","語法","跨","瀏覽器","瀏","覽","器","版本","js","上營","運前","先經過","babel","工具","轉換","相容性","會","比","較","好","template","literals","template","strings","直觀","寫法","`","`","`","js","var","url","=","domain","apiname","`","`","`","template","寫法","`","`","`","js","var","url","=","`","`","`","`","更多範例","可以","參考","這邊","three","equal","條件","判斷","以","`","=","=","=","`","代替","`","=","=","`","比","較","可以","這邊","看到","`","`","`","js","1","=","=","1","true","1","=","=","=","1","false","`","`","`","避免","直接","改","元素","style","而是","靠","css","class","1","維護","性比","較","好","像是","要","改顏色","只要","改","css","定義就","好","2","一致性","比較","好","比較","不會","漏掉","特例","忘","處理","3","當有","特例","邏輯","時","較","好","修改","直接","修改","元素","style","會以","元素","上","設定","style","優先","套用","但用","掉","話","不能","再用","類似","css","important","直接","修改","元素","style","`","`","`","js","let","el","=","document","getelementbyid","id","el","style","color","=","fff","`","`","`","通過","套用","css","修改","元素","style","`","`","`","js","let","el","=","document","getelementbyid","id","el","classlist","add","whitecolor","el","classlist","remove","whitecolor","`","`","`","`","`","`","css","whitecolor","color","fff","`","`","`","簡單","動畫","利用","原生","css","去","達成","1","用","js","去算開","發工","可能","比較","2","用","js","去算開","發動畫","效能","可能","會","比","較","不好","用","js","實作","button","hover","時顏色","會","變化","`","`","`","js","btn","mouseover","function","style","color","=","fff","btn","mouseleave","function","style","color","=","aaa","`","`","`","用","css","實作","button","hover","時顏色","會","變化","`","`","`","css","btn","color","fff","btn","hover","color","fff","`","`","`","arrow","function","return","object","對","寫法","`","`","`","js","const","square","=","n","=","result","nn","console","log","square","2","undefined","`","`","`","正確","寫法","加上","括號","`","`","`","js","const","square","=","n","=","result","nn","console","log","square","2","result","4","`","`","`","用","filter","來","篩","選資料","直觀","寫法","`","`","`","js","let","custom","=","candidate","people","candidate","type","=","=","student","custom","push","candidate","`","`","`","用","filter","`","`","`","js","let","custom","=","people","filter","candidate","=","candidate","type","=","=","student","`","`","`","用","map","來","轉換","資料","直觀","寫法","`","`","`","js","var","people","=","id","5","name","aaa","id","2","name","bbb","id","3","name","ccc","var","peopleids","=","person","people","peopleids","push","person","id","`","`","`","用","map","`","`","`","js","var","people","=","id","5","name","aaa","id","2","name","bbb","id","3","name","ccc","var","peopleids","=","people","map","person","=","person","id","`","`","`","使用","ts","時","用","map","來","轉換","object","keys","型態","使用","ts","時","若","使用","`","object","keys","`","指令","一定","會","拿到","string","陣列","但","可能","使用","上會","想","拿到","number","陣列","可以","這樣","寫","`","`","`","ts","const","people","=","5","aaa","2","bbb","3","ccc","record","number","string","console","log","object","keys","people","2","3","5","console","log","object","keys","people","map","number","2","3","5","`","`","`","用","map","來","操作","ordered","obejcts","取得","ordered","keys","若","今天","資料","結構","為","以下","`","`","`","js","var","people","=","5","aaa","2","bbb","3","ccc","console","log","object","keys","people","map","number","2","3","5","`","`","`","可以","看到","object","keys","people","產出","來","陣列","次序","跟定","義時","次序","不一樣","若","希望","得到","`","5","2","3","`","可以","這樣","寫","`","`","`","js","var","people","=","new","map","5","aaa","2","bbb","3","ccc","console","log","people","keys","mapiterator","5","2","3","`","`","`","迴","圈","`","`","`","js","var","people","=","new","map","5","aaa","2","bbb","3","ccc","people","foreach","value","key","=","console","log","key","value","5","aaa","2","bbb","3","ccc","var","key","value","people","console","log","key","value","5","aaa","2","bbb","3","ccc","`","`","`","用","set","來","操作","集合","檢查","資料","無重","複","有時","若","拿到","一個","陣列","想","知道","裡面","沒","重","複","資料","可以","使用","set","`","`","`","js","var","people","=","id","5","name","aaa","id","2","name","bbb","id","3","name","ccc","id","3","name","ccc","3","號是","重","複","var","idset","=","new","set","people","map","person","=","person","id","console","log","people","length","=","=","=","idset","size","`","`","`","檢查","資料","是否","一致","有時","資料","經過","不同","篩選","後","會想","知道","最終","篩選出","來","資料","哪些","`","`","`","js","var","people","=","id","1","name","aaa","age","20","gender","0","id","2","name","bbb","age","23","gender","0","id","3","name","ccc","age","22","gender","1","var","filterdpeoplebyage","=","people","filter","person","=","person","age","25","var","filterdpeoplebygender","=","people","filter","person","=","person","gender","=","=","0","var","ageset","=","new","set","filterdpeoplebyage","map","person","=","person","id","var","genderset","=","new","set","filterdpeoplebygender","map","person","=","person","id","var","intersection","=","new","set","ageset","filter","x","=","genderset","x","var","filteredpeople","=","people","filter","person","=","intersection","person","id","console","log","filteredpeople","id","1","name","aaa","age","20","gender","0","id","2","name","bbb","age","23","gender","0","`","`","`","用","console","debug","console","log","`","`","`","js","console","log","data","`","`","`","console","group","`","`","`","js","data","datalist","console","group","console","log","data","log","console","groupend","`","`","`","console","table","`","`","`","js","console","table","var","會","log","出","table","`","`","`","img","debug","performance","測量","執行","時間","對","執行","進行","計數","timer","前後端","同步","最好","是後端","給予","前端","一個","end","time","要","記得","使用","gmt","utc","標準","時區","時間","並","使用","setinterval","來","倒數","可以","避免","1","時區","問題","2","前後端","時間","一致","問題","3","前後端","時間","驗證","一致","問題","4","timer","暫時","停止","問題","導致","倒","數計時","時間","不正","確","user","使用","手機","暫時","離開","瀏覽器","時","timeout","interval","不會","繼續","執行","因此","若","user","回到","瀏覽器","上","時","timeout","倒數","計時","時間","會","錯誤","`","`","`","js","function","timer","enddatetime","interval","tasks","var","timer","=","setinterval","function","var","currentdatetime","=","new","date","var","remainingtime","=","getutc","enddatetime","-","getutc","currentdatetime","tasks","remainingtime","remainingtime","=","0","clearinterval","timer","interval","return","timer","function","sometasks","remainingtime","remainingtime","=","0","something","console","log","time","return","something","console","log","waiting","function","getutc","date","date","=","new","date","date","return","new","date","date","utc","date","getutcfullyear","date","getutcmonth","date","getutcdate","date","getutchours","date","getutcminutes","date","getutcseconds","`","`","`","後","端","給定","gmt","utc","標準","時區","時間","以","c","為例","1","`","`","`","csharp","var","dt","=","new","datetime","2016","9","25","17","57","43","console","writeline","dt","touniversaltime","tostring","s","2016","-","09","-","25","t09","57","43","`","`","`","1","前端","工程","研究","關","於","javascript","date","型別","常見","地雷","與","建議","作法"],key_words:[{word:"js",weight:293.48010767708854},{word:"var",weight:281.740903370005},{word:"people",weight:281.740903370005},{word:"id",weight:270.00169906292143},{word:"console",weight:258.2624947558379},{word:"log",weight:199.56647322042022},{word:"person",weight:187.82726891333667},{word:"date",weight:164.3488602991696},{word:"map",weight:140.8704516850025},{word:"aaa",weight:140.8704516850025},{word:"ccc",weight:129.13124737791895},{word:"bbb",weight:129.13124737791895},{word:"new",weight:117.39204307083541},{word:"keys",weight:93.91363445666833},{word:"style",weight:93.91363445666833},{word:"css",weight:93.91363445666833},{word:"時間",weight:82.1744301495848},{word:"object",weight:82.1744301495848},{word:"filter",weight:82.1744301495848},{word:"資料",weight:82.1744301495848},{word:"function",weight:82.1744301495848},{word:"寫法",weight:70.43522584250125},{word:"age",weight:70.43522584250125},{word:"timer",weight:70.43522584250125},{word:"set",weight:70.43522584250125},{word:"color",weight:70.43522584250125},{word:"gender",weight:70.43522584250125},{word:"remainingtime",weight:58.69602153541771},{word:"candidate",weight:58.69602153541771},{word:"el",weight:58.69602153541771}],excerpt:"本文介紹的語法技巧並沒有特別標註上瀏覽器相容 若想使用這些語法跨瀏覽器、瀏覽器版本 在 js 上營運前先經過 babel 等工具轉換相容性會比較好 template literals ( template strings ) 直觀寫法 ```js var url = \" + domain + \"/\" + apiname ``` template 寫法 ```js var url = ` ``` [更多範例可以參考這邊]( three equal 條件判斷以 === 代替 == [更多的比較可以在這邊看到]( '1' == 1 // true '1' === 1 // false 避免直接改元素的style，而是靠css class 維護性比較好(像是要改顏色，只要改css的定義就好) 一致性比較好，比較不會漏掉特例忘了處理 當有特例邏輯時較好修改 (直接修改元素之style，會以元素上設定..."},{title:"Vue Event Binding",frontmatter:{title:"Vue Event Binding",datetime:"2020/9/16",tag:["trick"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Vue Event Binding"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/JS/Vue/vue-event-binding.html"},{name:"twitter:title",content:"Vue Event Binding"},{name:"twitter:url",content:"/Coding/JS/Vue/vue-event-binding.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"div, somehandler, html, 綁定, tabindex, click, keydown, event, clickhandler, 元素, 事件, 當按, 觸發, element, 驅動, 移除, js, 處理, addeventlistener, binding, native, 不會, vue, customcomponent, 寫法, keyboard, shift, exact, spa, 使用"},{property:"article:tag",content:"div"},{property:"article:tag",content:"somehandler"},{property:"article:tag",content:"html"},{property:"article:tag",content:"綁定"},{property:"article:tag",content:"tabindex"},{property:"article:tag",content:"click"},{property:"article:tag",content:"keydown"},{property:"article:tag",content:"event"},{property:"article:tag",content:"clickhandler"},{property:"article:tag",content:"元素"},{property:"article:tag",content:"事件"},{property:"article:tag",content:"當按"},{property:"article:tag",content:"觸發"},{property:"article:tag",content:"element"},{property:"article:tag",content:"驅動"},{property:"article:tag",content:"移除"},{property:"article:tag",content:"js"},{property:"article:tag",content:"處理"},{property:"article:tag",content:"addeventlistener"},{property:"article:tag",content:"binding"},{property:"article:tag",content:"native"},{property:"article:tag",content:"不會"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"customcomponent"},{property:"article:tag",content:"寫法"},{property:"article:tag",content:"keyboard"},{property:"article:tag",content:"shift"},{property:"article:tag",content:"exact"},{property:"article:tag",content:"spa"},{property:"article:tag",content:"使用"}]},regularPath:"/Coding/JS/Vue/vue-event-binding.html",relativePath:"Coding/JS/Vue/vue-event-binding.md",key:"v-761a0ef6",path:"/Coding/JS/Vue/vue-event-binding.html",headers:[{level:2,title:'tabindex="0"',slug:"tabindex-0"},{level:2,title:"exact",slug:"exact"},{level:2,title:"native",slug:"native"}],git:{created:"9/16/2020, 8:20:57 PM",updated:"9/16/2020, 8:20:57 PM",author:"johnny1991524",commits:[{fullHash:"09e78460681c4b0ff1405d2beaa5af22d4c0a896",authorTime:"1600258857",commitTime:"1600258857",authorName:"johnny1991524"}],contributors:["johnny1991524"]},pure_content:'在js若要對元素進行一些互動的處理，通常會用到event binding\r\n\r\n像是 element.addeventlistener\r\n\r\n event binding\r\n\r\n而在vue做這件事時，可以使用 `v-on:` 來做event binding\r\n\r\n如果要對一個 `div` 元素加上click事件，可以有以下寫法\r\n\r\n pure javascript\r\n\r\n```js\r\n// 加入事件處理\r\nelement.addeventlistener(\'click\', clickhandler) \r\n// 移除事件處理\r\nelement.removeeventlistener(\'click\', clickhandler)\r\n```\r\n\r\n jquery\r\n\r\n```js\r\n$(element).on(\'click\', clickhandler)\r\n```\r\n\r\n vue\r\n\r\n```html\r\n<div v-on:click="clickhandler">\r\n</div>\r\n```\r\n\r\n更精簡的寫法\r\n\r\n```html\r\n<div @click="clickhandler">\r\n    v-on: 可以簡寫成 @\r\n</div>\r\n```\r\n\r\nvue透過直接在元素上綁定對應，有以下好處:\r\n\r\n1. 不用把要綁定的元素找出來\r\n\r\n2. 在spa應用中不需要自行移除event\r\n\r\n    在spa中，有時使用了 `addeventlistener` 卻沒有移除的話\r\n\r\n    那就有可能會因為多次瀏覽特定頁面，導致網頁的事件綁定變得非常多\r\n\r\n3. 直接在元素上綁定，讓事件對應的元素更直觀\r\n\r\n    不過當綁定的事件比較多時，這也有可能反而變成了缺點就是了 \r\n\r\n some tricks\r\n\r\n在使用v-on綁定keyboard event時，有一些小技巧可以用\r\n\r\n tabindex="0"\r\n\r\n對`div`元素，或者說是非input類型的元素，要綁定keyboard event時\r\n\r\n可以使用 `tabindex="0"` 來讓事件被驅動\r\n\r\n```html\r\n<div \r\n    @keydown.down="somehandler">\r\n    當按下 down 時，"不會"觸發 somehandler\r\n</div>\r\n```\r\n\r\n```html\r\n<div tabindex="0" \r\n    @keydown.down="somehandler">\r\n    當按下 down 時，"會"觸發 somehandler\r\n</div>\r\n```\r\n\r\n exact\r\n\r\n代表鍵盤上輸入的key必須完全一致\r\n\r\n```html\r\n<div tabindex="0" \r\n    @keydown.down="somehandler">\r\n    當按下 shift+down 時，"會"觸發 somehandler\r\n</div>\r\n```\r\n\r\n```html\r\n<div tabindex="0"\r\n    @keydown.exact.down="somehandler">\r\n    當按下 shift+down 時，"不會"觸發 somehandler\r\n</div>\r\n```\r\n\r\n native\r\n\r\n對自定義 component 綁定事件時，加上native可以讓事件被驅動\r\n\r\n```html\r\n<customcomponent \r\n    tabindex="0" \r\n    @keydown.down="somehandler" />\r\n    somehandler "可能不會"被驅動\r\n```\r\n\r\n```html\r\n<customcomponent\r\n    tabindex="0"\r\n    @keydown.native.down="somehandler" />\r\n    somehandler "會"被驅動\r\n```',word_token:["js","若要","對","元素","進行","一些","互動","處理","通常","會","用到","event","binding","像是","element","addeventlistener","event","binding","而","vue","這件","事時","可以","使用","`","v","-","`","來","event","binding","如果","要","對","一個","`","div","`","元素","加上","click","事件","可以","以下","寫法","pure","javascript","`","`","`","js","加入","事件","處理","element","addeventlistener","click","clickhandler","移除","事件","處理","element","removeeventlistener","click","clickhandler","`","`","`","jquery","`","`","`","js","element","click","clickhandler","`","`","`","vue","`","`","`","html","div","v","-","click","=","clickhandler","div","`","`","`","精簡","寫法","`","`","`","html","div","@","click","=","clickhandler","v","-","可以","簡寫","成","@","div","`","`","`","vue","透過","直接","元素","上","綁定","對","應","以下","好處","1","不用","要","綁定","元素","找出","來","2","spa","應用","需要","自行","移除","event","spa","有時","使用","`","addeventlistener","`","卻","沒","移除","話","可能","會","因為","多次","瀏覽","特定","頁面","導致","網頁","事件","綁定","變得","非常","3","直接","元素","上","綁定","讓","事件","對應","元素","直觀","不過","當綁定","事件","比較","多時","這也","可能","反而","變成","缺點","就是","tricks","使用","v","-","綁定","keyboard","event","時","一些","技巧","可以","用","tabindex","=","0","對","`","div","`","元素","或者","說","是非","input","類型","元素","要","綁定","keyboard","event","時","可以","使用","`","tabindex","=","0","`","來","讓","事件","被","驅動","`","`","`","html","div","@","keydown","down","=","somehandler","當按","下","down","時","不會","觸發","somehandler","div","`","`","`","`","`","`","html","div","tabindex","=","0","@","keydown","down","=","somehandler","當按","下","down","時","會","觸發","somehandler","div","`","`","`","exact","代表","鍵盤","上","輸入","key","必須","完全一致","`","`","`","html","div","tabindex","=","0","@","keydown","down","=","somehandler","當按","下","shift","down","時","會","觸發","somehandler","div","`","`","`","`","`","`","html","div","tabindex","=","0","@","keydown","exact","down","=","somehandler","當按","下","shift","down","時","不會","觸發","somehandler","div","`","`","`","native","對","自定義","component","綁定","事件","時","加上","native","可以","讓","事件","被","驅動","`","`","`","html","customcomponent","tabindex","=","0","@","keydown","down","=","somehandler","somehandler","可能","不會","被","驅動","`","`","`","`","`","`","html","customcomponent","tabindex","=","0","@","keydown","native","down","=","somehandler","somehandler","會","被","驅動","`","`","`"],key_words:[{word:"div",weight:164.3488602991696},{word:"somehandler",weight:140.8704516850025},{word:"html",weight:93.91363445666833},{word:"綁定",weight:82.1744301495848},{word:"tabindex",weight:82.1744301495848},{word:"click",weight:70.43522584250125},{word:"keydown",weight:70.43522584250125},{word:"event",weight:70.43522584250125},{word:"clickhandler",weight:58.69602153541771},{word:"元素",weight:54.74912536224},{word:"事件",weight:51.26651310447},{word:"當按",weight:46.95681722833417},{word:"觸發",weight:46.95681722833417},{word:"element",weight:46.95681722833417},{word:"驅動",weight:46.95681722833417},{word:"移除",weight:36.8737192185},{word:"js",weight:35.21761292125063},{word:"處理",weight:35.21761292125063},{word:"addeventlistener",weight:35.21761292125063},{word:"binding",weight:35.21761292125063},{word:"native",weight:35.21761292125063},{word:"不會",weight:35.21761292125063},{word:"vue",weight:35.21761292125063},{word:"customcomponent",weight:23.478408614167083},{word:"寫法",weight:23.478408614167083},{word:"keyboard",weight:23.478408614167083},{word:"shift",weight:23.478408614167083},{word:"exact",weight:23.478408614167083},{word:"spa",weight:23.478408614167083},{word:"使用",weight:18.06519977116}],excerpt:"在js若要對元素進行一些互動的處理，通常會用到event binding 像是 element.addeventlistener event binding 而在vue做這件事時，可以使用 v-on: 來做event binding 如果要對一個 div 元素加上click事件，可以有以下寫法 pure javascript // 加入事件處理 element.addeventlistener('click', clickhandler) // 移除事件處理 element.removeeventlistener('click', clickhandler) jquery $(element).on('click', clickhandler) vue <div v-on:click=\"clickhandler\"> </div> 更精簡的寫法 <div @click=\"clickhandl..."},{title:"Awesome Graphic Resources",frontmatter:{title:"Awesome Graphic Resources",datetime:"2020/3/10",tag:["image","resources","icon","css","libarary"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Awesome Graphic Resources"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/Front-End/awesome-graphic-resources.html"},{name:"twitter:title",content:"Awesome Graphic Resources"},{name:"twitter:url",content:"/Coding/Front-End/awesome-graphic-resources.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"svg, icons, creator, icon, icomoon, png, ready, vector, flaticon, web, website, paint, freepik, iker, font, maker, use, animated, material, aaron, awesome, free, orion"},{property:"article:tag",content:"svg"},{property:"article:tag",content:"icons"},{property:"article:tag",content:"creator"},{property:"article:tag",content:"icon"},{property:"article:tag",content:"icomoon"},{property:"article:tag",content:"png"},{property:"article:tag",content:"ready"},{property:"article:tag",content:"vector"},{property:"article:tag",content:"flaticon"},{property:"article:tag",content:"web"},{property:"article:tag",content:"website"},{property:"article:tag",content:"paint"},{property:"article:tag",content:"freepik"},{property:"article:tag",content:"iker"},{property:"article:tag",content:"font"},{property:"article:tag",content:"maker"},{property:"article:tag",content:"use"},{property:"article:tag",content:"animated"},{property:"article:tag",content:"material"},{property:"article:tag",content:"aaron"},{property:"article:tag",content:"awesome"},{property:"article:tag",content:"free"},{property:"article:tag",content:"orion"}]},regularPath:"/Coding/Front-End/awesome-graphic-resources.html",relativePath:"Coding/Front-End/awesome-graphic-resources.md",key:"v-b0521034",path:"/Coding/Front-End/awesome-graphic-resources.html",headers:[{level:2,title:"svg maker/creator",slug:"svg-maker-creator"}],git:{created:"9/27/2020, 2:39:45 PM",updated:"3/21/2020, 4:36:50 AM",author:"johnny1991524",commits:[{fullHash:"16d6f0c11568d3ef01947bb5d9006ef441eed078",authorTime:"1601188785",commitTime:"1601188785",authorName:"johnny1991524"},{fullHash:"73b756f49a771038096efc7eff5f4fb0dacf3976",authorTime:"1585626781",commitTime:"1585626781",authorName:"PC\\JC"},{fullHash:"589f992f0e78fd4d26e5535a3a76fd89776a00a6",authorTime:"1585339655",commitTime:"1585339655",authorName:"PC\\JC"},{fullHash:"91865b36512bb94c2bc3d97bde2cc43cc9a55e4c",authorTime:"1584736610",commitTime:"1584736610",authorName:"PC\\JC"}],contributors:["johnny1991524","PC\\JC"]},pure_content:"website\r\n\r\n [freepik](\r\n\r\n svg\r\n\r\n svg maker/creator\r\n\r\n [svg creator](\r\n [vector paint](\r\n\r\n icon\r\n\r\n [orion](\r\n [icomoon](\r\n [material icon](\r\n [font awesome](\r\n [flaticon](\r\n [ready to use svg icons for the web.](\r\n [animated icons by aaron iker](\r\n [free icons png](",word_token:["website","freepik","svg","svg","maker","creator","svg","creator","vector","paint","icon","orion","icomoon","material","icon","font","awesome","flaticon","ready","use","svg","icons","web","animated","icons","aaron","iker","free","icons","png"],key_words:[{word:"svg",weight:46.95681722833417},{word:"icons",weight:35.21761292125063},{word:"creator",weight:23.478408614167083},{word:"icon",weight:23.478408614167083},{word:"icomoon",weight:11.739204307083542},{word:"png",weight:11.739204307083542},{word:"ready",weight:11.739204307083542},{word:"vector",weight:11.739204307083542},{word:"flaticon",weight:11.739204307083542},{word:"web",weight:11.739204307083542},{word:"website",weight:11.739204307083542},{word:"paint",weight:11.739204307083542},{word:"freepik",weight:11.739204307083542},{word:"iker",weight:11.739204307083542},{word:"font",weight:11.739204307083542},{word:"maker",weight:11.739204307083542},{word:"use",weight:11.739204307083542},{word:"animated",weight:11.739204307083542},{word:"material",weight:11.739204307083542},{word:"aaron",weight:11.739204307083542},{word:"awesome",weight:11.739204307083542},{word:"free",weight:11.739204307083542},{word:"orion",weight:11.739204307083542}],excerpt:"website [freepik]( svg svg maker/creator [svg creator]( [vector paint]( icon [orion]( [icomoon]( [material icon]( [font awesome]( [flaticon]( [ready to use svg icons for the web.]( [animated icons by aaron iker]( [free icons png]("},{title:"Publish Package to NPM",frontmatter:{title:"Publish Package to NPM",datetime:"2020/12/4",tag:["js","npm","publish"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Publish Package to NPM"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/JS/publish-package-to-npm.html"},{name:"twitter:title",content:"Publish Package to NPM"},{name:"twitter:url",content:"/Coding/JS/publish-package-to-npm.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"js, npm, demo, vue, 套件, build, 設定, jctk, table, form, target, cli, 編譯, src, index, service, import, main, 檔案, json, 網頁, dist, 這個, 環境, mode, dest, prod, run, production, app"},{property:"article:tag",content:"js"},{property:"article:tag",content:"npm"},{property:"article:tag",content:"demo"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"套件"},{property:"article:tag",content:"build"},{property:"article:tag",content:"設定"},{property:"article:tag",content:"jctk"},{property:"article:tag",content:"table"},{property:"article:tag",content:"form"},{property:"article:tag",content:"target"},{property:"article:tag",content:"cli"},{property:"article:tag",content:"編譯"},{property:"article:tag",content:"src"},{property:"article:tag",content:"index"},{property:"article:tag",content:"service"},{property:"article:tag",content:"import"},{property:"article:tag",content:"main"},{property:"article:tag",content:"檔案"},{property:"article:tag",content:"json"},{property:"article:tag",content:"網頁"},{property:"article:tag",content:"dist"},{property:"article:tag",content:"這個"},{property:"article:tag",content:"環境"},{property:"article:tag",content:"mode"},{property:"article:tag",content:"dest"},{property:"article:tag",content:"prod"},{property:"article:tag",content:"run"},{property:"article:tag",content:"production"},{property:"article:tag",content:"app"}]},regularPath:"/Coding/JS/publish-package-to-npm.html",relativePath:"Coding/JS/publish-package-to-npm.md",key:"v-793331a0",path:"/Coding/JS/publish-package-to-npm.html",headers:[{level:2,title:"index.js",slug:"index-js"},{level:2,title:"vue.config.js",slug:"vue-config-js"},{level:2,title:"name",slug:"name"},{level:2,title:"version",slug:"version"},{level:2,title:"main",slug:"main"},{level:2,title:"scripts",slug:"scripts"},{level:3,title:"npm run build",slug:"npm-run-build"},{level:3,title:"npm run build-demo-dev",slug:"npm-run-build-demo-dev"},{level:3,title:"npm run build-demo-prod",slug:"npm-run-build-demo-prod"},{level:2,title:"repository",slug:"repository"},{level:2,title:"files",slug:"files"}],git:{created:"12/4/2020, 7:44:40 AM",updated:"12/4/2020, 7:44:40 AM",author:"johnny1991524",commits:[{fullHash:"66a045338acf4da9463171eefb0217d57e4b98a6",authorTime:"1607039080",commitTime:"1607039080",authorName:"johnny1991524"}],contributors:["johnny1991524"]},pure_content:'有時當網頁上的組件越來越多時，拆分共用組件的議題就會悄悄到來\r\n\r\n而當拆分完組件後，怎麼使用就會是個問題\r\n\r\n一種做法是使用相對路徑引用套件[^1]\r\n\r\n一種是將套件打包後，上傳到npm上\r\n\r\n而最近我剛好也有這個需求，因此本篇想記錄的就是這個打包上傳的過程\r\n\r\n這邊我會以我自己寫的[小套件](\r\n\r\n本文主要參考了這幾篇文章 [^2][^3][^4]\r\n\r\n 專案架構\r\n\r\n使用`vue create project`後，再來要新增2個檔案\r\n\r\n index.js\r\n\r\n檔名其實不叫 `index.js` 也沒關係，但這個作為 `進入點(entry point)` 的檔案，通常都會叫做 `index.js`\r\n\r\n位置放哪都可以，有人放 `/src/coomponents` 有人放 `/src`，只要在 `packages.json` 指定位置時不要指錯就好\r\n\r\n這邊我放在 `/src/index.js`\r\n\r\n`index.js` 有許多種寫法，那因為我的套件剛好比較單純，就是單一一個進入點組件`tableform.vue`\r\n\r\n因此我只要註冊 `tableform.vue` 就好\r\n\r\n```js\r\nimport vue from \'vue\'\r\n\r\nimport tableform from \'@/components/tableform.vue\'\r\n\r\nconst components = {\r\n    tableform,\r\n}\r\n\r\nobject.keys(components).foreach( name =>{\r\n    vue.component(name, components[name])\r\n})\r\n\r\nexport default components\r\n```\r\n\r\n透過這樣的寫法，使用套件時，只要在 `main.js` 引用套件就好\r\n\r\n```js\r\n// main.js\r\nimport \'jctk-table-form\'\r\nimport \'jctk-table-form/dist/jctk-table-form.css\'\r\n```\r\n\r\n vue.config.js\r\n\r\n由於我有製作 demo 頁，並想放在 github pages 上的子目錄，因此我需要在這個檔案中調整一下路徑設定\r\n\r\n預設的根目錄是 `./`，但我的根目錄是我的網誌\r\n\r\n所以我想將套件範例放在 ` 這邊\r\n\r\n那麼 `vue.config.js` 就要寫成這樣\r\n\r\n```js\r\nmodule.exports = {\r\n    publicpath: process.env.node_env === "production" ? \r\n        " : \r\n        "/", // 記得一定要斜線結尾\r\n}\r\n```\r\n\r\n其中上面會判斷編譯的指令是使用哪個環境進行編譯，當是要上`營運環境(production)`\r\n\r\n網址前面就是 ` `/`\r\n\r\n如果 `publicpath` 沒有設定就放到 `\r\n\r\n那網頁不會正常顯示，裡面的靜態檔路徑會錯誤\r\n\r\n 寫設定檔(package.json)\r\n\r\n寫 `package.json` 有幾個重要的原因\r\n\r\n1. 整理好開發、發布的指令\r\n\r\n2. 發布又可分成發布套件，跟發布demo網頁\r\n\r\n3. 撰寫發布npm的設定\r\n\r\n    而這又會跟使用套件有關\r\n\r\n最重要的設定範例如下:\r\n\r\n```json\r\n{\r\n    "name": "jctk-table-form",\r\n    "version": "0.1.8",\r\n    "main": "dist/jctk-table-form.common.js",\r\n    "scripts": {\r\n        "build": "vue-cli-service build --target lib ./src/index.js",\r\n        "build-demo-dev": "vue-cli-service build --mode development --target app --dest demo",\r\n        "build-demo-prod": "vue-cli-service build --mode production --target app --dest demo-prod",\r\n    },\r\n    "repository": {\r\n        "type": "git",\r\n        "url": "git+\r\n    },\r\n    "files": [\r\n        "dist/",\r\n        "src/",\r\n        "public/",\r\n        "demo/"\r\n    ]\r\n}\r\n```\r\n\r\n完整設定檔請參考[這邊](\r\n\r\n以下說明各設定值\r\n\r\n name\r\n\r\n套件名稱，這邊我取做 "jctk-table-form"\r\n\r\n而這個名稱會影響到使用套件時，import 裡面的名稱\r\n\r\n version\r\n\r\n每次上傳 npm 時，npm 會強制規定 version 要跳號\r\n\r\n而 version  有許多種命名方式，如果想發布正式的套件的話\r\n\r\n這個`版號`建議要訂的有規則一點\r\n\r\n main\r\n\r\n控制使用套件時，import套件時的位置\r\n\r\n這邊我設定為 `dist/jctk-table-form.common.js`\r\n\r\n其中，`jctk-table-form` 必須要跟 `name` 的設定值一樣\r\n\r\n當在新專案的 `main.js` 使用套件時，若寫\r\n\r\n```js\r\n// main.js\r\nimport \'jctk-table-form\'\r\n```\r\n\r\n其實就等價於寫\r\n\r\n```js\r\n// main.js\r\nimport \'jctk-table-form/dist/jctk-table-form.common.js\'\r\n```\r\n\r\n scripts\r\n\r\n設定 npm 的快速指令\r\n\r\n```json\r\n"scripts": {\r\n    "build": "vue-cli-service build --target lib ./src/index.js",\r\n    "build-demo-dev": "vue-cli-service build --mode development --target app --dest demo",\r\n    "build-demo-prod": "vue-cli-service build --mode production --target app --dest demo-prod",\r\n}\r\n```\r\n\r\n上述寫法的意思為\r\n\r\n npm run build\r\n\r\n下 `npm run build`，相當於執行 `vue-cli-service build --target lib ./src/index.js`\r\n\r\n其中 `--target lib` 代表要編譯成套件\r\n\r\n而由於編譯是靠 `webpack` 來達成，所以要告訴他進入點在 `./src/index.js`\r\n\r\n npm run build-demo-dev\r\n\r\n而下 `npm run build-demo-dev` 相當於執行 `vue-cli-service build --mode development --target app --dest demo`\r\n\r\n其中 \r\n\r\n `--mode development` 代表要用開發環境來編譯\r\n\r\n    這樣`vue.config.js`就會把網址的前面設為"/"\r\n\r\n    這樣開發環境觀看 demo 頁時，路徑就不會有問題\r\n\r\n    當新專案下載套件後，也可以直接進資料夾下 `serve` 直接使用 demo 網頁\r\n\r\n `--target app` 代表要編譯成網頁\r\n\r\n `--dest demo` 代表要把編譯後的網頁放在 `demo` 這個資料夾\r\n\r\n    若不設定的話，預設會在 `dist`，那就有可能會覆蓋掉套件編譯後的檔案\r\n\r\n npm run build-demo-prod\r\n\r\n設定內容與 `npm run build-demo-dev` 大同小異\r\n\r\n只差在\r\n\r\n 編譯環境為 `production`\r\n\r\n    由於編譯環境為 `production`，vue cli還會幫忙做編譯的最佳化\r\n\r\n 編譯後檔案放到 `demo-prod`\r\n\r\n repository\r\n\r\n設定 npm 網頁上的顯示資訊\r\n\r\n```json\r\n"repository": {\r\n    "type": "git",\r\n    "url": "git+\r\n}\r\n```\r\n\r\n這樣寫代表程式碼的託管庫在github上面\r\n\r\n files\r\n\r\n設定那些檔案要打包到 npm 上\r\n\r\n當新專案 install 套件時，就會下載設定上的檔案\r\n\r\n```json\r\n"files": [\r\n    "dist/",\r\n    "src/",\r\n    "public/",\r\n    "demo/"\r\n]\r\n```\r\n 上傳到npm\r\n\r\n首先要先到 npm 註冊帳號\r\n\r\n註冊完成後，到cmd上先進行登入，然後上傳\r\n\r\n指令如下\r\n\r\n```bash\r\nnpm login // 登入\r\nnpm whoami // 檢查身分\r\nnpm publish --access=public // 上傳\r\n```\r\n\r\n到此就算大功告成了!\r\n\r\n此外若想要刪掉套件，可以這麼下\r\n\r\n```bash\r\nnpm unpublish [your-package-name]\r\n```\r\n\r\n\r\n\r\n\r\n\r\n[^1]: [how to specify local modules as npm package dependencies](\r\n[^2]: [开发插件](\r\n[^3]: [我的第一個 npm 套件：把 vue component 打包到 npm 吧](\r\n[^4]: [how to create, publish and use your own vuejs component library on npm using @vue/cli 3.0](',word_token:["時當","網頁","上","組件","越來","越多時","拆分","共用","組件","議題","會","悄悄","來","而當","拆分","完組件","後","怎麼","使用","會","個","問題","一種","做法","使用","相對","路徑","引用","套件","1","一種","是將","套件","打包","後","上","傳到","npm","上","而","最近","我剛","好","這個","需求","因此","本篇","想","記錄","就是","這個","打包","上傳","過程","這邊","我會","以","自己","寫","套件","本文","主要","參考","這幾","篇文章","2","3","4","專案","架構","使用","`","vue","create","project","`","後","再來","要","新增","2","個","檔案","index","js","檔名","其實","叫","`","index","js","`","沒關","係","但","這個","作為","`","進入點","entry","point","`","檔案","通常","會","叫做","`","index","js","`","位置","放","可以","有人","放","`","src","coomponents","`","有人","放","`","src","`","只要","`","packages","json","`","指定","位置","時","不要","指錯","好","這邊","放在","`","src","index","js","`","`","index","js","`","許多種","寫法","那因","為","套件","剛","好比","較","單純","就是","單","一一","個","進入點","組件","`","tableform","vue","`","因此","只要","註","冊","`","tableform","vue","`","好","`","`","`","js","import","vue","vue","import","tableform","@","components","tableform","vue","const","components","=","tableform","object","keys","components","foreach","name","=","vue","component","name","components","name","export","default","components","`","`","`","透過","這樣","寫法","使用","套件","時","只要","`","main","js","`","引用","套件","好","`","`","`","js","main","js","import","jctk","-","table","-","form","import","jctk","-","table","-","form","dist","jctk","-","table","-","form","css","`","`","`","vue","config","js","由","於","我有","製","作","demo","頁","並想","放在","github","pages","上","子目","錄","因此","需要","這個","檔案","中調","整一下","路徑","設定","預設","根目錄","`","`","但","根目錄","網誌","所以","我想將","套件","範例","放在","`","這邊","那麼","`","vue","config","js","`","就要","寫成","這樣","`","`","`","js","module","exports","=","publicpath","process","env","node","_","env","=","=","=","production","記得","一定","要","斜線","結尾","`","`","`","其中","上面","會判斷","編譯","指令","使用","哪個","環境","進行","編譯","當是","要","上","`","營運","環境","production","`","網址","前面","就是","`","`","`","如果","`","publicpath","`","沒有","設定","放到","`","網頁","不會","正常","顯示","裡面","靜態","檔路","徑會","錯誤","寫","設定","檔","package","json","寫","`","package","json","`","幾個","重要","原因","1","整理","好","開發","發","布","指令","2","發布","可","分成","發布","套件","發布","demo","網頁","3","撰寫","發布","npm","設定","而","這又會","使用","套件","有關","最","重要","設定範","例如","下","`","`","`","json","name","jctk","-","table","-","form","version","018","main","dist","jctk","-","table","-","form","common","js","scripts","build","vue","-","cli","-","service","build","-","-","target","lib","src","index","js","build","-","demo","-","dev","vue","-","cli","-","service","build","-","-","mode","development","-","-","target","app","-","-","dest","demo","build","-","demo","-","prod","vue","-","cli","-","service","build","-","-","mode","production","-","-","target","app","-","-","dest","demo","-","prod","repository","type","git","url","git","files","dist","src","public","demo","`","`","`","完整","設定","檔","請","參考","這邊","以下","說明","各設","定值","name","套件","名稱","這邊","我取","jctk","-","table","-","form","而","這個","名","稱會","影響","使用","套件","時","import","裡面","名稱","version","每次","上傳","npm","時","npm","會","強制","規定","version","要","跳號","而","version","許多種","命名","方式","如果","想","發布","正式","套件","話","這個","`","版號","`","建議","要訂","規則","一點","main","控制","使用","套件","時","import","套件","時","位置","這邊","設定","為","`","dist","jctk","-","table","-","form","common","js","`","其中","`","jctk","-","table","-","form","`","必須","要","`","name","`","設定值","一樣","當在","新","專案","`","main","js","`","使用","套件","時","若","寫","`","`","`","js","main","js","import","jctk","-","table","-","form","`","`","`","其實","等價","於","寫","`","`","`","js","main","js","import","jctk","-","table","-","form","dist","jctk","-","table","-","form","common","js","`","`","`","scripts","設定","npm","快速","指令","`","`","`","json","scripts","build","vue","-","cli","-","service","build","-","-","target","lib","src","index","js","build","-","demo","-","dev","vue","-","cli","-","service","build","-","-","mode","development","-","-","target","app","-","-","dest","demo","build","-","demo","-","prod","vue","-","cli","-","service","build","-","-","mode","production","-","-","target","app","-","-","dest","demo","-","prod","`","`","`","上述","寫法","意思","為","npm","run","build","下","`","npm","run","build","`","相當","於","執行","`","vue","-","cli","-","service","build","-","-","target","lib","src","index","js","`","其中","`","-","-","target","lib","`","代表","要","編譯成","套件","而","由","於","編譯","靠","`","webpack","`","來達成","所以","要","告訴","進入點","`","src","index","js","`","npm","run","build","-","demo","-","dev","而","下","`","npm","run","build","-","demo","-","dev","`","相當","於","執行","`","vue","-","cli","-","service","build","-","-","mode","development","-","-","target","app","-","-","dest","demo","`","其中","`","-","-","mode","development","`","代表","要用","開發","環境","來","編譯","這樣","`","vue","config","js","`","會","網址","前面","設為","這樣","開發","環境","觀看","demo","頁","時","路徑","不會","問題","當新","專案","下載","套件","後","可以","直接","進資料","夾下","`","serve","`","直接","使用","demo","網頁","`","-","-","target","app","`","代表","要","編譯成","網頁","`","-","-","dest","demo","`","代表","要","編譯","後","網頁","放在","`","demo","`","這個","資料夾","若","設定","話","預設","會","`","dist","`","可能","會覆蓋","掉","套件","編譯","後","檔案","npm","run","build","-","demo","-","prod","設定","內容","與","`","npm","run","build","-","demo","-","dev","`","大同","小異","只差","編譯","環境","為","`","production","`","由","於","編譯","環境","為","`","production","`","vue","cli","還會","幫忙","編譯","最佳化","編譯","後","檔案","放到","`","demo","-","prod","`","repository","設定","npm","網頁","上","顯示","資訊","`","`","`","json","repository","type","git","url","git","`","`","`","這樣","寫","代表","程式","碼","託","管庫","github","上面","files","設定","那些","檔案","要","打包","npm","上","當新","專案","install","套件","時","就會","下載","設定","上","檔案","`","`","`","json","files","dist","src","public","demo","`","`","`","上","傳到","npm","首先","要","先到","npm","註","冊","帳","號","註","冊","完成","後","cmd","上先","進行","登入","然後上","傳","指令","如下","`","`","`","bash","npm","login","登入","npm","whoami","檢查","身分","npm","publish","-","-","access","=","public","上傳","`","`","`","就算","大功告成","此外","若","想要","刪掉","套件","可以","這麼","下","`","`","`","bash","npm","unpublish","-","package","-","name","`","`","`","1","specify","local","modules","npm","package","dependencies","2","开发","插件","3","第一","個","npm","套件","vue","component","打包","npm","4","create","publish","use","own","vuejs","component","library","npm","using","@","vue","cli","30"],key_words:[{word:"js",weight:293.48010767708854},{word:"npm",weight:270.00169906292143},{word:"demo",weight:258.2624947558379},{word:"vue",weight:246.52329044875438},{word:"套件",weight:243.55994373899998},{word:"build",weight:234.78408614167083},{word:"設定",weight:140.8704516850025},{word:"jctk",weight:129.13124737791895},{word:"table",weight:129.13124737791895},{word:"form",weight:129.13124737791895},{word:"target",weight:117.39204307083541},{word:"cli",weight:117.39204307083541},{word:"編譯",weight:117.39204307083541},{word:"src",weight:105.65283876375187},{word:"index",weight:105.65283876375187},{word:"service",weight:93.91363445666833},{word:"import",weight:93.91363445666833},{word:"main",weight:82.1744301495848},{word:"檔案",weight:82.1744301495848},{word:"json",weight:82.1744301495848},{word:"網頁",weight:82.1744301495848},{word:"dist",weight:82.1744301495848},{word:"這個",weight:82.1744301495848},{word:"環境",weight:70.43522584250125},{word:"mode",weight:70.43522584250125},{word:"dest",weight:70.43522584250125},{word:"prod",weight:70.43522584250125},{word:"run",weight:70.43522584250125},{word:"production",weight:70.43522584250125},{word:"app",weight:70.43522584250125}],excerpt:"有時當網頁上的組件越來越多時，拆分共用組件的議題就會悄悄到來 而當拆分完組件後，怎麼使用就會是個問題 一種做法是使用相對路徑引用套件[^1] 一種是將套件打包後，上傳到npm上 而最近我剛好也有這個需求，因此本篇想記錄的就是這個打包上傳的過程 這邊我會以我自己寫的[小套件]( 本文主要參考了這幾篇文章 [^2][^3][^4] 專案架構 使用vue create project後，再來要新增2個檔案 index.js 檔名其實不叫 index.js 也沒關係，但這個作為 進入點(entry point) 的檔案，通常都會叫做 index.js 位置放哪都可以，有人放 /src/coomponents 有人放 /src，只要在 packages.json 指定位置時不要指錯就好 這邊我放在 /src/index.js index.js 有許多種寫法，那因為我的套件剛好比較單純，就是單一一個進..."},{title:"Awesome JS",frontmatter:{title:"Awesome JS",datetime:"2020/3/21",tag:["javascript","js","modulize","library"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Awesome JS"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/JS/awesome-js.html"},{name:"twitter:title",content:"Awesome JS"},{name:"twitter:url",content:"/Coding/JS/awesome-js.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"demo, js, scrollbar, canvas, timesheet, ui, scroll, jquery, echarts, element, excerpts, destroy, browser, apply, favico, experiments, charts, aos, file, articles, chinese, filepond, firebase, cloud, hard, helper, awesome, code, icon, animate"},{property:"article:tag",content:"demo"},{property:"article:tag",content:"js"},{property:"article:tag",content:"scrollbar"},{property:"article:tag",content:"canvas"},{property:"article:tag",content:"timesheet"},{property:"article:tag",content:"ui"},{property:"article:tag",content:"scroll"},{property:"article:tag",content:"jquery"},{property:"article:tag",content:"echarts"},{property:"article:tag",content:"element"},{property:"article:tag",content:"excerpts"},{property:"article:tag",content:"destroy"},{property:"article:tag",content:"browser"},{property:"article:tag",content:"apply"},{property:"article:tag",content:"favico"},{property:"article:tag",content:"experiments"},{property:"article:tag",content:"charts"},{property:"article:tag",content:"aos"},{property:"article:tag",content:"file"},{property:"article:tag",content:"articles"},{property:"article:tag",content:"chinese"},{property:"article:tag",content:"filepond"},{property:"article:tag",content:"firebase"},{property:"article:tag",content:"cloud"},{property:"article:tag",content:"hard"},{property:"article:tag",content:"helper"},{property:"article:tag",content:"awesome"},{property:"article:tag",content:"code"},{property:"article:tag",content:"icon"},{property:"article:tag",content:"animate"}]},regularPath:"/Coding/JS/awesome-js.html",relativePath:"Coding/JS/awesome-js.md",key:"v-4d521b14",path:"/Coding/JS/awesome-js.html",headers:[{level:2,title:"Modulize",slug:"modulize"},{level:2,title:"NLP",slug:"nlp"},{level:2,title:"UI",slug:"ui"},{level:3,title:"Charts",slug:"charts"},{level:3,title:"Scrollbar",slug:"scrollbar"},{level:3,title:"Timesheet",slug:"timesheet"},{level:3,title:"Math",slug:"math"},{level:3,title:"Slide",slug:"slide"},{level:3,title:"Browser Tab Icon",slug:"browser-tab-icon"},{level:3,title:"File Uploader",slug:"file-uploader"},{level:2,title:"Helper",slug:"helper"},{level:3,title:"Animate",slug:"animate"},{level:3,title:"Canvas",slug:"canvas"},{level:3,title:"Cloud",slug:"cloud"},{level:3,title:"Resources Lazy Load",slug:"resources-lazy-load"},{level:3,title:"Code Wrapper",slug:"code-wrapper"},{level:3,title:"Responsive Element",slug:"responsive-element"},{level:3,title:"Scroll Out",slug:"scroll-out"}],git:{created:"9/27/2020, 2:39:45 PM",updated:"3/29/2020, 5:51:04 AM",author:"johnny1991524",commits:[{fullHash:"16d6f0c11568d3ef01947bb5d9006ef441eed078",authorTime:"1601188785",commitTime:"1601188785",authorName:"johnny1991524"},{fullHash:"ca204d5e4de675b2dec1eb9902a7760988ff7b9f",authorTime:"1585432264",commitTime:"1585432264",authorName:"PC\\JC"}],contributors:["johnny1991524","PC\\JC"]},pure_content:"articles\r\n\r\n modulize\r\n\r\n [javascript 模块化七日谈](\r\n\r\n library\r\n\r\n nlp\r\n\r\n [awesomplete]( [demo](\r\n [excerpts](\r\n [lunr-chinese](\r\n [nodejieba](\r\n\r\n ui\r\n\r\n charts\r\n\r\n [echarts]( [demo](\r\n [mermaid]( [demo](\r\n\r\n scrollbar\r\n\r\n [perfect-scrollbar]( [demo](\r\n [smooth-scrollbar]( [demo](\r\n\r\n timesheet\r\n\r\n [timesheet.js]( [demo](\r\n\r\n math\r\n\r\n [katex]( [demo](\r\n\r\n slide\r\n\r\n [reveal]( [demo](\r\n\r\n browser tab icon\r\n\r\n [favico.js]( [demo](\r\n\r\n file uploader\r\n\r\n [filepond](\r\n\r\n helper\r\n\r\n animate\r\n\r\n [velocity.js]( [demo](\r\n\r\n canvas\r\n\r\n [awesome-canvas](\r\n\r\n [canvas-experiments](\r\n\r\n [particles.js](\r\n\r\n [raining-day](\r\n\r\n [star-time-lapse]( [demo](\r\n\r\n cloud\r\n\r\n [firebase](\r\n\r\n resources lazy load\r\n\r\n [lozad]( [demo](\r\n\r\n code wrapper\r\n\r\n [jquery](\r\n [jquery ui](\r\n [lodash]( [demo](\r\n\r\n responsive element\r\n\r\n [resize-sensor](\r\n\r\n scroll out\r\n\r\n [scroll-out]( [demo](\r\n\r\n [scrollreveal]( [demo](\r\n\r\n [aos]( [demo](\r\n\r\n   note: no api for destroy, hard to apply on spa\r\n\r\n [scrollmagic]( [demo](\r\n\r\n [wow.js]( [demo](",word_token:["articles","modulize","javascript","模块化","七日","谈","library","nlp","awesomplete","demo","excerpts","lunr","-","chinese","nodejieba","ui","charts","echarts","demo","mermaid","demo","scrollbar","perfect","-","scrollbar","demo","smooth","-","scrollbar","demo","timesheet","timesheet","js","demo","math","katex","demo","slide","reveal","demo","browser","tab","icon","favico","js","demo","file","uploader","filepond","helper","animate","velocity","js","demo","canvas","awesome","-","canvas","canvas","-","experiments","particles","js","raining","-","day","star","-","time","-","lapse","demo","cloud","firebase","resources","lazy","load","lozad","demo","code","wrapper","jquery","jquery","ui","lodash","demo","responsive","element","resize","-","sensor","scroll","scroll","-","demo","scrollreveal","demo","aos","demo","note","no","api","destroy","hard","apply","spa","scrollmagic","demo","wow","js","demo"],key_words:[{word:"demo",weight:211.30567752750375},{word:"js",weight:58.69602153541771},{word:"scrollbar",weight:35.21761292125063},{word:"canvas",weight:35.21761292125063},{word:"timesheet",weight:23.478408614167083},{word:"ui",weight:23.478408614167083},{word:"scroll",weight:23.478408614167083},{word:"jquery",weight:23.478408614167083},{word:"echarts",weight:11.739204307083542},{word:"element",weight:11.739204307083542},{word:"excerpts",weight:11.739204307083542},{word:"destroy",weight:11.739204307083542},{word:"browser",weight:11.739204307083542},{word:"apply",weight:11.739204307083542},{word:"favico",weight:11.739204307083542},{word:"experiments",weight:11.739204307083542},{word:"charts",weight:11.739204307083542},{word:"aos",weight:11.739204307083542},{word:"file",weight:11.739204307083542},{word:"articles",weight:11.739204307083542},{word:"chinese",weight:11.739204307083542},{word:"filepond",weight:11.739204307083542},{word:"firebase",weight:11.739204307083542},{word:"cloud",weight:11.739204307083542},{word:"hard",weight:11.739204307083542},{word:"helper",weight:11.739204307083542},{word:"awesome",weight:11.739204307083542},{word:"code",weight:11.739204307083542},{word:"icon",weight:11.739204307083542},{word:"animate",weight:11.739204307083542}],excerpt:"articles modulize [javascript 模块化七日谈]( library nlp [awesomplete]( [demo]( [excerpts]( [lunr-chinese]( [nodejieba]( ui charts [echarts]( [demo]( [mermaid]( [demo]( scrollbar [perfect-scrollbar]( [demo]( [smooth-scrollbar]( [demo]( timesheet [timesheet.js]( [demo]( math [katex]( [demo]( slide [reveal]( [demo]( browser tab icon [favico.js]( [demo]( file uploader [filepond]( helper animate [velocity.j..."},{title:"Cursor Syntax Memo",frontmatter:{title:"Cursor Syntax Memo",datetime:"2020/3/30",tag:["tips","Memo"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Cursor Syntax Memo"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/SQL/StoredProcedure/cursor-syntax-memo.html"},{name:"twitter:title",content:"Cursor Syntax Memo"},{name:"twitter:url",content:"/Coding/SQL/StoredProcedure/cursor-syntax-memo.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"crs, declare, nvarchar, fetch, end, tablec, begin, cursor, select, 資料, 100, deallocate, loop, null, close, open, procedure, right, 200, exists, set, sql, status, stored, insert, tablea, int, tableb, datetime, join"},{property:"article:tag",content:"crs"},{property:"article:tag",content:"declare"},{property:"article:tag",content:"nvarchar"},{property:"article:tag",content:"fetch"},{property:"article:tag",content:"end"},{property:"article:tag",content:"tablec"},{property:"article:tag",content:"begin"},{property:"article:tag",content:"cursor"},{property:"article:tag",content:"select"},{property:"article:tag",content:"資料"},{property:"article:tag",content:"100"},{property:"article:tag",content:"deallocate"},{property:"article:tag",content:"loop"},{property:"article:tag",content:"null"},{property:"article:tag",content:"close"},{property:"article:tag",content:"open"},{property:"article:tag",content:"procedure"},{property:"article:tag",content:"right"},{property:"article:tag",content:"200"},{property:"article:tag",content:"exists"},{property:"article:tag",content:"set"},{property:"article:tag",content:"sql"},{property:"article:tag",content:"status"},{property:"article:tag",content:"stored"},{property:"article:tag",content:"insert"},{property:"article:tag",content:"tablea"},{property:"article:tag",content:"int"},{property:"article:tag",content:"tableb"},{property:"article:tag",content:"datetime"},{property:"article:tag",content:"join"}]},regularPath:"/Coding/SQL/StoredProcedure/cursor-syntax-memo.html",relativePath:"Coding/SQL/StoredProcedure/cursor-syntax-memo.md",key:"v-b40de7ce",path:"/Coding/SQL/StoredProcedure/cursor-syntax-memo.html",git:{created:"3/31/2020, 11:53:01 AM",updated:"3/31/2020, 11:53:01 AM",author:"PC\\JC",commits:[{fullHash:"73b756f49a771038096efc7eff5f4fb0dacf3976",authorTime:"1585626781",commitTime:"1585626781",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"stored procedure要寫loop時可以用到\r\n\r\n範例參考自[使用cursor與temptable逐步讀取資料列之效能差異](\r\n\r\n```sql\r\ndeclare @a int,\r\ndeclare @b datetime,\r\ndeclare @c nvarchar(200),\r\ndeclare @d nvarchar(100),\r\ndeclare @e nvarchar(100)\r\n--準備跑迴圈的資料放入cursor\r\ndeclare crs cursor for \r\n        select a,b,c,d,e \r\n        from tablea a right join tableb b on a.a = b.a \r\n        where a.a is not null\r\n\r\nopen crs\r\nfetch next from crs into @a, @b, @c, @d, @e\r\nwhile(@@fetch_status != -1)\r\nbegin\r\n    if( exists(select  from tablec where a = @a and b = @b))\r\n    begin\r\n        update tablec set\r\n                b = @b,\r\n                c = @c,\r\n                d = @d + @e\r\n        where a = @a and b = @b\r\n    end\r\n    else\r\n    begin\r\n        insert into tablec(a, b, c, d)\r\n        values(@a, @b, @c, @d + @e)\r\n    end\r\n    fetch next from crs into @a, @b, @c, @d, @e\r\nend\r\nclose crs\r\ndeallocate crs\r\n```",word_token:["stored","procedure","要","寫","loop","時","可以","用到","範例","參考","自","使用","cursor","與","temptable","逐步","讀取","資料","列","效能","差異","`","`","`","sql","declare","@","int","declare","@","b","datetime","declare","@","c","nvarchar","200","declare","@","d","nvarchar","100","declare","@","e","nvarchar","100","-","-","準備","跑","迴","圈","資料","放入","cursor","declare","crs","cursor","select","b","c","d","e","tablea","right","join","tableb","b","=","b","not","null","open","crs","fetch","next","crs","@","@","b","@","c","@","d","@","e","@","@","fetch","_","status","=","-","1","begin","exists","select","tablec","=","@","b","=","@","b","begin","update","tablec","set","b","=","@","b","c","=","@","c","d","=","@","d","@","e","=","@","b","=","@","b","end","else","begin","insert","tablec","b","c","d","values","@","@","b","@","c","@","d","@","e","end","fetch","next","crs","@","@","b","@","c","@","d","@","e","end","close","crs","deallocate","crs","`","`","`"],key_words:[{word:"crs",weight:70.43522584250125},{word:"declare",weight:70.43522584250125},{word:"nvarchar",weight:35.21761292125063},{word:"fetch",weight:35.21761292125063},{word:"end",weight:35.21761292125063},{word:"tablec",weight:35.21761292125063},{word:"begin",weight:35.21761292125063},{word:"cursor",weight:35.21761292125063},{word:"select",weight:23.478408614167083},{word:"資料",weight:23.478408614167083},{word:"100",weight:23.478408614167083},{word:"deallocate",weight:11.739204307083542},{word:"loop",weight:11.739204307083542},{word:"null",weight:11.739204307083542},{word:"close",weight:11.739204307083542},{word:"open",weight:11.739204307083542},{word:"procedure",weight:11.739204307083542},{word:"right",weight:11.739204307083542},{word:"200",weight:11.739204307083542},{word:"exists",weight:11.739204307083542},{word:"set",weight:11.739204307083542},{word:"sql",weight:11.739204307083542},{word:"status",weight:11.739204307083542},{word:"stored",weight:11.739204307083542},{word:"insert",weight:11.739204307083542},{word:"tablea",weight:11.739204307083542},{word:"int",weight:11.739204307083542},{word:"tableb",weight:11.739204307083542},{word:"datetime",weight:11.739204307083542},{word:"join",weight:11.739204307083542}],excerpt:"stored procedure要寫loop時可以用到 範例參考自[使用cursor與temptable逐步讀取資料列之效能差異]( declare @a int, declare @b datetime, declare @c nvarchar(200), declare @d nvarchar(100), declare @e nvarchar(100) --準備跑迴圈的資料放入cursor declare crs cursor for select a,b,c,d,e from tablea a right join tableb b on a.a = b.a where a.a is not null open crs fetch next from crs into @a, @b, @c, @d, @e while(@@fetch_status != -1) begin if( ..."},{title:"IIS Memo",frontmatter:{title:"IIS Memo",datetime:"2020/3/31",tag:["tips"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"IIS Memo"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/Server/IIS/iis-memo.html"},{name:"twitter:title",content:"IIS Memo"},{name:"twitter:url",content:"/Coding/Server/IIS/iis-memo.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"iis, 設定, 營運, asp, 網站, 日記, 優化, 29, 小時, 魔咒, 射手, 基本"},{property:"article:tag",content:"iis"},{property:"article:tag",content:"設定"},{property:"article:tag",content:"營運"},{property:"article:tag",content:"asp"},{property:"article:tag",content:"網站"},{property:"article:tag",content:"日記"},{property:"article:tag",content:"優化"},{property:"article:tag",content:"29"},{property:"article:tag",content:"小時"},{property:"article:tag",content:"魔咒"},{property:"article:tag",content:"射手"},{property:"article:tag",content:"基本"}]},regularPath:"/Coding/Server/IIS/iis-memo.html",relativePath:"Coding/Server/IIS/iis-memo.md",key:"v-ed303fba",path:"/Coding/Server/IIS/iis-memo.html",git:{created:"3/31/2020, 11:53:01 AM",updated:"3/31/2020, 11:53:01 AM",author:"PC\\JC",commits:[{fullHash:"73b756f49a771038096efc7eff5f4fb0dacf3976",authorTime:"1585626781",commitTime:"1585626781",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"營運設定\r\n\r\n [iis - asp.net 網站基本優化設定](\r\n [【茶包射手日記】iis的29小時魔咒](",word_token:["營運","設定","iis","-","asp","net","網站","基本","優化","設定","茶","包","射手","日記","iis","29","小時","魔咒"],key_words:[{word:"iis",weight:23.478408614167083},{word:"設定",weight:23.478408614167083},{word:"營運",weight:11.739204307083542},{word:"asp",weight:11.739204307083542},{word:"網站",weight:11.739204307083542},{word:"日記",weight:11.739204307083542},{word:"優化",weight:11.739204307083542},{word:"29",weight:11.739204307083542},{word:"小時",weight:11.739204307083542},{word:"魔咒",weight:10.8561552143},{word:"射手",weight:9.05649056552},{word:"基本",weight:4.8011571151}],excerpt:"營運設定 [iis - asp.net 網站基本優化設定]( [【茶包射手日記】iis的29小時魔咒]("},{title:"SQL Memo",frontmatter:{title:"SQL Memo",datetime:"2020/3/19",tag:["memo"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"SQL Memo"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/SQL/sql-memo.html"},{name:"twitter:title",content:"SQL Memo"},{name:"twitter:url",content:"/Coding/SQL/sql-memo.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"資料, acid, pk, sql, 證字號, 身分, 不要, 小心, 某年, 關於, 駛得, 保險栓, db, 防禦式, transaction, 民國, 問題, 外來, 考慮, 知識, tsql, 寫出, 萬年, 號會重, 證字, 高效能, 索引, 不可不, 更改, 指令"},{property:"article:tag",content:"資料"},{property:"article:tag",content:"acid"},{property:"article:tag",content:"pk"},{property:"article:tag",content:"sql"},{property:"article:tag",content:"證字號"},{property:"article:tag",content:"身分"},{property:"article:tag",content:"不要"},{property:"article:tag",content:"小心"},{property:"article:tag",content:"某年"},{property:"article:tag",content:"關於"},{property:"article:tag",content:"駛得"},{property:"article:tag",content:"保險栓"},{property:"article:tag",content:"db"},{property:"article:tag",content:"防禦式"},{property:"article:tag",content:"transaction"},{property:"article:tag",content:"民國"},{property:"article:tag",content:"問題"},{property:"article:tag",content:"外來"},{property:"article:tag",content:"考慮"},{property:"article:tag",content:"知識"},{property:"article:tag",content:"tsql"},{property:"article:tag",content:"寫出"},{property:"article:tag",content:"萬年"},{property:"article:tag",content:"號會重"},{property:"article:tag",content:"證字"},{property:"article:tag",content:"高效能"},{property:"article:tag",content:"索引"},{property:"article:tag",content:"不可不"},{property:"article:tag",content:"更改"},{property:"article:tag",content:"指令"}]},regularPath:"/Coding/SQL/sql-memo.html",relativePath:"Coding/SQL/sql-memo.md",key:"v-1db42de8",path:"/Coding/SQL/sql-memo.html",git:{created:"3/31/2020, 11:53:01 AM",updated:"3/31/2020, 11:53:01 AM",author:"PC\\JC",commits:[{fullHash:"73b756f49a771038096efc7eff5f4fb0dacf3976",authorTime:"1585626781",commitTime:"1585626781",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"外來資料最好不要當pk\r\n\r\n 像是身分證字號不要當pk，民國某年的身分證字號可能重複 [資料冷知識：為什麼身分證字號會重複？有什麼影響？](\r\n\r\n [acid](\r\n\r\n 操作db要小心acid，避免資料有問題\r\n 會更改到資料要考慮要不要用transaction\r\n\r\n 好文章\r\n    \r\n [小心駛得萬年船--sql指令保險栓](\r\n [防禦式 sql 更新](\r\n [如何寫出高效能 tsql – 關於索引不可不知道的事](",word_token:["外來","資料","最好","不要","當","pk","像是","身分","證字號","不要","當","pk","民國","某年","身分","證字號","可能","重","複","資料","冷","知識","為","麼","身分","證字","號會重","複","麼","影","響","？","acid","操作","db","要","小心","acid","避免","資料","問題","會","更改","資料","要","考慮","要","不要","用","transaction","好","文章","小心","駛得","萬年","船","-","-","sql","指令","保險栓","防禦式","sql","更新","如何","寫出","高效能","tsql","–","關於","索引","不可不","知道","事"],key_words:[{word:"資料",weight:46.95681722833417},{word:"acid",weight:23.478408614167083},{word:"pk",weight:23.478408614167083},{word:"sql",weight:23.478408614167083},{word:"證字號",weight:23.478408614167083},{word:"身分",weight:22.22531345088},{word:"不要",weight:14.678829540299999},{word:"小心",weight:13.43361387382},{word:"某年",weight:11.9547675029},{word:"關於",weight:11.739204307083542},{word:"駛得",weight:11.739204307083542},{word:"保險栓",weight:11.739204307083542},{word:"db",weight:11.739204307083542},{word:"防禦式",weight:11.739204307083542},{word:"transaction",weight:11.739204307083542},{word:"民國",weight:11.739204307083542},{word:"問題",weight:11.739204307083542},{word:"外來",weight:11.739204307083542},{word:"考慮",weight:11.739204307083542},{word:"知識",weight:11.739204307083542},{word:"tsql",weight:11.739204307083542},{word:"寫出",weight:11.739204307083542},{word:"萬年",weight:11.739204307083542},{word:"號會重",weight:11.739204307083542},{word:"證字",weight:11.739204307083542},{word:"高效能",weight:10.765183436},{word:"索引",weight:9.28555713513},{word:"不可不",weight:8.93783302172},{word:"更改",weight:8.56795885871},{word:"指令",weight:8.17709255002}],excerpt:"外來資料最好不要當pk 像是身分證字號不要當pk，民國某年的身分證字號可能重複 [資料冷知識：為什麼身分證字號會重複？有什麼影響？]( [acid]( 操作db要小心acid，避免資料有問題 會更改到資料要考慮要不要用transaction 好文章 [小心駛得萬年船--sql指令保險栓]( [防禦式 sql 更新]( [如何寫出高效能 tsql – 關於索引不可不知道的事]("},{title:"1. 用Vue與C# .net MVC做前後端分離之Todo List",frontmatter:{title:"1. 用Vue與C# .net MVC做前後端分離之Todo List",datetime:"2020/6/8",tag:["demo"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"1. 用Vue與C# .net MVC做前後端分離之Todo List"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/Website/vue-csarhp-todolist-tutorial/"},{name:"twitter:title",content:"1. 用Vue與C# .net MVC做前後端分離之Todo List"},{name:"twitter:url",content:"/Coding/Website/vue-csarhp-todolist-tutorial/"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"資料, 前端, 開發, vue, 處理, 顯示, 儲存, 邏輯, db, 前後端, 一頁, api, 網頁, 一個, view, 編輯, mvc, 需要, 分離, 靜態, code, 這邊, 系統, model, 架構, 專注, 格式, 安裝, 剛剛, 分兩頁"},{property:"article:tag",content:"資料"},{property:"article:tag",content:"前端"},{property:"article:tag",content:"開發"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"處理"},{property:"article:tag",content:"顯示"},{property:"article:tag",content:"儲存"},{property:"article:tag",content:"邏輯"},{property:"article:tag",content:"db"},{property:"article:tag",content:"前後端"},{property:"article:tag",content:"一頁"},{property:"article:tag",content:"api"},{property:"article:tag",content:"網頁"},{property:"article:tag",content:"一個"},{property:"article:tag",content:"view"},{property:"article:tag",content:"編輯"},{property:"article:tag",content:"mvc"},{property:"article:tag",content:"需要"},{property:"article:tag",content:"分離"},{property:"article:tag",content:"靜態"},{property:"article:tag",content:"code"},{property:"article:tag",content:"這邊"},{property:"article:tag",content:"系統"},{property:"article:tag",content:"model"},{property:"article:tag",content:"架構"},{property:"article:tag",content:"專注"},{property:"article:tag",content:"格式"},{property:"article:tag",content:"安裝"},{property:"article:tag",content:"剛剛"},{property:"article:tag",content:"分兩頁"}]},regularPath:"/Coding/Website/vue-csarhp-todolist-tutorial/",relativePath:"Coding/Website/vue-csarhp-todolist-tutorial/README.md",key:"v-64a9a694",path:"/Coding/Website/vue-csarhp-todolist-tutorial/",headers:[{level:2,title:"問題點: 高耦合、業務邏輯交雜",slug:"問題點-高耦合、業務邏輯交雜"},{level:2,title:"好處: 權責分離，職責專精",slug:"好處-權責分離，職責專精"},{level:2,title:"前端",slug:"前端"},{level:2,title:"後端",slug:"後端"},{level:3,title:"AP",slug:"ap"},{level:3,title:"DB",slug:"db"},{level:2,title:"範例專案",slug:"範例專案"},{level:2,title:"前端",slug:"前端-2"},{level:2,title:"後端",slug:"後端-2"}],git:{created:"6/13/2020, 2:41:13 AM",updated:"6/13/2020, 2:41:13 AM",author:"PC\\JC",commits:[{fullHash:"a98e0e6b5f1f993f94f0d25a95f4c7dab64c4f01",authorTime:"1591987273",commitTime:"1591987273",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"一個線上應用服務系統，目前來說大抵都會分成前端與後端\r\n\r\n前端專職顯示以及跟customer互動\r\n\r\n後端專職商業邏輯的運算，以及資料的儲存\r\n\r\n why前後端分離\r\n\r\n 問題點: 高耦合、業務邏輯交雜\r\n\r\n後端系統很容易看到mvc架構，以c .net mvc為例\r\n\r\nmvc中的v(即view)即專責在準備要顯示給customer的內容上\r\n\r\n當在開發view的部分時，如果是使用像razor這樣的語法開發\r\n\r\n那後端可能改個class name，即使資料格式沒動到，也會影響到view\r\n\r\n又或者新增一個頁面，就必須跟著更新router，bundler的設定，等等等\r\n\r\n前端跟後端很大程度上是綁在一起的\r\n\r\n後端光是開發一個功能，可能就要擔心會影響到前端的什麼東西\r\n\r\n若系統已經開發的很大的話，光維護就會耗費相當大的精力\r\n\r\n 好處: 權責分離，職責專精\r\n\r\n前後端分離後，中間僅透過api進行資料的交換，那事情便會單純許多\r\n\r\n前後端兩邊的邊界，就是api的資料格式\r\n\r\n後端可以專注在資料的處理，只要確定有滿足資料格式的定義\r\n\r\n而前端可以專注在顯示邏輯的開發，降低對資料源，業務核心邏輯的處理\r\n\r\n這大大的降低了前後兩端開發所要考慮的範疇\r\n\r\n職責變的專精，大幅降低牽一髮動全身的風險\r\n\r\n 系統架構\r\n\r\n這邊稍微舉例前後端可能需要注意之事項\r\n\r\n    前端 <----\x3e 後端 <----\x3e db\r\n\r\n 前端\r\n\r\n ui/ux\r\n   顯示邏輯\r\n   跟user互動\r\n routing\r\n   spa\r\n   網址對應組件\r\n vuex\r\n   共用資料集散地，類似前端的資料庫\r\n api介接\r\n pwa\r\n ...\r\n\r\n 後端\r\n\r\n ap\r\n\r\n 專注在data的處理\r\n   資料的傳輸\r\n     對前端\r\n     對db\r\n     對第三方\r\n   機密資料的運作\r\n   狀態的儲存/處理\r\n     session  \r\n 若有mvc架構的話\r\n   model\r\n     進行商業邏輯運算\r\n     對db的model\r\n     對前端的model\r\n       第三方\r\n       client端\r\n   view\r\n     不再進行傳統顯示邏輯的開發\r\n     直接回傳vue build(編譯)過的靜態檔\r\n     ssr\r\n       若有seo的需求的話，需要在回傳vue build過的檔案前，再多預先render給爬蟲的資料\r\n   controler\r\n     流程的處理\r\n     各式api的處理\r\n\r\n db\r\n\r\n資料的實際儲存地\r\n\r\n但為了簡化教學範例的複雜度，這邊會在ap上宣告靜態物件來模擬db的資料儲存\r\n\r\n若要在正式系統上使用靜態物件儲存資料，請務必要小心謹慎，避免預期外之資料存取\r\n\r\n 開發環境\r\n\r\n 範例專案\r\n\r\n範例專案請[到此下載](\r\n\r\n 前端\r\n\r\n [node.js](\r\n vue\r\n   在安裝好node.js後，開啟commad line執行\r\n    ```bash\r\n    npm install -g @vue/cli\r\n    ```\r\n   詳細內容可以參考[官網](\r\n ide\r\n   [visual studio code](\r\n     vue syntax highlighter\r\n       vs code預設是看不懂vue的code的，若想要讓vue語法能有對應的顏色提示，需要安裝相關外掛\r\n       這邊我是使用 [flatland monokai theme](\r\n\r\n 後端\r\n\r\n c\r\n [visual studio community](\r\n\r\n 範例專案目標\r\n\r\n 製作一個`todolist`，跟一個`donelist`，每個list中可以放入`task`\r\n `task`上可以記錄`title`跟`content`\r\n 網頁上方要有nav可以顯示所有的頁面(總共4個)\r\n 在網頁不關掉下，任意點選nav上之連結，資料不能遺失\r\n 隨意輸入網址，要能夠跳到404 not found的頁面\r\n 為方便示範，將同樣的功能分成需要後端支援，跟不需要後端支援\r\n   不需要後端:\r\n     分兩頁，一頁可以編輯，一頁不可編輯\r\n     網頁關掉後重開，`不需要`能看到剛剛的資料\r\n   需要後端:\r\n     分兩頁，一頁可以編輯，一頁不可編輯\r\n     網頁關掉後重開，`需要`能看到剛剛的資料\r\n 操作起來的效果如下\r\n   !demo.mp4)\r\n\r\n 接下來\r\n\r\n下一篇文章，將開始前端部份的說明",word_token:["一個","線","上","應用","服務系統","目前","來","說","大抵","會","分成","前端","與後端","前端","專職","顯示","以及","customer","互動","後","端","專職","商業","邏輯","運算","以及","資料","儲存","why","前後端","分離","問題點","高","耦合","業","務","邏","輯","交","雜","後","端","系統","容易","看到","mvc","架構","以","c","net","mvc","為例","mvc","v","即","view","即","專責","準備","要","顯示給","customer","內容","上","當在","開發","view","部分","時","如果","使用","像","razor","這樣","語法","開發","那後端","可能","改個","class","name","即使","資料","格式","沒動","會","影響","view","或者","新增","一個","頁","面","必須","著","更新","router","bundler","設定","等等","前端","跟後端","很大","程度","上","綁","一起","後","端","光是","開發","一個","功能","可能","就要","擔心會","影響","前端","什麼","東西","若系統","已經","開發","很大","話","光維護","會","耗費","相當","大","精力","好處","權責","分離","職責","專精","前後端","分離","後","中間","僅透過","api","進行","資料","交換","事情","便會","單純","許多","前後端","兩邊","邊界","就是","api","資料","格式","後","端","可以","專注","資料","處理","只要","確定","滿足","資料","格式","定義","而","前端","可以","專注","顯示","邏輯","開發","降低","對","資料源","業務","核心","邏輯","處理","這","大大的","降低","前","後","兩端","開發","所要","考慮","範疇","職責變","專精","大幅","降低","牽一","髮","動","全身","風險","系統","架構","這邊","稍微","舉例","前後端","可能","需要","注意","之事項","前端","-","-","-","-","後","端","-","-","-","-","db","前端","ui","ux","顯示","邏輯","user","互動","routing","spa","網址","對","應","組件","vuex","共用","資料","集散地","類似","前端","資料","庫","api","介接","pwa","後","端","ap","專注","data","處理","資料","傳輸","對","前端","對","db","對","第三方","機密","資料","運作","狀態","儲存","處理","session","若有","mvc","架構","話","model","進","行商","業邏輯","運算","對","db","model","對","前端","model","第三方","client","端","view","不再","進行","傳統","顯示","邏輯","開發","直接","回傳","vue","build","編譯","過的","靜態","檔","ssr","若有","seo","需求","話","需要","回傳","vue","build","過的","檔案","前","再","預先","render","給爬蟲","資料","controler","流程","處理","各式","api","處理","db","資料","實際","儲存","但","為","簡化","教學範例","複","雜度","這邊","會","ap","上","宣告","靜態","物件","來","模擬","db","資料","儲存","若要","正式","系統","上","使用","靜態","物件","儲存","資料","請務","必要","小心","謹慎","避免","預期","外","資料","存取","開發","環境","範例","專案","範例","專案","請","下載","前端","node","js","vue","安裝","好","node","js","後","開啟","commad","line","執行","`","`","`","bash","npm","install","-","g","@","vue","cli","`","`","`","詳細","內容","可以","參考","官網","ide","visual","studio","code","vue","syntax","highlighter","vs","code","預設","看不懂","vue","code","若","想要","讓","vue","語法","能","對","應","顏色","提示","需要","安裝","相關","外掛","這邊","使用","flatland","monokai","theme","後","端","c","visual","studio","community","範例專","案目","標","製","作","個","`","todolist","`","一個","`","donelist","`","每個","list","可以","放入","`","task","`","`","task","`","上","可以","記錄","`","title","`","`","content","`","網頁","上方","要","nav","可以","顯示","所有","頁","面","總共","4","個","網頁","不關","掉","下","任意","點選","nav","上","連結","資料","不能","遺失","隨意","輸入","網址","要","能夠","跳","404","not","found","頁","面","為","方便","示範","將同樣","功能","分成","需要","後","端","支援","需要","後","端","支援","需要","後","端","分兩頁","一頁","可以","編輯","一頁","不可","編輯","網頁","關掉","後","重開","`","需要","`","能","看到","剛剛","資料","需要","後","端","分兩頁","一頁","可以","編輯","一頁","不可","編輯","網頁","關掉","後","重開","`","需要","`","能","看到","剛剛","資料","操作","起來","效果","如下","demo","mp4","接下","來","下","一篇","文章","將開始","前端","部份","說明"],key_words:[{word:"資料",weight:211.30567752750375},{word:"前端",weight:96.79040297892},{word:"開發",weight:93.91363445666833},{word:"vue",weight:82.1744301495848},{word:"處理",weight:70.43522584250125},{word:"顯示",weight:58.69602153541771},{word:"儲存",weight:58.69602153541771},{word:"邏輯",weight:58.69602153541771},{word:"db",weight:58.69602153541771},{word:"前後端",weight:46.95681722833417},{word:"一頁",weight:46.95681722833417},{word:"api",weight:46.95681722833417},{word:"網頁",weight:46.95681722833417},{word:"一個",weight:46.95681722833417},{word:"view",weight:46.95681722833417},{word:"編輯",weight:46.95681722833417},{word:"mvc",weight:46.95681722833417},{word:"需要",weight:39.1003257915},{word:"分離",weight:35.21761292125063},{word:"靜態",weight:35.21761292125063},{word:"code",weight:35.21761292125063},{word:"這邊",weight:35.21761292125063},{word:"系統",weight:35.21761292125063},{word:"model",weight:35.21761292125063},{word:"架構",weight:35.21761292125063},{word:"專注",weight:35.21761292125063},{word:"格式",weight:25.33606960986},{word:"安裝",weight:23.478408614167083},{word:"剛剛",weight:23.478408614167083},{word:"分兩頁",weight:23.478408614167083}],excerpt:"一個線上應用服務系統，目前來說大抵都會分成前端與後端 前端專職顯示以及跟customer互動 後端專職商業邏輯的運算，以及資料的儲存 why前後端分離 問題點: 高耦合、業務邏輯交雜 後端系統很容易看到mvc架構，以c .net mvc為例 mvc中的v(即view)即專責在準備要顯示給customer的內容上 當在開發view的部分時，如果是使用像razor這樣的語法開發 那後端可能改個class name，即使資料格式沒動到，也會影響到view 又或者新增一個頁面，就必須跟著更新router，bundler的設定，等等等 前端跟後端很大程度上是綁在一起的 後端光是開發一個功能，可能就要擔心會影響到前端的什麼東西 若系統已經開發的很大的話，光維護就會耗費相當大的精力 好處: 權責分離，職責專精 前後端分離後，中間僅透過api進行資料的交換，那事情便會單純許多 前後端兩邊的邊界，就是api..."},{title:"3. 用Vue與C# .net MVC做前後端分離之Todo List(後端部分)",frontmatter:{title:"3. 用Vue與C# .net MVC做前後端分離之Todo List(後端部分)",datetime:"2020/6/10",tag:["demo"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"3. 用Vue與C# .net MVC做前後端分離之Todo List(後端部分)"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/Website/vue-csarhp-todolist-tutorial/back-end.html"},{name:"twitter:title",content:"3. 用Vue與C# .net MVC做前後端分離之Todo List(後端部分)"},{name:"twitter:url",content:"/Coding/Website/vue-csarhp-todolist-tutorial/back-end.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"設定, vue, cs, 用來, wwwroot, 檔案, api, publish, 前端, 權限, 專案, bin, session, build, release, axios, 一個, request, 開發, 設計, 放置, 控管, 接著, 儲存, db, app, user, iis, 簡單, ax"},{property:"article:tag",content:"設定"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"cs"},{property:"article:tag",content:"用來"},{property:"article:tag",content:"wwwroot"},{property:"article:tag",content:"檔案"},{property:"article:tag",content:"api"},{property:"article:tag",content:"publish"},{property:"article:tag",content:"前端"},{property:"article:tag",content:"權限"},{property:"article:tag",content:"專案"},{property:"article:tag",content:"bin"},{property:"article:tag",content:"session"},{property:"article:tag",content:"build"},{property:"article:tag",content:"release"},{property:"article:tag",content:"axios"},{property:"article:tag",content:"一個"},{property:"article:tag",content:"request"},{property:"article:tag",content:"開發"},{property:"article:tag",content:"設計"},{property:"article:tag",content:"放置"},{property:"article:tag",content:"控管"},{property:"article:tag",content:"接著"},{property:"article:tag",content:"儲存"},{property:"article:tag",content:"db"},{property:"article:tag",content:"app"},{property:"article:tag",content:"user"},{property:"article:tag",content:"iis"},{property:"article:tag",content:"簡單"},{property:"article:tag",content:"ax"}]},regularPath:"/Coding/Website/vue-csarhp-todolist-tutorial/back-end.html",relativePath:"Coding/Website/vue-csarhp-todolist-tutorial/back-end.md",key:"v-0d32e5ee",path:"/Coding/Website/vue-csarhp-todolist-tutorial/back-end.html",git:{created:"6/13/2020, 2:41:13 AM",updated:"6/13/2020, 2:41:13 AM",author:"PC\\JC",commits:[{fullHash:"a98e0e6b5f1f993f94f0d25a95f4c7dab64c4f01",authorTime:"1591987273",commitTime:"1591987273",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"開新專案\r\n\r\n以下是本範例專案選擇的選項:\r\n !1\r\n !2\r\n   由於顯示的邏輯已由vue前端做掉，因此這邊就不勾選mvc選項\r\n !3\r\n\r\n 專案結構\r\n\r\n /app_data\r\n   放置一些後端的設定檔\r\n   appsettings.config\r\n     裡頭可以在不重新build程式下，設定一些參數值\r\n     這邊僅設定vue build過之檔案要放置在哪\r\n /app_start\r\n   webapiconfig.cs\r\n     設定api routing之設定\r\n /controller\r\n   boardcontroller.cs\r\n     用來處理api request之controller\r\n   redirectcontroller.cs\r\n     用來處理不是/api/開頭的request\r\n     主要用來回傳vue build過之檔案\r\n /models\r\n   用來放置一些商業邏輯之檔案，或資料格式之定義\r\n   task.cs\r\n   board.cs\r\n     用來存放todo list跟done list之內容\r\n   globaldata.cs\r\n     用來模擬db儲存資料\r\n global.asax\r\n web.config\r\n\r\n 開發\r\n\r\n本專案之後端部分設計的比較簡單，像是session，連接db，權限控管...等等都沒有設計\r\n\r\n若要開發一個正式系統，上述的內容都要謹慎考慮\r\n\r\n但若要開發一個含有權限控管之api，最簡單的做法如下:\r\n\r\n 設計自定義之authorization attribute，到session中檢查權限\r\n 將user之登入狀況，權限，儲存於session中\r\n 關於user之權限設定，`絕對不要相信來自前端的任何設定`，後端絕對不要輕易相信來自前端的任何數值\r\n\r\n只要在vue前端的部分使用axios呼叫api時，有使用credentials\r\n\r\n那這些request就會自動將session key值帶入cookies並進行存取\r\n\r\naxios設定之範例code如下:\r\n\r\n```js\r\nlet ax = axios.create()\r\nax.defaults.withcredentials = true\r\n```\r\n\r\n 部署\r\n\r\n以下是部署的步驟:\r\n !1\r\n !2\r\n   後端publish檔案後，預設會放到`bin\\release\\publish`\r\n !3\r\n   接著在`bin\\release\\publish`建立`wwwroot`資料夾\r\n   將vue build到`/dist`中之檔案放到`bin\\release\\publish\\wwwroot`中\r\n !4\r\n   這邊為了方便起見，直接將`bin\\release\\publish`設為iis讀取的路徑\r\n !5\r\n   iis上之站台建立後，要確定能看到`wwwroot`\r\n !6\r\n   接著輸入網址  或  就能看到畫面了\r\n\r\n之後若前端進行改版，就只要更新`wwwroot`中之檔案即可\r\n\r\n而後端若進行改版，只要不要異動到`wwwroot`中之檔案就好\r\n\r\n到此就算完成了一個前端使用vue，後端使用c技術之極小型系統了!",word_token:["開新","專案","以下","本範例","專案","選擇","選項","1","2","由","於","顯示","邏輯","由","vue","前端","掉","因此","這邊","勾選","mvc","選項","3","專案","結構","app","_","data","放置","一些","後","端的","設定","檔","appsettings","config","裡頭","可以","重新","build","程式","下","設定","一些","參數值","這邊僅","設定","vue","build","過之檔","案要","放置","app","_","start","webapiconfig","cs","設定","api","routing","設定","controller","boardcontroller","cs","用來","處理","api","request","controller","redirectcontroller","cs","用來","處理","不是","api","開頭","request","主要","用來","回傳","vue","build","過之檔案","models","用來","放置","一些","商業","邏輯","檔案","資料","格式","之定義","task","cs","board","cs","用來","存放","todo","list","done","list","之內容","globaldata","cs","用來","模擬","db","儲存","資料","global","asax","web","config","開發","本","專案","之後端","部分","設計","比","較","簡單","像是","session","連接","db","權限","控管","等等","沒","設計","若要","開發","一個","正式","系統","上述","內容","要","謹慎","考慮","但","若","要","開發","一個","含有","權限","控管","api","最","簡單","做法","如下","設計","自定","義之","authorization","attribute","session","中檢查","權限","將","user","之登入","狀況","權限","儲存","於","session","關於","user","之權限","設定","`","絕對","不要","相信","來","自","前端","任何","設定","`","後","端絕","對","不要","輕易","相信","來","自","前端","任何","數值","只要","vue","前端","部分","使用","axios","呼叫","api","時","使用","credentials","這些","request","就會","自動將","session","key","值","帶入","cookies","並進行","存取","axios","設定","之範例","code","如下","`","`","`","js","let","ax","=","axios","create","ax","defaults","withcredentials","=","true","`","`","`","部署","以下","部署","步驟","1","2","後","端","publish","檔案","後","預設","會","放到","`","bin","release","publish","`","3","接著","`","bin","release","publish","`","建立","`","wwwroot","`","資料夾","將","vue","build","`","dist","`","檔案","放到","`","bin","release","publish","wwwroot","`","4","這邊","為","方便","起見","直接","將","`","bin","release","publish","`","設為","iis","讀取","路徑","5","iis","上","站台","建立","後","要","確定","能","看到","`","wwwroot","`","6","接著","輸入","網址","能","看到","畫面","之後若","前端","進行","改版","只要","更新","`","wwwroot","`","檔案","即可","而後端","若","進行","改版","只要","不要","異動","`","wwwroot","`","檔案","好","就算","完成","一個","前端","使用","vue","後","端","使用","c","技術","之極","小型","系統"],key_words:[{word:"設定",weight:93.91363445666833},{word:"vue",weight:70.43522584250125},{word:"cs",weight:70.43522584250125},{word:"用來",weight:70.43522584250125},{word:"wwwroot",weight:58.69602153541771},{word:"檔案",weight:58.69602153541771},{word:"api",weight:58.69602153541771},{word:"publish",weight:58.69602153541771},{word:"前端",weight:48.39520148946},{word:"權限",weight:46.95681722833417},{word:"專案",weight:46.95681722833417},{word:"bin",weight:46.95681722833417},{word:"session",weight:46.95681722833417},{word:"build",weight:46.95681722833417},{word:"release",weight:46.95681722833417},{word:"axios",weight:35.21761292125063},{word:"一個",weight:35.21761292125063},{word:"request",weight:35.21761292125063},{word:"開發",weight:35.21761292125063},{word:"設計",weight:35.21761292125063},{word:"放置",weight:24.62083653951},{word:"控管",weight:24.2178363654},{word:"接著",weight:23.478408614167083},{word:"儲存",weight:23.478408614167083},{word:"db",weight:23.478408614167083},{word:"app",weight:23.478408614167083},{word:"user",weight:23.478408614167083},{word:"iis",weight:23.478408614167083},{word:"簡單",weight:23.478408614167083},{word:"ax",weight:23.478408614167083}],excerpt:"開新專案 以下是本範例專案選擇的選項: !1 !2 由於顯示的邏輯已由vue前端做掉，因此這邊就不勾選mvc選項 !3 專案結構 /app_data 放置一些後端的設定檔 appsettings.config 裡頭可以在不重新build程式下，設定一些參數值 這邊僅設定vue build過之檔案要放置在哪 /app_start webapiconfig.cs 設定api routing之設定 /controller boardcontroller.cs 用來處理api request之controller redirectcontroller.cs 用來處理不是/api/開頭的request 主要用來回傳vue build過之檔案 /models 用來放置一些商業邏輯之檔案，或資料格式之定義 task.cs board.cs 用來存放todo list跟done list之內容 globa..."},{title:"2. 用Vue與C# .net MVC做前後端分離之Todo List(前端部分)",frontmatter:{title:"2. 用Vue與C# .net MVC做前後端分離之Todo List(前端部分)",datetime:"2020/6/9",tag:["demo"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"2. 用Vue與C# .net MVC做前後端分離之Todo List(前端部分)"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/Website/vue-csarhp-todolist-tutorial/front-end.html"},{name:"twitter:title",content:"2. 用Vue與C# .net MVC做前後端分離之Todo List(前端部分)"},{name:"twitter:url",content:"/Coding/Website/vue-csarhp-todolist-tutorial/front-end.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"vue, js, store, 專案, 套件, 組件, 安裝, 開發, src, cli, router, 設定, task, 資料, npm, 這邊, 選擇, 檔案, 編譯, import, state, 結構, modal, 網址, 編輯, remoteboard, 使用, list, 執行, 環境"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"js"},{property:"article:tag",content:"store"},{property:"article:tag",content:"專案"},{property:"article:tag",content:"套件"},{property:"article:tag",content:"組件"},{property:"article:tag",content:"安裝"},{property:"article:tag",content:"開發"},{property:"article:tag",content:"src"},{property:"article:tag",content:"cli"},{property:"article:tag",content:"router"},{property:"article:tag",content:"設定"},{property:"article:tag",content:"task"},{property:"article:tag",content:"資料"},{property:"article:tag",content:"npm"},{property:"article:tag",content:"這邊"},{property:"article:tag",content:"選擇"},{property:"article:tag",content:"檔案"},{property:"article:tag",content:"編譯"},{property:"article:tag",content:"import"},{property:"article:tag",content:"state"},{property:"article:tag",content:"結構"},{property:"article:tag",content:"modal"},{property:"article:tag",content:"網址"},{property:"article:tag",content:"編輯"},{property:"article:tag",content:"remoteboard"},{property:"article:tag",content:"使用"},{property:"article:tag",content:"list"},{property:"article:tag",content:"執行"},{property:"article:tag",content:"環境"}]},regularPath:"/Coding/Website/vue-csarhp-todolist-tutorial/front-end.html",relativePath:"Coding/Website/vue-csarhp-todolist-tutorial/front-end.md",key:"v-68b44e7f",path:"/Coding/Website/vue-csarhp-todolist-tutorial/front-end.html",headers:[{level:2,title:"vue create your-project-name",slug:"vue-create-your-project-name"},{level:2,title:"Vue cli 相關文章",slug:"vue-cli-相關文章"},{level:2,title:"啟動",slug:"啟動"},{level:2,title:"使用輔助開發工具",slug:"使用輔助開發工具"},{level:2,title:"安裝第三方套件",slug:"安裝第三方套件"},{level:2,title:"/src結構",slug:"src結構"}],git:{created:"6/13/2020, 2:41:13 AM",updated:"6/13/2020, 2:41:13 AM",author:"PC\\JC",commits:[{fullHash:"a98e0e6b5f1f993f94f0d25a95f4c7dab64c4f01",authorTime:"1591987273",commitTime:"1591987273",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"前端部分之code位於範例專案中之`\\frontend`資料夾裡\r\n\r\n 開新專案\r\n\r\n以下介紹本範例前端部分是怎麼建立的\r\n\r\n `vue create your-project-name`\r\n\r\n當前面安裝好vue cli後，這邊就可以使用cli輔助建立專案了\r\n\r\n開啟command line執行\r\n\r\n```bash\r\nvue create your-project-name\r\n```\r\n\r\n以下是本範例專案選擇的選項:\r\n !1\r\n   選擇手動選擇功能\r\n !2\r\n   router: 選擇後預設安裝好router的相關設定\r\n   css pre-processors: 選擇後，之後會問妳要不要使用像scss/sass的東西進行開發\r\n !3\r\n !4\r\n   當前面css pre-processors有勾選後，這邊可以選擇要用什麼css pre-processors\r\n !5\r\n   這邊lint選擇比較不嚴格的模式，若選擇比較嚴格的模式，有可能會變成code必須完全符合lint規範才能執行\r\n !6\r\n !7\r\n !8\r\n !9\r\n   全部設定完後，vue cli就會開始下載安裝套件到`node_modules`中\r\n   由於node本身機制的問題，這個步驟會執行比較久(幾分鐘)\r\n\r\n vue cli 相關文章\r\n\r\n用vue cli的好處是，他會幫妳做掉很多細部的設定\r\n\r\n讓你省掉很多自己設定`package.json`的工\r\n\r\n更多細節內容可以參考以下文章:\r\n [官方網站](\r\n [vue cli 3 安裝與使用教學](\r\n [|d2| vue cli3 安裝與建立 vue 專案](\r\n [vue: vue-cli3.0 创建项目](\r\n\r\n 專案結構\r\n\r\n這邊概略介紹一下專案結構，更多有關vue專案結構的說明可以參考[vue cli 專案結構及解析](\r\n\r\n /dist\r\n   放置編譯後的檔案，也是實際上會跑到顧客瀏覽器去運行的檔案\r\n /node_modules\r\n   相依套件存放地\r\n node_modules.zip\r\n   若windows下載套件有問題，也可以先使用我預先下載的套件\r\n   但可能會有作業系統相容性問題，建議還是用`npm install`來下載相依套件\r\n /public\r\n   公用靜態擋存放地(像是圖片)\r\n /src\r\n   原始碼存放地\r\n   也是我們開發主要會動到的地方\r\n   src中之說明將會於下面的篇幅進行\r\n /src-origin\r\n   這是`vue create project`後，一開始預設的src資料夾\r\n   專案中將之重新命名為`src-origin`後保存，讓大家可以自行比較一下差異\r\n .env.development\r\n   一些開發環境用全域變數可設定在此，像是後端的網址\r\n .env.production\r\n   一些營運環境用全域變數可設定在此，像是後端的網址\r\n vue.config.js\r\n   這邊可以進行vue的一些設定，像是\r\n     所有的組件預設就import jquery\r\n     webpack的設定\r\n     網頁網址的設定\r\n\r\n 開發環境\r\n\r\n 啟動\r\n\r\n到`/frontend`也就是有`packages.json`的目錄後，開啟command line執行\r\n\r\n```bash\r\nnpm run serve\r\n```\r\n\r\n便可開啟一個開發用的server\r\n\r\n此外也可以使用`vue ui`來啟動ui介面操作開發環境\r\n\r\n關於vue ui，本範例不會著墨太多，更多相關內容可以參考[day29 vue.js - vue cli 3 ui安裝介面及項目結構介紹](\r\n\r\n 使用輔助開發工具\r\n\r\nvue 本身有開發一個[輔助開發工具]，在開發上有很大的幫助\r\n\r\n像是觀察組件中之數值，這樣就不用一直`console.log`去看值\r\n\r\n輔助工具本身有設計成營運環境就不能使用，但這是可以被破解的\r\n\r\n`因此機敏的東西絕對不要放前端`\r\n\r\n更多介紹的文章可以參考:\r\n [vue.js devtools](\r\n [[vue.js] vuex 學習筆記 (18) - 開發工具 vue.js devtools](\r\n [透過 vue-cli 建置專案時，自動切換 devtools 的 debug 環境](\r\n\r\n 開發\r\n\r\n 安裝第三方套件\r\n\r\n一般開發時，都會使用一些成熟的第三方套件，來避免自己重複造輪子\r\n\r\n以下介紹本專案有用到的套件(若使用node_modules.zip的話，以下套件均已被安裝)\r\n\r\n [vue-js-modal](\r\n   安裝指令: `npm install -d vue-js-modal`\r\n   移除指令: `npm uninstall vue-js-modal`\r\n   功能: 開起一個小視窗(當點選task時，會跳出modal顯示編輯介面)\r\n [vuedraggable](\r\n   安裝指令: `npm install -d vuedraggable`\r\n   移除指令: `npm uninstall vuedraggable`\r\n   功能: 讓網頁元素可以被拖曳(用來移動卡片)\r\n [axios](\r\n   安裝指令: `npm install -d axios`\r\n   移除指令: `npm uninstall axios`\r\n   功能: 用來呼叫restful api，跟後端溝通用\r\n\r\n /src結構\r\n\r\n /api\r\n   跟後端api的介接，資料交換集中放置在此\r\n /assets\r\n   網頁需要用到的靜態擋放置在此\r\n /components\r\n   組件集中放置在此\r\n   vuetemplate.vue\r\n     空的範例組件\r\n   nav.vue\r\n   board.vue\r\n     包含了`todo list`跟`done list`\r\n     可以透過`props`來控制此board可否編輯\r\n   todolist.vue\r\n     `todo list`跟`done list`所使用到之組件\r\n     裡面可以放置/移動`task`\r\n     使用第三方套件`draggable`來實現移動`task`\r\n     可以透過`props`來控制此list可否編輯\r\n   task.vue\r\n     最基本的`task`組件\r\n     可以觀看/編輯一個`task`之`title`與`content`\r\n     可以透過`props`來控制此task可否編輯\r\n /route\r\n   當網址對應之組件比較複雜後，有些邏輯可以放到這邊，像是有些網址須要登入才可訪問，相關權限處理\r\n /store\r\n   vuex本身有model化的用法，可以透過`namespace`來讓資料物件化/模組化\r\n   store可以放置這些物件化/模組化之js檔\r\n /views\r\n   這邊定義了各網址應該對應到的組件\r\n   nobackendhome.vue\r\n     僅能觀看task\r\n     不需後端\r\n     資料儲存在`$store.state.localboard`，即`/src/store/localboard.js`\r\n   nobackendedit.vue\r\n     可以觀看/編輯task\r\n     不需後端\r\n     資料儲存在`$store.state.localboard`，即`/src/store/localboard.js`\r\n   home.vue\r\n     修改自`nobackendhome.vue`\r\n     多了從後端拿資料存進`$store.state.remoteboard`的動作\r\n     資料儲存在`$store.state.remoteboard`，即`/src/store/remoteboard.js`\r\n   edit.vue\r\n     修改自`nobackendedit.vue`\r\n     多了從後端拿資料存進`$store.state.remoteboard`的動作\r\n     資料儲存在`$store.state.remoteboard`，即`/src/store/remoteboard.js`\r\n   pagenotfound.vue\r\n     當網址無法對應到router中之規則時，故定回傳此組件\r\n app.vue\r\n   整個`組件`的root，原點\r\n   `<router-view/>`宣告了各網址的內容應該在此tag內進行render\r\n main.js\r\n   整個`vue`運作的原點\r\n   有些第三方套件的使用必須在這邊宣告，像是`vue.use(vmodal)`\r\n   如果專案要使用router，vuex，也必須在new vue時傳入參數\r\n    ```js\r\n    import vue from 'vue'\r\n    import app from './app.vue'\r\n    import router from './router'\r\n    import store from './store'\r\n\r\n    // import 第三方套件\r\n    import vmodal from 'vue-js-modal'\r\n\r\n    vue.config.productiontip = false\r\n    // 使用'vue-js-modal'這個第三方套件\r\n    vue.use(vmodal)\r\n\r\n    new vue({\r\n        router,\r\n        store,\r\n        render: h => h(app)\r\n    }).$mount('app')\r\n    ```\r\n router.js\r\n   定義網址對應之組件\r\n store.js\r\n   vuex store之root/原點\r\n\r\n 編譯(build)\r\n\r\n開啟command line後執行\r\n\r\n```bash\r\nnpm run build\r\n```\r\n\r\n或者使用vue ui去啟動編譯也可以\r\n\r\n編譯完成後，預設會將編譯完之檔案放到`/dist`中\r\n\r\n而這些編譯後的檔案，也是實際上顧客瀏覽器會運行的檔案\r\n\r\n本機開發時，瀏覽器上所運行的並不是最終實際在顧客瀏覽器上運行的檔案\r\n\r\n而這些編譯後之檔案，將在後續文章說明怎麼部署到`iis server`上\r\n\r\n 接下來\r\n\r\n下一篇文章，將開始後端部份的說明",word_token:["前端","部分","code","位","於","範例","專案","`","frontend","`","資料","夾裡","開新","專案","以下","介紹","本範例","前端","部分","怎麼","建立","`","vue","create","-","project","-","name","`","當","前面","安裝","好","vue","cli","後","這邊","可以","使用","cli","輔助","建立","專案","開啟","command","line","執行","`","`","`","bash","vue","create","-","project","-","name","`","`","`","以下","本範例","專案","選擇","選項","1","選擇","手動","選擇","功能","2","router","選擇","後","預設","安裝","好","router","相關","設定","css","pre","-","processors","選擇","後","之後會問","妳","要","不要","使用","像","scss","sass","東西","進行","開發","3","4","當","前面","css","pre","-","processors","勾選","後","這邊","可以","選擇","要","用","什麼","css","pre","-","processors","5","這邊","lint","選擇","比","較","嚴格","模式","若選擇","比較","嚴格","模式","可能","會","變成","code","必須","完全符合","lint","規範","才能","執行","6","7","8","9","全部","設定","完","後","vue","cli","就會","開始","下","載安裝","套件","`","node","_","modules","`","由","於","node","本身","機制","問題","這個步","驟會","執行","比","較","久","幾分鐘","vue","cli","相關","文章","用","vue","cli","好","處","他會","幫","妳","掉","很多","細部","設定","讓","省掉","很多","自己","設定","`","package","json","`","工","更多","細節","內容","可以","參考","以下","文章","官方","網站","vue","cli","3","安裝","與","使用","教學","|","d2","|","vue","cli3","安裝","與","建立","vue","專案","vue","vue","-","cli3","0","创建","项目","專案","結構","這邊","概略","介紹","一下","專案","結構","更多","有關","vue","專案","結構","說明","可以","參考","vue","cli","專案","結構","解析","dist","放置","編譯","後","檔案","實際","上會","跑","顧客","瀏覽器","去","運行","檔案","node","_","modules","相依","套件","存放","node","_","modules","zip","若","windows","下載","套件","問題","可以","先","使用","預先","下載","套件","但","可能","會有","作業","系統","相容性","問題","建議","還是","用","`","npm","install","`","來","下載","相依","套件","public","公用","靜態","擋","存放","像是","圖片","src","原始","碼","存放","我們","開發","主要","會動","地方","src","說","明將會","於","下面","篇幅","進行","src","-","origin","這是","`","vue","create","project","`","後","一開始","預設","src","資料夾","專案","中將","重新命名","為","`","src","-","origin","`","後","保存","讓","大家","可以","自行","比較","一下","差異","env","development","一些","開發","環境","用","全域","變數","可","設定","像是","後","端的","網址","env","production","一些","營運","環境","用","全域","變數","可","設定","像是","後","端的","網址","vue","config","js","這邊","可以","進行","vue","一些","設定","像是","所有","組件","預設","import","jquery","webpack","設定","網頁","網址","設定","開發","環境","啟動","`","frontend","`","就是","`","packages","json","`","目錄","後","開啟","command","line","執行","`","`","`","bash","npm","run","serve","`","`","`","便","可","開啟","一個","開發用","server","此外","可以","使用","`","vue","ui","`","來","啟動","ui","介面","操作","開發","環境","關於","vue","ui","本範例","不會","著","墨太多","多相","關內容","可以","參考","day29","vue","js","-","vue","cli","3","ui","安裝","介面","項目","結構","介紹","使用","輔助","開發","工具","vue","本身","有開","發一個","輔助","開發","工具","開發","上","很大","幫助","像是","觀察","組件","數值","這樣","不用","一直","`","console","log","`","去","看值","輔助","工具","本身","設計","成營","運環境","不能","使用","但","這是","可以","被","破解","`","因此","機敏","東西絕","對","不要","放","前端","`","更多","介紹","文章","可以","參考","vue","js","devtools","vue","js","vuex","學習","筆記","18","-","開發","工具","vue","js","devtools","透過","vue","-","cli","建置","專案","時","自動","切換","devtools","debug","環境","開發","安裝","第三方","套件","一般","開發時","會","使用","一些","成熟","第三方","套件","來","避免","自己","重","複","造輪子","以下","介紹本","專案","有用","套件","若","使用","node","_","modules","zip","話","以下","套件","均","被","安裝","vue","-","js","-","modal","安裝","指令","`","npm","install","-","d","vue","-","js","-","modal","`","移除","指令","`","npm","uninstall","vue","-","js","-","modal","`","功能","開起","一個","小視","窗","當點","選","task","時","會","跳出","modal","顯示","編輯","介面","vuedraggable","安裝","指令","`","npm","install","-","d","vuedraggable","`","移除","指令","`","npm","uninstall","vuedraggable","`","功能","讓","網頁","元素","可以","被","拖曳","用來","移動","卡片","axios","安裝","指令","`","npm","install","-","d","axios","`","移除","指令","`","npm","uninstall","axios","`","功能","用來","呼叫","restful","api","跟後端溝","通用","src","結構","api","跟後端","api","介接","資料","交換","集中","放置","assets","網頁","需要","用到","靜態","擋","放置","components","組件","集中","放置","vuetemplate","vue","空","範例","組件","nav","vue","board","vue","包含","`","todo","list","`","`","done","list","`","可以","透過","`","props","`","來","控制","board","可否","編輯","todolist","vue","`","todo","list","`","`","done","list","`","所","使用","組件","裡面","可以","放置","移動","`","task","`","使用","第三方","套件","`","draggable","`","來","實現","移動","`","task","`","可以","透過","`","props","`","來","控制","list","可否","編輯","task","vue","最","基本","`","task","`","組件","可以","觀看","編輯","一個","`","task","`","`","title","`","與","`","content","`","可以","透過","`","props","`","來","控制","task","可否","編輯","route","當網址","對","應","組件","比","較","複","雜後","有些","邏輯","可以","放到","這邊","像是","有些","網址","須要","登入","才","可","訪問","相關","權限","處理","store","vuex","本身","model","化","用法","可以","透過","`","namespace","`","來","讓","資料","物件","化","模組化","store","可以","放置","這些","物件","化","模組化","js","檔","views","這邊","定義了","網址","應該","對","應到","組件","nobackendhome","vue","僅能","觀看","task","需後端","資料","儲","存在","`","store","state","localboard","`","即","`","src","store","localboard","js","`","nobackendedit","vue","可以","觀看","編輯","task","需後端","資料","儲","存在","`","store","state","localboard","`","即","`","src","store","localboard","js","`","home","vue","修改","自","`","nobackendhome","vue","`","從後端","拿","資料","存進","`","store","state","remoteboard","`","動作","資料","儲","存在","`","store","state","remoteboard","`","即","`","src","store","remoteboard","js","`","edit","vue","修改","自","`","nobackendedit","vue","`","從後端","拿","資料","存進","`","store","state","remoteboard","`","動作","資料","儲","存在","`","store","state","remoteboard","`","即","`","src","store","remoteboard","js","`","pagenotfound","vue","當網址","無法","對","應到","router","規則","時","故定","回傳此","組件","app","vue","整個","`","組件","`","root","原點","`","router","-","view","`","宣告","網址","內容","應該","tag","內","進行","render","main","js","整個","`","vue","`","運作","原點","有些","第三方","套件","使用","必須","這邊","宣告","像是","`","vue","use","vmodal","`","如果","專案","要","使用","router","vuex","必須","new","vue","時傳入","參數","`","`","`","js","import","vue","vue","import","app","app","vue","import","router","router","import","store","store","import","第三方","套件","import","vmodal","vue","-","js","-","modal","vue","config","productiontip","=","false","使用","vue","-","js","-","modal","這個","第三方","套件","vue","use","vmodal","new","vue","router","store","render","h","=","h","app","mount","app","`","`","`","router","js","定義網址","對","應","組件","store","js","vuex","store","root","原點","編譯","build","開啟","command","line","後","執行","`","`","`","bash","npm","run","build","`","`","`","或者","使用","vue","ui","去","啟動","編譯","可以","編譯","完成","後","預設","會將","編譯","完","檔案","放到","`","dist","`","而","這些","編譯","後","檔案","實際上","顧客","瀏覽器","會","運行","檔案","本機開","發時","瀏覽器","上","所","運行","的並","不是","最終","實際","顧客","瀏覽器","上","運行","檔案","而","這些","編譯","後","檔案","將在後續","文章","說明","怎麼","部署","`","iis","server","`","上","接下","來","下","一篇","文章","將開","始後端","部份","說明"],key_words:[{word:"vue",weight:622.1778282754277},{word:"js",weight:223.0448818345873},{word:"store",weight:199.56647322042022},{word:"專案",weight:152.60965599208603},{word:"套件",weight:150.775203267},{word:"組件",weight:129.13124737791895},{word:"安裝",weight:117.39204307083541},{word:"開發",weight:117.39204307083541},{word:"src",weight:117.39204307083541},{word:"cli",weight:105.65283876375187},{word:"router",weight:105.65283876375187},{word:"設定",weight:105.65283876375187},{word:"task",weight:105.65283876375187},{word:"資料",weight:105.65283876375187},{word:"npm",weight:105.65283876375187},{word:"這邊",weight:93.91363445666833},{word:"選擇",weight:82.1744301495848},{word:"檔案",weight:82.1744301495848},{word:"編譯",weight:82.1744301495848},{word:"import",weight:82.1744301495848},{word:"state",weight:70.43522584250125},{word:"結構",weight:70.43522584250125},{word:"modal",weight:70.43522584250125},{word:"網址",weight:70.43522584250125},{word:"編輯",weight:70.43522584250125},{word:"remoteboard",weight:70.43522584250125},{word:"使用",weight:67.74449914185},{word:"list",weight:58.69602153541771},{word:"執行",weight:58.69602153541771},{word:"環境",weight:58.69602153541771}],excerpt:"前端部分之code位於範例專案中之\\frontend資料夾裡 開新專案 以下介紹本範例前端部分是怎麼建立的 vue create your-project-name 當前面安裝好vue cli後，這邊就可以使用cli輔助建立專案了 開啟command line執行 vue create your-project-name 以下是本範例專案選擇的選項: !1 選擇手動選擇功能 !2 router: 選擇後預設安裝好router的相關設定 css pre-processors: 選擇後，之後會問妳要不要使用像scss/sass的東西進行開發 !3 !4 當前面css pre-processors有勾選後，這邊可以選擇要用什麼css pre-processors !5 這邊lint選擇比較不嚴格的模式，若選擇比較嚴格的模式，有可能會變成code必須完全符合lint規範才能執行 !6 !7 !8 ..."},{title:"Trick of deploying .Net Core SPA application to Heroku",frontmatter:{title:"Trick of deploying .Net Core SPA application to Heroku",datetime:"2020/12/26",tag:[],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Trick of deploying .Net Core SPA application to Heroku"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/Website/heroku/coding-tips.html"},{name:"twitter:title",content:"Trick of deploying .Net Core SPA application to Heroku"},{name:"twitter:url",content:"/Coding/Website/heroku/coding-tips.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"heroku, db, git, 設定, 編譯, 連線, server, push, 指令, 部署, buildpack, 網站, app, master, 遷入, spa, 機制, 問題, id, 進行, head, 字串, ssl, 欄位, 這個, 相關, cli, port, core, 一個"},{property:"article:tag",content:"heroku"},{property:"article:tag",content:"db"},{property:"article:tag",content:"git"},{property:"article:tag",content:"設定"},{property:"article:tag",content:"編譯"},{property:"article:tag",content:"連線"},{property:"article:tag",content:"server"},{property:"article:tag",content:"push"},{property:"article:tag",content:"指令"},{property:"article:tag",content:"部署"},{property:"article:tag",content:"buildpack"},{property:"article:tag",content:"網站"},{property:"article:tag",content:"app"},{property:"article:tag",content:"master"},{property:"article:tag",content:"遷入"},{property:"article:tag",content:"spa"},{property:"article:tag",content:"機制"},{property:"article:tag",content:"問題"},{property:"article:tag",content:"id"},{property:"article:tag",content:"進行"},{property:"article:tag",content:"head"},{property:"article:tag",content:"字串"},{property:"article:tag",content:"ssl"},{property:"article:tag",content:"欄位"},{property:"article:tag",content:"這個"},{property:"article:tag",content:"相關"},{property:"article:tag",content:"cli"},{property:"article:tag",content:"port"},{property:"article:tag",content:"core"},{property:"article:tag",content:"一個"}]},regularPath:"/Coding/Website/heroku/coding-tips.html",relativePath:"Coding/Website/heroku/coding-tips.md",key:"v-f6776002",path:"/Coding/Website/heroku/coding-tips.html",headers:[{level:2,title:"設定連線字串",slug:"設定連線字串"}],git:{created:"Invalid Date",updated:"Invalid Date",commits:[{fullHash:""}],contributors:[null]},pure_content:'由於網路上很多部署 .net core spa 到 heroku 的文章，因此\r\n\r\n這邊不會贅述詳細流程，也不會分析使用 heroku 的優劣\r\n\r\n這篇文章主要想記錄的，是我部署的過程中遇到的一些小細節\r\n\r\n 部署流程概述\r\n\r\n1. 到 heroku 上註冊帳號 (如果沒有帳號)\r\n\r\n2. 安裝 heroku cli (如果沒有)\r\n\r\n3. 到 heroku 上建立新的app\r\n\r\n4. 設定 buildpack\r\n\r\n5. 到 heroku 上建立新的 posgres db\r\n\r\n6. 預先將 spa 的部分 build 好並遷入 git\r\n\r\n7. 直接 git push heroku head:master 觸發網頁部署\r\n\r\n8. 指定 heroku app type\r\n\r\n 設定 buildpack\r\n\r\n首先，heroku好像是設計機制的關西吧，他有幾種部署模式\r\n\r\n那如果要使用 `git push heroku head:master` 的方式部署\r\n\r\n目前看來，似乎必定會觸發編譯的過程\r\n\r\n也就是說，他不允許在這種部署模式下讓你直接上傳編譯好的檔案\r\n\r\n而 .net core 預設不在官方支援的編譯類型當中\r\n\r\n因此要使用到一位大大寫的編譯指令，[dotnetcore-buildpack](\r\n\r\n其實看一下他寫的指令，基本上就是一串 shell script，直接下載 .net core 在 linux 上的cli\r\n\r\n然後用那個 cli 進行編譯，並寫好網站執行的指令等等等(裡面其實也是做了不少事)\r\n\r\n而安裝buildpack，可以透過以下指令進行\r\n\r\n```bash\r\nheroku buildpacks:add \r\n```\r\n\r\n或直接到 heroku 的 dashboard 上，用 gui 介面設定\r\n\r\n那這邊還有一個issue，就是spa編譯的部分\r\n\r\n由於目前 heroku 官方寫的編譯 buildpack(heroku/nodejs) 要求 `package.json` 必須在根目錄上不能在子目錄\r\n\r\n所以...，我看了一下相關的文章是說，這好像跟 heroku 想要 cache node_modules 有關\r\n\r\n但...簡單來說，要不放子目錄，不然就不要用 heroku\r\n\r\n或者，就暴力解吧，直接預先編譯好spa的部分後遷入 git\r\n\r\n我有嘗試想要使用子目錄編譯的東西，像是 \r\n\r\n但這套件居然會在編譯好之後把其他東西清掉...orz\r\n\r\n還有的作法是說，用 git subtree 去指定路徑\r\n\r\n好吧，對於我這個只是想上傳 demo 網站的人來說，我決定還是直接遷入好了 lol\r\n\r\n 到 heroku 上建立新的 posgres db\r\n\r\n再來是建立db的部分，基本上就是把以下的欄位照著填，然後記得補上ssl相關的設定\r\n\r\n如果照著填還發生db連不到的問題，有很大機率不是連線字串的問題\r\n\r\n可能是其他的設定，或者是套件版本的問題\r\n\r\n要填的相關欄位有:\r\n\r\n欄位 | 用途\r\n---- |----\r\nuser id  | db 帳號\r\npassword  | db 密碼\r\nserver  | db 的位置\r\nport  | db port號(option)，預設為5432\r\ndatabase  | db 名稱\r\npooling  | 連線機制(option)\r\nssl mode  | 連線機制\r\ntrust server certificate | 連線機制\r\n\r\n最終組出來的連線字串會像這樣\r\n\r\n`user id=<your_id>;password=<your_pwd>;server=<your_server_ip>;port=5432;database=<your_db_name>;pooling=true;ssl mode=require;trust server certificate=true`\r\n\r\n 設定連線字串\r\n\r\n如果不希望db的一些機敏資料遷入 git 中，也可以選擇讓程式去讀 environment variable\r\n\r\n把連線字串寫在 env var 中，這樣就可以避免這個問題\r\n\r\n 直接 git push heroku head:master 觸發網頁部署\r\n\r\n首先要加入一個 remote\r\n\r\n`heroku git:remote -a <your_heroku_app_name>`\r\n\r\n再來，就是 push 到 heroku 上\r\n\r\n簡稱指令是 `git push heroku master`\r\n\r\n如果不行的話，就要用完整一點的指令 `git push heroku head:master`\r\n\r\n或者就要看你怎麼規畫你的 git 分支\r\n\r\n 指定 heroku app type\r\n\r\n如果啟動網站後看不到網站，而是 error page\r\n\r\n看 log 還有發現以下的字樣的話\r\n\r\n`at=error code=h14 desc=”no web processes running” method=get path=”/” host=xxx.herokuapp.com request_id=xxx fwd=”xxx.xx.xx.x" dyno= connect= service= status=503 bytes=`\r\n\r\n那8成就是 heroku 誤判了這個 `heroku app` 的類型\r\n\r\n必須要手動下指令讓他知道這是一個網站\r\n\r\n`heroku ps:scale web=1`\r\n\r\n 觀看設定檔\r\n\r\n當部署完成後，如果想調整 `appsettings.json` 或一些設定檔，可以登入上去調\r\n\r\n```bash\r\nheroku login  先進行登入認證\r\nheroku run bash  這樣就能進 server 用 linux 指令去進行操作了\r\n```',word_token:["由","於網","路上","很多","部署","net","core","spa","heroku","文章","因此","這邊","不會","贅述","詳細","流程","不會","分析","使用","heroku","優劣","這","篇文章","主要","想","記錄","部署","過程","遇到","一些","小細節","部署","流程","概述","1","heroku","上","註","冊","帳","號","如果","沒有","帳號","2","安裝","heroku","cli","如果","沒有","3","heroku","上","建立","新","app","4","設定","buildpack","5","heroku","上","建立","新","posgres","db","6","預先將","spa","部分","build","好並","遷入","git","7","直接","git","push","heroku","head","master","觸發","網頁","部署","8","指定","heroku","app","type","設定","buildpack","首先","heroku","好像","設計","機制","關西","幾種","部署","模式","如果","要","使用","`","git","push","heroku","head","master","`","方式","部署","目前","看來","似乎","必定","會觸","發編譯","過程","就是","說","允許","這種","部署","模式","下","讓","直接","上傳","編譯","好","檔案","而","net","core","預設","官方","支援","編譯","類型","當中","因此","要","使用","一位","大大","寫","編譯","指令","dotnetcore","-","buildpack","其實","一下","寫","指令","基本上","就是","一串","shell","script","直接","下載","net","core","linux","上","cli","然後用","那個","cli","進行","編譯","並寫","好","網站","執行","指令","等等","裡面","其實","不少","事","而安裝","buildpack","可以","透過","以下","指令","進行","`","`","`","bash","heroku","buildpacks","add","`","`","`","直接","heroku","dashboard","上","用","gui","介面","設定","這邊","還有","一個","issue","就是","spa","編譯","部分","由","於","目前","heroku","官方","寫","編譯","buildpack","heroku","nodejs","要求","`","package","json","`","必須","根目","錄上","不能","子目","錄","所以","一下","相關","文章","說","這","好像","heroku","想要","cache","node","_","modules","有關","但","簡單","來","說","要","不放","子目","錄","不然","不要","用","heroku","或者","暴力","解吧","直接","預先","編譯","好","spa","部分","後","遷入","git","嘗試","想要","使用","子目","錄編譯","東西","像是","但","這","套件","居然","會","編譯","好","後","其他","東西","清掉","orz","還有","作法","說","用","git","subtree","去","指定","路徑","好","對","於","這個","只是","想","上","傳","demo","網站","人來","說","決定","還是","直接","遷入","好","lol","heroku","上","建立","新","posgres","db","再來","建立","db","部分","基本上","就是","以下","欄位","照著","填","然後記","補上","ssl","相關","設定","如果","照著","填","還發生","db","連","不到","問題","很大","機率","不是","連線","字串","問題","可能","其他","設定","或者","套件","版本","問題","要","填","相關","欄位","欄位","|","用途","-","-","-","-","|","-","-","-","-","user","id","|","db","帳號","password","|","db","密碼","server","|","db","位置","port","|","db","port","號","option","預設","為","5432","database","|","db","名稱","pooling","|","連線","機制","option","ssl","mode","|","連線","機制","trust","server","certificate","|","連線","機制","最終","組出","來","連線","字串","會","像","這樣","`","user","id","=","_","id","password","=","_","pwd","server","=","_","server","_","ip","port","=","5432","database","=","_","db","_","name","pooling","=","true","ssl","mode","=","require","trust","server","certificate","=","true","`","設定","連線","字串","如果","希望","db","一些","機敏","資料","遷入","git","可以","選擇","讓","程式","去","讀","environment","variable","連線","字串","寫","env","var","這樣","可以","避免","這個","問題","直接","git","push","heroku","head","master","觸發","網頁","部署","首先","要","加入","一個","remote","`","heroku","git","remote","-","_","heroku","_","app","_","name","`","再來","就是","push","heroku","上","簡稱","指令","`","git","push","heroku","master","`","如果","不行","話","就要","用","完整","一點","指令","`","git","push","heroku","head","master","`","或者","就要","怎麼","規畫","git","分支","指定","heroku","app","type","如果","啟動","網站","後","看不到","網站","而是","error","page","log","還有","發現","以下","字樣","話","`","=","error","code","=","h14","desc","=","no","web","processes","running","”","method","=","path","=","”","”","host","=","xxx","herokuapp","com","request","_","id","=","xxx","fwd","=","”","xxx","xx","xx","x","dyno","=","connect","=","service","=","status","=","503","bytes","=","`","8","成就","heroku","誤判","這個","`","heroku","app","`","類型","必須","要","手動","下","指令","讓","知道","這是","一個","網站","`","heroku","ps","scale","web","=","1","`","觀看","設定","檔","當","部署","完成","後","如果","想","調整","`","appsettings","json","`","一些","設定","檔","可以","登入","上去","調","`","`","`","bash","heroku","login","先","進行","登入","認證","heroku","run","bash","這樣","能","進","server","用","linux","指令","去","進行","操作","`","`","`"],key_words:[{word:"heroku",weight:340.4369249054227},{word:"db",weight:129.13124737791895},{word:"git",weight:129.13124737791895},{word:"設定",weight:93.91363445666833},{word:"編譯",weight:93.91363445666833},{word:"連線",weight:82.1744301495848},{word:"server",weight:70.43522584250125},{word:"push",weight:70.43522584250125},{word:"指令",weight:65.41674040016},{word:"部署",weight:60.39001455876},{word:"buildpack",weight:58.69602153541771},{word:"網站",weight:58.69602153541771},{word:"app",weight:58.69602153541771},{word:"master",weight:58.69602153541771},{word:"遷入",weight:46.95681722833417},{word:"spa",weight:46.95681722833417},{word:"機制",weight:46.95681722833417},{word:"問題",weight:46.95681722833417},{word:"id",weight:46.95681722833417},{word:"進行",weight:46.95681722833417},{word:"head",weight:46.95681722833417},{word:"字串",weight:44.5123557188},{word:"ssl",weight:35.21761292125063},{word:"欄位",weight:35.21761292125063},{word:"這個",weight:35.21761292125063},{word:"相關",weight:35.21761292125063},{word:"cli",weight:35.21761292125063},{word:"port",weight:35.21761292125063},{word:"core",weight:35.21761292125063},{word:"一個",weight:35.21761292125063}],excerpt:"由於網路上很多部署 .net core spa 到 heroku 的文章，因此 這邊不會贅述詳細流程，也不會分析使用 heroku 的優劣 這篇文章主要想記錄的，是我部署的過程中遇到的一些小細節 部署流程概述 到 heroku 上註冊帳號 (如果沒有帳號) 安裝 heroku cli (如果沒有) 到 heroku 上建立新的app 設定 buildpack 到 heroku 上建立新的 posgres db 預先將 spa 的部分 build 好並遷入 git 直接 git push heroku head:master 觸發網頁部署 指定 heroku app type 設定 buildpack 首先，heroku好像是設計機制的關西吧，他有幾種部署模式 那如果要使用 git push heroku head:master 的方式部署 目前看來，似乎必定會觸發編譯的過程 也就是說，他不..."},{title:"Vue3 + .Net Core3 SPA + Role-Based Authorization",frontmatter:{title:"Vue3 + .Net Core3 SPA + Role-Based Authorization",datetime:"2020/11/26",tag:["vue","dotnet core","spa","user-role","authorization"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Vue3 + .Net Core3 SPA + Role-Based Authorization"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/Website/vue-dotnetcore-scaffolding/authorization.html"},{name:"twitter:title",content:"Vue3 + .Net Core3 SPA + Role-Based Authorization"},{name:"twitter:url",content:"/Coding/Website/vue-dotnetcore-scaffolding/authorization.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"user, public, db, role, set, ef, admin, entity, userroles, table, userrole, 資料, int, id, modelbuilder, authorization, mapuserrole, 進行, email, 機制, csharp, core, 透過, 這邊, new, 參考, 認證, 設置, accountstatus, models"},{property:"article:tag",content:"user"},{property:"article:tag",content:"public"},{property:"article:tag",content:"db"},{property:"article:tag",content:"role"},{property:"article:tag",content:"set"},{property:"article:tag",content:"ef"},{property:"article:tag",content:"admin"},{property:"article:tag",content:"entity"},{property:"article:tag",content:"userroles"},{property:"article:tag",content:"table"},{property:"article:tag",content:"userrole"},{property:"article:tag",content:"資料"},{property:"article:tag",content:"int"},{property:"article:tag",content:"id"},{property:"article:tag",content:"modelbuilder"},{property:"article:tag",content:"authorization"},{property:"article:tag",content:"mapuserrole"},{property:"article:tag",content:"進行"},{property:"article:tag",content:"email"},{property:"article:tag",content:"機制"},{property:"article:tag",content:"csharp"},{property:"article:tag",content:"core"},{property:"article:tag",content:"透過"},{property:"article:tag",content:"這邊"},{property:"article:tag",content:"new"},{property:"article:tag",content:"參考"},{property:"article:tag",content:"認證"},{property:"article:tag",content:"設置"},{property:"article:tag",content:"accountstatus"},{property:"article:tag",content:"models"}]},regularPath:"/Coding/Website/vue-dotnetcore-scaffolding/authorization.html",relativePath:"Coding/Website/vue-dotnetcore-scaffolding/authorization.md",key:"v-7ba2451f",path:"/Coding/Website/vue-dotnetcore-scaffolding/authorization.html",headers:[{level:2,title:"Role",slug:"role"},{level:2,title:"Policy",slug:"policy"},{level:2,title:"Why Custom Authorization",slug:"why-custom-authorization"},{level:2,title:"主要目標",slug:"主要目標"},{level:2,title:"Why Entity Framework",slug:"why-entity-framework"},{level:2,title:"開發流程",slug:"開發流程"},{level:2,title:"nuget 安裝",slug:"nuget-安裝"},{level:2,title:"設計 Table",slug:"設計-table"},{level:2,title:"建立 Table",slug:"建立-table"},{level:2,title:"SeedData",slug:"seeddata"},{level:2,title:"更新/建立 DB",slug:"更新-建立-db"},{level:2,title:"包裝/DI DB Context",slug:"包裝-di-db-context"},{level:2,title:"TestAuthentication",slug:"testauthentication"},{level:2,title:"GetUserInfo",slug:"getuserinfo"}],git:{created:"12/4/2020, 7:44:40 AM",updated:"12/4/2020, 7:44:40 AM",author:"johnny1991524",commits:[{fullHash:"66a045338acf4da9463171eefb0217d57e4b98a6",authorTime:"1607039080",commitTime:"1607039080",authorName:"johnny1991524"}],contributors:["johnny1991524"]},pure_content:'承接上篇，建立了一個網頁閒置偵測的機制\r\n\r\n這次要談的內容是 `authorization`(授權)\r\n\r\n`authentication`(認證) 跟 `authorization`(授權)，關注的地方是不同的\r\n\r\nauthentication 關注在身分的核對，旨在確認對方是會員\r\n\r\n而 authorization 關注在這個user他有什麼樣的權利，可以訪問哪些功能\r\n\r\n authorization\r\n\r\nauthorization 的實作有相當多的類型，光是 .net 原生就提供了許多種設定方式 [^1]\r\n\r\n甚至是一些官方範例 [^2]\r\n\r\n網路上還有允許動態調整權限的範例 [^3]\r\n\r\n role\r\n\r\n一個 user 自身可以擁有多種 role，若某a擁有 `admin` role\r\n\r\n他或許可以停權別人的帳號\r\n\r\n```csharp\r\n[authorize(roles = "admin")]\r\npublic void updateuseraccount(user user){\r\n    // do something\r\n}\r\n```\r\n\r\n policy\r\n\r\n有的時候，我們可能會需要多個 role 才能存取一個 function\r\n\r\n```csharp\r\n[authorize(roles = "admin_read, admin_write")]\r\npublic void updateuseraccount(user user){\r\n    // do something\r\n}\r\n```\r\n\r\n那如果 role 的某些組合很常出現，那就必須要一直把他們寫出來\r\n\r\n這時就可以考慮用 policy，直接設定`admin policy`含有`admin_read` `admin_write` 兩個權限\r\n\r\n```csharp\r\n[authorize(policy = "admin")]\r\npublic void updateuseraccount(user user){\r\n    // do something\r\n}\r\n```\r\n\r\n why custom authorization\r\n\r\n原生的 authorization 機制是滿完善的，但要使用他們會造成系統開發的一些限制\r\n\r\n1. 必須使用.net提供的db結構，否則許多地方不僅要重造輪子，甚至會變成魔改\r\n\r\n2. 為了運用.net提供的db結構，會變成可能得要使用 entity framework，不然與db聯動的部分還是得要自己重造輪子\r\n\r\n3. 為了好好的運用前兩項的`限制`，必須要讓開發人員花時間去了解.net提供的`完整`認證授權機制\r\n\r\n    如果系統不夠大，做這樣的付出，cp值可能不是很高\r\n\r\n4. 如果運用了 .net 提供的機制，要自己做些客製化，難度會高出許多，還不如自己造輪子\r\n\r\n5. 如果要純spa的話，.net提供的範例都是mvc，即便是spa的範例，在認證這塊也是用mvc實作\r\n\r\n    所以這會導致無法做到純spa，要純spa，要改造的地方會非常的多\r\n\r\n當然必須要說的是，原生的機制非常的強大與完整，但同時內容太多了\r\n\r\n如果只是要做一些簡單的認證授權機制，反而是有些不方便的\r\n\r\n custom authorization\r\n\r\n綜上所述，這邊主要參考 stackoverflow 上的討論[^4]\r\n\r\n使用客製化的 `authorization action filter` 與簡單的 table 設計\r\n\r\n搭配 entity framework core，code first 策略來實作授權機制\r\n\r\n並使用ms sql server來存放db，及ssms來看db中的資料\r\n\r\n 主要目標\r\n\r\n讓 weather api 可以被擁有 `user` 權限的用戶存取\r\n\r\n因此就算是擁有 `admin` 權限的用戶，只要他沒有 `user` 的權限\r\n\r\n當他存取 weather api 時，依然要 401 unauthorize\r\n\r\n以下影片為上述的示意\r\n\r\n!video.mp4)\r\n\r\n why entity framework\r\n\r\nentity framework 是一種透過 orm(object relational mapping) 來存取db的方式\r\n\r\n只要建立一些class，描述清楚資料間的關聯，就可以直接用ef來創建/調整db，並存取db的資料\r\n\r\n會比自己手動寫sql在程式裡安全，也會比自己寫 stored procedure 還要快速\r\n\r\n當然 ef 不是萬能的，有些時候要透過 ef 來達成複雜的 sql 指令可能會有些難度\r\n\r\n因此簡單的 crud 可以使用 ef 來達到\r\n\r\n而當要處理複雜又講求效率的 sql 時，就可以再使用其他方式達成(如stored procedure)\r\n\r\n想了解更多 ef 的東西的話，可以參考看看這些文章[^5][^6][^7][^8]\r\n\r\n 開發流程\r\n\r\n首先，架構上，這次將會把資料`寫死在db`，將不再把資料寫死在程式碼中\r\n\r\n因此會在專案中設計好db的table，再使用ef(entity framework)直接更新/建立db\r\n\r\n並透過ef來存取db中的資料\r\n\r\n接著會在之前的基礎上進行`認證`部分的改造，改為從db讀資料，並且更改為`信箱`，`密碼`認證\r\n\r\n接著實作授權的機制\r\n\r\n entity framework\r\n\r\n nuget 安裝\r\n\r\n microsoft.aspnetcore.identity.entityframeworkcore\r\n microsoft.entityframeworkcore (提供ef一些更便捷的操作function)\r\n microsoft.entityframeworkcore.design (提供ef設計table的api)\r\n microsoft.entityframeworkcore.sqlserver (讓ef可以連到mssql)\r\n\r\n 設計 table\r\n\r\ntable 上主要要建2+1個 table\r\n\r\n1. user: 用來存user的主要資訊，像是姓名、email、password...\r\n\r\n     比較特別的是，密碼存的是經過hash處理的字串，以防資料庫若不小心外洩，密碼會`比較`不容易外洩\r\n\r\n     而密碼的運算，這邊主要參考自 stackoverflow 上的這邊 [^9]\r\n\r\n2. user role: 用來存目前有哪些 role\r\n\r\n3. mapuserrole: 由於`user`跟`user role`是many-to-many的關聯，因此需要這張table紀錄這個關係\r\n\r\n 建立 table\r\n\r\n官方在關聯的說明上還算講的滿好懂得，有興趣可以多參考參考[^8]\r\n\r\n以下是這邊建立table的一些說明\r\n\r\n user\r\n\r\n    ```csharp\r\n    public class user\r\n    {\r\n        // 設定pk，並且讓id可以auto increment\r\n        [key, databasegenerated(databasegeneratedoption.identity)]\r\n        public int id { get; set; }\r\n        public string name { get; set; }\r\n        // 利用 data anotation 標注是 email\r\n        // 這樣還能自動進行欄位的後端驗證\r\n        [datatype(datatype.emailaddress)]\r\n        public string email { get; set; }\r\n        public string passwordhash { get; set; }\r\n        public accountstatus accountstatus { get; set; }\r\n\r\n        // 以下兩個欄位是為了設定多對多的關係\r\n        public icollection<userrole> userroles { get; set; }\r\n        [jsonignore]\r\n        public list<mapuserrole> mapuserroles { get; set; }\r\n\r\n        public user()\r\n        {\r\n\r\n        }\r\n\r\n        public user(string email, string password)\r\n        {\r\n            this.email = email;\r\n            this.passwordhash = securepasswordhasher.hash(password);\r\n            this.accountstatus = accountstatus.uncheck;\r\n        }\r\n    }\r\n    ```\r\n\r\n user role\r\n\r\n    ```csharp\r\n    public class userrole\r\n    {\r\n        [key]\r\n        public int id { get; set; }\r\n        /// <summary>\r\n        /// for matching program code\r\n        /// </summary>\r\n        public string codename { get; set; }\r\n        public string displayname { get; set; }\r\n        // 透過設置 jsonignore，避免序列化資料到前端時產生循環參考\r\n        [jsonignore]\r\n        public icollection<user> users { get; set; }\r\n        [jsonignore]\r\n        public list<mapuserrole> mapuserroles { get; set; }\r\n    }\r\n    ```\r\n\r\n mapuserrole\r\n\r\n    ```csharp\r\n    public class mapuserrole\r\n    {\r\n        [databasegenerated(databasegeneratedoption.identity)]\r\n        public int id { get; set; }\r\n\r\n        // 設置多對多關係\r\n        public int userid { get; set; }\r\n        public int userrolesid { get; set; }\r\n\r\n        // 透過下面的語法設置orm的多對多關係\r\n        public user user { get; set; }\r\n        public userrole userroles { get; set; }\r\n    }\r\n    ```\r\n\r\n db context\r\n\r\n    ```csharp\r\n    public class applicationdbcontext : identitydbcontext\r\n    {\r\n        public applicationdbcontext(dbcontextoptions<applicationdbcontext> options)\r\n            : base(options)\r\n        {\r\n        }\r\n\r\n        // 將3張table註冊起來，讓ef知道要建立的就是下面3張table\r\n        public dbset<user> user { get; set; }\r\n        public dbset<userrole> userrole { get; set; }\r\n        public dbset<mapuserrole> mapuserroles { get; set; }\r\n\r\n        protected override void onmodelcreating(modelbuilder modelbuilder)\r\n        {\r\n            // 必須要加這行執行預設的行為，否則會無法正常執行指令\r\n            base.onmodelcreating(modelbuilder);\r\n\r\n            // 透過 fluent api 將 email 設置為 unique\r\n            modelbuilder.entity<user>()\r\n                .hasindex(u => u.email)\r\n                .isunique();\r\n            \r\n            // 透過 fluent api 與以下語法建立多對多關係\r\n            modelbuilder.entity<user>()\r\n                .hasmany(p => p.userroles)\r\n                .withmany(p => p.users)\r\n\r\n                .usingentity<mapuserrole>(\r\n                    j => j\r\n                        .hasone(pt => pt.userroles)\r\n                        .withmany(t => t.mapuserroles)\r\n                        .hasforeignkey(pt => pt.userrolesid),\r\n                    j => j\r\n                        .hasone(pt => pt.user)\r\n                        .withmany(p => p.mapuserroles)\r\n                        .hasforeignkey(pt => pt.userid),\r\n                    j =>\r\n                    {\r\n                        j.haskey(t => new { t.userid, t.userrolesid });\r\n                    });\r\n            \r\n            // 設置初始資料，後續會提到\r\n            seeddata(modelbuilder);\r\n        }\r\n    }\r\n    ```\r\n\r\n seeddata\r\n\r\n有的系統在初始設計時，就會將一些參數初始化設置進db當中，在 ef 裡也是允許做這件事的\r\n\r\n手段有很多種，一種是建立/更新db時，一併把資料設置上去，一種是啟動系統時建立\r\n\r\n這邊採用前者來設置初始資料\r\n\r\n```csharp\r\nprotected void seeddata(modelbuilder modelbuilder)\r\n{\r\n    // add admin, user\r\n    modelbuilder\r\n        .entity<user>()\r\n        .hasdata(new user("admin@auth.com", "@dmin")\r\n        {\r\n            id = 1,\r\n            name = "admin",\r\n            accountstatus = accountstatus.approved\r\n        });\r\n\r\n    modelbuilder\r\n        .entity<user>()\r\n        .hasdata(new user("user@auth.com", "user1234")\r\n        {\r\n            id = 2,\r\n            name = "user",\r\n            accountstatus = accountstatus.approved\r\n        });\r\n\r\n    // add role\r\n    modelbuilder\r\n        .entity<userrole>()\r\n        .hasdata(new userrole\r\n        {\r\n            id = (int)models.userroles.admin,\r\n            codename = models.userroles.admin.tostring(),\r\n            displayname = models.userroles.admin.tostring(),\r\n        });\r\n\r\n    modelbuilder\r\n        .entity<dbmodels.userrole>()\r\n        .hasdata(new dbmodels.userrole\r\n        {\r\n            id = (int)models.userroles.user,\r\n            codename = models.userroles.user.tostring(),\r\n            displayname = models.userroles.user.tostring()\r\n        });\r\n\r\n    // update many-to-many relation\r\n    // add role of user\r\n    modelbuilder\r\n        .entity<mapuserrole>()\r\n        .hasdata(new mapuserrole\r\n        {\r\n            userid = 1,\r\n            userrolesid = (int)models.userroles.admin\r\n        });\r\n\r\n    modelbuilder\r\n        .entity<mapuserrole>()\r\n        .hasdata(new mapuserrole\r\n        {\r\n            userid = 2,\r\n            userrolesid = (int)models.userroles.user\r\n        });\r\n}\r\n```\r\n\r\n 更新/建立 db\r\n\r\n當建立好用來對應table的物件後，就可以透過 `dotnet-ef` 下指令來更新/建立db了\r\n\r\n而要使用該指令前，會需要先使用 powershell/bash 來安裝該指令\r\n\r\n```bash\r\ndotnet tool install --global dotnet-ef\r\n```\r\n\r\n接著當第一次建立table，或後續架構更改，都可以用以下指令來更新db\r\n\r\n```bash\r\ndotnet ef migrations add initialcreate\r\ndotnet ef database update\r\n```\r\n\r\n當table對應的class有進行異動時，就可以使用以上指令來進行更新\r\n\r\n若希望留下歷程，可以把 initialcreate 改為其他的名字\r\n\r\n這樣就可以在 migrations 資料夾留下異動的紀錄\r\n\r\n而當db有資料時，table卻異動了，也可以使用指令來進行更新\r\n\r\n有些情況他會幫你處理資料的異動，但有些他判斷不行的，也會有錯誤訊息出來\r\n\r\n 包裝/di db context\r\n\r\n當在 api 的 controller進行異動時，若在function裡面處理資料對db的動作\r\n\r\n1. 會製造大量重複的邏輯\r\n\r\n2. 會讓 controller 中的邏輯變得複雜，可讀性降低\r\n\r\n因此可以將一些對db的邏輯包裝起來，透過 di 的機制注入到 controller 中使用\r\n\r\n```csharp\r\n// startup.cs\r\npublic void configureservices(iservicecollection services)\r\n{\r\n    // 將 db context 注入\r\n    services.adddbcontext<applicationdbcontext>(options =>\r\n        options.usesqlserver(\r\n            configuration.getconnectionstring("defaultconnection")));\r\n\r\n    // 將包裝起來的邏輯注入\r\n    services.addscoped<iuserauthhandler<user, int>, userauthhandler>();\r\n}\r\n```\r\n\r\n`addscoped` 是代表注入的生命週期運作模式，詳情可以參考這邊[^10]\r\n\r\n 實作 authorization attribute\r\n\r\n實作的步驟大致為\r\n\r\n1. 建立 class 實作 iauthorizationfilter\r\n\r\n2. 從 session 中讀出使用者的 id\r\n\r\n3. 利用 id 查出該 user 擁有哪些 role\r\n\r\n4. 比對 user 的 role 跟 function 上設定的 role\r\n\r\n5. 當比對ok才代表該 user 有被授權存取\r\n\r\n```csharp\r\npublic class authorizeactionfilter : iauthorizationfilter\r\n{\r\n    private readonly userroles _userrole;\r\n    protected readonly iuserauthhandler<user,int> _authhandler;\r\n    public authorizeactionfilter(userroles userrole, iuserauthhandler<user, int> authhandler)\r\n    {\r\n        this._userrole = userrole;\r\n        this._authhandler = authhandler;\r\n    }\r\n\r\n    public void onauthorization(authorizationfiltercontext context)\r\n    {\r\n        // 從 session 讀取 id\r\n        int? id = context.httpcontext.user.getuserid();\r\n        if (id == null)\r\n        {\r\n            context.result = new unauthorizedresult();\r\n            return;\r\n        }\r\n\r\n        // 讀取 user 擁有的 role\r\n        ienumerable<userrole> roles = this._authhandler.findbyid((int)id)?.userroles;\r\n\r\n        // 進行 role 的比對\r\n        bool isauthorized = roles.any(x => x.codename.tolower() == this._userrole.tostring().tolower() );\r\n\r\n        if (!isauthorized)\r\n        {\r\n            context.result = new unauthorizedresult();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n 改造前端\r\n\r\n testauthentication\r\n\r\n由於之前測試認證是使用 email，並且寫死測資\r\n\r\n這邊改寫成以 email、密碼的方式來進行登入登出\r\n\r\n並將組建的名稱改為 `signin.vue` code請[參考這邊](\r\n\r\n getuserinfo\r\n\r\n由於這次增加了 user role，在拿取 user 的資料上，格式也進行了異動\r\n\r\n對應會更改到的是 `getuserinfo` 這支api，以及 store 中儲存的格式\r\n\r\n 總結來說\r\n\r\n這邊透過 ef 建立了一個小小的會員認證、授權機制\r\n\r\n而由於 role 被存在了 db，所以其實這些`設定`都是可以很動態的進行更改的\r\n\r\n只要建個後臺機制，這樣就可以讓擁有 admin role 的人直接使用網站來調整 user 的權限了\r\n\r\n[完整的code在此]( 歡迎參考看看啦\r\n\r\n\r\n[^1]: [asp.net core 中以角色為基礎的授權](\r\n[^2]: [official authorization sample](\r\n[^3]: [mvc .net core dynamic role based authorization](\r\n[^4]: [how do you create a custom authorizeattribute in asp.net core?](\r\n[^5]: [getting started with ef core](\r\n[^6]: [黑暗執行緒上對 ef core 的介紹整理](\r\n[^7]: [[鐵人賽 day24] asp.net core 2 系列 - entity framework core](\r\n[^8]: [relationships](\r\n[^9]: [how to hash a password](\r\n[^10]: [[鐵人賽 day04] asp.net core 2 系列 - 依賴注入 (dependency injection)](',word_token:["承接","上篇","建立","一個","網頁","閒置","偵測","機制","這","次要","談","內容","`","authorization","`","授權","`","authentication","`","認證","`","authorization","`","授權","關注","地方","不同","authentication","關注","身分","核","對","旨在","確認","對方","會員","而","authorization","關注","這個","user","什麼樣","權利","可以","訪問","哪些","功能","authorization","authorization","實作","相當","類型","光是","net","原生","提供","許多種","設定","方式","1","甚至","一些","官方","範例","2","網","路上","還有","允","許動態","調整","權限","範例","3","role","一個","user","自身","可以","擁有","多種","role","若","擁有","`","admin","`","role","或許","可以","停權","別人","帳號","`","`","`","csharp","authorize","roles","=","admin","public","void","updateuseraccount","user","user","something","`","`","`","policy","時候","我們","可能","會","需要","多個","role","才能","存取","一個","function","`","`","`","csharp","authorize","roles","=","admin","_","read","admin","_","write","public","void","updateuseraccount","user","user","something","`","`","`","如果","role","某些","組合","很常","出現","必須","要","一直","他們","寫","出來","這時","可以","考慮","用","policy","直接","設定","`","admin","policy","`","含有","`","admin","_","read","`","`","admin","_","write","`","兩個","權限","`","`","`","csharp","authorize","policy","=","admin","public","void","updateuseraccount","user","user","something","`","`","`","why","custom","authorization","原生","authorization","機制","滿","完善","但","要","使用","他們","會","造成","系統","開發","一些","限制","1","必須","使用","net","提供","db","結構","否則","許多","地方","不僅","要","重造","輪子","甚至","會","變成","魔","改","2","為","運用","net","提供","db","結構","會","變成","可能","要","使用","entity","framework","不然","與","db","聯動","部分","還是","要","自己","重造","輪子","3","為","好好","運用","前","兩項","`","限制","`","必須","要","讓","開發","人員花","時間","去","了解","net","提供","`","完整","`","認證","授權","機制","如果","系統","不夠","大","這樣","付出","cp","值","可能","不是","高","4","如果","運用","net","提供","機制","要","自己","做些客","製","化","難度","會","高出","許多","還","不如","自己","造輪子","5","如果","要純","spa","話","net","提供","範例","mvc","即便","spa","範例","認證","這塊","用","mvc","實作","所以","這會","導致","無法","做到","純","spa","要純","spa","要","改造","地方","會","非常","當然","必須","要","說","原生","機制","非常","強大","與","完整","但","同時","內容","太多","如果","只是","要","一些","簡單","認證","授權","機制","反而","有些","方便","custom","authorization","綜上","所述","這邊","主要","參考","stackoverflow","上","討論","4","使用","客","製","化","`","authorization","action","filter","`","與","簡單","table","設計","搭配","entity","framework","core","code","first","策略","來","實作","授權","機制","並","使用","ms","sql","server","來","存放","db","ssms","來","db","資料","主要","目標","讓","weather","api","可以","被","擁有","`","user","`","權限","用戶","存取","因此","就算","擁有","`","admin","`","權限","用戶","只要","沒","`","user","`","權限","當他","存取","weather","api","時","依然","要","401","unauthorize","以下","影片","為","上述","示意","video","mp4","why","entity","framework","entity","framework","一種","透過","orm","object","relational","mapping","來","存取","db","方式","只要","建立","一些","class","描述","清楚","資料","間","關聯","可以","直接","用","ef","來","創建","調整","db","並","存取","db","資料","會","比","自己","手動","寫","sql","程式","裡","安全","會","比","自己","寫","stored","procedure","還要","快速","當然","ef","不是","萬能","有些","時候","要","透過","ef","來達成","複","雜的","sql","指令","可能","會","有些","難度","因此","簡單","crud","可以","使用","ef","來","達","而","當要","處理","複","雜又講求","效率","sql","時","可以","再","使用","其他","方式","達成","如","stored","procedure","想","了解","ef","東西","話","可以","參考","看看","這些","文章","5","6","7","8","開發","流程","首先","架構","上","這次","將會","資料","`","寫","死","db","`","將","不再","資料","寫","死","程式","碼中","因此","會","專案","設計","好","db","table","再","使用","ef","entity","framework","直接","更新","建立","db","並透過","ef","來","存取","db","資料","接著會","之前","基礎","上","進行","`","認證","`","部分","改造","改為","從","db","讀資料","並且","更改","為","`","信箱","`","`","密碼","`","認證","接著","實作","授權","機制","entity","framework","nuget","安裝","microsoft","aspnetcore","identity","entityframeworkcore","microsoft","entityframeworkcore","提供","ef","一些","便捷","操作","function","microsoft","entityframeworkcore","design","提供","ef","設計","table","api","microsoft","entityframeworkcore","sqlserver","讓","ef","可以","連到","mssql","設計","table","table","上","主要","要建","2","1","個","table","1","user","用來存","user","主要","資訊","像是","姓名","email","、","password","比較","特別","密碼","存","經過","hash","處理","字串","以防","資料","庫","若","小心","外洩","密碼","會","`","比較","`","容易","外洩","而","密碼","運算","這邊","主要","參考","自","stackoverflow","上","這邊","9","2","user","role","用來存","目前","哪些","role","3","mapuserrole","由","於","`","user","`","`","user","role","`","-","-","關聯","因此","需要","這張","table","紀錄","這個關","係","建立","table","官方","關聯","說","明上","還算講","滿好","懂得","有興趣","可以","參考","參考","8","以下","這邊","建立","table","一些","說明","user","`","`","`","csharp","public","class","user","設定","pk","並且","讓","id","可以","auto","increment","key","databasegenerated","databasegeneratedoption","identity","public","int","id","set","public","string","name","set","利用","data","anotation","標注","email","這樣","還能","自動","進行","欄位","後","端驗證","datatype","datatype","emailaddress","public","string","email","set","public","string","passwordhash","set","public","accountstatus","accountstatus","set","以下","兩個","欄位","為","設定","對","多的關","係","public","icollection","userrole","userroles","set","jsonignore","public","list","mapuserrole","mapuserroles","set","public","user","public","user","string","email","string","password","email","=","email","passwordhash","=","securepasswordhasher","hash","password","accountstatus","=","accountstatus","uncheck","`","`","`","user","role","`","`","`","csharp","public","class","userrole","key","public","int","id","set","summary","matching","program","code","summary","public","string","codename","set","public","string","displayname","set","透過","設置","jsonignore","避免","序列化","資","料到","前端","時產生","循環","參考","jsonignore","public","icollection","user","users","set","jsonignore","public","list","mapuserrole","mapuserroles","set","`","`","`","mapuserrole","`","`","`","csharp","public","class","mapuserrole","databasegenerated","databasegeneratedoption","identity","public","int","id","set","設置","對","多關","係","public","int","userid","set","public","int","userrolesid","set","透過","下面","語法","設置","orm","對","多關","係","public","user","user","set","public","userrole","userroles","set","`","`","`","db","context","`","`","`","csharp","public","class","applicationdbcontext","identitydbcontext","public","applicationdbcontext","dbcontextoptions","applicationdbcontext","options","base","options","將","3","張","table","註","冊","起","來","讓","ef","知道","要","建立","就是","下面","3","張","table","public","dbset","user","user","set","public","dbset","userrole","userrole","set","public","dbset","mapuserrole","mapuserroles","set","protected","override","void","onmodelcreating","modelbuilder","modelbuilder","必須","要加","這行","執行","預設","行為","否則","會","無法","正常","執行","指令","base","onmodelcreating","modelbuilder","透過","fluent","api","將","email","設置","為","unique","modelbuilder","entity","user","hasindex","u","=","u","email","isunique","透過","fluent","api","與","以下","語法","建立","對","多關","係","modelbuilder","entity","user","hasmany","p","=","p","userroles","withmany","p","=","p","users","usingentity","mapuserrole","j","=","j","hasone","pt","=","pt","userroles","withmany","t","=","t","mapuserroles","hasforeignkey","pt","=","pt","userrolesid","j","=","j","hasone","pt","=","pt","user","withmany","p","=","p","mapuserroles","hasforeignkey","pt","=","pt","userid","j","=","j","haskey","t","=","new","t","userid","t","userrolesid","設置","初始","資料","後","續會","提到","seeddata","modelbuilder","`","`","`","seeddata","系統","初始","設計時","就會將","一些","參數","初始化","設置","進","db","當中","ef","裡也","允許","這件","事","手段","很多","種","一種","建立","更新","db","時","併","資料","設置","上去","一種","啟動系","統時","建立","這邊","採用","前者","來","設置","初始","資料","`","`","`","csharp","protected","void","seeddata","modelbuilder","modelbuilder","add","admin","user","modelbuilder","entity","user","hasdata","new","user","admin","@","auth","com","@","dmin","id","=","1","name","=","admin","accountstatus","=","accountstatus","approved","modelbuilder","entity","user","hasdata","new","user","user","@","auth","com","user1234","id","=","2","name","=","user","accountstatus","=","accountstatus","approved","add","role","modelbuilder","entity","userrole","hasdata","new","userrole","id","=","int","models","userroles","admin","codename","=","models","userroles","admin","tostring","displayname","=","models","userroles","admin","tostring","modelbuilder","entity","dbmodels","userrole","hasdata","new","dbmodels","userrole","id","=","int","models","userroles","user","codename","=","models","userroles","user","tostring","displayname","=","models","userroles","user","tostring","update","-","-","relation","add","role","user","modelbuilder","entity","mapuserrole","hasdata","new","mapuserrole","userid","=","1","userrolesid","=","int","models","userroles","admin","modelbuilder","entity","mapuserrole","hasdata","new","mapuserrole","userid","=","2","userrolesid","=","int","models","userroles","user","`","`","`","更新","建立","db","當","建立","好用","來","對","應","table","物件","後","可以","透過","`","dotnet","-","ef","`","下","指令","來","更新","建立","db","而要","使用","該","指令","前","會","需要","先","使用","powershell","bash","來安裝","該","指令","`","`","`","bash","dotnet","tool","install","-","-","global","dotnet","-","ef","`","`","`","接著當","第一次","建立","table","或後續","架構","更改","可以","用","以下","指令","來","更新","db","`","`","`","bash","dotnet","ef","migrations","add","initialcreate","dotnet","ef","database","update","`","`","`","當","table","對應","class","進行","異動時","可以","使用","以上","指令","來","進行","更新","若","希望","留下","歷程","可以","initialcreate","改為","其他","名字","這樣","可以","migrations","資料夾","留下","異動","紀錄","而當","db","資料","時","table","卻","異動","可以","使用","指令","來","進行","更新","有些","情況","會","幫","處理","資料","異動","但","有些","判斷","不行","會","錯","誤訊息","出來","包裝","di","db","context","當在","api","controller","進行","異動時","若","function","裡面","處理","資料","對","db","動作","1","會","製","造","大量重","複","邏輯","2","會","讓","controller","邏輯","變得","複","雜","可","讀性","降低","因此","可以","將","一些","對","db","邏輯","包裝","起來","透過","di","機制","注入","controller","使用","`","`","`","csharp","startup","cs","public","void","configureservices","iservicecollection","services","將","db","context","注入","services","adddbcontext","applicationdbcontext","options","=","options","usesqlserver","configuration","getconnectionstring","defaultconnection","將包","裝起","來","邏輯","注入","services","addscoped","iuserauthhandler","user","int","userauthhandler","`","`","`","`","addscoped","`","代表","注入","生命","週期","運作","模式","詳情","可以","參考","這邊","10","實作","authorization","attribute","實作","步驟","大致","為","1","建立","class","實作","iauthorizationfilter","2","從","session","中讀","出","使用者","id","3","利用","id","查出","該","user","擁有","哪些","role","4","比","對","user","role","function","上","設定","role","5","當比","對","ok","才","代表","該","user","被","授權","存取","`","`","`","csharp","public","class","authorizeactionfilter","iauthorizationfilter","private","readonly","userroles","_","userrole","protected","readonly","iuserauthhandler","user","int","_","authhandler","public","authorizeactionfilter","userroles","userrole","iuserauthhandler","user","int","authhandler","_","userrole","=","userrole","_","authhandler","=","authhandler","public","void","onauthorization","authorizationfiltercontext","context","從","session","讀取","id","int","id","=","context","httpcontext","user","getuserid","id","=","=","null","context","result","=","new","unauthorizedresult","return","讀取","user","擁有","role","ienumerable","userrole","roles","=","_","authhandler","findbyid","int","id","userroles","進行","role","比","對","bool","isauthorized","=","roles","x","=","x","codename","tolower","=","=","_","userrole","tostring","tolower","isauthorized","context","result","=","new","unauthorizedresult","`","`","`","改造","前端","testauthentication","由","於","之前","測試","認證","使用","email","並且","寫","死","測資","這邊","改寫","成以","email","、","密","碼","方式","來","進行","登入","登出","並將","組建","名稱","改為","`","signin","vue","`","code","請","參考","這邊","getuserinfo","由","於","這次","增加","user","role","拿","取","user","資料","上","格式","進行","異動","對","應會","更改","`","getuserinfo","`","這支","api","以及","store","中儲存","格式","總結來","說","這邊","透過","ef","建立","一個","小小的","會員","認證","、","授","權","機","制","而","由","於","role","被","存在","db","所以","其實","這些","`","設定","`","可以","很動態","進行","更改","只要","建個","後","臺","機制","這樣","可以","讓","擁有","admin","role","人","直接","使用","網站","來","調整","user","權限","完整","code","歡迎","參考","看看","啦","1","asp","net","core","中以","角色","為","基礎","授權","2","official","authorization","sample","3","mvc","net","core","dynamic","role","based","authorization","4","create","custom","authorizeattribute","asp","net","core","5","getting","started","ef","core","6","黑暗","執行緒","上","對","ef","core","介紹","整理","7","鐵人賽","day24","asp","net","core","2","系列","-","entity","framework","core","8","relationships","9","hash","password","10","鐵人賽","day04","asp","net","core","2","系列","-","依賴","注入","dependency","injection"],key_words:[{word:"user",weight:598.6994196612607},{word:"public",weight:399.13294644084044},{word:"db",weight:293.48010767708854},{word:"role",weight:234.78408614167083},{word:"set",weight:234.78408614167083},{word:"ef",weight:223.0448818345873},{word:"admin",weight:199.56647322042022},{word:"entity",weight:176.0880646062531},{word:"userroles",weight:176.0880646062531},{word:"table",weight:176.0880646062531},{word:"userrole",weight:176.0880646062531},{word:"資料",weight:164.3488602991696},{word:"int",weight:164.3488602991696},{word:"id",weight:164.3488602991696},{word:"modelbuilder",weight:164.3488602991696},{word:"authorization",weight:140.8704516850025},{word:"mapuserrole",weight:129.13124737791895},{word:"進行",weight:117.39204307083541},{word:"email",weight:117.39204307083541},{word:"機制",weight:117.39204307083541},{word:"csharp",weight:117.39204307083541},{word:"core",weight:105.65283876375187},{word:"透過",weight:105.65283876375187},{word:"這邊",weight:105.65283876375187},{word:"new",weight:105.65283876375187},{word:"參考",weight:105.65283876375187},{word:"認證",weight:93.91363445666833},{word:"設置",weight:93.91363445666833},{word:"accountstatus",weight:93.91363445666833},{word:"models",weight:93.91363445666833}],excerpt:'承接上篇，建立了一個網頁閒置偵測的機制 這次要談的內容是 authorization(授權) authentication(認證) 跟 authorization(授權)，關注的地方是不同的 authentication 關注在身分的核對，旨在確認對方是會員 而 authorization 關注在這個user他有什麼樣的權利，可以訪問哪些功能 authorization authorization 的實作有相當多的類型，光是 .net 原生就提供了許多種設定方式 [^1] 甚至是一些官方範例 [^2] 網路上還有允許動態調整權限的範例 [^3] role 一個 user 自身可以擁有多種 role，若某a擁有 admin role 他或許可以停權別人的帳號 [authorize(roles = "admin")] public void updateuseraccount(user use...'},{title:"Vue3 + .Net Core3 SPA Template",frontmatter:{title:"Vue3 + .Net Core3 SPA Template",datetime:"2020/11/3",tag:["vue","dotnet core","spa"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Vue3 + .Net Core3 SPA Template"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/Website/vue-dotnetcore-scaffolding/basic.html"},{name:"twitter:title",content:"Vue3 + .Net Core3 SPA Template"},{name:"twitter:url",content:"/Coding/Website/vue-dotnetcore-scaffolding/basic.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"img, vue, 開發, 這邊, core, 啟動, server, request, 其實, 參考, debug, 環境, scaffolding, 預設, npm, spa, 1., code, 2., 調整, 處理, build, 檢視, react, 前端, vueclimiddleware, node, 一個, 3., modules"},{property:"article:tag",content:"img"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"開發"},{property:"article:tag",content:"這邊"},{property:"article:tag",content:"core"},{property:"article:tag",content:"啟動"},{property:"article:tag",content:"server"},{property:"article:tag",content:"request"},{property:"article:tag",content:"其實"},{property:"article:tag",content:"參考"},{property:"article:tag",content:"debug"},{property:"article:tag",content:"環境"},{property:"article:tag",content:"scaffolding"},{property:"article:tag",content:"預設"},{property:"article:tag",content:"npm"},{property:"article:tag",content:"spa"},{property:"article:tag",content:"1."},{property:"article:tag",content:"code"},{property:"article:tag",content:"2."},{property:"article:tag",content:"調整"},{property:"article:tag",content:"處理"},{property:"article:tag",content:"build"},{property:"article:tag",content:"檢視"},{property:"article:tag",content:"react"},{property:"article:tag",content:"前端"},{property:"article:tag",content:"vueclimiddleware"},{property:"article:tag",content:"node"},{property:"article:tag",content:"一個"},{property:"article:tag",content:"3."},{property:"article:tag",content:"modules"}]},regularPath:"/Coding/Website/vue-dotnetcore-scaffolding/basic.html",relativePath:"Coding/Website/vue-dotnetcore-scaffolding/basic.md",key:"v-4107293f",path:"/Coding/Website/vue-dotnetcore-scaffolding/basic.html",headers:[{level:2,title:"用visual studio建立預設專案",slug:"用visual-studio建立預設專案"},{level:2,title:"調整前端部分",slug:"調整前端部分"},{level:2,title:"調整後端部分",slug:"調整後端部分"},{level:2,title:"部署網站",slug:"部署網站"}],git:{created:"11/3/2020, 3:15:33 AM",updated:"11/3/2020, 3:15:33 AM",author:"johnny1991524",commits:[{fullHash:"e23379944c74b8d56a8e69df09751dc419bc6be0",authorTime:"1604344533",commitTime:"1604344533",authorName:"johnny1991524"}],contributors:["johnny1991524"]},pure_content:'最近vue3剛熱騰騰的出爐，官方表示對typescript的支持變得更好\r\n\r\n另外還多了composition api，teleports，provide inject...相當多好用的東西\r\n\r\n因此就想好好的開箱一下\r\n\r\n這時開啟visual studio發現，.net core其實預設的scaffolding就有支援....\r\n\r\n`angular + .net core spa`，`react + .net core spa`\r\n\r\n疑!?\r\n\r\n沒有`vue + .net core spa`???\r\n\r\n他們開發團隊是感情不好嗎 (°ζ‿°　)?\r\n\r\n看來...，只好自己來土砲一下了\r\n\r\n 基本想法\r\n\r\n其實現在的前端框架，vue/angular/react，若用官方的cli去建立專案的話\r\n\r\n基本上算是大同小異，畢竟都是webpack單一進入點的機制在跑\r\n\r\n因此我的想法很簡單，就是拿`react + .net core spa`的scaffolding來改\r\n\r\n 檢視預設scaffolding\r\n\r\n稍微檢視一下預設的scaffolding，他大致上幫我們做了幾件事\r\n\r\n1. 開發環境幫你同時開好了前後端的server，所以你只要啟動一次debug，就能快速開始檢查開發的狀況\r\n\r\n2. 建置的流程幫你整合了npm的只能，所以有用ci/cd的機制的話，只要從版控把source code抓下來\r\n\r\n  其實他就會幫你把 node_modules 下載好，進行build，並把build後的靜態檔連同後端一起打包起來\r\n\r\n對於快速開發一個前後端分離的網站來說，其實是相當的便利，不需要做太多事情就可以完成初步的開發\r\n\r\n 改造目標\r\n\r\n由於前後端分離，在開發環境下\r\n  \r\n其實最重要的，就是前端request要能夠打到後端\r\n\r\n以及建置時，整合npm指令，做前後端整體的打包\r\n\r\n 改造流程\r\n\r\n以下是改造的細節\r\n\r\n 用visual studio建立預設專案\r\n\r\n !img\r\n\r\n !img\r\n\r\n !img\r\n\r\n 調整前端部分\r\n\r\n1. 移除clientapp中react的部分\r\n\r\n2. 建立vue project\r\n\r\n    ```bash\r\n    vue create app\r\n    ```\r\n\r\n     !img\r\n\r\n3. 選擇客製化選項\r\n\r\n     !img\r\n\r\n4. 這邊我選擇以下功能\r\n\r\n     !img\r\n\r\n5. 細部的選項\r\n\r\n     !img\r\n\r\n6. 選好後，就是考驗網路流量的時刻了，開始下載 node_modules 的東西吧!\r\n\r\n     !img\r\n\r\n7. 完成後就能看到類似的畫面了\r\n\r\n     !img\r\n\r\n8. 接著把app裏的東西丟到clientapp中\r\n\r\n9. 再來為了測試前後端串接的部分，就使用`axios`來幫我們處理restful request的處理吧\r\n\r\n    ```bash\r\n    npm install -d axios\r\n    ```\r\n\r\n10. 再來新增一個頁面，用來測試向後端request，並做對應的code調整\r\n\r\n    調整的內容請參考[github 上的 git history](\r\n\r\n 調整後端部分\r\n\r\n[code異動的部分請參考這邊](\r\n\r\n1. nuget 安裝 vueclimiddleware\r\n\r\n    使用 vueclimiddleware 主要是有時會希望按下 `f5` debug時，可以順便把 vue 的 server 起起來\r\n\r\n    並起由他來幫我們處理 request 的行為(要記得先準備好node_modules，不然會啟動失敗)\r\n\r\n     !img\r\n\r\n2. [更新appsettings](\r\n\r\n    增加一個`"islaunchspaserver": true`來控制按`f5`開始debug時，要不要順便啟動vue的server\r\n    \r\n    也就是每次debug都幫你下 `npm serve`\r\n\r\n3. 更新startup.cs\r\n\r\n    這邊就要實際實作按下 `f5` 可以順便啟動 vue 的 server\r\n\r\n    主要參考 [vueclimiddleware官方文件]( 進行改造\r\n\r\n    [異動的code請參考這邊](\r\n\r\n4. 後端開放cors\r\n\r\n    其實當project變大的時候，每次debug都要重啟vue server是有點花時間的\r\n\r\n    因此前後端的server分開啟動也是個做法\r\n\r\n    但分開啟動後，前端發request到後端會遇到 `cors` 的問題\r\n\r\n    因此，後端在開發環境開放`cors`應該是最快的解法\r\n\r\n    這樣，就不需要每次debug都要重複啟動 vue server 了\r\n\r\n5. 修改 `.csproj` 檔案\r\n\r\n    有些專案部署可能會採ci/cd的方式\r\n\r\n    那就會需要把前端的建置流程也整合進整個部署流程\r\n\r\n    此外也需要讓visual studio知道vue build完後的靜態檔在哪\r\n\r\n    [更改的code請參考這邊](\r\n\r\n6. 檢視開發環境\r\n\r\n    都調整完後就可以來嘗試一下開發環境了!\r\n      \r\n     !img\r\n\r\n    嘗試向後端發 request\r\n\r\n     !img\r\n\r\n 部署網站\r\n\r\n其實營運部署的方式可以有很多種，而這邊使用最快最簡單的方式部署\r\n\r\n但此方式可能會比較不適合流量大的系統\r\n\r\n1. 資料夾deploy\r\n\r\n     !img\r\n\r\n     !img\r\n\r\n     !img\r\n\r\n    從 deploy 的 log 中可以看到 npm build 的 log\r\n\r\n    這樣就可以安心的使用 ci/cd 了\r\n\r\n    (btw，有的公司資安比較嚴謹，可能會遇到其他的網路因素)\r\n\r\n     !img\r\n\r\n2. 建立iis站台\r\n  \r\n     實體路徑記得選有`web.config`的地方，這邊是選\r\n\r\n      `c:\\users\\jc\\desktop\\demo\\vue3donetcore3spatemplate\\vue3donetcore3spatemplate\\bin\\release\\netcoreapp3.1\\publish`\r\n\r\n     設定port `8001` 來作為測試用的網址\r\n\r\n     !img\r\n\r\n3. [為 `iis` 安裝 asp.net core 3.1 runtime](\r\n\r\n4. 處理權限\r\n\r\n    如果出現 `500.19` ，有高機率是權限問題\r\n\r\n     !img\r\n\r\n    解法大致為兩個方向:\r\n\r\n    1. 更改資料夾權限\r\n    2. 更改application pool的identity\r\n\r\n    這邊使用更改application pool identity的方式\r\n\r\n    (設定完後要記得 recycle ，異動才會生效)\r\n\r\n       !img\r\n\r\n5. 檢視成果\r\n\r\n    這樣就能在瀏覽器上看到 `iis` 回傳的網頁了!\r\n\r\n     !img\r\n\r\n     !img\r\n\r\n 最後\r\n\r\n其實 vue3 目前來說真的就是剛出爐，使用狀況可能還是要觀察一下\r\n\r\n可能還不適合太早上營運環境\r\n\r\n但以嘗試來說，這次新增的許多新功能真的是很實用\r\n\r\n比較意外的是，沒想到 .net core 預設的 scaffolding 居然沒有 vue...，這真的是很意外\r\n\r\n但還好整體改起來還不算太困難，恩，`vue + typescript + .net core spa` 真香\r\n\r\n[以上改好的template可以在此repositoy參考](',word_token:["最近","vue3","剛熱騰騰","出爐","官方","表示","對","typescript","支持","變得","更好","另外","還多","composition","api","teleports","provide","inject","相當","好","用","東西","因此","想","好好","開箱","一下","這時","開啟","visual","studio","發現","net","core","其實","預設","scaffolding","支援","`","angular","net","core","spa","`","`","react","net","core","spa","`","疑","沒有","`","vue","net","core","spa","`","他們","開發","團隊","感情","不好","嗎","°","ζ","‿","°","看來","只好","自己","來土","砲","一下","基本","想法","其實現","前端","框架","vue","angular","react","若用","官方","cli","去","建立","專案","話","基本上","算是","大同","小異","畢竟","webpack","單一進","入點","機制","跑","因此","想法","簡單","就是","拿","`","react","net","core","spa","`","scaffolding","來","改","檢視","預設","scaffolding","稍微","檢視","一下","預設","scaffolding","大致","上","幫","我們","幾件","事","1","開發","環境","幫","同時","開好","前","後","端的","server","所以","只要","啟動","一次","debug","能","快速","開始","檢查","開發","狀況","2","建置","流程","幫","整合","npm","只能","所以","有用","ci","cd","機制","話","只要","從版控","source","code","抓下","來","其實","會","幫","node","_","modules","下載","好","進行","build","並把","build","後","靜態","檔連","同後端","一起","打包","起來","對","於","快速","開發","一個","前後端","分離","網站","來","說","其實","相當","便利","需要","做太多","事情","可以","完成","初步","開發","改造","目標","由","於","前後端","分離","開發","環境","下","其實","最","重要","就是","前端","request","要","能夠","打","到後端","以及","建置","時","整合","npm","指令","做前","後","端整","體的","打包","改造","流程","以下","改造","細節","用","visual","studio","建立","預設","專案","img","img","img","調整","前端","部分","1","移除","clientapp","react","部分","2","建立","vue","project","`","`","`","bash","vue","create","app","`","`","`","img","3","選擇客","製","化","選","項","img","4","這邊","選擇","以下","功能","img","5","細部","選項","img","6","選好","後","就是","考驗","網路","流量","時刻","開始","下載","node","_","modules","東西","img","7","完成","後","能","看到","類","似的","畫面","img","8","接著","app","裏","東西","丟到","clientapp","9","再來","為","測試","前後端","串接","部分","使用","`","axios","`","來","幫","我們","處理","restful","request","處理","`","`","`","bash","npm","install","-","d","axios","`","`","`","10","再來","新增","一個","頁","面","用來","測試","向後端","request","並做","對","應","code","調整","調整","內容","請","參考","github","上","git","history","調整後端","部分","code","異動","部分","請","參考","這邊","1","nuget","安裝","vueclimiddleware","使用","vueclimiddleware","主要","時會","希望","按下","`","f5","`","debug","時","可以","順便","vue","server","起起","來","並起","由","來","幫","我們","處理","request","行為","要","記得","先","準備","好","node","_","modules","不然","會","啟動","失敗","img","2","更新","appsettings","增加","一個","`","islaunchspaserver","true","`","來","控制","`","f5","`","開始","debug","時","要","不要","順便","啟動","vue","server","就是","每次","debug","幫","下","`","npm","serve","`","3","更新","startup","cs","這邊","就要","實際","實作","下","`","f5","`","可以","順便","啟動","vue","server","主要","參考","vueclimiddleware","官方","文件","進行","改造","異動","code","請","參考","這邊","4","後","端","開放","cors","其實當","project","變大","時候","每次","debug","要","重啟","vue","server","點花","時間","因此","前","後","端的","server","分開","啟動","個","做法","但","分開","啟動","後","前端","發","request","到後端","會","遇到","`","cors","`","問題","因此","後","端","開發","環境","開放","`","cors","`","應該","最快","解法","這樣","需要","每次","debug","要","重","複","啟動","vue","server","5","修改","`","csproj","`","檔案","有些","專案","部署","可能","會採","ci","cd","方式","會","需要","前端","建置","流程","整合","進整","個","部署","流程","此外","需要","讓","visual","studio","知道","vue","build","完後的","靜態","檔","更改","code","請","參考","這邊","6","檢視","開發","環境","調整","完後就","可以","來嘗試","一下","開發","環境","img","嘗試","向後端","發","request","img","部署","網站","其實","營運","部署","方式","可以","很多","種","而","這邊","使用","最快","最","簡單","方式","部署","但此","方式","可能","會","比","較","適合","流量","大","系統","1","資料夾","deploy","img","img","img","從","deploy","log","可以","看到","npm","build","log","這樣","可以","安心","使用","ci","cd","btw","公司","資安比","較","嚴謹","可能","會","遇到","其他","網路","因素","img","2","建立","iis","站台","實體","路徑","記得","選有","`","web","config","`","地方","這邊","選","`","c","users","jc","desktop","demo","vue3donetcore3spatemplate","vue3donetcore3spatemplate","bin","release","netcoreapp3","1","publish","`","設定","port","`","8001","`","來作","為","測試","用","網址","img","3","為","`","iis","`","安裝","asp","net","core","31","runtime","4","處理","權限","如果","出現","`","50019","`","高","機率","權限","問題","img","解法","大致","為","兩個","方向","1","更改","資料","夾權限","2","更改","application","pool","identity","這邊","使用","更改","application","pool","identity","方式","設定","完後要","記得","recycle","異動","才","會","生效","img","5","檢視","成果","這樣","能","瀏覽器","上","看到","`","iis","`","回傳","網頁","img","img","最","後","其實","vue3","目前","來","說","真的","就是","剛出","爐","使用","狀況","可能","還是","要","觀察","一下","可能","還不","適合","太","早上","營運","環境","但","以嘗試","來","說","這次","新增","許多","新","功能","真的","實用","比較","意外","沒","想到","net","core","預設","scaffolding","居然","沒有","vue","這","真的","意外","但","還好","整體","改起","來還","不算","太困難","恩","`","vue","typescript","net","core","spa","`","真香","以上","改好","template","可以","repositoy","參考"],key_words:[{word:"img",weight:246.52329044875438},{word:"vue",weight:140.8704516850025},{word:"開發",weight:105.65283876375187},{word:"這邊",weight:93.91363445666833},{word:"core",weight:93.91363445666833},{word:"啟動",weight:82.1744301495848},{word:"server",weight:82.1744301495848},{word:"request",weight:70.43522584250125},{word:"其實",weight:70.43522584250125},{word:"參考",weight:70.43522584250125},{word:"debug",weight:70.43522584250125},{word:"環境",weight:70.43522584250125},{word:"scaffolding",weight:58.69602153541771},{word:"預設",weight:58.69602153541771},{word:"npm",weight:58.69602153541771},{word:"spa",weight:58.69602153541771},{word:"1.",weight:58.69602153541771},{word:"code",weight:58.69602153541771},{word:"2.",weight:58.69602153541771},{word:"調整",weight:46.95681722833417},{word:"處理",weight:46.95681722833417},{word:"build",weight:46.95681722833417},{word:"檢視",weight:46.95681722833417},{word:"react",weight:46.95681722833417},{word:"前端",weight:40.32933457455},{word:"vueclimiddleware",weight:35.21761292125063},{word:"node",weight:35.21761292125063},{word:"一個",weight:35.21761292125063},{word:"3.",weight:35.21761292125063},{word:"modules",weight:35.21761292125063}],excerpt:"最近vue3剛熱騰騰的出爐，官方表示對typescript的支持變得更好 另外還多了composition api，teleports，provide inject...相當多好用的東西 因此就想好好的開箱一下 這時開啟visual studio發現，.net core其實預設的scaffolding就有支援.... angular + .net core spa，react + .net core spa 疑!? 沒有vue + .net core spa??? 他們開發團隊是感情不好嗎 (°ζ‿° )? 看來...，只好自己來土砲一下了 基本想法 其實現在的前端框架，vue/angular/react，若用官方的cli去建立專案的話 基本上算是大同小異，畢竟都是webpack單一進入點的機制在跑 因此我的想法很簡單，就是拿react + .net core spa的scaffoldin..."},{title:"Vue3 + .Net Core3 SPA + Page Idle",frontmatter:{title:"Vue3 + .Net Core3 SPA + Page Idle",datetime:"2020/11/16",tag:["vue","dotnet core","spa","page-idle"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Vue3 + .Net Core3 SPA + Page Idle"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/Website/vue-dotnetcore-scaffolding/page-idle.html"},{name:"twitter:title",content:"Vue3 + .Net Core3 SPA + Page Idle"},{name:"twitter:url",content:"/Coding/Website/vue-dotnetcore-scaffolding/page-idle.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"閒置, idledeterminestates, 登出, 時間, 進行, localstorage, 網頁, 分頁, js, install, user, npm, store, 倒數, 狀態, pageidle, state, 警告, 機制, 一個, runtimer1, date, 觸發, throttle, timer1, 時間點, 1000, new, vuex, 10"},{property:"article:tag",content:"閒置"},{property:"article:tag",content:"idledeterminestates"},{property:"article:tag",content:"登出"},{property:"article:tag",content:"時間"},{property:"article:tag",content:"進行"},{property:"article:tag",content:"localstorage"},{property:"article:tag",content:"網頁"},{property:"article:tag",content:"分頁"},{property:"article:tag",content:"js"},{property:"article:tag",content:"install"},{property:"article:tag",content:"user"},{property:"article:tag",content:"npm"},{property:"article:tag",content:"store"},{property:"article:tag",content:"倒數"},{property:"article:tag",content:"狀態"},{property:"article:tag",content:"pageidle"},{property:"article:tag",content:"state"},{property:"article:tag",content:"警告"},{property:"article:tag",content:"機制"},{property:"article:tag",content:"一個"},{property:"article:tag",content:"runtimer1"},{property:"article:tag",content:"date"},{property:"article:tag",content:"觸發"},{property:"article:tag",content:"throttle"},{property:"article:tag",content:"timer1"},{property:"article:tag",content:"時間點"},{property:"article:tag",content:"1000"},{property:"article:tag",content:"new"},{property:"article:tag",content:"vuex"},{property:"article:tag",content:"10"}]},regularPath:"/Coding/Website/vue-dotnetcore-scaffolding/page-idle.html",relativePath:"Coding/Website/vue-dotnetcore-scaffolding/page-idle.md",key:"v-11a8df82",path:"/Coding/Website/vue-dotnetcore-scaffolding/page-idle.html",headers:[{level:2,title:"Baseline",slug:"baseline"},{level:3,title:"問題點",slug:"問題點"},{level:2,title:"Nested Interval Approach",slug:"nested-interval-approach"},{level:3,title:"問題點",slug:"問題點-2"},{level:2,title:"Reactive Interval Approach",slug:"reactive-interval-approach"},{level:2,title:"vuex-multi-tab-state",slug:"vuex-multi-tab-state"},{level:2,title:"jquery",slug:"jquery"},{level:2,title:"lodash",slug:"lodash"},{level:2,title:"vue-toastification",slug:"vue-toastification"},{level:2,title:"material-design-icons",slug:"material-design-icons"},{level:2,title:"animate.css",slug:"animate-css"}],git:{created:"12/4/2020, 7:44:40 AM",updated:"12/4/2020, 7:44:40 AM",author:"johnny1991524",commits:[{fullHash:"66a045338acf4da9463171eefb0217d57e4b98a6",authorTime:"1607039080",commitTime:"1607039080",authorName:"johnny1991524"}],contributors:["johnny1991524"]},pure_content:'承接上篇，建立了一個`cookie-based`的認證方式\r\n\r\n這回要做的是網頁的閒置登出機制\r\n\r\n網頁的閒置登出機制可以很簡單、很單純，也可以非常的複雜\r\n\r\n比較簡單來說，大概就是登入後放置個幾秒就把你登出\r\n\r\n 需求\r\n\r\n而以下是這次要來挑戰的目標\r\n\r\n1. 閒置10分鐘要跳`閒置警告`\r\n\r\n2. `閒置警告`\r\n\r\n     倒數1分鐘後觸發`強制登出`\r\n\r\n     `閒置警告`可以跳出來2次\r\n\r\n     當第3次閒置時，觸發`強制登出`\r\n\r\n3. `強制登出`\r\n\r\n     要跳到首頁\r\n\r\n     要顯示提示訊息，讓user按下確定才會關\r\n\r\n4. 閒置登出機制要跨瀏覽器分頁\r\n\r\n5. 閒置登出機制要能在手機上作用\r\n\r\n完成後的demo如下:\r\n\r\n 在示意影片中:\r\n   閒置10分鐘調整成閒置3秒鐘\r\n   閒置警告倒數1分鐘調整成5秒鐘\r\n\r\n!video.mp4)\r\n\r\n 需求分析\r\n\r\n baseline\r\n\r\n首先，當在桌電上，且單一網頁的情況下，條件1~3其實還算是單純的\r\n\r\n直觀上來說，可以做個2層的巢狀timeout，在配合上user停止動作後去觸發第一層timeout來進行實作\r\n\r\n以下是概略架構:\r\n\r\n```js\r\ntimer1 = settimeout( ()=>{\r\n    timer2 = settimeout( ()=>{\r\n        // 執行強制登出\r\n    }, 1  60  1000 // 倒數1分鐘\r\n}, 10  60  1000 ) // 倒數10分鐘\r\n```\r\n\r\n接著搭配事件綁定來觸發runtimer1\r\n\r\n每次執行runtimer1時，都先把timer1給清掉\r\n\r\n這樣就能做到user有動作就重新計算閒置時間的功能\r\n\r\n```js\r\nfunction runtimer1(){\r\n    clearinterval(timer1)\r\n    timer1.run() // js沒有這個指令，這邊只是示意\r\n}\r\n\r\nlet unidleevents = "mousemove click mouseup mousedown keydown keypress keyup submit change mouseenter scroll resize dblclick"\r\n$(window).bind(unidleevents, runtimer1)\r\n```\r\n\r\n而以上的事件綁定我們可以用 `throttle` 來改善效能\r\n\r\n如果不進行改善的話，光是滑鼠的移動，就會觸發非常多次的 runtimer1\r\n\r\n而加上 `throttle` 的話，則可以讓指定的function在一定時間內只被執行一次 [^1]\r\n\r\n```js\r\n$(window).bind(unidleevents, throttle(runtimer1, 200))\r\n```\r\n\r\n 問題點\r\n\r\n1. 多分頁\r\n\r\n     問題\r\n  \r\n      很顯然的，當多分頁的情況下，光是閒置倒數的時間就會不同\r\n  \r\n      畢竟 runtimer1 會在不同的時間點被啟動\r\n  \r\n     解法\r\n  \r\n      為了同步跨分頁的timer，可以利用 `localstorage` 來進行資料的儲存\r\n  \r\n      並利用 vue 響應式的機制來觸發主要邏輯\r\n\r\n2. 手機\r\n\r\n     問題\r\n  \r\n      若 user 使用手機進行瀏覽時，若完成登入後，看沒多久，就使用其他app\r\n  \r\n      那網頁上的timer，由於手機效能考量的設計，timer是不會繼續倒數計時的\r\n  \r\n      因此如果現在是倒數50秒跳出，當 user 切換到其他app使用了100秒後回到網頁\r\n  \r\n      那網頁上的時間還是會在50秒\r\n  \r\n     解法\r\n  \r\n      將 `settimeout` 改成 `setinterval` 並且當 user 開始閒置時，設置一個`初始時間點`\r\n  \r\n      讓 interval 不斷地用現在的時間跟`初始時間點`做計算\r\n  \r\n      這樣當 user 從其他 app 切回來時，時間的計算就會對上了\r\n\r\n3. 極端一點來說\r\n\r\n    若在電腦上剛完成登入就關掉分頁，一個小時候重新開啟這個分頁，那麼理論上應該要直接登出\r\n\r\n    但如果用 `settimeout` 的方式，將可能會變成僅觸發 `閒置警告`，或者還在偵測閒置時間，連`閒置警告`都不會跳出\r\n\r\n nested interval approach\r\n\r\n綜合以上，若以 baseline 中，巢狀 timeout 為基礎，用 `setinterval` 來進行改造:\r\n\r\n```js\r\nlet starttimestamp = new date()\r\ntimer1 = setinterval( ()=>{\r\n    if(new date() - starttimestamp < 10  60  1000 ){ // 倒數10分鐘\r\n        return\r\n    }\r\n\r\n    clearinterval(timer1)\r\n    starttimestamp = new date()\r\n    timer2 = setinterval( ()=>{\r\n        if(new date() - starttimestamp < 1  60  1000 ){ // 倒數1分鐘\r\n            return\r\n        }\r\n\r\n        clearinterval(timer2)\r\n        // 執行強制登出\r\n    }, 200\r\n}, 200 )\r\n```\r\n\r\n 問題點\r\n\r\n1. 最明顯的地方在於，沒有使用 `localstorage` 因此時間變數還是沒辦法跨分頁共享\r\n\r\n2. 再來還有一個問題，當網頁進入`閒置警告`時，若時間變數已經從 `localstorage` 中得到同步\r\n\r\n    這時如果開新的分頁進入網頁，那新的網頁會優先進入 timer1 這時如果內部的邏輯沒處理好\r\n\r\n    將可能導致新的分頁不會進入`閒置警告`的畫面\r\n\r\n reactive interval approach\r\n\r\n其實以上的approach遇到很多狀況都需要作出很複雜的處理\r\n\r\n比方說登出時timer要停掉，登入時timer要啟動，多分頁資料的同步也是個大學問\r\n\r\n因此為了讓各種狀況變得比較好應對，我採用響應式的方式來進行實作，基本理念如下\r\n\r\n1. 將 vuex store 改成儲存在 localstorage\r\n\r\n    這樣就可能在開發時正常操作 store，然後利用 store.commit 來同步資料到 localstorage\r\n\r\n2. 將閒置次數區分成 local 與 golbal(存在localstorage)\r\n\r\n    由於閒置3次要`強制登出`，那就必須要有個變數紀錄目前閒置幾次\r\n\r\n    如果每次觸發`閒置警告`，每個分頁都幫 localstorage 中的`閒置次數`+1\r\n  \r\n    那有幾個分頁就會增加幾次，那樣次數就會亂掉了\r\n\r\n    因此，在閒置次數的判斷上，可以用 local 的閒置次數進行判斷\r\n  \r\n    當網頁第一次載入時，從localstorage將值assign到local閒置次數中\r\n  \r\n    當確定要增加次數時，先幫自己+1，接著用 assign 的方式塞到 localstorage\r\n\r\n    這樣不管assign幾次，localstorage中的值都不會被重複增加\r\n\r\n3. 設定閒置狀態\r\n\r\n    ```ts\r\n    enum idledeterminestates{\r\n        bypass,       // 不須使用閒置登出狀態\r\n        pageidle,     // 要觀察網頁是否閒置\r\n        usercomfirm,  // 要進行閒置警告的倒數\r\n        logout,       // 執行登出的動作\r\n    }\r\n    ```\r\n\r\n4. 設置一個 interval\r\n\r\n    使用一個 interval ，在網頁載入後就啟動不停止\r\n  \r\n    並根據現在的閒置狀態來進行時間的計算，以及狀態的轉移\r\n\r\n    ```js\r\n    const intervalrunner = setinterval(()=>{\r\n      switch (store.state.pageidle.idledeterminestates) {\r\n          case idledeterminestates.pageidle:\r\n              passseconds = 閒置秒數\r\n              if ( passseconds >= idleseconds) {\r\n                setidledeterminestates(idledeterminestates.usercomfirm)\r\n              }\r\n              break\r\n  \r\n          case idledeterminestates.usercomfirm:\r\n              remainusercomfirmseconds = 倒數計時秒數\r\n              if ( remainusercomfirmseconds <= 0 ) {\r\n                setidledeterminestates(idledeterminestates.logout)\r\n              }\r\n              break\r\n  \r\n          case idledeterminestates.logout:\r\n              setidledeterminestates(idledeterminestates.bypass)\r\n              break\r\n  \r\n          case idledeterminestates.bypass:\r\n          default:\r\n              break\r\n      }\r\n    },250)\r\n    ```\r\n\r\n5. 設置 watcher 以應對閒置狀態的改變\r\n\r\n    ```js\r\n    watch( () => store.state.pageidle.idledeterminestates, \r\n        (newstates: idledeterminestates, oldstates: idledeterminestates) =>{\r\n            if (oldstates == idledeterminestates.pageidle && \r\n                newstates == idledeterminestates.usercomfirm) {\r\n                addidletimes()\r\n                if ( idleremaintimes <= 0 ) {\r\n                  setidledeterminestates(idledeterminestates.logout)\r\n                }else{\r\n                  setisshowuserconfirm(true)\r\n                }\r\n            }\r\n      \r\n            if (oldstates == idledeterminestates.usercomfirm && \r\n                newstates == idledeterminestates.logout) {\r\n                logout()\r\n                setisshowlogoutnotification(true)\r\n            }\r\n    })\r\n    ```\r\n\r\n6. assign 計算時間點\r\n\r\n    當 user 有在使用網頁時，就同步紀錄閒置時間的起始時間點 & 閒置警告的起始時間點\r\n\r\n    ```js\r\n    function settimestamp(){\r\n        const startidletimestamp = new date()\r\n        const startuserconfirmtimestamp = new date (startidletimestamp.gettime() + props.idleseconds  1000 + 250)\r\n        store.commit("pageidle/setstartidletimestamp", startidletimestamp)\r\n        store.commit("pageidle/setstartuserconfirmtimestamp", startuserconfirmtimestamp)\r\n    }\r\n    \r\n    function pageidlehandler(){\r\n        if( store.state.pageidle.idledeterminestates == idledeterminestates.pageidle){\r\n            settimestamp()\r\n        }\r\n    }\r\n    \r\n    $(window).bind(unidleevents, throttle(pageidlehandler, 200) )\r\n    ```\r\n\r\n 安裝套件\r\n\r\n為了達成以上的需求，以下是這次所安裝的套件\r\n\r\n vuex-multi-tab-state\r\n\r\n```bash\r\nnpm install -d vuex-multi-tab-state\r\n```\r\n\r\n透過在 plugins 中進行註冊，就能直接讓 store 裡的資料儲存在 localstorage 中\r\n\r\n```js\r\nimport { createstore } from \'vuex\'\r\n\r\nimport createmultitabstate from \'vuex-multi-tab-state\'\r\n\r\nexport default createstore({\r\n  state: {\r\n  },\r\n  mutations: {\r\n  },\r\n  actions: {\r\n  },\r\n  modules: {\r\n  },\r\n  plugins: [\r\n    createmultitabstate(),\r\n  ],\r\n})\r\n```\r\n\r\n但在使用上有幾個地方要小心\r\n\r\n1. 型別\r\n\r\n    由於 localstorage 中只能儲存字串，因此在拿取資料時，比方說 date type 的資料時，要進行轉型一下會比較保險\r\n\r\n2. 更新機制\r\n\r\n    有時為了方便，會使用 `store.state.variable = something` 的方式來異動資料\r\n\r\n    但這樣的寫法會無法使 `vuex-multi-tab-state` 同步更新 localstorage\r\n\r\n    必須使用 mutation 的方式，套件才能將資料進行同步\r\n\r\n jquery\r\n\r\n```bash\r\nnpm install -d jquery\r\nnpm install -d @types/jquery // 由於有使用到 typescript ，因此要再安裝他的一些定義\r\n```\r\n\r\n lodash\r\n\r\n```bash\r\nnpm install -d lodash.debounce\r\nnpm install -d @types/lodash.debounce\r\nnpm install -d lodash.throttle\r\nnpm install -d @types/lodash.throttle\r\n```\r\n\r\n vue-toastification\r\n\r\n用來進行登出時，右上跳出通知的處理\r\n\r\n```bash\r\nnpm install -d vue-toastification@next\r\n```\r\n\r\n material-design-icons\r\n\r\n```bash\r\nnpm install -d material-design-icons\r\n```\r\n\r\n animate.css\r\n\r\n```bash\r\nnpm install -d animate.css\r\n```\r\n\r\n 前後端閒置狀態連動機制\r\n\r\n如果前端 user 一直使用，卻剛好都沒有呼叫到後端的功能的話，後端是有可能自己閒置登出的\r\n\r\n因此可以設置一個 `keepalive()` 確定 user 有在動作後，每隔30秒就呼叫一次後端，來避免後端自己閒置登出\r\n\r\n 後端部分\r\n\r\n    ```csharp\r\n    /// <summary>\r\n    /// for refreshing session\r\n    /// </summary>\r\n    /// <returns></returns>\r\n    [httppost]\r\n    public actionresult keepalive()\r\n    {\r\n        return ok();\r\n    }\r\n    ```\r\n\r\n 前端部分\r\n\r\n    ```js\r\n    $(window).bind(unidleevents , debounce(keepalive, 30  1000));\r\n    ```\r\n\r\n    關於 debounce 可以參考 [^1]\r\n\r\n 測試\r\n\r\n雖然需求的描述只有少少的幾行，跟5個列點，但實際上，第4跟第5點一加下去\r\n\r\nwow，要測的edge case就不少了，這邊就先簡單條列一些狀況:\r\n\r\n1. 開多個分頁，登入後閒置，每個分頁要一起跳出閒置警告畫面\r\n2. 使用過程中若不斷 f5，狀態不能錯(閒置次數要對、閒置狀態要對 ...)\r\n3. 在閒置警告畫面出現時開新分頁，要能夠正確顯示閒置警告畫面\r\n4. 登入後就關掉網頁，過了閒置時間+等待確認時間後再重新打開分頁，應該要登出\r\n5. 用手機時，用一半跑去用其他app後再回來，時間跟狀態的計算要對\r\n\r\n 總結來說\r\n\r\n由於資料會異步更新，因此非常的考驗開發時頭腦的清晰度，否則狀態很容易就弄錯了\r\n\r\n再來，開發時能避免巢狀還是儘量避免得好，對腦細胞來說比較友善一點(?\r\n\r\n雖然處理多工的難度比較大，但實作出來後的成就感也是滿大的\r\n\r\n以上就是一個小小的閒置登出機制，[完整的code在此]( 歡迎參考看看啦\r\n\r\n\r\n[^1]: 關於 `throttle`, `debounce` 可以到[這個網站](',word_token:["承接","上篇","建立","一個","`","cookie","-","based","`","認證","方式","這回","要","網頁","閒置","登出","機制","網頁","閒置","登出","機制","可以","簡單","單","純","可以","非常","複","雜","比較","簡單","來","說","大概","就是","登入","後","放置","個","幾秒","登出","需求","而","以下","這","次要","來","挑戰","目標","1","閒置","10","分鐘","要","跳","`","閒置","警告","`","2","`","閒置","警告","`","倒數","1","分鐘後觸","發","`","強制","登出","`","`","閒置","警告","`","可以","跳出","來","2","次","當第","3","次","閒置","時","觸發","`","強制","登出","`","3","`","強制","登出","`","要","跳","首頁","要","顯示","提示","訊息","讓","user","按下","確定","才","會關","4","閒置","登出","機制","要","跨","瀏覽器","分頁","5","閒置","登出","機制","要","能","在手","機上","作用","完成","後","demo","如下","示意","影片","閒置","10","分鐘調","整成","閒置","3","秒鐘","閒置","警告","倒數","1","分鐘調","整成","5","秒鐘","video","mp4","需求","分析","baseline","首先","當在","桌電上","且","單一","網頁","情況","下","條件","1","3","其實還","算是","單純","直觀","上","來","說","可以","做個","2","層","巢狀","timeout","配合","上","user","停止","動作後去","觸發","第一","層","timeout","來","進行","實作","以下","概略","架構","`","`","`","js","timer1","=","settimeout","=","timer2","=","settimeout","=","執行","強制","登出","1","60","1000","倒數","1","分鐘","10","60","1000","倒數","10","分鐘","`","`","`","接著","搭配","事件","綁定","來","觸發","runtimer1","每次","執行","runtimer1","時","先","timer1","給","清掉","這樣","能","做到","user","有動作","重新","計算","閒置","時間","功能","`","`","`","js","function","runtimer1","clearinterval","timer1","timer1","run","js","沒有","這個","指令","這邊","只是","示意","let","unidleevents","=","mousemove","click","mouseup","mousedown","keydown","keypress","keyup","submit","change","mouseenter","scroll","resize","dblclick","window","bind","unidleevents","runtimer1","`","`","`","而","以上","事件","綁定","我們","可以","用","`","throttle","`","來","改善","效能","如果","進行","改善","話","光是","滑鼠","移動","就會","觸發","非常","多次","runtimer1","而","加上","`","throttle","`","話","則","可以","讓","指定","function","一定","時間","內","只","被","執行","一次","1","`","`","`","js","window","bind","unidleevents","throttle","runtimer1","200","`","`","`","問題點","1","多分","頁","問題","顯然","當","多分","頁","情況","下","光是","閒置","倒數","時間","會","不同","畢竟","runtimer1","會","不同","時間點","被","啟動","解法","為","同步","跨分頁","timer","可以","利用","`","localstorage","`","來","進行","資料","儲存","並","利用","vue","響應式","機制","來","觸發","主要","邏輯","2","手機","問題","若","user","使用","手機","進行","瀏覽時","若","完成","登入","後","沒","多久","使用","其他","app","網頁","上","timer","由","於","手機","效能","考量","設計","timer","不會","繼續","倒","數計時","因此","如果","現在","倒數","50","跳出","當","user","切換","其他","app","使用","100","後","回到","網頁","網頁","上","時間","還是","會","50","解法","將","`","settimeout","`","改成","`","setinterval","`","並且當","user","開始","閒置","時","設置","一個","`","初始","時間點","`","讓","interval","不斷","地用現","時間","`","初始","時間點","`","做計算","這樣當","user","從","其他","app","切回","來","時","時間","計算","會","對","上","3","極端","一點","來","說","若","電腦","上剛","完成","登入","關掉","分頁","一個","時候","重新","開啟","這個","分頁","那麼","理論","上","應該","要","直接","登出","但","如果","用","`","settimeout","`","方式","將","可能","會變","成僅","觸發","`","閒置","警告","`","或者","還在","偵測","閒置","時間","連","`","閒置","警告","`","不會","跳出","nested","interval","approach","綜合","以上","若以","baseline","巢狀","timeout","為","基礎","用","`","setinterval","`","來","進行","改造","`","`","`","js","let","starttimestamp","=","new","date","timer1","=","setinterval","=","new","date","-","starttimestamp","10","60","1000","倒數","10","分鐘","return","clearinterval","timer1","starttimestamp","=","new","date","timer2","=","setinterval","=","new","date","-","starttimestamp","1","60","1000","倒數","1","分鐘","return","clearinterval","timer2","執行","強制","登出","200","200","`","`","`","問題點","1","最明顯","地方","於","沒有","使用","`","localstorage","`","因此","時間","變數","還是","沒","辦法","跨","分頁","共享","2","再來","還有","一個","問題","當網","頁","進入","`","閒置","警告","`","時","若","時間","變數","已經","從","`","localstorage","`","得到","同步","這時","如果","開新","分頁","進入","網頁","那新","網頁","會","優先","進入","timer1","這時","如果","內部","邏輯","沒處理","好","將","可能","導致","新","分頁","不會","進入","`","閒置","警告","`","畫面","reactive","interval","approach","其實","以上","approach","遇到","很多","狀況","需要","作出","複","雜的","處理","比方","說","登出","時","timer","要","停掉","登入","時","timer","要","啟動","多分","頁","資料","同步","個","大學問","因此","為","讓","各種","狀況","變得","比","較","好","應","對","採用響","應式","方式","來","進行","實作","基本","理念","如下","1","將","vuex","store","改成","儲","存在","localstorage","這樣","可能","開","發時","正常","操作","store","然","後","利用","store","commit","來","同步","資","料到","localstorage","2","將閒置","次","數區","分成","local","與","golbal","存在","localstorage","由","於","閒置","3","次要","`","強制","登出","`","必須","要","個","變數","紀錄","目前","閒置","幾次","如果","每次","觸發","`","閒置","警告","`","每個","分頁","幫","localstorage","`","閒置","次數","`","1","那有","幾個","分頁","會","增加","幾次","那樣","次數","會","亂","掉","因此","閒置","次數","判斷","上","可以","用","local","閒置","次數","進行","判斷","當網","頁","第一次","載入","時","從","localstorage","將值","assign","local","閒置次","數中","當確定","要","增加","次數","時","先幫","自己","1","接著用","assign","方式","塞到","localstorage","這樣","不管","assign","幾次","localstorage","值","不會","被","重","複","增加","3","設定","閒置","狀態","`","`","`","ts","enum","idledeterminestates","bypass","不須","使用","閒置","登出","狀態","pageidle","要","觀察","網頁","是否","閒置","usercomfirm","要","進行","閒置","警告","倒數","logout","執行","登出","動作","`","`","`","4","設置","一個","interval","使用","一個","interval","網頁","載入","後","啟動","停止","並根據現","閒置","狀態","來","進行","時間","計算","以及","狀態","轉移","`","`","`","js","const","intervalrunner","=","setinterval","=","switch","store","state","pageidle","idledeterminestates","case","idledeterminestates","pageidle","passseconds","=","閒置","秒數","passseconds","=","idleseconds","setidledeterminestates","idledeterminestates","usercomfirm","break","case","idledeterminestates","usercomfirm","remainusercomfirmseconds","=","倒數","計時","秒數","remainusercomfirmseconds","=","0","setidledeterminestates","idledeterminestates","logout","break","case","idledeterminestates","logout","setidledeterminestates","idledeterminestates","bypass","break","case","idledeterminestates","bypass","default","break","250","`","`","`","5","設置","watcher","以應","對","閒置","狀態","改變","`","`","`","js","watch","=","store","state","pageidle","idledeterminestates","newstates","idledeterminestates","oldstates","idledeterminestates","=","oldstates","=","=","idledeterminestates","pageidle","newstates","=","=","idledeterminestates","usercomfirm","addidletimes","idleremaintimes","=","0","setidledeterminestates","idledeterminestates","logout","else","setisshowuserconfirm","true","oldstates","=","=","idledeterminestates","usercomfirm","newstates","=","=","idledeterminestates","logout","logout","setisshowlogoutnotification","true","`","`","`","6","assign","計算","時間點","當","user","使用","網頁","時","同步","紀錄","閒置","時間","起始","時間點","閒置","警告","起始","時間點","`","`","`","js","function","settimestamp","const","startidletimestamp","=","new","date","const","startuserconfirmtimestamp","=","new","date","startidletimestamp","gettime","props","idleseconds","1000","250","store","commit","pageidle","setstartidletimestamp","startidletimestamp","store","commit","pageidle","setstartuserconfirmtimestamp","startuserconfirmtimestamp","function","pageidlehandler","store","state","pageidle","idledeterminestates","=","=","idledeterminestates","pageidle","settimestamp","window","bind","unidleevents","throttle","pageidlehandler","200","`","`","`","安裝","套件","為","達成","以上","需求","以下","這次","所安裝","套件","vuex","-","multi","-","tab","-","state","`","`","`","bash","npm","install","-","d","vuex","-","multi","-","tab","-","state","`","`","`","透過","plugins","進行","註","冊","能","直接","讓","store","裡的","資料","儲","存在","localstorage","`","`","`","js","import","createstore","vuex","import","createmultitabstate","vuex","-","multi","-","tab","-","state","export","default","createstore","state","mutations","actions","modules","plugins","createmultitabstate","`","`","`","但","使用","上","幾個","地方","要","小心","1","型別","由","於","localstorage","只能","儲存","字串","因此","拿","取資料","時","比方","說","date","type","資料","時","要","進行","轉型","一下","會","比","較","保險","2","更新","機制","有時","為","方便","會","使用","`","store","state","variable","=","something","`","方式","來","異動","資料","但","這樣","寫","法會","無法","使","`","vuex","-","multi","-","tab","-","state","`","同步","更新","localstorage","必須","使用","mutation","方式","套件","才能","將資料","進行","同步","jquery","`","`","`","bash","npm","install","-","d","jquery","npm","install","-","d","@","types","jquery","由","於","使用","typescript","因此","要","再安裝","一些","定義","`","`","`","lodash","`","`","`","bash","npm","install","-","d","lodash","debounce","npm","install","-","d","@","types","lodash","debounce","npm","install","-","d","lodash","throttle","npm","install","-","d","@","types","lodash","throttle","`","`","`","vue","-","toastification","用來","進行","登出","時","右上","跳出","通知","處理","`","`","`","bash","npm","install","-","d","vue","-","toastification","@","next","`","`","`","material","-","design","-","icons","`","`","`","bash","npm","install","-","d","material","-","design","-","icons","`","`","`","animate","css","`","`","`","bash","npm","install","-","d","animate","css","`","`","`","前後端","閒置","狀態","連動","機制","如果","前端","user","一直","使用","卻","剛好","沒","呼叫","後","端的","功能","話","後","端","可能","自己","閒置","登出","因此","可以","設置","一個","`","keepalive","`","確定","user","動作","後","每隔","30","呼叫","一次","後","端","來","避免","後","端","自己","閒置","登出","後","端","部分","`","`","`","csharp","summary","refreshing","session","summary","returns","returns","httppost","public","actionresult","keepalive","return","ok","`","`","`","前端","部分","`","`","`","js","window","bind","unidleevents","debounce","keepalive","30","1000","`","`","`","關於","debounce","可以","參考","1","測試","雖然","需求","描述","只有","少少的","幾行","5","個","列點","但","實際","上","4","5","點一","加下去","wow","要測","edge","case","不少","這邊","先","簡單","條列","一些","狀況","1","開多個","分頁","登入","後","閒置","每個","分頁","要","一起","跳出","閒置","警告","畫面","2","使用","過程","若","不斷","f5","狀態","不能","錯","閒置","次數","要對","、","閒","置","狀","態","要","對","3","閒置","警告","畫面","出現","時開","新","分頁","要","能夠","正確","顯示","閒置","警告","畫面","4","登入","後","關掉","網頁","過了","閒置","時間","等待","確認","時間","後","再","重新","打開","分頁","應該","要","登出","5","用手","機時","用","一半","跑","去","用","其他","app","後","再","回來","時間","狀態","計算要","對","總結來","說","由","於","資料","會","異步","更新","因此","非常","考驗","開發","時頭腦","清晰度","否則","狀態","容易","弄","錯","再來","開發","時能","避免","巢狀","還是","儘","量","避免","好","對腦","細胞","來","說","比","較","友善","一點","雖然","處理","多工","難度","比","較","大","但實","作出","來","後","成就感","滿大","以上","就是","一個","小小的","閒置","登出","機制","完整","code","歡迎","參考","看看","啦","1","關於","`","throttle","`","`","debounce","`","可以","這個","網站"],key_words:[{word:"閒置",weight:528.2641938187594},{word:"idledeterminestates",weight:223.0448818345873},{word:"登出",weight:211.369462836},{word:"時間",weight:164.3488602991696},{word:"進行",weight:152.60965599208603},{word:"localstorage",weight:152.60965599208603},{word:"網頁",weight:140.8704516850025},{word:"分頁",weight:140.8704516850025},{word:"js",weight:117.39204307083541},{word:"install",weight:117.39204307083541},{word:"user",weight:117.39204307083541},{word:"npm",weight:117.39204307083541},{word:"store",weight:117.39204307083541},{word:"倒數",weight:117.39204307083541},{word:"狀態",weight:105.65283876375187},{word:"pageidle",weight:105.65283876375187},{word:"state",weight:105.65283876375187},{word:"警告",weight:103.07552959494},{word:"機制",weight:93.91363445666833},{word:"一個",weight:93.91363445666833},{word:"runtimer1",weight:82.1744301495848},{word:"date",weight:82.1744301495848},{word:"觸發",weight:82.1744301495848},{word:"throttle",weight:82.1744301495848},{word:"timer1",weight:82.1744301495848},{word:"時間點",weight:70.43522584250125},{word:"1000",weight:70.43522584250125},{word:"new",weight:70.43522584250125},{word:"vuex",weight:70.43522584250125},{word:"10",weight:70.43522584250125}],excerpt:"承接上篇，建立了一個cookie-based的認證方式 這回要做的是網頁的閒置登出機制 網頁的閒置登出機制可以很簡單、很單純，也可以非常的複雜 比較簡單來說，大概就是登入後放置個幾秒就把你登出 需求 而以下是這次要來挑戰的目標 閒置10分鐘要跳閒置警告 閒置警告 倒數1分鐘後觸發強制登出 閒置警告可以跳出來2次 當第3次閒置時，觸發強制登出 強制登出 要跳到首頁 要顯示提示訊息，讓user按下確定才會關 閒置登出機制要跨瀏覽器分頁 閒置登出機制要能在手機上作用 完成後的demo如下: 在示意影片中: 閒置10分鐘調整成閒置3秒鐘 閒置警告倒數1分鐘調整成5秒鐘 !video.mp4) 需求分析 baseline 首先，當在桌電上，且單一網頁的情況下，條件1~3其實還算是單純的 直觀上來說，可以做個2層的巢狀timeout，在配合上user停止動作後去觸發第一層timeout來進行實作 以下..."},{title:"Vue3 + .Net Core3 SPA + User Setting",frontmatter:{title:"Vue3 + .Net Core3 SPA + User Setting",datetime:"2020/12/3",tag:["vue","dotnet core","spa","user-setting"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Vue3 + .Net Core3 SPA + User Setting"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/Website/vue-dotnetcore-scaffolding/user-setting.html"},{name:"twitter:title",content:"Vue3 + .Net Core3 SPA + User Setting"},{name:"twitter:url",content:"/Coding/Website/vue-dotnetcore-scaffolding/user-setting.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"帳號, 資料, user, public, 權限, 一點, 處理, api, 顯示, set, 機制, 這邊, 開通, 網站, 調整, 一個, 更新, updateaccounts, 密碼, 新增, admin, 設定, role, 並且, 前端, bool, updateaccount, 必須, 對應, 參考"},{property:"article:tag",content:"帳號"},{property:"article:tag",content:"資料"},{property:"article:tag",content:"user"},{property:"article:tag",content:"public"},{property:"article:tag",content:"權限"},{property:"article:tag",content:"一點"},{property:"article:tag",content:"處理"},{property:"article:tag",content:"api"},{property:"article:tag",content:"顯示"},{property:"article:tag",content:"set"},{property:"article:tag",content:"機制"},{property:"article:tag",content:"這邊"},{property:"article:tag",content:"開通"},{property:"article:tag",content:"網站"},{property:"article:tag",content:"調整"},{property:"article:tag",content:"一個"},{property:"article:tag",content:"更新"},{property:"article:tag",content:"updateaccounts"},{property:"article:tag",content:"密碼"},{property:"article:tag",content:"新增"},{property:"article:tag",content:"admin"},{property:"article:tag",content:"設定"},{property:"article:tag",content:"role"},{property:"article:tag",content:"並且"},{property:"article:tag",content:"前端"},{property:"article:tag",content:"bool"},{property:"article:tag",content:"updateaccount"},{property:"article:tag",content:"必須"},{property:"article:tag",content:"對應"},{property:"article:tag",content:"參考"}]},regularPath:"/Coding/Website/vue-dotnetcore-scaffolding/user-setting.html",relativePath:"Coding/Website/vue-dotnetcore-scaffolding/user-setting.md",key:"v-d3e58f16",path:"/Coding/Website/vue-dotnetcore-scaffolding/user-setting.html",headers:[{level:2,title:"前端",slug:"前端"},{level:2,title:"後端",slug:"後端"},{level:2,title:"註冊帳號",slug:"註冊帳號"},{level:2,title:"開通帳號",slug:"開通帳號"},{level:2,title:"更改帳號權限",slug:"更改帳號權限"},{level:2,title:"個人設定頁",slug:"個人設定頁"}],git:{created:"12/4/2020, 7:44:40 AM",updated:"12/4/2020, 7:44:40 AM",author:"johnny1991524",commits:[{fullHash:"66a045338acf4da9463171eefb0217d57e4b98a6",authorTime:"1607039080",commitTime:"1607039080",authorName:"johnny1991524"}],contributors:["johnny1991524"]},pure_content:"承接上篇，用了role-based authorization機制\r\n\r\n讓存取後端時，必須通過授權機制的審核才能存取資源\r\n\r\n在這篇，我想要稍微練習一下，更加貼近真實應用的狀況\r\n\r\n 情境\r\n\r\n當user使用一個有會員機制的網站時，一開始一定需要先註冊帳號\r\n\r\n而當網站本身還要做權限控管的機制的話，那就必須要由一個相對權限高的人，來調整user的權限\r\n\r\n而當user擁有應對的權限後，才能夠存取後端對應權限的資源\r\n\r\n以下影片為上述的示意\r\n\r\n!video.mp4)\r\n\r\n 目標\r\n\r\n1. 新增一個註冊頁讓user進行註冊\r\n\r\n    註冊成功後，出現請等候管理員開通的字\r\n\r\n2. 新增一個管理員頁面\r\n\r\n    讓管理員可以開通帳號，並調整帳號的權限\r\n\r\n3. 新增一個個人設定頁\r\n\r\n    用以調整user的設定:\r\n\r\n     顯示名稱\r\n\r\n     變更密碼\r\n\r\n    以及觀看帳號的資訊:\r\n\r\n     帳號是否被開通了\r\n\r\n     email\r\n\r\n     目前擁有哪些 roles\r\n\r\n 架構設計\r\n\r\n由於想稍微貼近一點真實狀況，但又想避免在非本文關注的焦點上，實作的過於嚴謹\r\n\r\n所以一些資安上有疑慮的作法，這邊就先不處理得太仔細\r\n\r\n 前端\r\n\r\n在前端的部分，大致處理的方向有\r\n\r\n1. routing\r\n\r\n2. 新增對應的3個頁面\r\n\r\n3. 新增更改資料時對應的api\r\n\r\n4. navigation要能根據user的role調整顯示的內容\r\n\r\n5. 由於使用了typescript，因此需要新增對應的資料格式定義\r\n\r\n 後端\r\n\r\n在後端的部分，大致處理的方向有\r\n\r\n1. 新增admincontroller.cs，來處理這次的api\r\n\r\n2. 調整 authorization action filter，新增帳號狀態的判定\r\n\r\n3. 實作orm many-to-many 的 update 邏輯\r\n\r\n4. 建立資料格式對應的 data model\r\n\r\n 開發思路\r\n\r\n前端部分可以參考[這邊](\r\n\r\n後端部分可以參考[這邊](\r\n\r\n 註冊帳號\r\n\r\n一般註冊帳號，有的網站做的比較動態的，會在輸入帳號時，就即時的顯示該帳號是否有被用過\r\n\r\n以及輸入密碼的同時，就同步顯示密碼強度\r\n\r\n那這邊我們簡單起見，就還是交由後端驗證為主，並把驗證後的結果回傳到前端\r\n\r\n 開通帳號\r\n\r\n在admin頁，允許admin開通帳號，而這個功能的實作有很多方式\r\n\r\n而我這邊是用比較偷懶一點的方式去做\r\n\r\n針對更新帳號的處理，會全部交由 `api/admin/updateaccounts` 這支api來處理\r\n\r\n並且api本身以接收多個帳號的方式來做處理\r\n\r\n```csharp\r\npublic iactionresult updateaccounts(ienumerable<updateaccount> updateaccounts)\r\n```\r\n\r\n而開通帳號會是以點擊button的方式，來一筆一筆的呼叫 `updateaccounts` 這支api來更新資料\r\n\r\n而更新資料時，由於更改帳號權限也是呼叫這一支api\r\n\r\n因此`updateaccount`這個data model，刻意在各欄位上設計 isupdatable 的欄位\r\n\r\n用以讓後端直接判斷哪些欄位是會被更新的，這樣後端就不用再判斷要更新哪些資料了\r\n\r\n```csharp\r\npublic class updateaccount\r\n{\r\n    [required]\r\n    public int id { get; set; }\r\n\r\n    public string name { get; set; }\r\n    public bool isupdatename { get; set; }\r\n\r\n    public accountstatus accountstatus { get; set; }\r\n    public bool isupdateaccountstatus { get; set; }\r\n\r\n    public icollection<int> userroles { get; set; }\r\n    public bool isupdateuserroles { get; set; }\r\n\r\n    public void decryptid()\r\n    { \r\n    \r\n    }\r\n}\r\n```\r\n\r\n 更改帳號權限\r\n\r\n而更改帳號權限這邊，則是採用比較類似表單傳送的方式做設計\r\n\r\n並且用了一個防呆機制，透過`isupdateaccounts`來判斷user是否有調整了表單\r\n\r\n而判斷邏輯則是比對表單上的user role是否與原始資料相同\r\n\r\n而當不同時，user一點擊update按鈕，就會呼叫 `updateaccounts` 這支api，並一次處理多筆資料\r\n\r\n不過必須說的是，這樣的 ui 呈現方式，在資料量大的時候是非常不憂的\r\n\r\n因為網頁上會直接顯示所有的 user 資料\r\n\r\n實務上，還是會添加 pagination 的功能，一次要部分的資料\r\n\r\n甚至搭配 filter，或search的功能，來讓 admin 更快地找到他想找的人\r\n\r\n 個人設定頁\r\n\r\n個人設定頁就比較單純一點\r\n\r\n一些資料是單純的顯示(account status、email、roles)\r\n\r\n而 name 則是做字串比對，跟原先的不同才允許更新，並且更新時，會連動更新 nav 上的顯示\r\n\r\n而密碼的更新，則是做了double check，並且還要再輸入一次原先的密碼\r\n\r\n 總結來說\r\n\r\n這次做了一些讓網站的一些設定值可以線上修改的功能，讓一些重要的參數不用進db也可以修改\r\n\r\n像是調整帳號是否已啟用，以及帳號可以擁有什麼權限，等等\r\n\r\n但也因為做得比較簡單一點，因此user role是寫死的\r\n\r\n一些參數前後端是寫死在code裡的\r\n\r\n如果想要讓網站功能更加動態一點，這些參數寫進db中\r\n\r\n並由啟動階段來讀取他們，初始化網站，可能會是比較好一點的作法\r\n\r\n\r\n此外在更新資料的機制上，其實這篇的做法就是資料庫的id前後端跑\r\n\r\n這樣其實滿容易造成資安的風險\r\n\r\n好一點的作法，應該是要將id加密後傳到前端，後端處理前再解密會好一點\r\n\r\n\r\n另外，在網站的ui上，也比較陽春了一點\r\n\r\n但若想要套用一些ui library，短期內可能會比較困難一些\r\n\r\n畢竟vue3出的還不夠久，許多套件其實都還在規劃升級，或開發階段\r\n\r\n只能說，vue3新推的功能是真的香\r\n\r\n但若想要現在就使用vue3上營運環境\r\n\r\n那可能需要有十足的心理準備，許多輪子可能都要自己重刻\r\n\r\n或許等個半年(2021/6)，或甚至一年後(2021/12)，這種狀況就會有很大的改善了吧\r\n\r\n[完整的code在此]( 歡迎參考看看啦",word_token:["承接","上篇","用","role","-","based","authorization","機制","讓","存取","後","端","時","必須","通過","授權","機制","審核","才能","存取","資源","這篇","想要","稍微","練習","一下","更加","貼近","真實","應用","狀況","情境","當","user","使用","一個","有會員","機制","網站","時","一開始","一定","需要","先","註","冊","帳","號","而","當網","站","本身","還要","權限","控管","機制","話","必須","要","由","一個","相對權","限高","人","來","調整","user","權限","而當","user","擁有","應","對","權限","後","才能","夠","存取","後","端","對","應","權限","資源","以下","影片","為","上述","示意","video","mp4","目標","1","新增","一個","註","冊","頁","讓","user","進行","註","冊","註","冊","成功","後","出現","請","等候","管理","員","開通","字","2","新增","一個","管理","員頁","面","讓","管理","員","可以","開通","帳號","並調整","帳號","權限","3","新增","一個","個","人","設定","頁","用以","調整","user","設定","顯示","名稱","變","密碼","以及","觀看","帳號","資訊","帳號","是否","被","開通","email","目前","擁有","哪些","roles","架構","設計","由","於","想","稍微","貼近","一點","真實","狀況","但","想","避免","非","本文","關注","焦點","上","實作的過","於","嚴謹","所以","一些","資","安上","有疑慮","作法","這邊","先","處理","太","仔細","前端","前端","部分","大致","處理","方向","1","routing","2","新增","對應","3","個頁","面","3","新增","更改","資料","時","對","應","api","4","navigation","要能","根據","user","role","調整","顯示","內容","5","由","於","使用","typescript","因此","需要","新增","對應","資料","格式","定義","後","端","後","端的","部分","大致","處理","方向","1","新增","admincontroller","cs","來","處理","這次","api","2","調整","authorization","action","filter","新增","帳號","狀態","判定","3","實作","orm","-","-","update","邏輯","4","建立","資料","格式","對應","data","model","開發","思路","前端","部分","可以","參考","這邊","後","端","部分","可以","參考","這邊","註","冊","帳","號","一般","註","冊","帳","號","網站","比","較動態","會","輸入","帳號","時","即","時","顯示","該","帳號","是否","被","用過","以及","輸入","密碼","同時","同步","顯示","密碼","強度","這邊","我們","簡單","起見","還是","交由","後","端驗","證為","主","並把驗證","後","結果","回傳到","前端","開通","帳號","admin","頁","允許","admin","開通","帳號","而","這個","功能","實作","很多","方式","而","這邊","用","比","較","偷","懶","一點","方式","去","針對","更新","帳號","處理","會","全部","交由","`","api","admin","updateaccounts","`","這支","api","來","處理","並且","api","本身","以","接收","多個","帳號","方式","來","處理","`","`","`","csharp","public","iactionresult","updateaccounts","ienumerable","updateaccount","updateaccounts","`","`","`","而","開通","帳號","會","以點擊","button","方式","來","一筆","一筆","呼叫","`","updateaccounts","`","這支","api","來","更新","資料","而","更新","資料","時","由","於","更改","帳號","權限","呼叫","這","一支","api","因此","`","updateaccount","`","這個","data","model","刻意","各欄位","上","設計","isupdatable","欄位","用以","讓後端","直接","判斷","哪些","欄位","會","被","更新","這樣後端","不用","再判斷","要","更新","哪些","資料","`","`","`","csharp","public","class","updateaccount","required","public","int","id","set","public","string","name","set","public","bool","isupdatename","set","public","accountstatus","accountstatus","set","public","bool","isupdateaccountstatus","set","public","icollection","int","userroles","set","public","bool","isupdateuserroles","set","public","void","decryptid","`","`","`","更改","帳號","權限","而","更改","帳號","權限","這邊","則是","採用","比","較類","似表單","傳送","方式","設計","並且","用","一個","防呆","機制","透過","`","isupdateaccounts","`","來判斷","user","是否","調整","表單","而","判斷","邏輯則","比","對表單","上","user","role","是否","與","原始","資料","相同","而當","不同","時","user","一點擊","update","按鈕","會","呼叫","`","updateaccounts","`","這支","api","並","一次","處理","筆資料","不過","必須","說","這樣","ui","呈現","方式","在資","料量","大","時候","非常","不憂","因為","網頁","上會","直接","顯示","所有","user","資料","實務上","還是","會","添加","pagination","功能","一次","要","部分","資料","甚至","搭配","filter","search","功能","來","讓","admin","更快","找到","想","找","人","個","人","設定","頁","個","人","設定","頁","比","較","單純","一點","一些","資料","單純","顯示","account","status","email","、","roles","而","name","則是","字串","比","對","原先","不同","才","允許","更新","並且","更新","時","會連動","更新","nav","上","顯示","而","密碼","更新","則是","double","check","並且","還要","再","輸入","一次","原先","密碼","總結來","說","這次","一些","讓","網站","一些","設定值","可以","線上","修改","功能","讓","一些","重要","參數","不用","進","db","可以","修改","像是","調整","帳號","是否","啟用","以及","帳號","可以","擁有","什麼","權限","等等","但","因為","比","較","簡單","一點","因此","user","role","寫","死","一些","參數","前後端","寫","死","code","裡的","如果","想要","讓","網站","功能","更加","動態","一點","這些","參數","寫進","db","並由","啟動階段","來","讀取","他們","初始化","網站","可能","會","比","較","好","一點","作法","此外","更新","資料","機制","上","其實","這篇","做法","就是","資料","庫","id","前後端","跑","這樣","其","實滿","容易","造成","資安","風險","好","一點","作法","應該","要將","id","加密","後","傳到","前端","後","端","處理前","再","解密","會","好","一點","另外","網站","ui","上","比","較陽春","一點","但","若","想要","套用","一些","ui","library","短期","內","可能","會","比","較","困難","一些","畢竟","vue3","出","還不夠","久","許多","套件","其實","還在","規劃","升級","或開","發階段","只能","說","vue3","新","推","功能","真的","香","但","若","想要","現在","使用","vue3","上營","運環境","可能","需要","十足","心理","準備","許多","輪子","可能","要","自己","重刻","或許","個","半年","2021","6","甚至","一年","後","2021","12","這種","狀況","會","很大","改善","完整","code","歡迎","參考","看看","啦"],key_words:[{word:"帳號",weight:199.56647322042022},{word:"資料",weight:140.8704516850025},{word:"user",weight:129.13124737791895},{word:"public",weight:117.39204307083541},{word:"權限",weight:105.65283876375187},{word:"一點",weight:105.65283876375187},{word:"處理",weight:93.91363445666833},{word:"api",weight:93.91363445666833},{word:"顯示",weight:82.1744301495848},{word:"set",weight:82.1744301495848},{word:"機制",weight:70.43522584250125},{word:"這邊",weight:70.43522584250125},{word:"開通",weight:70.43522584250125},{word:"網站",weight:70.43522584250125},{word:"調整",weight:70.43522584250125},{word:"一個",weight:70.43522584250125},{word:"更新",weight:66.5573610564},{word:"updateaccounts",weight:58.69602153541771},{word:"密碼",weight:58.69602153541771},{word:"新增",weight:48.373476518},{word:"admin",weight:46.95681722833417},{word:"設定",weight:46.95681722833417},{word:"role",weight:46.95681722833417},{word:"並且",weight:46.95681722833417},{word:"前端",weight:40.32933457455},{word:"bool",weight:35.21761292125063},{word:"updateaccount",weight:35.21761292125063},{word:"必須",weight:35.21761292125063},{word:"對應",weight:35.21761292125063},{word:"參考",weight:35.21761292125063}],excerpt:"承接上篇，用了role-based authorization機制 讓存取後端時，必須通過授權機制的審核才能存取資源 在這篇，我想要稍微練習一下，更加貼近真實應用的狀況 情境 當user使用一個有會員機制的網站時，一開始一定需要先註冊帳號 而當網站本身還要做權限控管的機制的話，那就必須要由一個相對權限高的人，來調整user的權限 而當user擁有應對的權限後，才能夠存取後端對應權限的資源 以下影片為上述的示意 !video.mp4) 目標 新增一個註冊頁讓user進行註冊 註冊成功後，出現請等候管理員開通的字 新增一個管理員頁面 讓管理員可以開通帳號，並調整帳號的權限 新增一個個人設定頁 用以調整user的設定: 顯示名稱 變更密碼 以及觀看帳號的資訊: 帳號是否被開通了 email 目前擁有哪些 roles 架構設計 由於想稍微貼近一點真實狀況，但又想避免在非本文關注的焦點上，實作的過於..."},{title:"Dump Sqlite3 to PostgreSQL by Django command",frontmatter:{title:"Dump Sqlite3 to PostgreSQL by Django command",datetime:"2020/9/12",tag:["python","django","sqlite3","postgresql"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Dump Sqlite3 to PostgreSQL by Django command"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/SQL/sqlite-to-postgresql.html"},{name:"twitter:title",content:"Dump Sqlite3 to PostgreSQL by Django command"},{name:"twitter:url",content:"/Coding/SQL/sqlite-to-postgresql.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"資料, db, django, dump, python, py, manage, sqlite3, postgresql, 轉換, datadump, orm, pgloader, 問題, 出來, json, 開發, 這樣, 格式, 指令, 方案, 料量, 最終, 情況, 機制, 安裝, 將資料, import, contenttype, linux"},{property:"article:tag",content:"資料"},{property:"article:tag",content:"db"},{property:"article:tag",content:"django"},{property:"article:tag",content:"dump"},{property:"article:tag",content:"python"},{property:"article:tag",content:"py"},{property:"article:tag",content:"manage"},{property:"article:tag",content:"sqlite3"},{property:"article:tag",content:"postgresql"},{property:"article:tag",content:"轉換"},{property:"article:tag",content:"datadump"},{property:"article:tag",content:"orm"},{property:"article:tag",content:"pgloader"},{property:"article:tag",content:"問題"},{property:"article:tag",content:"出來"},{property:"article:tag",content:"json"},{property:"article:tag",content:"開發"},{property:"article:tag",content:"這樣"},{property:"article:tag",content:"格式"},{property:"article:tag",content:"指令"},{property:"article:tag",content:"方案"},{property:"article:tag",content:"料量"},{property:"article:tag",content:"最終"},{property:"article:tag",content:"情況"},{property:"article:tag",content:"機制"},{property:"article:tag",content:"安裝"},{property:"article:tag",content:"將資料"},{property:"article:tag",content:"import"},{property:"article:tag",content:"contenttype"},{property:"article:tag",content:"linux"}]},regularPath:"/Coding/SQL/sqlite-to-postgresql.html",relativePath:"Coding/SQL/sqlite-to-postgresql.md",key:"v-177d640c",path:"/Coding/SQL/sqlite-to-postgresql.html",headers:[{level:2,title:"暴力法",slug:"暴力法"},{level:2,title:"pgloader",slug:"pgloader"}],git:{created:"9/16/2020, 8:20:57 PM",updated:"9/12/2020, 6:48:55 PM",author:"johnny1991524",commits:[{fullHash:"09e78460681c4b0ff1405d2beaa5af22d4c0a896",authorTime:"1600258857",commitTime:"1600258857",authorName:"johnny1991524"},{fullHash:"9c43a3ed15604830701d0fd3603dabf85a80dc88",authorTime:"1599907735",commitTime:"1599907735",authorName:"johnny1991524"}],contributors:["johnny1991524"]},pure_content:'一般在使用django快速開發網站的時候，db方面使用sqlite3，對開發會方便很多\r\n\r\n因為少掉了非常大量db方面的設置，當然換個角度想，也算是在埋技術債啦\r\n\r\n畢竟相對postgresql，sqlite3比較不適合用在營運環境上一點\r\n\r\n但當系統早期建置時，需求相當不穩定下，與其追求db的穩定，使用orm，早點把系統雛形開發出來\r\n\r\n再為了營運需求，使用更符合的db也是個策略\r\n\r\n而這篇最主要紀錄的，就是將sqlite3上的資料快速的轉換到postgresql上\r\n\r\n 可能方案\r\n\r\n這邊介紹一些轉換方案，這些方案都會有適合他的情況，基本上可以挑狀況去用\r\n\r\n至於我覺得最泛用的方法，寫在下方最終方案中\r\n\r\n 暴力法\r\n\r\n用sqlite指令，直接dump資料，再把dump出來的資料格式轉成postgresql看得懂的格式\r\n\r\n或者也可以透過sqlitestudio這樣的tool去dump資料\r\n\r\ndump的格式、資料量，會是個大問題，再來如果資料有許多reference關西的話\r\n\r\n資料輸出輸入的順序也不能有錯，比較適合在資料量小，schema單純的情況下用\r\n\r\n但好處是，環境相依低，基本上各os一定可以匯出匯入這些"格式正確"的資料\r\n\r\n pgloader\r\n\r\n可以直接讓postgresql自己去讀取sqlite3上面的資料\r\n\r\n看說明是寫的很美好，但有個問題，就是windows上不是太好用\r\n\r\n光是要把pgloader這個指令安裝起來就是個大問題\r\n\r\n有些人是建議安裝windows subsystem for linux，但這流程就會變得有點長了\r\n\r\n但如果是在linux based上的機器做轉換的話，pgloader應該還是個不錯的做法\r\n\r\n 最終方案\r\n\r\n主要參考自[這篇文章](\r\n\r\n簡單來說，就是使用django指令把資料dump出來，再import回去\r\n\r\n```bash\r\n 將資料全部倒到 datadump.json\r\npython manage.py dumpdata > datadump.json\r\n 更改db連線設定後，重新建立對應\r\npython manage.py migrate --run-syncdb\r\n 開啟一個django的shell，並清掉一些設定資料\r\npython manage.py shell\r\n>>> from django.contrib.contenttypes.models import contenttype\r\n>>> contenttype.objects.all().delete()\r\n>>> quit()\r\n 將資料倒回\r\npython manage.py loaddata datadump.json\r\n```\r\n\r\n這樣就能很快地將資料進行移轉了\r\n\r\n這個方法唯一的限制是，他是透過django指令，還有orm機制來輔助的\r\n\r\n所以系統如果不是用django開發，orm機制建立db的話，就不能這樣轉換資料了',word_token:["一般","使用","django","快速","開發","網站","時候","db","方面","使用","sqlite3","對開","發會","方便","很多","因為","少掉","非常","大量","db","方面","設置","當然","換個","角度","想","算是","埋","技術債","啦","畢竟","相對","postgresql","sqlite3","比較","不適","合用","營運","環境","上","一點","但","當系統","早期","建置","時","需求","相當","不穩","定下","與","其","追求","db","穩定","使用","orm","早點","系統","雛形","開發","出來","再","為","營運","需求","使用","符合","db","個","策略","而","這篇","最","主要","紀錄","就是","將","sqlite3","上","資料","快速","轉換","postgresql","上","可能","方案","這邊","介紹","一些","轉換","方案","這些","方案","會","適合","情況","基本上","可以","挑狀況","去","用","至於","我覺","最泛","用","方法","寫","下方","最終","方案","暴力","法","用","sqlite","指令","直接","dump","資料","再","dump","出來","資料","格式","轉成","postgresql","看得懂","格式","或者","可以","透過","sqlitestudio","這樣","tool","去","dump","資料","dump","格式","資","料量","會","個","大","問題","再來","如果","資料","許多","reference","關西","話","資料","輸出","輸入","順序","不能","有錯","比較","適合","資","料量","schema","單純","情況","下用","但","好","處","環境","相依","低","基本上","os","一定","可以","匯出","匯入","這些","格式","正確","資料","pgloader","可以","直接","讓","postgresql","自己","去","讀取","sqlite3","上面","資料","說明","寫","美好","但","個","問題","就是","windows","上","不是太好","用","光是","要","pgloader","這個","指令","安裝","起來","就是","個","大","問題","有些","人","建議","安裝","windows","subsystem","linux","但","這","流程","就會","變得","點長","但","如果","linux","based","上","機器","轉換","話","pgloader","應該","還是","個","不錯","做法","最終","方案","主要","參考","自","這","篇文章","簡單","來","說","就是","使用","django","指令","資料","dump","出來","再","import","回去","`","`","`","bash","將資料","全部","倒","datadump","json","python","manage","py","dumpdata","datadump","json","更改","db","連線","設定","後","重新","建立","對應","python","manage","py","migrate","-","-","run","-","syncdb","開啟","一個","django","shell","並","清掉","一些","設定","資料","python","manage","py","shell","django","contrib","contenttypes","models","import","contenttype","contenttype","objects","delete","quit","將資料","倒","回","python","manage","py","loaddata","datadump","json","`","`","`","這樣","能","很快","地將","資料","進行","移轉","這個","方法","唯一","限制","透過","django","指令","還有","orm","機制","來","輔助","所以","系統","如果","不是","用","django","開發","orm","機制","建立","db","話","不能","這樣","轉換","資料"],key_words:[{word:"資料",weight:140.8704516850025},{word:"db",weight:70.43522584250125},{word:"django",weight:70.43522584250125},{word:"dump",weight:58.69602153541771},{word:"python",weight:46.95681722833417},{word:"py",weight:46.95681722833417},{word:"manage",weight:46.95681722833417},{word:"sqlite3",weight:46.95681722833417},{word:"postgresql",weight:46.95681722833417},{word:"轉換",weight:46.95681722833417},{word:"datadump",weight:35.21761292125063},{word:"orm",weight:35.21761292125063},{word:"pgloader",weight:35.21761292125063},{word:"問題",weight:35.21761292125063},{word:"出來",weight:35.21761292125063},{word:"json",weight:35.21761292125063},{word:"開發",weight:35.21761292125063},{word:"這樣",weight:35.21761292125063},{word:"格式",weight:33.78142614648},{word:"指令",weight:32.70837020008},{word:"方案",weight:29.26104454155},{word:"料量",weight:23.478408614167083},{word:"最終",weight:23.478408614167083},{word:"情況",weight:23.478408614167083},{word:"機制",weight:23.478408614167083},{word:"安裝",weight:23.478408614167083},{word:"將資料",weight:23.478408614167083},{word:"import",weight:23.478408614167083},{word:"contenttype",weight:23.478408614167083},{word:"linux",weight:23.478408614167083}],excerpt:"一般在使用django快速開發網站的時候，db方面使用sqlite3，對開發會方便很多 因為少掉了非常大量db方面的設置，當然換個角度想，也算是在埋技術債啦 畢竟相對postgresql，sqlite3比較不適合用在營運環境上一點 但當系統早期建置時，需求相當不穩定下，與其追求db的穩定，使用orm，早點把系統雛形開發出來 再為了營運需求，使用更符合的db也是個策略 而這篇最主要紀錄的，就是將sqlite3上的資料快速的轉換到postgresql上 可能方案 這邊介紹一些轉換方案，這些方案都會有適合他的情況，基本上可以挑狀況去用 至於我覺得最泛用的方法，寫在下方最終方案中 暴力法 用sqlite指令，直接dump資料，再把dump出來的資料格式轉成postgresql看得懂的格式 或者也可以透過sqlitestudio這樣的tool去dump資料 dump的格式、資料量，會是個大問題，再來..."},{title:"Vue3 + .Net Core3 SPA + Cookie-Based Authentication",frontmatter:{title:"Vue3 + .Net Core3 SPA + Cookie-Based Authentication",datetime:"2020/11/5",tag:["vue","dotnet core","spa","authentication"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Vue3 + .Net Core3 SPA + Cookie-Based Authentication"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/Website/vue-dotnetcore-scaffolding/authentication.html"},{name:"twitter:title",content:"Vue3 + .Net Core3 SPA + Cookie-Based Authentication"},{name:"twitter:url",content:"/Coding/Website/vue-dotnetcore-scaffolding/authentication.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"authentication, 登入, api, app, user, 這邊, cookie, email, public, store, return, session, 實作, claims, based, vue, response, 設定, new, server, csharp, 進行, 處理, weather, axios, 顯示, 認證, getuserinfo, claim, login"},{property:"article:tag",content:"authentication"},{property:"article:tag",content:"登入"},{property:"article:tag",content:"api"},{property:"article:tag",content:"app"},{property:"article:tag",content:"user"},{property:"article:tag",content:"這邊"},{property:"article:tag",content:"cookie"},{property:"article:tag",content:"email"},{property:"article:tag",content:"public"},{property:"article:tag",content:"store"},{property:"article:tag",content:"return"},{property:"article:tag",content:"session"},{property:"article:tag",content:"實作"},{property:"article:tag",content:"claims"},{property:"article:tag",content:"based"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"response"},{property:"article:tag",content:"設定"},{property:"article:tag",content:"new"},{property:"article:tag",content:"server"},{property:"article:tag",content:"csharp"},{property:"article:tag",content:"進行"},{property:"article:tag",content:"處理"},{property:"article:tag",content:"weather"},{property:"article:tag",content:"axios"},{property:"article:tag",content:"顯示"},{property:"article:tag",content:"認證"},{property:"article:tag",content:"getuserinfo"},{property:"article:tag",content:"claim"},{property:"article:tag",content:"login"}]},regularPath:"/Coding/Website/vue-dotnetcore-scaffolding/authentication.html",relativePath:"Coding/Website/vue-dotnetcore-scaffolding/authentication.md",key:"v-c405dd3e",path:"/Coding/Website/vue-dotnetcore-scaffolding/authentication.html",headers:[{level:2,title:"調整 Startup.cs",slug:"調整-startup-cs"},{level:3,title:"開發環境 CORS",slug:"開發環境-cors"},{level:3,title:"設定Cookie-Based Authentication",slug:"設定cookie-based-authentication"},{level:3,title:"設定API ModelState錯誤訊息的回傳格式",slug:"設定api-modelstate錯誤訊息的回傳格式"},{level:2,title:"API Controller",slug:"api-controller"},{level:3,title:"IsLogin",slug:"islogin"},{level:3,title:"Login",slug:"login"},{level:3,title:"Logout",slug:"logout"},{level:3,title:"GetUserInfo",slug:"getuserinfo"},{level:2,title:"[Authorize] Attribute",slug:"authorize-attribute"},{level:2,title:"Vuex Store",slug:"vuex-store"},{level:2,title:"Authentication API",slug:"authentication-api"},{level:2,title:"Authentication UI",slug:"authentication-ui"},{level:3,title:"在Nav顯示User Name",slug:"在nav顯示user-name"},{level:3,title:"登入頁",slug:"登入頁"},{level:3,title:"呼叫 Weather API",slug:"呼叫-weather-api"}],git:{created:"12/4/2020, 7:44:40 AM",updated:"12/4/2020, 7:44:40 AM",author:"johnny1991524",commits:[{fullHash:"66a045338acf4da9463171eefb0217d57e4b98a6",authorTime:"1607039080",commitTime:"1607039080",authorName:"johnny1991524"}],contributors:["johnny1991524"]},pure_content:"承接上篇提到建立一個簡易的vue3.0 + .net core3.0 template\r\n\r\n其實microsoft提供的spa template中，是有包含authentication，登入認證這塊的\r\n\r\n但一樣，就是沒有vue的版本 (༎ຶ l_ ༎ຶ )\r\n\r\n那說到 authentication 這塊，其實實作方式滿多種的:\r\n\r\n cookie-based\r\n\r\n    算是比較傳統的方式，好實作，前端cookie存個session id，後端session進行一些資料的紀錄\r\n\r\n token-based\r\n\r\n    簡單來說，利用jwt，做到類似發號碼牌的方式來實作認證，跟`cookie-based`相比，後端session不用進行身分資料的紀錄\r\n\r\n identity server\r\n\r\n    identity server 是 microsoft 基於 oauth 還有 oidc(open id connection) 規格實作\r\n    \r\n    企圖用它來完成各式各樣的認證方式，像是 facebook 認證、active directory 認證\r\n\r\n    api 權限管理、sso(single-sign-oo) ...，[相當多的功能](\r\n\r\n那這邊將基於 cookie-based 來進行 authentication 的實作\r\n\r\ncookie-based authentication 算滿好實作的\r\n\r\n但缺點是 load balance 時會需要額外做設定\r\n\r\n像使用 session server 來儲存 session 裡的資料(redis server、db...)\r\n\r\n或是 load balance 時，讓特定人之request固定打到某台server ...\r\n\r\n 基本想法\r\n\r\n關於 authentication，以下是這次要實作的相關功能說明\r\n\r\n login\r\n\r\n     進行登入認證\r\n\r\n         只進行 `email` 的檢查:\r\n\r\n             輸入空白要顯示錯誤訊息: `the email field is required.`\r\n\r\n                !img\r\n\r\n             輸入不符合 email 的格式要顯示: `the email field is not a valid e-mail address.`\r\n\r\n                !img\r\n\r\n             輸入的 email 無法通過要顯示: `invalid email`\r\n\r\n                !img\r\n\r\n     登入成功要顯示user name\r\n\r\n         一開始要檢查有無登入，有的話要顯示user name\r\n\r\n            !img\r\n\r\n     若登入後，關掉瀏覽器再重新進入頁面不用重新登入\r\n\r\n logout\r\n\r\n     要顯示請進行登入\r\n\r\n        !img\r\n\r\n     後端session要清掉\r\n\r\n api authorization\r\n\r\n     尚未登入就呼叫需授權之api，要顯示401 unauthorize\r\n\r\n        !img\r\n\r\n那在這個實作中，為了簡單化實作內容，user的資料用寫死的方式處理\r\n\r\n所以這邊不會碰到 db，而認證時，這邊也會先簡單處理\r\n\r\n不會檢查密碼，只會進行 `email` 的比對，唯一可以進行登入的 email 為 `test@auth.com`\r\n\r\n而授權api，就用weather api來進行測試\r\n\r\n 基本處理流程\r\n\r\n從架構上來說，大致處理流程如下\r\n\r\n1. 後端為了啟用 authentication，必須在`startup.cs`裡註冊相關的宣告\r\n\r\n2. 建立一個api controller，用來處理 authentication api 相關的邏輯\r\n\r\n3. 後端建立好 authentication 機制後，後端就可以使用 `[authorize]` attribute 來管理api的授權\r\n\r\n4. 前端建立處理 authentication 相關api 的來回機制\r\n\r\n5. 前端處理登入登出邏輯時，ui要能夠跟著連動\r\n\r\n back-end\r\n\r\n 調整 startup.cs\r\n\r\n 開發環境 cors\r\n\r\n由於我們需要透過http header中的set-cookie來將session id自動放到cookie中\r\n\r\n這時若vue這邊是額外起一個server的話，那就會因為cors的關係，導致cookie設不了\r\n\r\n因此這邊我們可以在開發環境中，讓cors先通過\r\n\r\n```csharp\r\npublic void configureservices(iservicecollection services)\r\n{\r\n    // add service and create policy with options\r\n    services.addcors(options =>{});\r\n}\r\n\r\npublic void configure(iapplicationbuilder app, iwebhostenvironment env)\r\n{\r\n    if (env.isdevelopment())\r\n    {\r\n        // add global cors policy\r\n        app.usecors(x => x\r\n            .allowanymethod()\r\n            .allowanyheader()\r\n            .setisoriginallowed(origin => true) // allow any origin\r\n            .allowcredentials()); // allow credentials\r\n    }\r\n}\r\n```\r\n\r\n 設定cookie-based authentication\r\n\r\n```csharp\r\npublic void configureservices(iservicecollection services)\r\n{\r\n    // add cookie-based authentication\r\n    services.addauthentication(cookieauthenticationdefaults.authenticationscheme)\r\n        .addcookie()\r\n}\r\n```\r\n\r\n由於預設行為，在未授權的情況下使用api，會把妳導到登入頁\r\n\r\n這邊我希望他回傳個401 unauthorized就好，所以上述的code要再加一些設定\r\n\r\n```csharp\r\npublic void configureservices(iservicecollection services)\r\n{\r\n    // add cookie-based authentication\r\n    services.addauthentication(cookieauthenticationdefaults.authenticationscheme)\r\n        .addcookie(options =>\r\n        {\r\n            // return 401 instead of 302 when accessing resouce without authorization\r\n            // (default behavior will redirect to login url)\r\n            options.events.onredirecttologin = context =>\r\n            {\r\n                context.response.statuscode = statuscodes.status401unauthorized;\r\n                return task.completedtask;\r\n            };\r\n        });\r\n}\r\n```\r\n\r\n接著調整 configure\r\n\r\n這邊要注意順序，`app.userouting`，`app.useauthentication`，`app.useauthorization`，`app.useendpoints`\r\n\r\n這4個的順序是不能顛倒的，不然compiler不會報錯\r\n\r\n(然後實際運作時，就會發現authentication沒作用 lol)\r\n\r\n```csharp\r\npublic void configure(iapplicationbuilder app, iwebhostenvironment env)\r\n{\r\n    // routing\r\n    app.userouting();\r\n\r\n    // authentication\r\n    app.useauthentication();\r\n    app.useauthorization();\r\n    \r\n    app.useendpoints()\r\n}\r\n```\r\n\r\n 設定api modelstate錯誤訊息的回傳格式\r\n\r\n由於預設的訊息很多，而且格式可能會不統一\r\n\r\n因此這邊做個回傳格式的統一\r\n\r\n```csharp\r\npublic void configureservices(iservicecollection services)\r\n{\r\n    services.addcontrollers()\r\n        .configureapibehavioroptions(options => {\r\n            //  format return message from modelstate\r\n            options.invalidmodelstateresponsefactory = actioncontext =>\r\n            {\r\n                var modelstate = actioncontext.modelstate.values;\r\n                return new badrequestobjectresult(actioncontext.modelstate);\r\n            };\r\n        });\r\n}\r\n```\r\n\r\n當 `modelstate.isvalid == false` 時，回傳格式統一為\r\n\r\n```json\r\n{\r\n    \"email\":[\r\n        \"the email field is required.\",\r\n        \"the email field is not a valid e-mail address.\"\r\n    ]\r\n}\r\n```\r\n\r\n api controller\r\n\r\n接著在 `controllers/` 下，新增一個 `accountcontroller.cs`\r\n\r\n在這邊建立4個api\r\n\r\n1. islogin: 當網頁第一次進入時，用來判斷user是否還有登入\r\n2. login: 從前端拿取user輸入的email，用來做登入的處理\r\n3. logout: 用來登出，清掉session登入資訊用\r\n4. getuserinfo: 用來讀取user的資料，像是姓名，當登入成功後，用來顯示在網頁上\r\n\r\n islogin\r\n\r\n這個功能比較單純，call內建function即可\r\n\r\n```csharp\r\n[httpget]\r\npublic bool islogin()\r\n{ \r\n    return user.identity.isauthenticated;\r\n}\r\n```\r\n\r\n login\r\n\r\n這邊是後端的一個重頭戲\r\n\r\n基本上在認證登入時，當判斷帳號密碼通過後，妳可能會想存一些user的資訊進session中(就不用一直讀db)\r\n\r\n那就可以透過一些內建的物件(claim)來存一些資訊，像是`email`、`name`、`user role`....等等等\r\n\r\n這樣就不需要自己宣告很多東西了\r\n\r\n而設定完user的資訊後，就是設定authentication的一些功能，接著實際呼叫`httpcontext.signinasync`來設定session\r\n\r\n[完整的code請參考這邊](\r\n\r\n而概略流程的code如下:\r\n\r\n```csharp\r\n[httppost]\r\npublic async task<iactionresult> login([frombody] authenticationuser authenticationuser)\r\n{\r\n    ...\r\n\r\n    var claims = new list<claim>\r\n        {\r\n            // 設定 user 的一些資訊\r\n            new claim(claimtypes.email, user.email),\r\n            new claim(claimtypes.name, user.name),\r\n            new claim(claimtypes.role, \"administrator\"),\r\n        };\r\n\r\n    var claimsidentity = new claimsidentity(\r\n        claims, cookieauthenticationdefaults.authenticationscheme);\r\n\r\n    // 設定 authentication\r\n    var authproperties = new authenticationproperties\r\n    {\r\n        // allowrefresh = true,\r\n        // refreshing the authentication session should be allowed.\r\n\r\n        // expiresutc = datetimeoffset.utcnow.addminutes(10),\r\n        // the time at which the authentication ticket expires. a \r\n        // value set here overrides the expiretimespan option of \r\n        // cookieauthenticationoptions set with addcookie.\r\n\r\n        // ispersistent = true,\r\n        // whether the authentication session is persisted across \r\n        // multiple requests. when used with cookies, controls\r\n        // whether the cookie's lifetime is absolute (matching the\r\n        // lifetime of the authentication ticket) or session-based.\r\n\r\n        //issuedutc = <datetimeoffset>,\r\n        // the time at which the authentication ticket was issued.\r\n\r\n        //redirecturi = <string>\r\n        // the full path or absolute uri to be used as an http \r\n        // redirect response value.\r\n    };\r\n\r\n    // 將user登入的資訊寫到session中\r\n    await httpcontext.signinasync(\r\n        cookieauthenticationdefaults.authenticationscheme,\r\n        new claimsprincipal(claimsidentity),\r\n        authproperties);\r\n\r\n    return ok(\"ok\");\r\n}\r\n```\r\n logout\r\n\r\n```csharp\r\n[httppost]\r\npublic async task<iactionresult> logout()\r\n{\r\n    await httpcontext.signoutasync(cookieauthenticationdefaults.authenticationscheme);\r\n\r\n    return ok(\"ok\");\r\n}\r\n```\r\n\r\n getuserinfo\r\n\r\n這邊使用 `[authorize]`，需要登入後才能呼叫此api\r\n\r\n```csharp\r\n[httpget]\r\n[authorize]\r\npublic userinfo getuserinfo()\r\n{\r\n    var userinfo = new userinfo(user.claims.tolist());\r\n    return userinfo;\r\n}\r\n```\r\n\r\n```csharp\r\n// models/userinfo.cs\r\npublic class userinfo\r\n{\r\n    //public list<simpleclaim> claims { get; set; } = new list<simpleclaim>();\r\n\r\n    public dictionary<string, string> claims { get; set; } = new dictionary<string, string>();\r\n\r\n    public userinfo(ienumerable<claim> claims)\r\n    {\r\n        foreach (var claim in claims)\r\n        {\r\n            string type = claim.type.split(\"/\").last();\r\n            string value = claim.value;\r\n\r\n            this.claims[type] = value;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n `[authorize]` attribute\r\n\r\n經過上面的設定，現在我們已經可以使用 `[authorize]` attribute\r\n\r\n接著在 weather api上，加上 `[authorize]`\r\n\r\n```csharp\r\n// controllers/weatherforecastcontroller.cs\r\n[httpget]\r\n[authorize]\r\npublic ienumerable<weatherforecast> get()\r\n```\r\n\r\n front-end\r\n\r\n vuex store\r\n\r\n為了要讓登入相關資訊可以 reactive，這邊使用vuex來儲存一些資訊\r\n\r\n```js\r\nimport { createstore } from 'vuex'\r\n\r\nexport default createstore({\r\n  state: {\r\n    isauthenticated: false,\r\n    claims: {},\r\n  },\r\n  mutations: {\r\n  },\r\n  actions: {\r\n  },\r\n  modules: {\r\n  }\r\n})\r\n\r\n```\r\n\r\n authentication api\r\n\r\n這邊將呼叫 authentication api 的相關function都整理起來\r\n\r\n像是登入成功後去更新store之類的動作\r\n\r\n並且設定 `axios.defaults.withcredentials = true` 來讓 cookie 中的資訊能被自動在http header中帶到後端\r\n\r\n```js\r\nimport axios from 'axios'\r\n\r\naxios.defaults.withcredentials = true\r\n\r\ninterface ilogin{\r\n    email: string;\r\n} \r\n\r\nfunction islogin(){\r\n    return axios.get(process.env.vue_app_server_url + 'api/account/islogin')\r\n}\r\n\r\nfunction getuserinfo(store: any){\r\n    return axios.get(process.env.vue_app_server_url + 'api/account/getuserinfo')\r\n        .then( response =>{\r\n            store.state.claims = response.data.claims\r\n            console.log(response.data)\r\n        })\r\n}\r\n\r\nfunction login(data: ilogin, store: any){\r\n    return axios.post(process.env.vue_app_server_url + 'api/account/login', data)\r\n        .then(()=>{\r\n            store.state.isauthenticated = true\r\n            getuserinfo(store)\r\n        })\r\n}\r\n\r\nfunction logout(store: any){\r\n    return axios.post(process.env.vue_app_server_url + 'api/account/logout')\r\n        .then(()=>{\r\n            store.state.isauthenticated = false\r\n        })\r\n}\r\n\r\nexport {\r\n    ilogin,\r\n    islogin,\r\n    login,\r\n    logout,\r\n    getuserinfo\r\n}\r\n```\r\n\r\n authentication ui\r\n\r\n 在nav顯示user name\r\n\r\n為了在 navigation 的ui上，讓右上角的文字可以隨著登入狀態變化而改動\r\n\r\n這邊將相關邏輯先寫在了 `app.vue` 上\r\n\r\n```js\r\n<script lang=\"ts\">\r\nimport { definecomponent, computed } from 'vue'\r\nimport { usestore } from 'vuex'\r\nimport { islogin, getuserinfo } from '@/api/authentication.ts'\r\n\r\nexport default definecomponent({\r\n  name: 'app',\r\n  setup(){\r\n    const store = usestore()\r\n    const unauthinfo = \"you are not log in\"\r\n    const authinfo = computed(()=>{ \r\n      return `hi, ${store.state.claims.name}! you are now log in!`\r\n    })\r\n    \r\n    const authenticationinfo = computed(() =>{\r\n      return store.state.isauthenticated ? authinfo.value : unauthinfo\r\n    })\r\n\r\n    islogin().then( response => {\r\n      store.state.isauthenticated = boolean(response.data)\r\n      if(store.state.isauthenticated){\r\n        getuserinfo(store)\r\n      }\r\n    })\r\n\r\n    return {\r\n      authenticationinfo\r\n    }\r\n  }\r\n\r\n});\r\n<\/script>\r\n```\r\n\r\n 登入頁\r\n\r\n登入頁的組件做在 [testauthentication.vue]( 上\r\n\r\n這頁主要要實作的邏輯有:\r\n\r\n 登入\r\n 登出\r\n 回寫認證狀態\r\n\r\n而在登入失敗時，將透過400的status code，來處理從後端帶來的錯誤訊息\r\n\r\n 呼叫 weather api\r\n\r\n現在我們終於可以來處理 weather api 了!\r\n\r\n完整的 code 在 [testweatherapi.vue](\r\n\r\n判斷授權的部分，這邊靠401的status code來判斷\r\n\r\n當有登入時呼叫，可以得到 weather 的資訊\r\n\r\n而若沒有授權，會出現 401 unauthorize 的描述\r\n\r\n```js\r\naxios.get(process.env.vue_app_server_url + 'weatherforecast').then(response =>{\r\n  weather.value = response.data\r\n  console.log(weather)\r\n}, error => {\r\n  console.log(error)\r\n  console.log(error.response.status)\r\n  if( error.response.status == 401 ){\r\n    weather.value = \"401 unauthorize, please log in to access weather api\"\r\n  }\r\n})\r\n```\r\n\r\n 總結來說\r\n\r\n雖然實作了登入授權的部分，但其實還有許多地方是可以改造的\r\n\r\n像是連db拿資料、或授權時用 user role 來進行判斷...\r\n\r\n但這邊就是簡單實作一個 cookie-based authentication\r\n\r\n[完整的code在此]( 歡迎參考看看啦\r\n\r\n reference\r\n\r\n[use cookie authentication without asp.net core identity](\r\n\r\n[如何實作沒有 asp.net core identity 的 cookie-based 身分驗證機制](\r\n\r\n[如何在 asp.net core 3 使用 token-based 身分驗證與授權 (jwt)](",word_token:["承接","上篇","提到","建立","一個","簡易","vue3","0","net","core3","0","template","其實","microsoft","提供","spa","template","包含","authentication","登入","認證","這塊","但","一樣","就是","沒有","vue","版本","༎","ຶ","l","_","༎","ຶ","說","authentication","這塊","其實","實作","方式","滿多種","cookie","-","based","算是","比較","傳統","方式","好","實作","前端","cookie","存個","session","id","後","端","session","進行","一些","資料","紀錄","token","-","based","簡單","來","說","利用","jwt","做到","類似","發號","碼牌","方式","來","實作","認證","`","cookie","-","based","`","相比","後","端","session","不用","進行","身分","資料","紀錄","identity","server","identity","server","microsoft","基","於","oauth","還有","oidc","open","id","connection","規格","實作","企圖","用","它","來","完成","各式","各樣","認證","方式","像是","facebook","認證","active","directory","認證","api","權限","管理","、","sso","single","-","sign","-","oo","相當","功能","這邊","將基","於","cookie","-","based","來","進行","authentication","實作","cookie","-","based","authentication","算滿","好","實作","但","缺點","load","balance","時會","需要","額外","設定","像","使用","session","server","來","儲存","session","裡的","資料","redis","server","、","db","或是","load","balance","時","讓","特定","人","request","固定","打到","某台","server","基本","想法","關於","authentication","以下","這","次要","實作","相關","功能","說明","login","進行","登入","認證","只","進行","`","email","`","檢查","輸入","空白","要","顯示","錯","誤訊息","`","email","field","required","`","img","輸入","符合","email","格式","要","顯示","`","email","field","not","valid","e","-","mail","address","`","img","輸入","email","無法","通過","要","顯示","`","invalid","email","`","img","登入","成功","要","顯示","user","name","一開始","要","檢查","無","登入","話","要","顯示","user","name","img","若","登入","後","關掉","瀏覽器","再","重新","進入","頁","面","不用","重新","登入","logout","要","顯示","請","進行","登入","img","後","端","session","要","清掉","api","authorization","尚未","登入","呼叫","需授權","api","要","顯示","401","unauthorize","img","這個","實作","為","簡單化","實作","內容","user","資料","用","寫","死","方式","處理","所以","這邊","不會","碰到","db","而","認證","時","這邊","會","先","簡單","處理","不會","檢查","密碼","只會","進行","`","email","`","比","對","唯一","可以","進行","登入","email","為","`","test","@","auth","com","`","而","授權","api","用","weather","api","來","進行","測試","基本","處理","流程","從架構","上","來","說","大致","處理","流程","如下","1","後","端","為","啟用","authentication","必須","`","startup","cs","`","裡","註","冊","相","關","宣告","2","建立","一個","api","controller","用來","處理","authentication","api","相關","邏輯","3","後","端","建立","好","authentication","機制","後","後","端","可以","使用","`","authorize","`","attribute","來","管理","api","授權","4","前端","建立","處理","authentication","相關","api","來","回機制","5","前端","處理","登入","登出","邏輯","時","ui","要","能夠","著連動","back","-","end","調整","startup","cs","開發","環境","cors","由","於","我們","需要","透過","http","header","set","-","cookie","來將","session","id","自動","放到","cookie","這時","若","vue","這邊","額外","起","一個","server","話","會","因為","cors","的關","係","導致","cookie","設","不了","因此","這邊","我們","可以","開發","環境","讓","cors","先通過","`","`","`","csharp","public","void","configureservices","iservicecollection","services","add","service","create","policy","options","services","addcors","options","=","public","void","configure","iapplicationbuilder","app","iwebhostenvironment","env","env","isdevelopment","add","global","cors","policy","app","usecors","x","=","x","allowanymethod","allowanyheader","setisoriginallowed","origin","=","true","allow","origin","allowcredentials","allow","credentials","`","`","`","設定","cookie","-","based","authentication","`","`","`","csharp","public","void","configureservices","iservicecollection","services","add","cookie","-","based","authentication","services","addauthentication","cookieauthenticationdefaults","authenticationscheme","addcookie","`","`","`","由","於","預設","行為","未","授權","情況","下","使用","api","會","妳","導到","登入","頁","這邊","希望","回傳個","401","unauthorized","好","所以","上述","code","要","再加","一些","設定","`","`","`","csharp","public","void","configureservices","iservicecollection","services","add","cookie","-","based","authentication","services","addauthentication","cookieauthenticationdefaults","authenticationscheme","addcookie","options","=","return","401","instead","302","when","accessing","resouce","without","authorization","default","behavior","will","redirect","login","url","options","events","onredirecttologin","=","context","=","context","response","statuscode","=","statuscodes","status401unauthorized","return","task","completedtask","`","`","`","接著","調整","configure","這邊","要","注意","順序","`","app","userouting","`","`","app","useauthentication","`","`","app","useauthorization","`","`","app","useendpoints","`","這","4","個","順序","不能","顛倒","不然","compiler","不會","報錯","然後實際","運作時","就會","發現","authentication","沒","作用","lol","`","`","`","csharp","public","void","configure","iapplicationbuilder","app","iwebhostenvironment","env","routing","app","userouting","authentication","app","useauthentication","app","useauthorization","app","useendpoints","`","`","`","設定","api","modelstate","錯誤","訊息","回傳","格式","由","於","預設","訊息","很多","而且","格式","可能","會不統","因此","這邊","做個","回傳","格式","統一","`","`","`","csharp","public","void","configureservices","iservicecollection","services","services","addcontrollers","configureapibehavioroptions","options","=","format","return","message","modelstate","options","invalidmodelstateresponsefactory","=","actioncontext","=","var","modelstate","=","actioncontext","modelstate","values","return","new","badrequestobjectresult","actioncontext","modelstate","`","`","`","當","`","modelstate","isvalid","=","=","false","`","時","回傳","格式","統一為","`","`","`","json","email","email","field","required","email","field","not","valid","e","-","mail","address","`","`","`","api","controller","接著","`","controllers","`","下","新增","一個","`","accountcontroller","cs","`","這邊","建立","4","個","api","1","islogin","當網","頁","第一次","進入","時","用來","判斷","user","是否","還有","登入","2","login","從","前端","拿取","user","輸入","email","用來","登入","處理","3","logout","用來","登出","清掉","session","登入","資訊用","4","getuserinfo","用來","讀取","user","資料","像是","姓名","當登入","成功","後","用來","顯示","網頁","上","islogin","這個","功能","比較","單純","call","內建","function","即可","`","`","`","csharp","httpget","public","bool","islogin","return","user","identity","isauthenticated","`","`","`","login","這邊","後","端的","一個","重頭戲","基本上","認證","登入","時","當判斷","帳號","密碼","通過","後","妳","可能","會想存","一些","user","資訊進","session","不用","一直","讀","db","可以","透過","一些","內建","物件","claim","來存","一些","資訊","像是","`","email","`","、","`","name","`","、","`","user","role","`","等等","這樣","需要","自己","宣告","很多","東西","而","設定","完","user","資訊","後","就是","設定","authentication","一些","功能","接著","實際","呼叫","`","httpcontext","signinasync","`","來","設定","session","完整","code","請","參考","這邊","而","概略","流程","code","如下","`","`","`","csharp","httppost","public","async","task","iactionresult","login","frombody","authenticationuser","authenticationuser","var","claims","=","new","list","claim","設定","user","一些","資訊","new","claim","claimtypes","email","user","email","new","claim","claimtypes","name","user","name","new","claim","claimtypes","role","administrator","var","claimsidentity","=","new","claimsidentity","claims","cookieauthenticationdefaults","authenticationscheme","設定","authentication","var","authproperties","=","new","authenticationproperties","allowrefresh","=","true","refreshing","authentication","session","allowed","expiresutc","=","datetimeoffset","utcnow","addminutes","10","time","authentication","ticket","expires","value","set","overrides","expiretimespan","option","cookieauthenticationoptions","set","addcookie","ispersistent","=","true","whether","authentication","session","persisted","across","multiple","requests","when","used","cookies","controls","whether","cookie","s","lifetime","absolute","matching","lifetime","authentication","ticket","session","-","based","issuedutc","=","datetimeoffset","time","authentication","ticket","issued","redirecturi","=","string","full","path","absolute","uri","used","http","redirect","response","value","將","user","登入","資訊","寫","session","await","httpcontext","signinasync","cookieauthenticationdefaults","authenticationscheme","new","claimsprincipal","claimsidentity","authproperties","return","ok","ok","`","`","`","logout","`","`","`","csharp","httppost","public","async","task","iactionresult","logout","await","httpcontext","signoutasync","cookieauthenticationdefaults","authenticationscheme","return","ok","ok","`","`","`","getuserinfo","這邊","使用","`","authorize","`","需要","登入","後","才能","呼叫","api","`","`","`","csharp","httpget","authorize","public","userinfo","getuserinfo","var","userinfo","=","new","userinfo","user","claims","tolist","return","userinfo","`","`","`","`","`","`","csharp","models","userinfo","cs","public","class","userinfo","public","list","simpleclaim","claims","set","=","new","list","simpleclaim","public","dictionary","string","string","claims","set","=","new","dictionary","string","string","public","userinfo","ienumerable","claim","claims","foreach","var","claim","claims","string","type","=","claim","type","split","last","string","value","=","claim","value","claims","type","=","value","`","`","`","`","authorize","`","attribute","經過","上面","設定","現在","我們","已經","可以","使用","`","authorize","`","attribute","接著","weather","api","上","加上","`","authorize","`","`","`","`","csharp","controllers","weatherforecastcontroller","cs","httpget","authorize","public","ienumerable","weatherforecast","`","`","`","front","-","end","vuex","store","為","要","讓","登入","相關","資訊","可以","reactive","這邊","使用","vuex","來","儲存","一些","資訊","`","`","`","js","import","createstore","vuex","export","default","createstore","state","isauthenticated","false","claims","mutations","actions","modules","`","`","`","authentication","api","這邊將","呼叫","authentication","api","相關","function","整理","起來","像是","登入","成功","後","去","更新","store","之類","動作","並且","設定","`","axios","defaults","withcredentials","=","true","`","來","讓","cookie","資訊能","被","自動","http","header","中帶","到後端","`","`","`","js","import","axios","axios","axios","defaults","withcredentials","=","true","interface","ilogin","email","string","function","islogin","return","axios","process","env","vue","_","app","_","server","_","url","api","account","islogin","function","getuserinfo","store","return","axios","process","env","vue","_","app","_","server","_","url","api","account","getuserinfo","response","=","store","state","claims","=","response","data","claims","console","log","response","data","function","login","data","ilogin","store","return","axios","post","process","env","vue","_","app","_","server","_","url","api","account","login","data","=","store","state","isauthenticated","=","true","getuserinfo","store","function","logout","store","return","axios","post","process","env","vue","_","app","_","server","_","url","api","account","logout","=","store","state","isauthenticated","=","false","export","ilogin","islogin","login","logout","getuserinfo","`","`","`","authentication","ui","nav","顯示","user","name","為","navigation","ui","上","讓","右上角","文字","可以","隨著","登入","狀態","變化","而","改動","這邊","將相關","邏輯","先","寫","`","app","vue","`","上","`","`","`","js","script","lang","=","ts","import","definecomponent","computed","vue","import","usestore","vuex","import","islogin","getuserinfo","@","api","authentication","ts","export","default","definecomponent","name","app","setup","const","store","=","usestore","const","unauthinfo","=","not","log","const","authinfo","=","computed","=","return","`","hi","store","state","claims","name","log","`","const","authenticationinfo","=","computed","=","return","store","state","isauthenticated","authinfo","value","unauthinfo","islogin","response","=","store","state","isauthenticated","=","boolean","response","data","store","state","isauthenticated","getuserinfo","store","return","authenticationinfo","script","`","`","`","登入","頁","登入","頁","組件","testauthentication","vue","上","這頁","主要","要","實作","邏輯","登入","登出","回寫","認證","狀態","而","登入","失敗","時","將透過","400","status","code","來","處理","從後端","帶來","錯","誤訊息","呼叫","weather","api","現在","我們終","於","可以","來","處理","weather","api","完整","code","testweatherapi","vue","判斷","授權","部分","這邊","靠","401","status","code","來判斷","當有","登入","時","呼叫","可以","得到","weather","資訊","而","若","沒","授權","會","出現","401","unauthorize","描述","`","`","`","js","axios","process","env","vue","_","app","_","server","_","url","weatherforecast","response","=","weather","value","=","response","data","console","log","weather","error","=","console","log","error","console","log","error","response","status","error","response","status","=","=","401","weather","value","=","401","unauthorize","please","log","access","weather","api","`","`","`","總結來","說","雖然","實作","登入","授權","部分","但","其實","還有","許多","地方","可以","改造","像是","連","db","拿","資料","、","授","權","時","用","user","role","來","進行","判斷","但","這邊","就是","簡單","實作","一個","cookie","-","based","authentication","完整","code","歡迎","參考","看看","啦","reference","use","cookie","authentication","without","asp","net","core","identity","如何","實作","沒有","asp","net","core","identity","cookie","-","based","身分","驗證","機制","如何","asp","net","core","3","使用","token","-","based","身分","驗證","與","授權","jwt"],key_words:[{word:"authentication",weight:316.95851629125565},{word:"登入",weight:305.21931198417207},{word:"api",weight:293.48010767708854},{word:"app",weight:211.30567752750375},{word:"user",weight:199.56647322042022},{word:"這邊",weight:187.82726891333667},{word:"cookie",weight:187.82726891333667},{word:"email",weight:187.82726891333667},{word:"public",weight:176.0880646062531},{word:"store",weight:176.0880646062531},{word:"return",weight:176.0880646062531},{word:"session",weight:164.3488602991696},{word:"實作",weight:152.60965599208603},{word:"claims",weight:140.8704516850025},{word:"based",weight:140.8704516850025},{word:"vue",weight:129.13124737791895},{word:"response",weight:129.13124737791895},{word:"設定",weight:129.13124737791895},{word:"new",weight:129.13124737791895},{word:"server",weight:129.13124737791895},{word:"csharp",weight:129.13124737791895},{word:"進行",weight:117.39204307083541},{word:"處理",weight:117.39204307083541},{word:"weather",weight:105.65283876375187},{word:"axios",weight:105.65283876375187},{word:"顯示",weight:105.65283876375187},{word:"認證",weight:105.65283876375187},{word:"getuserinfo",weight:105.65283876375187},{word:"claim",weight:105.65283876375187},{word:"login",weight:93.91363445666833}],excerpt:"承接上篇提到建立一個簡易的vue3.0 + .net core3.0 template 其實microsoft提供的spa template中，是有包含authentication，登入認證這塊的 但一樣，就是沒有vue的版本 (༎ຶ l_ ༎ຶ ) 那說到 authentication 這塊，其實實作方式滿多種的: cookie-based 算是比較傳統的方式，好實作，前端cookie存個session id，後端session進行一些資料的紀錄 token-based 簡單來說，利用jwt，做到類似發號碼牌的方式來實作認證，跟`cookie-based`相比，後端session不用進行身分資料的紀錄 identity server identity server 是 microsoft 基於 oauth 還有 oidc(open id connection) 規格實作 企圖用它來完成各..."},{title:"漸進式開發",frontmatter:{title:"漸進式開發",datetime:"2020/3/24",meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"漸進式開發"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/progessive-design.html"},{name:"twitter:title",content:"漸進式開發"},{name:"twitter:url",content:"/Coding/progessive-design.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"開發, 系統, 程式, 功能, 考慮, 時區, 2., 擴充性, 優化, 讀性, 之系統, 3., 未來, 前後端, 1., 因應, 狀況, timer, 做到, 快速, 黑盒子, 像是, 插件, 避免, 重要, 4., 一開始, 一點, 債是, 上後端"},{property:"article:tag",content:"開發"},{property:"article:tag",content:"系統"},{property:"article:tag",content:"程式"},{property:"article:tag",content:"功能"},{property:"article:tag",content:"考慮"},{property:"article:tag",content:"時區"},{property:"article:tag",content:"2."},{property:"article:tag",content:"擴充性"},{property:"article:tag",content:"優化"},{property:"article:tag",content:"讀性"},{property:"article:tag",content:"之系統"},{property:"article:tag",content:"3."},{property:"article:tag",content:"未來"},{property:"article:tag",content:"前後端"},{property:"article:tag",content:"1."},{property:"article:tag",content:"因應"},{property:"article:tag",content:"狀況"},{property:"article:tag",content:"timer"},{property:"article:tag",content:"做到"},{property:"article:tag",content:"快速"},{property:"article:tag",content:"黑盒子"},{property:"article:tag",content:"像是"},{property:"article:tag",content:"插件"},{property:"article:tag",content:"避免"},{property:"article:tag",content:"重要"},{property:"article:tag",content:"4."},{property:"article:tag",content:"一開始"},{property:"article:tag",content:"一點"},{property:"article:tag",content:"債是"},{property:"article:tag",content:"上後端"}]},regularPath:"/Coding/progessive-design.html",relativePath:"Coding/progessive-design.md",key:"v-1e536af9",path:"/Coding/progessive-design.html",git:{created:"3/24/2020, 9:46:24 PM",updated:"3/24/2020, 9:46:24 PM",author:"PC\\JC",commits:[{fullHash:"4d42fc16465b80a7bec2d75ebde3154640b68df6",authorTime:"1585057584",commitTime:"1585057584",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:'基本目標\r\n\r\n因應開發時程、成本，以做出\r\n\r\n1. 最小可提供服務之系統，以確認商業價值\r\n2. 高彈性，可因應需求快速變更之系統\r\n3. 高開發速度，可儘快滿足開發規格之系統\r\n\r\n通盤來說，系統開發的完成度，跟系統的賺錢程度並不是那麼呈正比的，甚至可以說是無關，一切還是要看市場的狀況。因此，在確認營運狀況前，高效能的系統可能不是最重要的。\r\n\r\n 達成手段\r\n\r\n而要做到這般"漸進式開發"，在程式開發時，可以多留意\r\n\r\n1. 程式擴充性\r\n     以快速擴充功能，如果能做到像是插件那樣，引入即可用就更好了\r\n2. 程式可讀性\r\n     以避免快速變更時，難以找到切入點進行更改，或不小心改到變更範疇外的功能\r\n3. 程式模組性\r\n     將功能模組化起來，甚至是變成黑盒子般的物件，以便於做到`擴充性`、`可讀性`\r\n4. 技術債\r\n     債是要還的，累積了過多之後，很容易導致系統難以變更\r\n5. 未來優化空間\r\n     系統的用途是會逐漸收斂定型的，因此也要考慮好哪些功能是重要的，將程式的耦合處理好，降低未來優化難度\r\n\r\n 舉例來說\r\n\r\n以一個前後端連動的timer功能來說，當系統開發還在很初期的階段時\r\n\r\n最快的開發方式，是不管時區，然後前端也直接timeout做倒數計時去開發，以體驗功能的效果\r\n\r\n而當認定功能是需要的以後，就可以再補上後端驗證，避免業務邏輯出錯\r\n\r\n如果一開始的客戶很少，又都是本地，那這樣的開發方式是比較符合效益的\r\n\r\n畢竟在開發的工很多的情況下，火力只能集中在最重要的功能上\r\n\r\n而當業務成長，或是時間允許後，可以再考慮的周全一點去開發，像是用timer前後端同步這篇的方法\r\n\r\n把時區，手機等等的狀況也考慮進去開發',word_token:["基本","目標","因應","開發","時程","成本","以","做出","1","最小","可","提供","服務","之系統","以確","認商業","價值","2","高彈性","可","因應","需求","快速","變","之系統","3","高開發","速度","可","儘","快","滿","足","開","發","規","格","系","統","通盤","來","說","系統","開發","完成度","系統","賺","錢","程度","並","不是","那麼","呈","正比","甚至","可以","說","無關","一切","還是","要","市場","狀況","因此","在確","認營","運狀況","前","高效能","系統","可能","不是","最","重要","。","達成","手段","而要","做到","這般","漸進式","開發","程式","開發時","可以","留意","1","程式","擴充性","以","快速","擴充","功能","如果","能","做到","像是","插件","那樣","引入","即可","用","更好","2","程式","可","讀性","以","避免","快速","變","時","難以","找到","切入","點進行","更改","小心","改到","變","範疇","外","功能","3","程式","模組性","將","功能","模組化","起來","甚至","變成","黑盒子","般的","物件","以便","於","做到","`","擴充性","`","、","`","可","讀性","`","4","技術債","債是","要","還的","累積","過多","後","容易","導致","系統","難","以變","5","未來","優化","空間","系統","用途","會","逐漸","收斂","定型","因此","要","考慮","好","哪些","功能","重要","將","程式","耦合","處理","好","降低","未來","優化","難度","舉例","來","說","以一個","前後端","連動","timer","功能","來","說","當系","統開","發還","初期","階段","時","最快","開發","方式","不管","時區","然","後","前端","直接","timeout","倒","數計時","去","開發","以體驗","功能","效果","而當","認定","功能","需要","以","後","可以","再補","上後端","驗證","避免","業務","邏輯","出錯","如果","一開始","客戶","很少","本地","這樣","開發","方式","比","較","符合","效益","畢竟","開發","工","很多","情況","下","火力","只能","集中","最","重要","功能","上","而","當業務","成長","或是","時間","允許","後","可以","再","考慮","周全","一點","去","開發","像是","用","timer","前後端","同步","這篇","方法","時區","手機","等等","狀況","考慮","進去","開發"],key_words:[{word:"開發",weight:105.65283876375187},{word:"系統",weight:58.69602153541771},{word:"程式",weight:46.78691434855},{word:"功能",weight:44.09417984688},{word:"考慮",weight:35.21761292125063},{word:"時區",weight:23.478408614167083},{word:"2.",weight:23.478408614167083},{word:"擴充性",weight:23.478408614167083},{word:"優化",weight:23.478408614167083},{word:"讀性",weight:23.478408614167083},{word:"之系統",weight:23.478408614167083},{word:"3.",weight:23.478408614167083},{word:"未來",weight:23.478408614167083},{word:"前後端",weight:23.478408614167083},{word:"1.",weight:23.478408614167083},{word:"因應",weight:23.478408614167083},{word:"狀況",weight:23.478408614167083},{word:"timer",weight:23.478408614167083},{word:"做到",weight:19.97363918754},{word:"快速",weight:17.2706090256},{word:"黑盒子",weight:12.8020653633},{word:"像是",weight:12.75331247354},{word:"插件",weight:12.5143832909},{word:"避免",weight:12.13732694294},{word:"重要",weight:12.03889156068},{word:"4.",weight:11.739204307083542},{word:"一開始",weight:11.739204307083542},{word:"一點",weight:11.739204307083542},{word:"債是",weight:11.739204307083542},{word:"上後端",weight:11.739204307083542}],excerpt:'基本目標 因應開發時程、成本，以做出 最小可提供服務之系統，以確認商業價值 高彈性，可因應需求快速變更之系統 高開發速度，可儘快滿足開發規格之系統 通盤來說，系統開發的完成度，跟系統的賺錢程度並不是那麼呈正比的，甚至可以說是無關，一切還是要看市場的狀況。因此，在確認營運狀況前，高效能的系統可能不是最重要的。 達成手段 而要做到這般"漸進式開發"，在程式開發時，可以多留意 程式擴充性 以快速擴充功能，如果能做到像是插件那樣，引入即可用就更好了 程式可讀性 以避免快速變更時，難以找到切入點進行更改，或不小心改到變更範疇外的功能 程式模組性 將功能模組化起來，甚至是變成黑盒子般的物件，以便於做到擴充性、可讀性 技術債 債是要還的，累積了過多之後，很容易導致系統難以變更 未來優化空間 系統的用途是會逐漸收斂定型的，因此也要考慮好哪些功能是重要的，將程式的耦合處理好，降低未來優化難度 舉例來說 以一...'},{title:"Coding Tips",frontmatter:{title:"Coding Tips",datetime:"2020/3/17",tag:["tips"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Coding Tips"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/coding-tips.html"},{name:"twitter:title",content:"Coding Tips"},{name:"twitter:url",content:"/Coding/coding-tips.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"csharp, public, int, return, 邏輯, statuscode, add, base, obj, null, nullorempty, 200, double, better, aaa, dic, source, 判斷, 1.3, void, writeline, code, console, success, httphandler, 1.4, result, isround, 400, string"},{property:"article:tag",content:"csharp"},{property:"article:tag",content:"public"},{property:"article:tag",content:"int"},{property:"article:tag",content:"return"},{property:"article:tag",content:"邏輯"},{property:"article:tag",content:"statuscode"},{property:"article:tag",content:"add"},{property:"article:tag",content:"base"},{property:"article:tag",content:"obj"},{property:"article:tag",content:"null"},{property:"article:tag",content:"nullorempty"},{property:"article:tag",content:"200"},{property:"article:tag",content:"double"},{property:"article:tag",content:"better"},{property:"article:tag",content:"aaa"},{property:"article:tag",content:"dic"},{property:"article:tag",content:"source"},{property:"article:tag",content:"判斷"},{property:"article:tag",content:"1.3"},{property:"article:tag",content:"void"},{property:"article:tag",content:"writeline"},{property:"article:tag",content:"code"},{property:"article:tag",content:"console"},{property:"article:tag",content:"success"},{property:"article:tag",content:"httphandler"},{property:"article:tag",content:"1.4"},{property:"article:tag",content:"result"},{property:"article:tag",content:"isround"},{property:"article:tag",content:"400"},{property:"article:tag",content:"string"}]},regularPath:"/Coding/coding-tips.html",relativePath:"Coding/coding-tips.md",key:"v-59cd63bf",path:"/Coding/coding-tips.html",headers:[{level:2,title:"VSCode",slug:"vscode"},{level:2,title:"Visual Studio",slug:"visual-studio"},{level:2,title:"避免過於依賴從字典提取變數",slug:"避免過於依賴從字典提取變數"},{level:2,title:"以初始化代替判斷",slug:"以初始化代替判斷"},{level:2,title:"提解條件",slug:"提解條件"},{level:2,title:"Extract Method",slug:"extract-method"},{level:2,title:"Function向下兼容的更新方式",slug:"function向下兼容的更新方式"}],git:{created:"3/24/2020, 9:46:24 PM",updated:"3/21/2020, 4:36:50 AM",author:"PC\\JC",commits:[{fullHash:"4d42fc16465b80a7bec2d75ebde3154640b68df6",authorTime:"1585057584",commitTime:"1585057584",authorName:"PC\\JC"},{fullHash:"91865b36512bb94c2bc3d97bde2cc43cc9a55e4c",authorTime:"1584736610",commitTime:"1584736610",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"操作ide\r\n\r\n vscode\r\n\r\n [vscode 如何提高我的寫扣效率](\r\n\r\n visual studio\r\n\r\n `f12`: 跳頁籤查看reference\r\n `alt + f12`: 在游標下方跑出小視窗顯示reference\r\n\r\n 避免內部邏輯曝露到外層\r\n\r\n```csharp\r\nresult = httphandler.getresponse()\r\nif( result.returncode == 200 ){\r\n    // handler success\r\n}\r\n```\r\n\r\n若 returncode 要改成 200, 203 都handle success\r\n\r\n那相關的code要改的地方就會很多\r\n\r\n將判斷邏輯封裝，就可以避免這個問題\r\n\r\n```csharp\r\nresult = httphandler.getresponse()\r\nif( result.issuccess ){\r\n    // handler success\r\n}\r\n```\r\n\r\n 物件化\r\n\r\n避免過多重複的code/邏輯\r\n\r\n `將共通邏輯抽到base中`: 像是共用的初始化動作就很適合\r\n\r\n 參數化\r\n\r\n 避免過於依賴從字典提取變數\r\n\r\n1. 會使得ide無法發揮追蹤reference的功能\r\n2. 若很常從字典提取某個值，先拿到變數中，再繼續使用\r\n     base\r\n        ```javascript\r\n        a = aaa['a'] + 1\r\n        b = aaa['b'] + 5\r\n        c = aaa['c'] + 10\r\n        ```\r\n\r\n     better\r\n        ```javascript\r\n        var dica = aaa['a']\r\n        var dicb = aaa['b']\r\n        var dicc = aaa['c']\r\n        \r\n        a = dica + 1\r\n        b = dicb + 5\r\n        c = dicc + 10\r\n        ```\r\n\r\n 封裝條件判斷\r\n\r\n適當的封裝邏輯可以大幅增加code的可讀性\r\n\r\n```csharp\r\nif( obj.dic['a'] != null and \r\n    obj.dic['b'] != null and \r\n    obj.dic['c'] != null\r\n){\r\n    // do something\r\n}\r\n```\r\n\r\n將詳細的判斷邏輯提出到method中\r\n\r\n```csharp\r\nif( isvalid(obj) ){\r\n    // do something\r\n}\r\n\r\npublic bool isvalid(sometype obj){\r\n    return \r\n        obj.dic['a'] != null and \r\n        obj.dic['b'] != null and \r\n        obj.dic['c'] != null;\r\n}\r\n```\r\n\r\n 判斷邏輯避免過度巢狀\r\n\r\n避免巢狀的if else可以大幅增加code的可讀性\r\n\r\n 以初始化代替判斷\r\n\r\n base\r\n\r\n    ```csharp\r\n    public int getstatuscode(string nullorempty){\r\n        int statuscode = 200;\r\n        if(nullorempty){\r\n            statuscode = 400;\r\n        }else{\r\n            if(){}\r\n            else(){}\r\n        }\r\n        return statuscode;\r\n    }\r\n    ```\r\n\r\n better\r\n\r\n    ```csharp\r\n    public int getstatuscode(string nullorempty){\r\n        int statuscode = 200;\r\n        if(nullorempty){\r\n            statuscode = 400;\r\n        }\r\n\r\n        if(){\r\n            ...\r\n        }\r\n\r\n        return statuscode;\r\n    }\r\n    ```\r\n\r\n\r\n 提解條件\r\n\r\n base\r\n\r\n    ```csharp\r\n    public void somefunction(obj source){\r\n        if( source != null ){\r\n            // do something\r\n        }\r\n    }\r\n    ```\r\n\r\n better\r\n\r\n  當 source 為 null 時，直接用`return`來跳出function\r\n\r\n    ```csharp\r\n    public void somefunction(obj source){\r\n        if( source == null ){\r\n            return ;\r\n        }\r\n\r\n        // do something\r\n    }\r\n    ```\r\n\r\n extract method\r\n\r\n base\r\n\r\n    ```csharp\r\n    if(){\r\n\r\n    }else{\r\n        if(){\r\n            if(){\r\n\r\n            }else{\r\n\r\n            }\r\n        }\r\n\r\n        if(){\r\n\r\n        }\r\n    }\r\n    ```\r\n\r\n better\r\n\r\n    ```csharp\r\n    if(){\r\n\r\n    }else{\r\n        dosomething1()\r\n\r\n        dosomething2()\r\n    }\r\n    ```\r\n\r\n 用 return 來中斷判斷邏輯\r\n\r\n base\r\n\r\n    ```csharp\r\n    public int getstatuscode(string nullorempty){\r\n        int statuscode = 200;\r\n        if(nullorempty){\r\n            statuscode = 400;\r\n        }\r\n\r\n        if(){\r\n            ...\r\n        }\r\n\r\n        return statuscode;\r\n    }\r\n    ```\r\n\r\n better\r\n\r\n    ```csharp\r\n    public int getstatuscode(string nullorempty){\r\n        if(nullorempty){\r\n            return 400;\r\n        }\r\n\r\n        if(){\r\n            return ...;\r\n        }\r\n\r\n        return 200;\r\n    }\r\n    ```\r\n\r\n 善用 `switch` + `enum`，避免大量的if else\r\n\r\n好處:\r\n\r\n1. 將情形明確條列\r\n2. 有default提醒預設行為\r\n3. 在看case的時候也有enum可以看到全部的情況，比一堆if else if好\r\n4. 可讀性比較高\r\n5. 擴充性比較好\r\n\r\n base\r\n\r\n    ```csharp\r\n    if( httpstatus == 200 ){\r\n        // do something\r\n    }else if( httpstatus == 401 ){\r\n        // do something\r\n    }else{\r\n        // do something\r\n    }\r\n    ```\r\n\r\n better\r\n\r\n    定義 enum\r\n\r\n    ```csharp\r\n    public class httphandler{\r\n        public enum statuscode{\r\n            success = 200,\r\n            unauthorize = 401,\r\n        }\r\n    }    \r\n    ```\r\n\r\n    改寫 base\r\n\r\n    ```csharp\r\n    switch(httpstatus){\r\n        case httphandler.statuscode.success:\r\n            // do something\r\n            break;\r\n        case httphandler.statuscode.unauthorize:\r\n            // do something\r\n            break;\r\n        default:\r\n            // do something\r\n            break;\r\n    }\r\n    ```\r\n\r\n function向下兼容的更新方式\r\n\r\n1. 邏輯上更改: 要嚴謹的更改，讓既有之input output不受影響，但又能應對新邏輯，可以多靠測試來降低改錯的機會\r\n2. 擴充:\r\n    1. 增加參數\r\n\r\n        新增加之參數帶好default值，就不會影響既有code\r\n        \r\n         base:\r\n\r\n            ```csharp\r\n            public void main(){\r\n                console.writeline(add(1.3, 1.4)); // 2\r\n            }\r\n\r\n            public int add(double a, double b){\r\n                return (int)(a + b);\r\n            }\r\n            ```\r\n\r\n         擴充add，以支援四捨五入\r\n\r\n            ```csharp\r\n            public void main(){\r\n                console.writeline(add(1.3, 1.4)); // 2\r\n                console.writeline(add(1.3, 1.4, true)); // 2\r\n            }\r\n\r\n            public int add(double a, double b, bool isround = false){\r\n                return isround ? (int)(a + b) : (int)math.round(a + b);\r\n            }\r\n            ```\r\n\r\n    2. 多載method\r\n\r\n         承上例之base\r\n\r\n            ```csharp\r\n            public void main(){\r\n                console.writeline(add(1.3, 1.4)); // 2\r\n                console.writeline(add(1.3, 1.4, true)); // 2\r\n            }\r\n\r\n            public int add(double a, double b){\r\n                return (int)(a + b);\r\n            }\r\n\r\n            public int add(double a, double b, bool isround){\r\n                return isround ? add(a,b) : (int)math.round(a + b);\r\n            }\r\n            ```\r\n\r\n 造成bug的可能原因\r\n    \r\n 程式執行邏輯有誤\r\n     run time error\r\n         程式沒寫好\r\n             無法從物件中取值\r\n             初始值有問題\r\n         對語法不熟\r\n             static沒用好\r\n     介接來源有問題\r\n     商業邏輯有誤\r\n         提出商業邏輯的人\r\n             一開始提錯\r\n             沒講清楚\r\n         實作的人對規格錯誤認知\r\n             誤認規格\r\n             心理想的是對的，實作出來是不一樣的\r\n 機器硬體有問題\r\n     網路\r\n     硬碟\r\n     記憶體大小\r\n     cpu\r\n\r\n 開發策略\r\n\r\n 漸進式開發",word_token:["操作","ide","vscode","vscode","如何","提高","寫","扣","效率","visual","studio","`","f12","`","跳頁","籤","查看","reference","`","alt","f12","`","游標","下方","跑","出小視","窗","顯示","reference","避免","內部","邏輯","曝露","外層","`","`","`","csharp","result","=","httphandler","getresponse","result","returncode","=","=","200","handler","success","`","`","`","若","returncode","要","改成","200","203","handle","success","相關","code","要","改","地方","會","很多","將判斷","邏輯","封裝","可以","避免","這個","問題","`","`","`","csharp","result","=","httphandler","getresponse","result","issuccess","handler","success","`","`","`","物件","化","避免","過","多重","複","code","邏輯","`","將","共通","邏輯","抽到","base","`","像是","共用","初始化","動作","適合","參數化","避免","過於依賴","從","字典","提取","變數","1","會","使得","ide","無法","發揮追","蹤","reference","功能","2","若","很常","從","字典","提取","某個值","先","拿到","變數","再","繼續","使用","base","`","`","`","javascript","=","aaa","1","b","=","aaa","b","5","c","=","aaa","c","10","`","`","`","better","`","`","`","javascript","var","dica","=","aaa","var","dicb","=","aaa","b","var","dicc","=","aaa","c","=","dica","1","b","=","dicb","5","c","=","dicc","10","`","`","`","封裝","條件","判斷","適當","封裝","邏輯","可以","大幅","增加","code","可","讀性","`","`","`","csharp","obj","dic","=","null","obj","dic","b","=","null","obj","dic","c","=","null","something","`","`","`","將詳細","判斷","邏輯","提出","method","`","`","`","csharp","isvalid","obj","something","public","bool","isvalid","sometype","obj","return","obj","dic","=","null","obj","dic","b","=","null","obj","dic","c","=","null","`","`","`","判斷","邏輯","避免","過度","巢狀","避免","巢狀","else","可以","大幅","增加","code","可","讀性","以","初始化","代替","判斷","base","`","`","`","csharp","public","int","getstatuscode","string","nullorempty","int","statuscode","=","200","nullorempty","statuscode","=","400","else","else","return","statuscode","`","`","`","better","`","`","`","csharp","public","int","getstatuscode","string","nullorempty","int","statuscode","=","200","nullorempty","statuscode","=","400","return","statuscode","`","`","`","提解","條件","base","`","`","`","csharp","public","void","somefunction","obj","source","source","=","null","something","`","`","`","better","當","source","為","null","時","直接","用","`","return","`","來","跳出","function","`","`","`","csharp","public","void","somefunction","obj","source","source","=","=","null","return","something","`","`","`","extract","method","base","`","`","`","csharp","else","else","`","`","`","better","`","`","`","csharp","else","dosomething1","dosomething2","`","`","`","用","return","來","中斷","判斷","邏輯","base","`","`","`","csharp","public","int","getstatuscode","string","nullorempty","int","statuscode","=","200","nullorempty","statuscode","=","400","return","statuscode","`","`","`","better","`","`","`","csharp","public","int","getstatuscode","string","nullorempty","nullorempty","return","400","return","return","200","`","`","`","善用","`","switch","`","`","enum","`","避免","大量","else","好處","1","將","情形","明確","條列","2","default","提醒","預設","行為","3","case","時候","enum","可以","看到","全部","情況","比","一堆","else","好","4","可讀","性比","較","高","5","擴充","性比","較","好","base","`","`","`","csharp","httpstatus","=","=","200","something","else","httpstatus","=","=","401","something","else","something","`","`","`","better","定義","enum","`","`","`","csharp","public","class","httphandler","public","enum","statuscode","success","=","200","unauthorize","=","401","`","`","`","改寫","base","`","`","`","csharp","switch","httpstatus","case","httphandler","statuscode","success","something","break","case","httphandler","statuscode","unauthorize","something","break","default","something","break","`","`","`","function","向下兼容","更新","方式","1","邏輯","上","更改","要","嚴謹","更改","讓","既有","input","output","不受","影響","但","能","應","對","新","邏輯","可以","多靠","測試","來","降低","改錯","機會","2","擴充","1","增加","參數","新","增加","參數","帶","好","default","值","不會","影響","既有","code","base","`","`","`","csharp","public","void","main","console","writeline","add","13","14","2","public","int","add","double","double","b","return","int","b","`","`","`","擴充","add","以","支援","四","捨","五入","`","`","`","csharp","public","void","main","console","writeline","add","13","14","2","console","writeline","add","13","14","true","2","public","int","add","double","double","b","bool","isround","=","false","return","isround","int","b","int","math","round","b","`","`","`","2","多載","method","承上例","base","`","`","`","csharp","public","void","main","console","writeline","add","13","14","2","console","writeline","add","13","14","true","2","public","int","add","double","double","b","return","int","b","public","int","add","double","double","b","bool","isround","return","isround","add","b","int","math","round","b","`","`","`","造成","bug","可能","原因","程式","執行","邏輯","有誤","run","time","error","程式","沒寫","好","無法","從","物件","取值","初始值","問題","對語","法不熟","static","沒用","好","介接","來源","問題","商業","邏輯","有誤","提出","商業","邏輯","人","一開始","提錯","沒講","清楚","實作","人","對","規格","錯誤","認知","誤認","規格","心理","想","對","實","作出","來","一樣","機器","硬體","問題","網路","硬碟","記憶體","大小","cpu","開發","策略","漸進式","開發"],key_words:[{word:"csharp",weight:211.30567752750375},{word:"public",weight:187.82726891333667},{word:"int",weight:187.82726891333667},{word:"return",weight:164.3488602991696},{word:"邏輯",weight:152.60965599208603},{word:"statuscode",weight:140.8704516850025},{word:"add",weight:129.13124737791895},{word:"base",weight:117.39204307083541},{word:"obj",weight:117.39204307083541},{word:"null",weight:105.65283876375187},{word:"nullorempty",weight:93.91363445666833},{word:"200",weight:93.91363445666833},{word:"double",weight:93.91363445666833},{word:"better",weight:70.43522584250125},{word:"aaa",weight:70.43522584250125},{word:"dic",weight:70.43522584250125},{word:"source",weight:58.69602153541771},{word:"判斷",weight:58.69602153541771},{word:"1.3",weight:58.69602153541771},{word:"void",weight:58.69602153541771},{word:"writeline",weight:58.69602153541771},{word:"code",weight:58.69602153541771},{word:"console",weight:58.69602153541771},{word:"success",weight:58.69602153541771},{word:"httphandler",weight:58.69602153541771},{word:"1.4",weight:58.69602153541771},{word:"result",weight:46.95681722833417},{word:"isround",weight:46.95681722833417},{word:"400",weight:46.95681722833417},{word:"string",weight:46.95681722833417}],excerpt:"操作ide vscode [vscode 如何提高我的寫扣效率]( visual studio f12: 跳頁籤查看reference alt + f12: 在游標下方跑出小視窗顯示reference 避免內部邏輯曝露到外層 result = httphandler.getresponse() if( result.returncode == 200 ){ // handler success } 若 returncode 要改成 200, 203 都handle success 那相關的code要改的地方就會很多 將判斷邏輯封裝，就可以避免這個問題 result = httphandler.getresponse() if( result.issuccess ){ // handler success } 物件化 避免過多重複的code/邏輯 將共通邏輯抽到base中: 像是共用的初始化..."},{title:"使用套件可能需要考慮的因素",frontmatter:{title:"使用套件可能需要考慮的因素",datetime:"2020/9/30",tag:["package","plugin","tips"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"使用套件可能需要考慮的因素"},{property:"og:type",content:"website"},{property:"og:url",content:"/Coding/package-tips.html"},{name:"twitter:title",content:"使用套件可能需要考慮的因素"},{name:"twitter:url",content:"/Coding/package-tips.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"os, 更新, 資安, 會不會, 版本, 支援, 原始, 反組譯, 衝突, 以後會, 問題, 價格, 維護, 無資安, 不會, 語言, 解決, 碼還, 什麼, 考慮, 應用, 套件, 跑不了, 相依, 情境, 程式, 效能, 漏洞, 好不好, 效果"},{property:"article:tag",content:"os"},{property:"article:tag",content:"更新"},{property:"article:tag",content:"資安"},{property:"article:tag",content:"會不會"},{property:"article:tag",content:"版本"},{property:"article:tag",content:"支援"},{property:"article:tag",content:"原始"},{property:"article:tag",content:"反組譯"},{property:"article:tag",content:"衝突"},{property:"article:tag",content:"以後會"},{property:"article:tag",content:"問題"},{property:"article:tag",content:"價格"},{property:"article:tag",content:"維護"},{property:"article:tag",content:"無資安"},{property:"article:tag",content:"不會"},{property:"article:tag",content:"語言"},{property:"article:tag",content:"解決"},{property:"article:tag",content:"碼還"},{property:"article:tag",content:"什麼"},{property:"article:tag",content:"考慮"},{property:"article:tag",content:"應用"},{property:"article:tag",content:"套件"},{property:"article:tag",content:"跑不了"},{property:"article:tag",content:"相依"},{property:"article:tag",content:"情境"},{property:"article:tag",content:"程式"},{property:"article:tag",content:"效能"},{property:"article:tag",content:"漏洞"},{property:"article:tag",content:"好不好"},{property:"article:tag",content:"效果"}]},regularPath:"/Coding/package-tips.html",relativePath:"Coding/package-tips.md",key:"v-ec44d602",path:"/Coding/package-tips.html",git:{created:"10/3/2020, 12:38:30 AM",updated:"10/3/2020, 12:38:30 AM",author:"johnny1991524",commits:[{fullHash:"24f2670c238dfbe384990111e6f26ab1cfd8fd3f",authorTime:"1601656710",commitTime:"1601656710",authorName:"johnny1991524"}],contributors:["johnny1991524"]},pure_content:"效果/應用情境\r\n    \r\n它可以幫你解決什麼問題\r\n\r\n 限制/相依\r\n\r\n 支援的程式語言版本\r\n 會不會造成套件衝突\r\n os\r\n     是否某些os下才跑的順\r\n     會不會有跑不了的os\r\n\r\n 客製化容易度\r\n\r\n以後會不會需求變更，到時好不好改\r\n\r\n 資安\r\n\r\n有無資安漏洞\r\n\r\n 維護支援/版本更新\r\n\r\n效能的更新\r\n資安的更新\r\n功能的更新\r\n\r\n 有無原始碼\r\n\r\n如果有魔改的可能，至少有原始碼還可以改\r\n不然就要考慮反組譯了\r\n\r\n 價格",word_token:["效果","應用","情境","它","可以","幫","解決","什麼","問題","限制","相依","支援","程式","語言","版本","會不會","造成","套件","衝突","os","是否","某些","os","下","才","跑","順","會不會","跑不了","os","客","製","化","容易","度","以後會","不會","需求","變","時","好不好","改","資安","無資安","漏洞","維護","支援","版本","更新","效能","更新","資安","更新","功能","更新","無","原始","碼","如果","魔","改","可能","至少","原始","碼還","可以","改","不然","就要","考慮","反組譯","價格"],key_words:[{word:"os",weight:35.21761292125063},{word:"更新",weight:26.62294442256},{word:"資安",weight:23.478408614167083},{word:"會不會",weight:23.478408614167083},{word:"版本",weight:15.16341907646},{word:"支援",weight:14.17226950944},{word:"原始",weight:13.18293057256},{word:"反組譯",weight:11.739204307083542},{word:"衝突",weight:11.739204307083542},{word:"以後會",weight:11.739204307083542},{word:"問題",weight:11.739204307083542},{word:"價格",weight:11.739204307083542},{word:"維護",weight:11.739204307083542},{word:"無資安",weight:11.739204307083542},{word:"不會",weight:11.739204307083542},{word:"語言",weight:11.739204307083542},{word:"解決",weight:11.739204307083542},{word:"碼還",weight:11.739204307083542},{word:"什麼",weight:11.739204307083542},{word:"考慮",weight:11.739204307083542},{word:"應用",weight:11.739204307083542},{word:"套件",weight:11.598092559},{word:"跑不了",weight:10.0294766411},{word:"相依",weight:9.94943393339},{word:"情境",weight:9.85762638414},{word:"程式",weight:9.35738286971},{word:"效能",weight:8.71329184614},{word:"漏洞",weight:8.70218062071},{word:"好不好",weight:8.30225569298},{word:"效果",weight:5.97624346709}],excerpt:"效果/應用情境 它可以幫你解決什麼問題 限制/相依 支援的程式語言版本 會不會造成套件衝突 os 是否某些os下才跑的順 會不會有跑不了的os 客製化容易度 以後會不會需求變更，到時好不好改 資安 有無資安漏洞 維護支援/版本更新 效能的更新 資安的更新 功能的更新 有無原始碼 如果有魔改的可能，至少有原始碼還可以改 不然就要考慮反組譯了 價格"},{title:"心",frontmatter:{title:"心",datetime:"2019/6/10",is_tmp:!0,meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"心"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/1.%20%E5%BF%83/TMP.html"},{name:"twitter:title",content:"心"},{name:"twitter:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/1.%20%E5%BF%83/TMP.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"出手, 蓋傷, 素質, 別人, 點去, 很常, 然後森, 覺得, 77, 應該, 或許, 檢討, 什麼, 必須, 時間, 浮躁, 老是, 打到, 可能, 心情, 心理, 一下, 地方"},{property:"article:tag",content:"出手"},{property:"article:tag",content:"蓋傷"},{property:"article:tag",content:"素質"},{property:"article:tag",content:"別人"},{property:"article:tag",content:"點去"},{property:"article:tag",content:"很常"},{property:"article:tag",content:"然後森"},{property:"article:tag",content:"覺得"},{property:"article:tag",content:"77"},{property:"article:tag",content:"應該"},{property:"article:tag",content:"或許"},{property:"article:tag",content:"檢討"},{property:"article:tag",content:"什麼"},{property:"article:tag",content:"必須"},{property:"article:tag",content:"時間"},{property:"article:tag",content:"浮躁"},{property:"article:tag",content:"老是"},{property:"article:tag",content:"打到"},{property:"article:tag",content:"可能"},{property:"article:tag",content:"心情"},{property:"article:tag",content:"心理"},{property:"article:tag",content:"一下"},{property:"article:tag",content:"地方"}]},regularPath:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/1.%20%E5%BF%83/TMP.html",relativePath:"Game/FEZ/1. 遊戲思路/1. 心/TMP.md",key:"v-39e05f8b",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/1.%20%E5%BF%83/TMP.html",git:{created:"10/13/2019, 10:20:24 PM",updated:"10/13/2019, 10:20:24 PM",author:"PC\\JC",commits:[{fullHash:"4a6e71513f746c7b69db14e4a319daaf10a99198",authorTime:"1570976424",commitTime:"1570976424",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"心理素質\r\n\r\n如果很常打到心情浮躁\r\n\r\n甚至被蓋傷，覺得自己老是被蓋，然後森77\r\n\r\n可能要檢討一下自己為什麼老是被蓋傷\r\n\r\n或許可能你應該要出手的地方都不出手，才逼的別人必須要在不是他該出手的時間點去出手",word_token:["心理","素質","如果","很常","打到","心情","浮躁","甚至","被","蓋傷","覺得","自己","老是","被","蓋","然後森","77","可能","要","檢討","一下","自己","為","什麼","老","被","蓋傷","或許","可能","應該","要","出手","地方","出手","才","逼","別人","必須","要","不是","該","出手","時間","點去","出手"],key_words:[{word:"出手",weight:28.95017982392},{word:"蓋傷",weight:23.478408614167083},{word:"素質",weight:11.739204307083542},{word:"別人",weight:11.739204307083542},{word:"點去",weight:11.739204307083542},{word:"很常",weight:11.739204307083542},{word:"然後森",weight:11.739204307083542},{word:"覺得",weight:11.739204307083542},{word:"77",weight:11.739204307083542},{word:"應該",weight:11.739204307083542},{word:"或許",weight:11.739204307083542},{word:"檢討",weight:11.739204307083542},{word:"什麼",weight:11.739204307083542},{word:"必須",weight:11.739204307083542},{word:"時間",weight:11.739204307083542},{word:"浮躁",weight:9.66657114738},{word:"老是",weight:8.50251495046},{word:"打到",weight:8.21031819765},{word:"可能",weight:7.49605597146},{word:"心情",weight:6.34896543662},{word:"心理",weight:6.27362023496},{word:"一下",weight:4.88927614262},{word:"地方",weight:4.41589243433}],excerpt:"心理素質 如果很常打到心情浮躁 甚至被蓋傷，覺得自己老是被蓋，然後森77 可能要檢討一下自己為什麼老是被蓋傷 或許可能你應該要出手的地方都不出手，才逼的別人必須要在不是他該出手的時間點去出手"},{title:"心理戰",frontmatter:{title:"心理戰",datetime:"2019/3/7",is_tmp:!0,meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"心理戰"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/1.%20%E5%BF%83/%E5%BF%83%E7%90%86%E6%88%B0.html"},{name:"twitter:title",content:"心理戰"},{name:"twitter:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/1.%20%E5%BF%83/%E5%BF%83%E7%90%86%E6%88%B0.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"123, 對方, 狀況, 什麼, 推估, 心理, 確立, 資訊, 1., 機率, 出現, 走位, 失敗, 2., 刀會, 個性, 傷害, 出招, 表象, 方案, 需求, 很多, 出手, 信任, 少少的, 微笑, 大跳, 硬打, 森林法, 小波"},{property:"article:tag",content:"123"},{property:"article:tag",content:"對方"},{property:"article:tag",content:"狀況"},{property:"article:tag",content:"什麼"},{property:"article:tag",content:"推估"},{property:"article:tag",content:"心理"},{property:"article:tag",content:"確立"},{property:"article:tag",content:"資訊"},{property:"article:tag",content:"1."},{property:"article:tag",content:"機率"},{property:"article:tag",content:"出現"},{property:"article:tag",content:"走位"},{property:"article:tag",content:"失敗"},{property:"article:tag",content:"2."},{property:"article:tag",content:"刀會"},{property:"article:tag",content:"個性"},{property:"article:tag",content:"傷害"},{property:"article:tag",content:"出招"},{property:"article:tag",content:"表象"},{property:"article:tag",content:"方案"},{property:"article:tag",content:"需求"},{property:"article:tag",content:"很多"},{property:"article:tag",content:"出手"},{property:"article:tag",content:"信任"},{property:"article:tag",content:"少少的"},{property:"article:tag",content:"微笑"},{property:"article:tag",content:"大跳"},{property:"article:tag",content:"硬打"},{property:"article:tag",content:"森林法"},{property:"article:tag",content:"小波"}]},regularPath:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/1.%20%E5%BF%83/%E5%BF%83%E7%90%86%E6%88%B0.html",relativePath:"Game/FEZ/1. 遊戲思路/1. 心/心理戰.md",key:"v-ad24ce34",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/1.%20%E5%BF%83/%E5%BF%83%E7%90%86%E6%88%B0.html",headers:[{level:2,title:"HMM",slug:"hmm"}],git:{created:"9/9/2020, 10:45:06 AM",updated:"6/11/2019, 8:47:42 AM",author:"johnny1991524",commits:[{fullHash:"d905b5372c84481c8c61cd76e8e73bdfa364b133",authorTime:"1599619506",commitTime:"1599619506",authorName:"johnny1991524"},{fullHash:"0637039e4a44d45fce011f3ad87bcec787d95e41",authorTime:"1595062440",commitTime:"1595062440",authorName:"PC\\JC"},{fullHash:"306eb6ac7c63fb33ed12c6a2d8cbd6c20726957d",authorTime:"1565198476",commitTime:"1565198476",authorName:"PC\\JC"},{fullHash:"fb17d26752c3dabda6fca354a1497ecfa7f2d396",authorTime:"1561082097",commitTime:"1561082097",authorName:"JC"},{fullHash:"0b1d470ff2a07224f6f588a5b67816e6a52d6978",authorTime:"1560905666",commitTime:"1560905666",authorName:"JC"},{fullHash:"9a1af117cd1df3620da7b2774739e0fc6d278e84",authorTime:"1560476584",commitTime:"1560476584",authorName:"JC"},{fullHash:"c6aedaaa12331d0d2ac48593f5ec92889731b417",authorTime:"1560233614",commitTime:"1560233614",authorName:"JC"},{fullHash:"5fa939e507076b357eeebe282f7d04096dffe64b",authorTime:"1560214062",commitTime:"1560214062",authorName:"JC"}],contributors:["johnny1991524","PC\\JC","JC"]},pure_content:"知己知彼百戰百勝，當你看得穿對手的心理\r\n\r\n你就有辦法早對方一步，甚至好幾步來出招\r\n\r\n 核心概念\r\n\r\n  打心理戰最重要的，是從看得到的表象，去推估看不見的狀況\r\n\r\n  再從綜合的狀況，去擬定應對現狀的策略\r\n\r\n  人必定是為了得到什麼，才選擇付出了什麼\r\n    1. 每個行為背後，都有他的意圖\r\n    2. 需求\r\n      1. 基本需求: 人頭? 傷害? 賭氣硬打?\r\n      2. 進階需求: 協做? 人際關西?\r\n\r\n\r\n 從表象推估隱含資訊\r\n  \r\n  123\r\n\r\n    hmm\r\n\r\n    123\r\n\r\n 常態分布\r\n\r\n  123\r\n\r\n 博弈論\r\n\r\n  123\r\n\r\n 羊群現象\r\n\r\n  123\r\n\r\n 森林法則\r\n\r\n  123\r\n\r\n 沈沒成本\r\n\r\n  123\r\n\r\n  接受失敗\r\n  trial and error\r\n  失敗、失誤是必然，認賠殺出就好\r\n  但被同一顆石頭絆倒太多次，那就不好了\r\n\r\n 鉗形陣形\r\n\r\n  123\r\n\r\n\r\n沉住壓力，該預出手就出手，但絕不要放槍\r\n\r\n在混亂中才有機會產生\r\n\r\n\r\n\r\n成因\r\n  資訊的不對稱\r\n    盾貼你貼的很近，覺得對手有魔暈\r\n    但說不定對方只是擺出poker face\r\n    實際上根本沒魔暈\r\n\r\n  技術的不對稱\r\n    如果刀不會微笑走位，只會走直的\r\n    那單暈後只要直接猛掉刀就好，連預判或心理戰都不需要\r\n    \r\n    但若刀會微笑走位，那就要小心猛擊被扭掉\r\n    若抓後手，那就又要看刀會不會足破+殘，以免可以無商猛的狀況，變成猛過去吃殘\r\n\r\n  信任的不對稱\r\n    追擊戰3打2盾刀，若盾相信刀，就可以大跳擋暈讓刀拆\r\n    但若盾不信任刀，那就做不出這種連攜操作\r\n    而若盾刀連技術上不知道這些玩法，那就連討論都不用討論了\r\n\r\n最重要的重點\r\n  讓對手知道你什麼都會，但任性的你可能不會按牌理出招\r\n\r\n  若要以小博大，以弱擊強，那就讓對弈朝機率靠攏\r\n  但人出招會有習慣，某些方案的解法可能會較常出現\r\n  而當某些方案出現時，某些衍伸方案可能高機率伴隨出現\r\n  預測別人的預測\r\n  當猜測的成果確立，趨勢確立\r\n  心理戰就有高機率打贏對方，那剩下的，就是你的反應，你的實踐能力了\r\n\r\n期望值\r\n  高風險個性? 低風險個性?\r\n  出很多招，打很多小波逐漸累積出傷害\r\n  出少少的招，每招都打到很多，一失敗就非死即殘",word_token:["知己知彼","百戰百勝","當你看","穿","對","手","心理","辦法","早","對方","一步","甚至","好","幾步","來","出招","核心","概念","打","心理","戰","最","重要","從","得到","表象","去","推估","看不見","狀況","再","從","綜合","狀況","去","擬定","應","對","現狀","策略","人","必定","為","得到","什麼","才","選擇","付出","什麼","1","每個","行為","背","後","意圖","2","需求","1","基本","需求","人頭","傷害","賭氣","硬打","2","進階","需求","協做","人際","關西","從","表象","推估","隱含","資訊","123","hmm","123","常態","分布","123","博弈","論","123","羊群","現象","123","森林法","則","123","沈沒","成本","123","接受","失敗","trial","error","失敗","失","誤","必然","認賠","殺","出","好","但","被","同一","顆石頭","絆倒","太","多次","不好","鉗","形陣形","123","沉住","壓力","該預","出手","出手","但絕","不要","放槍","混亂","才","機會產生","成因","資訊","對","稱","盾","貼","貼","近","覺得","對","手有","魔暈","但","說","不定","對方","只是","擺出","poker","face","實際","上","根本","沒魔暈","技術","對","稱","如果","刀不會","微笑","走位","只會","走","直","單暈","後","只要","直接","猛掉","刀","好","連預判","心理","戰都","需要","但","若","刀會","微笑","走位","就要","小心","猛擊","被","扭","掉","若","抓後手","要","刀會","不會足","破","殘","以免","可以","無商","猛","狀況","變成","猛過","去","吃","殘","信任","對","稱","追擊戰","3","打","2","盾","刀","若盾","相信","刀","可以","大跳","擋暈","讓","刀","拆","但若盾","信任","刀","不出","這種","連攜","操作","而若盾","刀","連技術","上","知道","這些","玩法","連討論","不用","討論","最","重要","重點","讓","對","手","知道","什麼","會","但","任性","可能","不會","牌理","出招","若要","以","博大","以弱","擊強","讓","對弈朝","機率","靠","攏","但人出","招會","習慣","某些","方案","解法","可能","會","較常","出現","而當","某些","方案","出現","時","某些","衍伸","方案","可能","高機","率伴","隨出現","預測別","人","預測","當猜測","成果","確立","趨勢","確立","心理","戰","高","機率","打贏","對方","剩下","就是","反應","實踐","能力","期望值","高風險","個性","低風險","個性","出","很多","招","打","很多","小波","逐漸","累積","出","傷害","出","少少的","招","每招","打","很多","一失敗","非","死","即","殘"],key_words:[{word:"123",weight:93.91363445666833},{word:"對方",weight:35.21761292125063},{word:"狀況",weight:35.21761292125063},{word:"什麼",weight:35.21761292125063},{word:"推估",weight:26.4150609428},{word:"心理",weight:25.09448093984},{word:"確立",weight:23.478408614167083},{word:"資訊",weight:23.478408614167083},{word:"1.",weight:23.478408614167083},{word:"機率",weight:23.478408614167083},{word:"出現",weight:23.478408614167083},{word:"走位",weight:23.478408614167083},{word:"失敗",weight:23.478408614167083},{word:"2.",weight:23.478408614167083},{word:"刀會",weight:23.478408614167083},{word:"個性",weight:23.478408614167083},{word:"傷害",weight:23.478408614167083},{word:"出招",weight:21.3636036542},{word:"表象",weight:18.55140967738},{word:"方案",weight:17.55662672493},{word:"需求",weight:15.512386101450002},{word:"很多",weight:14.574848012550001},{word:"出手",weight:14.47508991196},{word:"信任",weight:14.15260796386},{word:"少少的",weight:13.900677652},{word:"微笑",weight:13.60791254696},{word:"大跳",weight:12.5143832909},{word:"硬打",weight:12.1089181827},{word:"森林法",weight:12.1089181827},{word:"小波",weight:12.1089181827}],excerpt:"知己知彼百戰百勝，當你看得穿對手的心理 你就有辦法早對方一步，甚至好幾步來出招 核心概念 打心理戰最重要的，是從看得到的表象，去推估看不見的狀況 再從綜合的狀況，去擬定應對現狀的策略 人必定是為了得到什麼，才選擇付出了什麼 1. 每個行為背後，都有他的意圖 2. 需求 1. 基本需求: 人頭? 傷害? 賭氣硬打? 2. 進階需求: 協做? 人際關西? 從表象推估隱含資訊 123 hmm 123 常態分布 123 博弈論 123 羊群現象 123 森林法則 123 沈沒成本 123 接受失敗 trial and error 失敗、失誤是必然，認賠殺出就好 但被同一顆石頭絆倒太多次，那就不好了 鉗形陣形 123 沉住壓力，該預出手就出手，但絕不要放槍 在混亂中才有機會產生 成因 資訊的不對稱 盾貼你貼的很近，覺得對手有魔暈 但說不定對方只是擺出poker face 實際上根本沒魔暈 技術的不對..."},{title:"神小跳",frontmatter:{title:"神小跳",datetime:"2019/3/7",is_tmp:!0,meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"神小跳"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E7%A5%9E%E5%B0%8F%E8%B7%B3.html"},{name:"twitter:title",content:"神小跳"},{name:"twitter:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E7%A5%9E%E5%B0%8F%E8%B7%B3.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"神小跳"},{property:"article:tag",content:"神小跳"}]},regularPath:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E7%A5%9E%E5%B0%8F%E8%B7%B3.html",relativePath:"Game/FEZ/1. 遊戲思路/2. 技/神小跳.md",key:"v-7d3a6963",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E7%A5%9E%E5%B0%8F%E8%B7%B3.html",git:{created:"8/8/2019, 1:21:16 AM",updated:"6/11/2019, 2:13:34 PM",author:"PC\\JC",commits:[{fullHash:"306eb6ac7c63fb33ed12c6a2d8cbd6c20726957d",authorTime:"1565198476",commitTime:"1565198476",authorName:"PC\\JC"},{fullHash:"c6aedaaa12331d0d2ac48593f5ec92889731b417",authorTime:"1560233614",commitTime:"1560233614",authorName:"JC"}],contributors:["PC\\JC","JC"]},pure_content:"神小跳",word_token:["神小跳"],key_words:[{word:"神小跳",weight:11.739204307083542}],excerpt:"神小跳"},{title:"視野變換",frontmatter:{title:"視野變換",datetime:"2019/10/11",is_tmp:!0,meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"視野變換"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E8%A6%96%E9%87%8E%E8%AE%8A%E6%8F%9B.html"},{name:"twitter:title",content:"視野變換"},{name:"twitter:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E8%A6%96%E9%87%8E%E8%AE%8A%E6%8F%9B.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"}]},regularPath:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E8%A6%96%E9%87%8E%E8%AE%8A%E6%8F%9B.html",relativePath:"Game/FEZ/1. 遊戲思路/2. 技/視野變換.md",key:"v-455360d1",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E8%A6%96%E9%87%8E%E8%AE%8A%E6%8F%9B.html",git:{created:"10/13/2019, 10:20:24 PM",updated:"10/13/2019, 10:20:24 PM",author:"PC\\JC",commits:[{fullHash:"4a6e71513f746c7b69db14e4a319daaf10a99198",authorTime:"1570976424",commitTime:"1570976424",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"",word_token:[],key_words:[],excerpt:""},{title:"走位",frontmatter:{title:"走位",datetime:"2019/3/7",is_tmp:!0,meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"走位"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E8%B5%B0%E4%BD%8D.html"},{name:"twitter:title",content:"走位"},{name:"twitter:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E8%B5%B0%E4%BD%8D.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"走位, 退非, 紅黃, 誘導, 進非攻, 微笑"},{property:"article:tag",content:"走位"},{property:"article:tag",content:"退非"},{property:"article:tag",content:"紅黃"},{property:"article:tag",content:"誘導"},{property:"article:tag",content:"進非攻"},{property:"article:tag",content:"微笑"}]},regularPath:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E8%B5%B0%E4%BD%8D.html",relativePath:"Game/FEZ/1. 遊戲思路/2. 技/走位.md",key:"v-b0d90ce6",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E8%B5%B0%E4%BD%8D.html",git:{created:"5/20/2020, 5:38:32 PM",updated:"10/13/2019, 10:20:24 PM",author:"PC\\JC",commits:[{fullHash:"d5145dd73a217bae1b306cecdbeca49be6711959",authorTime:"1589967512",commitTime:"1589967512",authorName:"PC\\JC"},{fullHash:"a5f6d6cf81cef459c3f21791438c73218a9a5c04",authorTime:"1573655717",commitTime:"1573655717",authorName:"PC\\JC"},{fullHash:"4a6e71513f746c7b69db14e4a319daaf10a99198",authorTime:"1570976424",commitTime:"1570976424",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"微笑走位\r\n\r\n紅黃走位\r\n\r\n誘導走位\r\n    進非攻，退非躲",word_token:["微笑","走位","紅黃","走位","誘導","走位","進非攻","退非","躲"],key_words:[{word:"走位",weight:35.21761292125063},{word:"退非",weight:11.739204307083542},{word:"紅黃",weight:11.739204307083542},{word:"誘導",weight:11.739204307083542},{word:"進非攻",weight:11.739204307083542},{word:"微笑",weight:6.80395627348}],excerpt:"微笑走位 紅黃走位 誘導走位 進非攻，退非躲"},{title:"跳點",frontmatter:{title:"跳點",datetime:"2019/10/11",is_tmp:!0,meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"跳點"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E8%B7%B3%E9%BB%9E.html"},{name:"twitter:title",content:"跳點"},{name:"twitter:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E8%B7%B3%E9%BB%9E.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"}]},regularPath:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E8%B7%B3%E9%BB%9E.html",relativePath:"Game/FEZ/1. 遊戲思路/2. 技/跳點.md",key:"v-0a921c99",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E8%B7%B3%E9%BB%9E.html",git:{created:"10/13/2019, 10:20:24 PM",updated:"10/13/2019, 10:20:24 PM",author:"PC\\JC",commits:[{fullHash:"4a6e71513f746c7b69db14e4a319daaf10a99198",authorTime:"1570976424",commitTime:"1570976424",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"",word_token:[],key_words:[],excerpt:""},{title:"Hello VueJCBlog",frontmatter:{title:"Hello VueJCBlog",datetime:"2019/3/7",is_tmp:!0,meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Hello VueJCBlog"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E9%A0%90%E5%87%BA%E6%89%8B.html"},{name:"twitter:title",content:"Hello VueJCBlog"},{name:"twitter:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E9%A0%90%E5%87%BA%E6%89%8B.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"出手, 出招, 攻擊, 提早, 隨時, 抓大, 唯快, 兵貴, 避預, 對方, 機不, 反斷, 先卡好, 比別, 幾步, 畫面, 斷招, 並預, 桐老爺, 蓋傷, 已經, 狹義預, 還要, 廣義預, 總是, 神速, 待人, 不破, 武功, 最快"},{property:"article:tag",content:"出手"},{property:"article:tag",content:"出招"},{property:"article:tag",content:"攻擊"},{property:"article:tag",content:"提早"},{property:"article:tag",content:"隨時"},{property:"article:tag",content:"抓大"},{property:"article:tag",content:"唯快"},{property:"article:tag",content:"兵貴"},{property:"article:tag",content:"避預"},{property:"article:tag",content:"對方"},{property:"article:tag",content:"機不"},{property:"article:tag",content:"反斷"},{property:"article:tag",content:"先卡好"},{property:"article:tag",content:"比別"},{property:"article:tag",content:"幾步"},{property:"article:tag",content:"畫面"},{property:"article:tag",content:"斷招"},{property:"article:tag",content:"並預"},{property:"article:tag",content:"桐老爺"},{property:"article:tag",content:"蓋傷"},{property:"article:tag",content:"已經"},{property:"article:tag",content:"狹義預"},{property:"article:tag",content:"還要"},{property:"article:tag",content:"廣義預"},{property:"article:tag",content:"總是"},{property:"article:tag",content:"神速"},{property:"article:tag",content:"待人"},{property:"article:tag",content:"不破"},{property:"article:tag",content:"武功"},{property:"article:tag",content:"最快"}]},regularPath:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E9%A0%90%E5%87%BA%E6%89%8B.html",relativePath:"Game/FEZ/1. 遊戲思路/2. 技/預出手.md",key:"v-29c918e5",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/%E9%A0%90%E5%87%BA%E6%89%8B.html",git:{created:"5/20/2020, 5:38:32 PM",updated:"6/11/2019, 2:13:34 PM",author:"PC\\JC",commits:[{fullHash:"d5145dd73a217bae1b306cecdbeca49be6711959",authorTime:"1589967512",commitTime:"1589967512",authorName:"PC\\JC"},{fullHash:"4a6e71513f746c7b69db14e4a319daaf10a99198",authorTime:"1570976424",commitTime:"1570976424",authorName:"PC\\JC"},{fullHash:"306eb6ac7c63fb33ed12c6a2d8cbd6c20726957d",authorTime:"1565198476",commitTime:"1565198476",authorName:"PC\\JC"},{fullHash:"c6aedaaa12331d0d2ac48593f5ec92889731b417",authorTime:"1560233614",commitTime:"1560233614",authorName:"JC"}],contributors:["PC\\JC","JC"]},pure_content:'最快的出招: 預出手\r\n\r\n引用桐老爺，還要更快的畫面\r\n\r\n天下武功，唯快不破\r\n兵貴神速，機不待人\r\n\r\n\r\n一般出招攻擊\r\n    看到對方"已經"被打了，才出招攻擊\r\n狹義預出手\r\n    提早出手攻擊\r\n廣義預出手\r\n    總是比別人多想好幾步\r\n    並預先卡好位置，隨時可以提早出招\r\n預出手斷招\r\n反斷招\r\n被蓋傷的應對\r\n迴避預出手\r\n預出手抓大跳',word_token:["最快","出招","預","出手","引用","桐老爺","還要","快","畫面","天下","武功","唯快","不破","兵貴","神速","機不","待人","一般","出招","攻擊","看到","對方","已經","被","打","才","出招","攻擊","狹義預","出手","提早","出手","攻擊","廣義預","出手","總是","比別","人","想","好","幾步","並預","先卡好","位置","隨時","可以","提早","出招","預","出手","斷招","反斷","招","被","蓋傷","應","對","迴","避預","出手","預","出手","抓大","跳"],key_words:[{word:"出手",weight:50.66281469186},{word:"出招",weight:42.7272073084},{word:"攻擊",weight:35.21761292125063},{word:"提早",weight:17.80693075642},{word:"隨時",weight:11.739204307083542},{word:"抓大",weight:11.739204307083542},{word:"唯快",weight:11.739204307083542},{word:"兵貴",weight:11.739204307083542},{word:"避預",weight:11.739204307083542},{word:"對方",weight:11.739204307083542},{word:"機不",weight:11.739204307083542},{word:"反斷",weight:11.739204307083542},{word:"先卡好",weight:11.739204307083542},{word:"比別",weight:11.739204307083542},{word:"幾步",weight:11.739204307083542},{word:"畫面",weight:11.739204307083542},{word:"斷招",weight:11.739204307083542},{word:"並預",weight:11.739204307083542},{word:"桐老爺",weight:11.739204307083542},{word:"蓋傷",weight:11.739204307083542},{word:"已經",weight:11.739204307083542},{word:"狹義預",weight:11.739204307083542},{word:"還要",weight:11.739204307083542},{word:"廣義預",weight:11.739204307083542},{word:"總是",weight:11.739204307083542},{word:"神速",weight:9.98865464655},{word:"待人",weight:9.54396882529},{word:"不破",weight:9.53122979951},{word:"武功",weight:8.81927328699},{word:"最快",weight:7.54456999128}],excerpt:'最快的出招: 預出手 引用桐老爺，還要更快的畫面 天下武功，唯快不破 兵貴神速，機不待人 一般出招攻擊 看到對方"已經"被打了，才出招攻擊 狹義預出手 提早出手攻擊 廣義預出手 總是比別人多想好幾步 並預先卡好位置，隨時可以提早出招 預出手斷招 反斷招 被蓋傷的應對 迴避預出手 預出手抓大跳'},{title:"心",frontmatter:{title:"心",datetime:"2019/6/10",is_tmp:!0,meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"心"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/1.%20%E5%BF%83/"},{name:"twitter:title",content:"心"},{name:"twitter:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/1.%20%E5%BF%83/"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"心態, theorem, 對方, 目標, 追求, 心理, 影響, 前進, 預判, 素質, 炸裂, 霸氣, 開戰, 穩住, 進行, 時間, 再暈, 態度, 團隊, 吃力, 自我, 重要, 棒喝, 以情, pw, 個盾, 一邊, 之後再, 內容, 不慌不亂"},{property:"article:tag",content:"心態"},{property:"article:tag",content:"theorem"},{property:"article:tag",content:"對方"},{property:"article:tag",content:"目標"},{property:"article:tag",content:"追求"},{property:"article:tag",content:"心理"},{property:"article:tag",content:"影響"},{property:"article:tag",content:"前進"},{property:"article:tag",content:"預判"},{property:"article:tag",content:"素質"},{property:"article:tag",content:"炸裂"},{property:"article:tag",content:"霸氣"},{property:"article:tag",content:"開戰"},{property:"article:tag",content:"穩住"},{property:"article:tag",content:"進行"},{property:"article:tag",content:"時間"},{property:"article:tag",content:"再暈"},{property:"article:tag",content:"態度"},{property:"article:tag",content:"團隊"},{property:"article:tag",content:"吃力"},{property:"article:tag",content:"自我"},{property:"article:tag",content:"重要"},{property:"article:tag",content:"棒喝"},{property:"article:tag",content:"以情"},{property:"article:tag",content:"pw"},{property:"article:tag",content:"個盾"},{property:"article:tag",content:"一邊"},{property:"article:tag",content:"之後再"},{property:"article:tag",content:"內容"},{property:"article:tag",content:"不慌不亂"}]},regularPath:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/1.%20%E5%BF%83/",relativePath:"Game/FEZ/1. 遊戲思路/1. 心/README.md",key:"v-4478a866",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/1.%20%E5%BF%83/",git:{created:"8/8/2019, 1:21:16 AM",updated:"6/11/2019, 8:47:42 AM",author:"PC\\JC",commits:[{fullHash:"306eb6ac7c63fb33ed12c6a2d8cbd6c20726957d",authorTime:"1565198476",commitTime:"1565198476",authorName:"PC\\JC"},{fullHash:"0b1d470ff2a07224f6f588a5b67816e6a52d6978",authorTime:"1560905666",commitTime:"1560905666",authorName:"JC"},{fullHash:"c6aedaaa12331d0d2ac48593f5ec92889731b417",authorTime:"1560233614",commitTime:"1560233614",authorName:"JC"},{fullHash:"5fa939e507076b357eeebe282f7d04096dffe64b",authorTime:"1560214062",commitTime:"1560214062",authorName:"JC"}],contributors:["PC\\JC","JC"]},pure_content:"心指的是心態、心理素質、心理戰，心理層面的議題\r\n\r\n  心理素質\r\n\r\n    ::: theorem 目標指引前進的方向\r\n    不論你在這遊戲追求的是什麼，最重要的是 - 莫忘初衷\r\n    :::\r\n\r\n    千萬不要受人影響，而忘了你的前進目標\r\n\r\n    大膽邁進，細心修正，久而久之就會越來越筆直的往目前前進\r\n\r\n    ::: theorem 態度決定高度\r\n    做任何事，我們都會有心中所追求的目標\r\n    :::\r\n\r\n    就如同馬斯洛需求理論中所論及的最高層次需求 - 自我實現\r\n\r\n    你是花100%的時間都在遊玩、又還是花50%的時間去進行自我精進呢？\r\n\r\n    這些都會影響你最終的表現\r\n\r\n    ::: theorem 心態影響態度\r\n    時時刻刻穩住心態，不讓心態炸裂，才是達成目標的捷徑\r\n    :::\r\n\r\n    有的人追求高傷、有的人追求勝場、有的人追求團隊合作的感覺、也有的人追求刺激感\r\n\r\n    在幻想的世界中、每個人的所作所為都會互相影響\r\n\r\n    有時是利益的相乘、有時是利益的衝突\r\n\r\n    在這樣的情況下，不慌不亂，井然有序的去解決問題，才有可能即時的化解危機\r\n\r\n  明鏡止水\r\n\r\n    好的心裡素質不是天生的，是需要訓練出來的\r\n\r\n    尤其在組隊並有開語音時，任何人心態的炸裂，都可能導致團隊士氣的低落\r\n\r\n     若犯了錯\r\n\r\n        最重要的是心態要穩住\r\n\r\n        可以道歉，不要急著解釋\r\n        \r\n        急迫性上來說，先把狀況hold住\r\n        \r\n        之後再來檢討，精進會比較好\r\n\r\n     而面對心態炸裂的隊友\r\n\r\n        可以試著先安撫、順從\r\n        \r\n        動之以情，但不急著說之以理\r\n        \r\n        當然偶爾的當頭棒喝也很重要\r\n\r\n  心理戰\r\n\r\n    ::: theorem 知己知彼百戰不殆\r\n    若你能知道對方的狀態，你就能針對對方的弱點進行攻擊\r\n    :::\r\n\r\n    比方說pw滿的盾若跟另一個盾互暈並吃力破，則一般來說解暈後只能再暈一下\r\n\r\n    因此若騙對方再暈一下，則接下來可以貼著盾打\r\n\r\n    但若吃力破的盾針對這點喝r藍打，那就能反制這個策略\r\n\r\n    因此誰能看穿對方的心思、對方的狀態，則哪一邊將先奪下優勢\r\n\r\n    更多的內容請參考 這裏\r\n\r\n  預判(見聞色霸氣)\r\n\r\n    若你有看過海賊王，從見聞色霸氣，你應該能想像預判的重要性\r\n\r\n    而預判的基礎，就是建立在心理戰之上\r\n\r\n    比方說有個盾在路上跟你對峙，他不走也不開戰\r\n\r\n    那他可能就是在等隊友來開戰，因此要非常小心隱刀，或者有人群包夾過來\r\n\r\n    又或者是在會戰時突然來個神小跳，躲掉對手的招數之類的",word_token:["心指","心態","心理","素質","、","心理","戰","心理","層面","議題","心理","素質","theorem","目標","指引","前進","方向","不論","這遊戲","追求","什麼","最","重要","-","莫忘","初衷","千萬","不要","受","人影","響","而","忘","前進","目標","大膽","邁進","細心","修正","久而久之","就會","越來","越","筆直","往","目前","前進","theorem","態度","決定","高度","任何","事","我們","會","心中","所","追求","目標","如同","馬","斯洛","需求","理論","中所論","最高","層次","需求","-","自我","實現","花","100","時間","遊玩","、","還","花","50","時間","去","進行","自我","精進呢","這些","會","影響","最終","表現","theorem","心態","影響","態度","時時","刻刻","穩住","心態","讓","心態","炸裂","才","達成","目標","捷徑","人","追求","高傷","、","人","追求","勝場","、","人","追求","團隊","合作","感覺","、","人","追求","刺激","感","幻想","世界","、","個","人","所","作","所","為","會","互相","影響","有時","利益","相乘","、","時","利益","衝突","這樣","情況","下","不慌不亂","井然有序","去","解決","問題","才","可能","即時","化解","危機","明鏡","止水","好","心裡","素質","不是","天生","需要","訓練","出來","尤其","組隊","並有","開語","音時","任何人","心態","炸裂","可能","導致","團隊","士氣","低落","若犯","錯","最","重要","心態","要","穩住","可以","道歉","不要","急著","解釋","急迫","性上","來","說","先","狀況","hold","住","之後再","來","檢討","精進會","比","較","好","而面","對","心態","炸裂","隊友","可以","試著","先安撫","、","順","從","動","以情","但","急","著","說","以理","當然","偶爾","當頭","棒喝","重要","心理","戰","theorem","知己知彼","百戰","不殆","若","能","知道","對方","狀態","能針","對","對方","弱點","進行","攻擊","比方","說","pw","滿","盾","若","另","一個盾","互暈並","吃力","破","則","一般","來","說","解暈","後","只能","再暈","一下","因此","若騙","對方","再暈","一下","則","接下","來","可以","貼著盾","打","但","若","吃力","破","盾針","對","這點","喝","r","藍打","能","反制","這個","策略","因此","誰","能","看穿","對方","心思","、","對","方","狀","態","則","一邊","將先","奪下","優勢","內容","請","參考","這","裏","預判","見聞色","霸氣","若","過海賊","王","從見","聞色","霸氣","應該","能","想像","預判","重要性","而","預判","基礎","就是","建立","心理","戰","之上","比方","說","個盾","路上","對","峙","走","開戰","可能","就是","隊友來","開戰","因此","要","非常","小心","隱刀","或者","人群","包夾過","來","或者","會","戰時","突然","來個","神小跳","躲","掉","對","手","招數","之類"],key_words:[{word:"心態",weight:82.1744301495848},{word:"theorem",weight:46.95681722833417},{word:"對方",weight:46.95681722833417},{word:"目標",weight:46.95681722833417},{word:"追求",weight:39.778014682140004},{word:"心理",weight:37.64172140976},{word:"影響",weight:35.21761292125063},{word:"前進",weight:35.21761292125063},{word:"預判",weight:35.21761292125063},{word:"素質",weight:35.21761292125063},{word:"炸裂",weight:31.927743342},{word:"霸氣",weight:23.478408614167083},{word:"開戰",weight:23.478408614167083},{word:"穩住",weight:23.478408614167083},{word:"進行",weight:23.478408614167083},{word:"時間",weight:23.478408614167083},{word:"再暈",weight:23.478408614167083},{word:"態度",weight:23.478408614167083},{word:"團隊",weight:23.478408614167083},{word:"吃力",weight:17.72745009912},{word:"自我",weight:14.68495969832},{word:"重要",weight:12.03889156068},{word:"棒喝",weight:11.9547675029},{word:"以情",weight:11.9547675029},{word:"pw",weight:11.739204307083542},{word:"個盾",weight:11.739204307083542},{word:"一邊",weight:11.739204307083542},{word:"之後再",weight:11.739204307083542},{word:"內容",weight:11.739204307083542},{word:"不慌不亂",weight:11.739204307083542}],excerpt:"心指的是心態、心理素質、心理戰，心理層面的議題 心理素質 ::: theorem 目標指引前進的方向 不論你在這遊戲追求的是什麼，最重要的是 - 莫忘初衷 ::: 千萬不要受人影響，而忘了你的前進目標 大膽邁進，細心修正，久而久之就會越來越筆直的往目前前進 ::: theorem 態度決定高度 做任何事，我們都會有心中所追求的目標 ::: 就如同馬斯洛需求理論中所論及的最高層次需求 - 自我實現 你是花100%的時間都在遊玩、又還是花50%的時間去進行自我精進呢？ 這些都會影響你最終的表現 ::: theorem 心態影響態度 時時刻刻穩住心態，不讓心態炸裂，才是達成目標的捷徑 ::: 有的人追求高傷、有的人追求勝場、有的人追求團隊合作的感覺、也有的人追求刺激感 在幻想的世界中、每個人的所作所為都會互相影響 有時是利益的相乘、有時是利益的衝突 在這樣的情況下，不慌不亂，井然有序的去解決問題..."},{title:"體",frontmatter:{title:"體",datetime:"2019/4/23",is_tmp:!0,meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"體"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/3.%20%E9%AB%94/"},{name:"twitter:title",content:"體"},{name:"twitter:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/3.%20%E9%AB%94/"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"觀察, 模糊化, 模式, 情報, 用來, 處理, cpu, 意識, 舉例, 全域, 距焦, 每個, 數字鍵, 換武, 手指, 滑鼠, 分配, 區域, f3, 以為, 圖是, 怎麼, 何會, 你則, 大腦, 戰區, 思維空間, 實際, 將行, 側鍵"},{property:"article:tag",content:"觀察"},{property:"article:tag",content:"模糊化"},{property:"article:tag",content:"模式"},{property:"article:tag",content:"情報"},{property:"article:tag",content:"用來"},{property:"article:tag",content:"處理"},{property:"article:tag",content:"cpu"},{property:"article:tag",content:"意識"},{property:"article:tag",content:"舉例"},{property:"article:tag",content:"全域"},{property:"article:tag",content:"距焦"},{property:"article:tag",content:"每個"},{property:"article:tag",content:"數字鍵"},{property:"article:tag",content:"換武"},{property:"article:tag",content:"手指"},{property:"article:tag",content:"滑鼠"},{property:"article:tag",content:"分配"},{property:"article:tag",content:"區域"},{property:"article:tag",content:"f3"},{property:"article:tag",content:"以為"},{property:"article:tag",content:"圖是"},{property:"article:tag",content:"怎麼"},{property:"article:tag",content:"何會"},{property:"article:tag",content:"你則"},{property:"article:tag",content:"大腦"},{property:"article:tag",content:"戰區"},{property:"article:tag",content:"思維空間"},{property:"article:tag",content:"實際"},{property:"article:tag",content:"將行"},{property:"article:tag",content:"側鍵"}]},regularPath:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/3.%20%E9%AB%94/",relativePath:"Game/FEZ/1. 遊戲思路/3. 體/README.md",key:"v-4d9fba32",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/3.%20%E9%AB%94/",git:{created:"1/29/2020, 11:47:35 PM",updated:"6/11/2019, 2:13:34 PM",author:"PC\\JC",commits:[{fullHash:"983d59215b8d023a6773501238d8dbfe85175a53",authorTime:"1580312855",commitTime:"1580312855",authorName:"PC\\JC"},{fullHash:"a5f6d6cf81cef459c3f21791438c73218a9a5c04",authorTime:"1573655717",commitTime:"1573655717",authorName:"PC\\JC"},{fullHash:"4a6e71513f746c7b69db14e4a319daaf10a99198",authorTime:"1570976424",commitTime:"1570976424",authorName:"PC\\JC"},{fullHash:"7e302a7c8835ff348557ee28910fb4e2f03dddfb",authorTime:"1570032914",commitTime:"1570032914",authorName:"PC\\JC"},{fullHash:"306eb6ac7c63fb33ed12c6a2d8cbd6c20726957d",authorTime:"1565198476",commitTime:"1565198476",authorName:"PC\\JC"},{fullHash:"c6aedaaa12331d0d2ac48593f5ec92889731b417",authorTime:"1560233614",commitTime:"1560233614",authorName:"JC"}],contributors:["PC\\JC","JC"]},pure_content:"身體的運用\r\n\r\n有概念，實際操作不出來也是白搭，甚至容易讓人誤會，以為是紙上談兵\r\n\r\n將行為模組化，轉化為習慣，變為淺意識般的行動，讓腦袋騰出更多的思維空間去處理更多的情報\r\n\r\n舉例來說\r\n\r\n當人家已經練到手指頭稍微擺動就能小跳換武\r\n而你還在找f3、f4在哪\r\n\r\n人家的大腦幾乎是全cpu用來處理其他的情報\r\n而你則是全cpu用來想辦法換武，那自然就沒有多餘的腦力去思考怎麼跟對方對拼了\r\n\t\t\t\t\r\n滑鼠側鍵\r\n改鍵\r\n順發\r\n數字鍵\r\n數字鍵+滾輪\r\n\r\n\r\n眼睛的使用\r\n    距焦模式\r\n        單一小範圍區域的觀察\r\n        每個細節都仔細觀察，但容易見樹不見林\r\n    全域模式\r\n        整個畫面觀察\r\n        但是每個地方都看不清楚，會糊糊的\r\n        適合觀察大局\r\n    舉例\r\n        可以用同一張圖\r\n        距焦模式\r\n            選擇第一戰區，圖是清晰的，然後其他地方把他模糊化\r\n        全域模式\r\n            整張圖都模糊化\r\n    \r\n    從眼睛的使用，可以解釋鉗形戰略(包抄戰術)為何會這麼有效\r\n\r\n手指\r\n\r\n專注力的分配(氣的流動)\r\n    意識分配",word_token:["身體","運用","概念","實際","操作","不出","來","白搭","甚至","容易","讓","人","誤會","以為","紙上","談兵","將行","為模","組化","轉化","為","習慣","變為","淺","意識","般的","行動","讓","腦袋","騰出","思維空間","去","處理","情報","舉例","來","說","當","人家","已經練","手指","頭","稍微","擺動","能","跳","換武","而","還在","找","f3","f4","人家","大腦","幾乎","全","cpu","用來","處理","其他","情報","而","你則","全","cpu","用來","想","辦法","換武","自然","沒","餘","腦力","去","思考","怎麼","對方","對","拼","滑鼠","側鍵","改鍵","順發","數字鍵","數字鍵","滾輪","眼睛","使用","距焦","模式","單","一小","範圍","區域","觀察","每個","細節","仔細","觀察","但","容易","見樹","不見林","全域","模式","整個","畫面","觀察","但是","每個","地方","看不清楚","會","糊糊","適合","觀察","大局","舉例","可以","用","同一","張圖","距焦","模式","選擇","第一","戰區","圖是","清晰","然","後","其他","地方","模糊化","全域","模式","整張","圖","模糊化","從","眼睛","使用","可以","解釋","鉗","形戰略","包抄","戰術","為","何會","這麼","有效","手指","專注力","分配","氣的","流動","意識","分配"],key_words:[{word:"觀察",weight:46.95681722833417},{word:"模糊化",weight:27.801355304},{word:"模式",weight:24.12204682204},{word:"情報",weight:23.478408614167083},{word:"用來",weight:23.478408614167083},{word:"處理",weight:23.478408614167083},{word:"cpu",weight:23.478408614167083},{word:"意識",weight:23.478408614167083},{word:"舉例",weight:23.478408614167083},{word:"全域",weight:23.478408614167083},{word:"距焦",weight:23.478408614167083},{word:"每個",weight:23.478408614167083},{word:"數字鍵",weight:23.478408614167083},{word:"換武",weight:23.478408614167083},{word:"手指",weight:14.04058713958},{word:"滑鼠",weight:13.900677652},{word:"分配",weight:12.5885805244},{word:"區域",weight:11.739204307083542},{word:"f3",weight:11.739204307083542},{word:"以為",weight:11.739204307083542},{word:"圖是",weight:11.739204307083542},{word:"怎麼",weight:11.739204307083542},{word:"何會",weight:11.739204307083542},{word:"你則",weight:11.739204307083542},{word:"大腦",weight:11.739204307083542},{word:"戰區",weight:11.739204307083542},{word:"思維空間",weight:11.739204307083542},{word:"實際",weight:11.739204307083542},{word:"將行",weight:11.739204307083542},{word:"側鍵",weight:11.739204307083542}],excerpt:"身體的運用 有概念，實際操作不出來也是白搭，甚至容易讓人誤會，以為是紙上談兵 將行為模組化，轉化為習慣，變為淺意識般的行動，讓腦袋騰出更多的思維空間去處理更多的情報 舉例來說 當人家已經練到手指頭稍微擺動就能小跳換武 而你還在找f3、f4在哪 人家的大腦幾乎是全cpu用來處理其他的情報 而你則是全cpu用來想辦法換武，那自然就沒有多餘的腦力去思考怎麼跟對方對拼了 滑鼠側鍵 改鍵 順發 數字鍵 數字鍵+滾輪 眼睛的使用 距焦模式 單一小範圍區域的觀察 每個細節都仔細觀察，但容易見樹不見林 全域模式 整個畫面觀察 但是每個地方都看不清楚，會糊糊的 適合觀察大局 舉例 可以用同一張圖 距焦模式 選擇第一戰區，圖是清晰的，然後其他地方把他模糊化 全域模式 整張圖都模糊化 從眼睛的使用，可以解釋鉗形戰略(包抄戰術)為何會這麼有效 手指 專注力的分配(氣的流動) 意識分配"},{title:"卡位",frontmatter:{title:"卡位",datetime:"2019/10/11",is_tmp:!0,meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"卡位"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/4.%20%E7%BE%A4/%E5%8D%A1%E4%BD%8D.html"},{name:"twitter:title",content:"卡位"},{name:"twitter:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/4.%20%E7%BE%A4/%E5%8D%A1%E4%BD%8D.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"卡位"},{property:"article:tag",content:"卡位"}]},regularPath:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/4.%20%E7%BE%A4/%E5%8D%A1%E4%BD%8D.html",relativePath:"Game/FEZ/1. 遊戲思路/4. 群/卡位.md",key:"v-70612fe6",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/4.%20%E7%BE%A4/%E5%8D%A1%E4%BD%8D.html",git:{created:"10/13/2019, 10:20:24 PM",updated:"10/13/2019, 10:20:24 PM",author:"PC\\JC",commits:[{fullHash:"4a6e71513f746c7b69db14e4a319daaf10a99198",authorTime:"1570976424",commitTime:"1570976424",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"卡位",word_token:["卡位"],key_words:[{word:"卡位",weight:12.8020653633}],excerpt:"卡位"},{title:"組隊",frontmatter:{title:"組隊",datetime:"2019/3/7",is_tmp:!0,meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"組隊"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/4.%20%E7%BE%A4/%E7%B5%84%E9%9A%8A.html"},{name:"twitter:title",content:"組隊"},{name:"twitter:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/4.%20%E7%BE%A4/%E7%B5%84%E9%9A%8A.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"卡位, 掩護, 隊友, 連攜, 出手, 消暈, 保車, 局理論, 開戰, combo, 從賽, 陣型, 探討, 組隊, 隔輸出, 隱身, 心態, 零間, 吃傷, 棄車, 玩法, 僵直, 背叛, 友好, 幻想, 合作"},{property:"article:tag",content:"卡位"},{property:"article:tag",content:"掩護"},{property:"article:tag",content:"隊友"},{property:"article:tag",content:"連攜"},{property:"article:tag",content:"出手"},{property:"article:tag",content:"消暈"},{property:"article:tag",content:"保車"},{property:"article:tag",content:"局理論"},{property:"article:tag",content:"開戰"},{property:"article:tag",content:"combo"},{property:"article:tag",content:"從賽"},{property:"article:tag",content:"陣型"},{property:"article:tag",content:"探討"},{property:"article:tag",content:"組隊"},{property:"article:tag",content:"隔輸出"},{property:"article:tag",content:"隱身"},{property:"article:tag",content:"心態"},{property:"article:tag",content:"零間"},{property:"article:tag",content:"吃傷"},{property:"article:tag",content:"棄車"},{property:"article:tag",content:"玩法"},{property:"article:tag",content:"僵直"},{property:"article:tag",content:"背叛"},{property:"article:tag",content:"友好"},{property:"article:tag",content:"幻想"},{property:"article:tag",content:"合作"}]},regularPath:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/4.%20%E7%BE%A4/%E7%B5%84%E9%9A%8A.html",relativePath:"Game/FEZ/1. 遊戲思路/4. 群/組隊.md",key:"v-7e6b5e12",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/4.%20%E7%BE%A4/%E7%B5%84%E9%9A%8A.html",git:{created:"10/13/2019, 10:20:24 PM",updated:"6/11/2019, 2:13:34 PM",author:"PC\\JC",commits:[{fullHash:"4a6e71513f746c7b69db14e4a319daaf10a99198",authorTime:"1570976424",commitTime:"1570976424",authorName:"PC\\JC"},{fullHash:"306eb6ac7c63fb33ed12c6a2d8cbd6c20726957d",authorTime:"1565198476",commitTime:"1565198476",authorName:"PC\\JC"},{fullHash:"c6aedaaa12331d0d2ac48593f5ec92889731b417",authorTime:"1560233614",commitTime:"1560233614",authorName:"JC"}],contributors:["PC\\JC","JC"]},pure_content:"玩組隊的心態，要讓隊友好打\r\n\r\n開戰 掩護 連攜 卡位 陣型\r\n\r\n棄車保車\r\n\r\n從賽局理論探討幻想的玩法，合作與背叛\r\n\r\n連攜\r\n    預出手 零間隔輸出\r\n    預出手 僵直combo\r\n\r\n要幫隊友\r\n    吃傷\r\n    卡位\r\n    製造攻擊機會\r\n\r\n掩護隊友\r\n    [隱身消暈](",word_token:["玩","組隊","心態","要","讓","隊","友好","打","開戰","掩護","連攜","卡位","陣型","棄車","保車","從賽","局理論","探討","幻想","玩法","合作","與","背叛","連攜","預","出手","零間","隔輸出","預","出手","僵直","combo","要","幫","隊友","吃傷","卡位","製","造","攻","擊","機","會","掩護","隊友","隱身","消暈"],key_words:[{word:"卡位",weight:25.6041307266},{word:"掩護",weight:23.478408614167083},{word:"隊友",weight:23.478408614167083},{word:"連攜",weight:23.478408614167083},{word:"出手",weight:14.47508991196},{word:"消暈",weight:11.739204307083542},{word:"保車",weight:11.739204307083542},{word:"局理論",weight:11.739204307083542},{word:"開戰",weight:11.739204307083542},{word:"combo",weight:11.739204307083542},{word:"從賽",weight:11.739204307083542},{word:"陣型",weight:11.739204307083542},{word:"探討",weight:11.739204307083542},{word:"組隊",weight:11.739204307083542},{word:"隔輸出",weight:11.739204307083542},{word:"隱身",weight:11.739204307083542},{word:"心態",weight:11.739204307083542},{word:"零間",weight:11.739204307083542},{word:"吃傷",weight:11.739204307083542},{word:"棄車",weight:11.739204307083542},{word:"玩法",weight:10.3743171274},{word:"僵直",weight:10.3171587135},{word:"背叛",weight:8.29487558568},{word:"友好",weight:7.94225295895},{word:"幻想",weight:7.63158136827},{word:"合作",weight:5.50972818713}],excerpt:"玩組隊的心態，要讓隊友好打 開戰 掩護 連攜 卡位 陣型 棄車保車 從賽局理論探討幻想的玩法，合作與背叛 連攜 預出手 零間隔輸出 預出手 僵直combo 要幫隊友 吃傷 卡位 製造攻擊機會 掩護隊友 [隱身消暈]("},{title:"略",frontmatter:{title:"略",datetime:"2019/4/23",is_tmp:!0,meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"略"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/5.%20%E7%95%A5/"},{name:"twitter:title",content:"略"},{name:"twitter:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/5.%20%E7%95%A5/"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"僵持, 不戰, 打殘, 獵人, 走位, 驅人, 伸張, 紅黃, 作戰, 不殺, tmp, 紅黃圈, 資訊架構, 很漂亮, 之兵, 故意, 策略"},{property:"article:tag",content:"僵持"},{property:"article:tag",content:"不戰"},{property:"article:tag",content:"打殘"},{property:"article:tag",content:"獵人"},{property:"article:tag",content:"走位"},{property:"article:tag",content:"驅人"},{property:"article:tag",content:"伸張"},{property:"article:tag",content:"紅黃"},{property:"article:tag",content:"作戰"},{property:"article:tag",content:"不殺"},{property:"article:tag",content:"tmp"},{property:"article:tag",content:"紅黃圈"},{property:"article:tag",content:"資訊架構"},{property:"article:tag",content:"很漂亮"},{property:"article:tag",content:"之兵"},{property:"article:tag",content:"故意"},{property:"article:tag",content:"策略"}]},regularPath:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/5.%20%E7%95%A5/",relativePath:"Game/FEZ/1. 遊戲思路/5. 略/README.md",key:"v-486aacae",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/5.%20%E7%95%A5/",git:{created:"5/20/2020, 5:38:32 PM",updated:"6/11/2019, 2:13:34 PM",author:"PC\\JC",commits:[{fullHash:"d5145dd73a217bae1b306cecdbeca49be6711959",authorTime:"1589967512",commitTime:"1589967512",authorName:"PC\\JC"},{fullHash:"983d59215b8d023a6773501238d8dbfe85175a53",authorTime:"1580312855",commitTime:"1580312855",authorName:"PC\\JC"},{fullHash:"a5f6d6cf81cef459c3f21791438c73218a9a5c04",authorTime:"1573655717",commitTime:"1573655717",authorName:"PC\\JC"},{fullHash:"4a6e71513f746c7b69db14e4a319daaf10a99198",authorTime:"1570976424",commitTime:"1570976424",authorName:"PC\\JC"},{fullHash:"306eb6ac7c63fb33ed12c6a2d8cbd6c20726957d",authorTime:"1565198476",commitTime:"1565198476",authorName:"PC\\JC"},{fullHash:"c6aedaaa12331d0d2ac48593f5ec92889731b417",authorTime:"1560233614",commitTime:"1560233614",authorName:"JC"}],contributors:["PC\\JC","JC"]},pure_content:"略\r\n\r\n不對稱作戰\r\n\r\n資訊架構\r\n\r\n不戰而驅人之兵\r\n\r\n\r\ntmp\r\n    僵持戰\r\n        很漂亮的僵持戰\r\n            大家都是在紅黃走位\r\n            紅黃圈伸張\r\n            \r\n\r\n    獵人策略\r\n        打殘，故意不殺死",word_token:["略","對","稱","作戰","資訊架構","不戰","而","驅人","之兵","tmp","僵持","戰","很漂亮","僵持","戰","大家","紅黃","走位","紅黃圈","伸張","獵人","策略","打殘","故意","不殺","死"],key_words:[{word:"僵持",weight:18.27700743436},{word:"不戰",weight:11.739204307083542},{word:"打殘",weight:11.739204307083542},{word:"獵人",weight:11.739204307083542},{word:"走位",weight:11.739204307083542},{word:"驅人",weight:11.739204307083542},{word:"伸張",weight:11.739204307083542},{word:"紅黃",weight:11.739204307083542},{word:"作戰",weight:11.739204307083542},{word:"不殺",weight:11.739204307083542},{word:"tmp",weight:11.739204307083542},{word:"紅黃圈",weight:11.739204307083542},{word:"資訊架構",weight:11.739204307083542},{word:"很漂亮",weight:9.75754292558},{word:"之兵",weight:8.76487921493},{word:"故意",weight:6.68396816527},{word:"策略",weight:5.80843824525}],excerpt:"略 不對稱作戰 資訊架構 不戰而驅人之兵 tmp 僵持戰 很漂亮的僵持戰 大家都是在紅黃走位 紅黃圈伸張 獵人策略 打殘，故意不殺死"},{title:"群",frontmatter:{title:"群",datetime:"2019/4/23",is_tmp:!0,meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"群"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/4.%20%E7%BE%A4/"},{name:"twitter:title",content:"群"},{name:"twitter:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/4.%20%E7%BE%A4/"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"會戰點, 出手, 時間點, 隊友, 伸張, 大招, 單體, 無法, 陣型, 走位, 暈完, 圍技, 往前, 技能, 卡位, 1., 全體, 常出現, 佔位, 不會, 則對方, 友分, 常見, 2., 做球, 吃傷, 吃範, 傾向, 問題, 對方會"},{property:"article:tag",content:"會戰點"},{property:"article:tag",content:"出手"},{property:"article:tag",content:"時間點"},{property:"article:tag",content:"隊友"},{property:"article:tag",content:"伸張"},{property:"article:tag",content:"大招"},{property:"article:tag",content:"單體"},{property:"article:tag",content:"無法"},{property:"article:tag",content:"陣型"},{property:"article:tag",content:"走位"},{property:"article:tag",content:"暈完"},{property:"article:tag",content:"圍技"},{property:"article:tag",content:"往前"},{property:"article:tag",content:"技能"},{property:"article:tag",content:"卡位"},{property:"article:tag",content:"1."},{property:"article:tag",content:"全體"},{property:"article:tag",content:"常出現"},{property:"article:tag",content:"佔位"},{property:"article:tag",content:"不會"},{property:"article:tag",content:"則對方"},{property:"article:tag",content:"友分"},{property:"article:tag",content:"常見"},{property:"article:tag",content:"2."},{property:"article:tag",content:"做球"},{property:"article:tag",content:"吃傷"},{property:"article:tag",content:"吃範"},{property:"article:tag",content:"傾向"},{property:"article:tag",content:"問題"},{property:"article:tag",content:"對方會"}]},regularPath:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/4.%20%E7%BE%A4/",relativePath:"Game/FEZ/1. 遊戲思路/4. 群/README.md",key:"v-339369e0",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/4.%20%E7%BE%A4/",git:{created:"9/12/2020, 6:48:55 PM",updated:"6/11/2019, 2:13:34 PM",author:"johnny1991524",commits:[{fullHash:"9c43a3ed15604830701d0fd3603dabf85a80dc88",authorTime:"1599907735",commitTime:"1599907735",authorName:"johnny1991524"},{fullHash:"7d442f68bc55438e309e92dc68c76e723dee3a02",authorTime:"1591171950",commitTime:"1591171950",authorName:"PC\\JC"},{fullHash:"a5f6d6cf81cef459c3f21791438c73218a9a5c04",authorTime:"1573655717",commitTime:"1573655717",authorName:"PC\\JC"},{fullHash:"306eb6ac7c63fb33ed12c6a2d8cbd6c20726957d",authorTime:"1565198476",commitTime:"1565198476",authorName:"PC\\JC"},{fullHash:"c6aedaaa12331d0d2ac48593f5ec92889731b417",authorTime:"1560233614",commitTime:"1560233614",authorName:"JC"}],contributors:["johnny1991524","PC\\JC","JC"]},pure_content:"群\r\n\r\n連攜\r\n    預出手 零間隔輸出\r\n    預出手 僵直combo\r\n\r\n    遠的幫近的接\r\n    發動慢的技能等發動快的技能\r\n\r\n陣型\r\n\r\n小隊常見問題\r\n    太想著要出手快\r\n    不會幫隊友\r\n        吃傷\r\n        卡位\r\n        製造攻擊機會\r\n    隊友做球都接不到球\r\n    走位沒有陣型\r\n        導致開戰時無法讓全體人員都好上招\r\n\r\n開戰\r\n\t第0會戰點\r\n\t\t開戰前就先預出手，像是紅黃圈漆黑\r\n\t第1會戰點\r\n\t\t暈完後可以預出手的時間點\r\n\t第2會戰點\r\n\t\t暈完後還要走位找定點的時間點\r\n\t\t常出現在大劍第1會戰點伸張後再次伸張的時間點\r\n\r\n就算自己無法出招，也要往前佔位，幫隊友分攤壓力\r\n\t1. 若沒有往前，對方會直接用單體大招打隊友\r\n\t2. 若有往前，則對方較易傾向使用範圍計，而範圍技一般來說會比較好躲過\r\n\t    又或者隊友躲不掉也比較沒關西，因為比起吃單體大招，吃範圍技通常比較不痛",word_token:["群","連攜","預","出手","零間","隔輸出","預","出手","僵直","combo","遠","幫近","接","發動慢","技能","發動","快","技能","陣型","小隊","常見","問題","太想","著要","出手","快","不會","幫隊友","吃傷","卡位","製","造","攻","擊","機","會","隊友","做球","接","不到","球","走位","沒有","陣型","導致","開戰時","無法","讓","全體","人員","好","上","招","開戰","0","會戰點","開戰前","先預","出手","像是","紅黃圈","漆黑","1","會戰點","暈完","後","可以","預","出手","時間點","2","會戰點","暈完","後","還要","走位","找定點","時間點","常出現","大劍","1","會戰點","伸張","後","再次","伸張","時間點","就算","自己","無法","出招","要","往前","佔位","幫隊","友分","攤","壓力","1","若","沒","往前","對方會","直接","用","單體","大招","打","隊友","2","若有","往前","則對方","較易","傾向","使用","範圍計","而範","圍技","一般","來","說","會","比","較","好","躲過","或者","隊友","躲","掉","比","較","沒","關西","因為","比起","吃","單體","大招","吃範","圍技","通常","比較","不痛"],key_words:[{word:"會戰點",weight:46.95681722833417},{word:"出手",weight:36.1877247799},{word:"時間點",weight:35.21761292125063},{word:"隊友",weight:35.21761292125063},{word:"伸張",weight:23.478408614167083},{word:"大招",weight:23.478408614167083},{word:"單體",weight:23.478408614167083},{word:"無法",weight:23.478408614167083},{word:"陣型",weight:23.478408614167083},{word:"走位",weight:23.478408614167083},{word:"暈完",weight:23.478408614167083},{word:"圍技",weight:23.478408614167083},{word:"往前",weight:22.82732553726},{word:"技能",weight:16.33467275016},{word:"卡位",weight:12.8020653633},{word:"1.",weight:11.739204307083542},{word:"全體",weight:11.739204307083542},{word:"常出現",weight:11.739204307083542},{word:"佔位",weight:11.739204307083542},{word:"不會",weight:11.739204307083542},{word:"則對方",weight:11.739204307083542},{word:"友分",weight:11.739204307083542},{word:"常見",weight:11.739204307083542},{word:"2.",weight:11.739204307083542},{word:"做球",weight:11.739204307083542},{word:"吃傷",weight:11.739204307083542},{word:"吃範",weight:11.739204307083542},{word:"傾向",weight:11.739204307083542},{word:"問題",weight:11.739204307083542},{word:"對方會",weight:11.739204307083542}],excerpt:"群 連攜 預出手 零間隔輸出 預出手 僵直combo 遠的幫近的接 發動慢的技能等發動快的技能 陣型 小隊常見問題 太想著要出手快 不會幫隊友 吃傷 卡位 製造攻擊機會 隊友做球都接不到球 走位沒有陣型 導致開戰時無法讓全體人員都好上招 開戰 第0會戰點 開戰前就先預出手，像是紅黃圈漆黑 第1會戰點 暈完後可以預出手的時間點 第2會戰點 暈完後還要走位找定點的時間點 常出現在大劍第1會戰點伸張後再次伸張的時間點 就算自己無法出招，也要往前佔位，幫隊友分攤壓力 1. 若沒有往前，對方會直接用單體大招打隊友 2. 若有往前，則對方較易傾向使用範圍計，而範圍技一般來說會比較好躲過 又或者隊友躲不掉也比較沒關西，因為比起吃單體大招，吃範圍技通常比較不痛"},{title:"決",frontmatter:{title:"決",datetime:"2019/4/23",is_tmp:!0,meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"決"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/6.%20%E6%B1%BA/"},{name:"twitter:title",content:"決"},{name:"twitter:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/6.%20%E6%B1%BA/"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"風險, 優先, 主義, 以穩, 殺人, 遠距, 失誤, 距離, 扭轉, 戰局, 頂著, 極近, 回報, 拉開, 巨額, 以極, 控場, 大打, 近距, 起死回生, 考量, 一波, 修正, 追求, 前提, 策略, 降低"},{property:"article:tag",content:"風險"},{property:"article:tag",content:"優先"},{property:"article:tag",content:"主義"},{property:"article:tag",content:"以穩"},{property:"article:tag",content:"殺人"},{property:"article:tag",content:"遠距"},{property:"article:tag",content:"失誤"},{property:"article:tag",content:"距離"},{property:"article:tag",content:"扭轉"},{property:"article:tag",content:"戰局"},{property:"article:tag",content:"頂著"},{property:"article:tag",content:"極近"},{property:"article:tag",content:"回報"},{property:"article:tag",content:"拉開"},{property:"article:tag",content:"巨額"},{property:"article:tag",content:"以極"},{property:"article:tag",content:"控場"},{property:"article:tag",content:"大打"},{property:"article:tag",content:"近距"},{property:"article:tag",content:"起死回生"},{property:"article:tag",content:"考量"},{property:"article:tag",content:"一波"},{property:"article:tag",content:"修正"},{property:"article:tag",content:"追求"},{property:"article:tag",content:"前提"},{property:"article:tag",content:"策略"},{property:"article:tag",content:"降低"}]},regularPath:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/6.%20%E6%B1%BA/",relativePath:"Game/FEZ/1. 遊戲思路/6. 決/README.md",key:"v-82c2c642",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/6.%20%E6%B1%BA/",git:{created:"7/25/2020, 2:20:13 AM",updated:"6/11/2019, 2:13:34 PM",author:"PC\\JC",commits:[{fullHash:"793674af3df037fe9ddb72954e595ab822ffe1ca",authorTime:"1595614813",commitTime:"1595614813",authorName:"PC\\JC"},{fullHash:"0637039e4a44d45fce011f3ad87bcec787d95e41",authorTime:"1595062440",commitTime:"1595062440",authorName:"PC\\JC"},{fullHash:"d5145dd73a217bae1b306cecdbeca49be6711959",authorTime:"1589967512",commitTime:"1589967512",authorName:"PC\\JC"},{fullHash:"4a6e71513f746c7b69db14e4a319daaf10a99198",authorTime:"1570976424",commitTime:"1570976424",authorName:"PC\\JC"},{fullHash:"306eb6ac7c63fb33ed12c6a2d8cbd6c20726957d",authorTime:"1565198476",commitTime:"1565198476",authorName:"PC\\JC"},{fullHash:"c6aedaaa12331d0d2ac48593f5ec92889731b417",authorTime:"1560233614",commitTime:"1560233614",authorName:"JC"}],contributors:["PC\\JC","JC"]},pure_content:"決\r\n\r\n策略風險\r\n風險考量\r\n\r\n控場優先\r\n\r\n殺人優先\r\n\r\n以穩死為前提大打一波\r\n\r\n失誤後的修正，起死回生，扭轉戰局\r\n\r\n極近主義\r\n    以極近距離，頂著巨額風險追求回報\r\n遠距主義\r\n    拉開距離以降低任何風險",word_token:["決","策略","風險","風險","考量","控場","優先","殺人","優先","以穩","死","為","前提","大打","一波","失誤","後","修正","起死回生","扭轉","戰局","極近","主義","以極","近距","離","頂著","巨額","風險","追求","回報","遠距","主義","拉開","距離","以","降低","任何","風險"],key_words:[{word:"風險",weight:46.95681722833417},{word:"優先",weight:23.478408614167083},{word:"主義",weight:23.478408614167083},{word:"以穩",weight:11.739204307083542},{word:"殺人",weight:11.739204307083542},{word:"遠距",weight:11.739204307083542},{word:"失誤",weight:11.739204307083542},{word:"距離",weight:11.739204307083542},{word:"扭轉",weight:11.739204307083542},{word:"戰局",weight:11.739204307083542},{word:"頂著",weight:11.739204307083542},{word:"極近",weight:11.739204307083542},{word:"回報",weight:11.739204307083542},{word:"拉開",weight:11.739204307083542},{word:"巨額",weight:11.739204307083542},{word:"以極",weight:11.739204307083542},{word:"控場",weight:11.739204307083542},{word:"大打",weight:10.765183436},{word:"近距",weight:9.71102290995},{word:"起死回生",weight:9.54396882529},{word:"考量",weight:8.77077893705},{word:"一波",weight:7.65651075131},{word:"修正",weight:7.44233936863},{word:"追求",weight:6.62966911369},{word:"前提",weight:6.58081272217},{word:"策略",weight:5.80843824525},{word:"降低",weight:5.64614877004}],excerpt:"決 策略風險 風險考量 控場優先 殺人優先 以穩死為前提大打一波 失誤後的修正，起死回生，扭轉戰局 極近主義 以極近距離，頂著巨額風險追求回報 遠距主義 拉開距離以降低任何風險"},{title:"技",frontmatter:{title:"技",datetime:"2019/6/10",is_tmp:!0,meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"技"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/"},{name:"twitter:title",content:"技"},{name:"twitter:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"反手, 紅黃圈, 出招, 出手, 攻擊, 見聞色, 誘擊, 預先, 神小跳, 傷害, 霸氣, 對方, 多重, 常駐, 應用, 這邊, 跳點, 不僅, 並且, 時間點, 適當, 吃傷, callback, 此處, miss, 各種, 跳會, attack, 設想會, 詳見"},{property:"article:tag",content:"反手"},{property:"article:tag",content:"紅黃圈"},{property:"article:tag",content:"出招"},{property:"article:tag",content:"出手"},{property:"article:tag",content:"攻擊"},{property:"article:tag",content:"見聞色"},{property:"article:tag",content:"誘擊"},{property:"article:tag",content:"預先"},{property:"article:tag",content:"神小跳"},{property:"article:tag",content:"傷害"},{property:"article:tag",content:"霸氣"},{property:"article:tag",content:"對方"},{property:"article:tag",content:"多重"},{property:"article:tag",content:"常駐"},{property:"article:tag",content:"應用"},{property:"article:tag",content:"這邊"},{property:"article:tag",content:"跳點"},{property:"article:tag",content:"不僅"},{property:"article:tag",content:"並且"},{property:"article:tag",content:"時間點"},{property:"article:tag",content:"適當"},{property:"article:tag",content:"吃傷"},{property:"article:tag",content:"callback"},{property:"article:tag",content:"此處"},{property:"article:tag",content:"miss"},{property:"article:tag",content:"各種"},{property:"article:tag",content:"跳會"},{property:"article:tag",content:"attack"},{property:"article:tag",content:"設想會"},{property:"article:tag",content:"詳見"}]},regularPath:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/",relativePath:"Game/FEZ/1. 遊戲思路/2. 技/README.md",key:"v-4df429d2",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/2.%20%E6%8A%80/",git:{created:"11/13/2019, 10:35:17 PM",updated:"6/11/2019, 2:13:34 PM",author:"PC\\JC",commits:[{fullHash:"a5f6d6cf81cef459c3f21791438c73218a9a5c04",authorTime:"1573655717",commitTime:"1573655717",authorName:"PC\\JC"},{fullHash:"4a6e71513f746c7b69db14e4a319daaf10a99198",authorTime:"1570976424",commitTime:"1570976424",authorName:"PC\\JC"},{fullHash:"92c0a8582a5e70a08214932db9e68ec08fedf3aa",authorTime:"1569979585",commitTime:"1569979585",authorName:"JC"},{fullHash:"306eb6ac7c63fb33ed12c6a2d8cbd6c20726957d",authorTime:"1565198476",commitTime:"1565198476",authorName:"PC\\JC"},{fullHash:"c6aedaaa12331d0d2ac48593f5ec92889731b417",authorTime:"1560233614",commitTime:"1560233614",authorName:"JC"}],contributors:["PC\\JC","JC"]},pure_content:"預出手\r\n\r\n    即預先出手，力求在最快的時間點命中對方\r\n\r\n    詳見此處\r\n\r\n  神小跳\r\n\r\n    小跳可以躲掉傷害，但不適當的小跳會製造破綻反而吃傷\r\n\r\n    因此這邊整理了各種小跳的應用\r\n\r\n    不僅躲掉傷害，還製造進攻的機會\r\n\r\n見聞色霸氣+預出手\r\n見聞色霸氣+預出手+神小跳\r\n\r\n    \r\n2重反手，2階反手，多重反手\r\n2重誘擊 多重誘擊\r\n跳點\r\n\r\n第一常駐技能\r\n\r\n紅黃圈攻擊\r\n紅黃圈攻擊+反手(callback attack)\r\n    每次出招紅黃圈出招，都要預先設想會miss，並且對方也會出招\r\n    那就可以抓反手去打",word_token:["預","出手","即","預先","出手","力求","最快","時間點","命中","對方","詳見","此處","神小跳","跳","可以","躲","掉","傷害","但","適當","跳會","製","造","破","綻","反而","吃傷","因此","這邊","整理","各種","跳","應用","不僅","躲","掉","傷害","還","製","造","進","攻","機","會","見聞色","霸氣","預","出手","見聞色","霸氣","預","出手","神小跳","2","重","反手","2","階","反手","多重","反手","2","重","誘擊","多重","誘擊","跳點","第一","常駐","技能","紅黃圈","攻擊","紅黃圈","攻擊","反手","callback","attack","每次","出招","紅黃圈","出招","要","預先","設想會","miss","並且","對方","會","出招","可以","抓","反手","去","打"],key_words:[{word:"反手",weight:47.4091852209},{word:"紅黃圈",weight:35.21761292125063},{word:"出招",weight:32.045405481299994},{word:"出手",weight:28.95017982392},{word:"攻擊",weight:23.478408614167083},{word:"見聞色",weight:23.478408614167083},{word:"誘擊",weight:23.478408614167083},{word:"預先",weight:23.478408614167083},{word:"神小跳",weight:23.478408614167083},{word:"傷害",weight:23.478408614167083},{word:"霸氣",weight:23.478408614167083},{word:"對方",weight:23.478408614167083},{word:"多重",weight:16.2584730577},{word:"常駐",weight:11.739204307083542},{word:"應用",weight:11.739204307083542},{word:"這邊",weight:11.739204307083542},{word:"跳點",weight:11.739204307083542},{word:"不僅",weight:11.739204307083542},{word:"並且",weight:11.739204307083542},{word:"時間點",weight:11.739204307083542},{word:"適當",weight:11.739204307083542},{word:"吃傷",weight:11.739204307083542},{word:"callback",weight:11.739204307083542},{word:"此處",weight:11.739204307083542},{word:"miss",weight:11.739204307083542},{word:"各種",weight:11.739204307083542},{word:"跳會",weight:11.739204307083542},{word:"attack",weight:11.739204307083542},{word:"設想會",weight:11.739204307083542},{word:"詳見",weight:11.739204307083542}],excerpt:"預出手 即預先出手，力求在最快的時間點命中對方 詳見此處 神小跳 小跳可以躲掉傷害，但不適當的小跳會製造破綻反而吃傷 因此這邊整理了各種小跳的應用 不僅躲掉傷害，還製造進攻的機會 見聞色霸氣+預出手 見聞色霸氣+預出手+神小跳 2重反手，2階反手，多重反手 2重誘擊 多重誘擊 跳點 第一常駐技能 紅黃圈攻擊 紅黃圈攻擊+反手(callback attack) 每次出招紅黃圈出招，都要預先設想會miss，並且對方也會出招 那就可以抓反手去打"},{title:"My Demos",frontmatter:{title:"My Demos",datetime:"2020/3/21",tag:["demo"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"My Demos"},{property:"og:type",content:"website"},{property:"og:url",content:"/Demos/"},{name:"twitter:title",content:"My Demos"},{name:"twitter:url",content:"/Demos/"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"2015, end, 2017, python, slides, processing, 2019, programing, table, 2020, form, video, present, development, hello, crawler, lda, evolution, text, 2016, world, 報告, modern, 搜尋的, demo, 設計, 自動, 機制, nlp, 根據"},{property:"article:tag",content:"2015"},{property:"article:tag",content:"end"},{property:"article:tag",content:"2017"},{property:"article:tag",content:"python"},{property:"article:tag",content:"slides"},{property:"article:tag",content:"processing"},{property:"article:tag",content:"2019"},{property:"article:tag",content:"programing"},{property:"article:tag",content:"table"},{property:"article:tag",content:"2020"},{property:"article:tag",content:"form"},{property:"article:tag",content:"video"},{property:"article:tag",content:"present"},{property:"article:tag",content:"development"},{property:"article:tag",content:"hello"},{property:"article:tag",content:"crawler"},{property:"article:tag",content:"lda"},{property:"article:tag",content:"evolution"},{property:"article:tag",content:"text"},{property:"article:tag",content:"2016"},{property:"article:tag",content:"world"},{property:"article:tag",content:"報告"},{property:"article:tag",content:"modern"},{property:"article:tag",content:"搜尋的"},{property:"article:tag",content:"demo"},{property:"article:tag",content:"設計"},{property:"article:tag",content:"自動"},{property:"article:tag",content:"機制"},{property:"article:tag",content:"nlp"},{property:"article:tag",content:"根據"}]},regularPath:"/Demos/",relativePath:"Demos/README.md",key:"v-1486eb54",path:"/Demos/",git:{created:"12/4/2020, 7:44:40 AM",updated:"9/12/2020, 6:48:55 PM",author:"johnny1991524",commits:[{fullHash:"66a045338acf4da9463171eefb0217d57e4b98a6",authorTime:"1607039080",commitTime:"1607039080",authorName:"johnny1991524"},{fullHash:"09e78460681c4b0ff1405d2beaa5af22d4c0a896",authorTime:"1600258857",commitTime:"1600258857",authorName:"johnny1991524"},{fullHash:"9c43a3ed15604830701d0fd3603dabf85a80dc88",authorTime:"1599907735",commitTime:"1599907735",authorName:"johnny1991524"}],contributors:["johnny1991524"]},pure_content:"front-end\r\n\r\n[2019 | modern front-end evolution](\r\n\r\n[2017 | front-end development past & present](\r\n\r\n[2020 | table form]( [demo]( [video](\r\n\r\n python slides\r\n\r\n[2017 | python與作品報告](\r\n\r\n[2015 | python programing](\r\n\r\n[2015 | crawler](\r\n\r\n nlp slides\r\n\r\n[2017 | hello world of processing text!](\r\n\r\n[2015 | lda](\r\n\r\n 論文\r\n\r\n[2016 | 論文網站(根據食材搭配與替代關係設計食譜搜尋的自動完成機制)](",word_token:["front","-","end","2019","|","modern","front","-","end","evolution","2017","|","front","-","end","development","past","present","2020","|","table","form","demo","video","python","slides","2017","|","python","與","作品","報告","2015","|","python","programing","2015","|","crawler","nlp","slides","2017","|","hello","world","processing","text","2015","|","lda","論文","2016","|","論文網","站","根據","食材","搭配","與","替代","關","係","設計","食譜","搜尋的","自動","完成","機制"],key_words:[{word:"2015",weight:35.21761292125063},{word:"end",weight:35.21761292125063},{word:"2017",weight:35.21761292125063},{word:"python",weight:35.21761292125063},{word:"slides",weight:23.478408614167083},{word:"processing",weight:11.739204307083542},{word:"2019",weight:11.739204307083542},{word:"programing",weight:11.739204307083542},{word:"table",weight:11.739204307083542},{word:"2020",weight:11.739204307083542},{word:"form",weight:11.739204307083542},{word:"video",weight:11.739204307083542},{word:"present",weight:11.739204307083542},{word:"development",weight:11.739204307083542},{word:"hello",weight:11.739204307083542},{word:"crawler",weight:11.739204307083542},{word:"lda",weight:11.739204307083542},{word:"evolution",weight:11.739204307083542},{word:"text",weight:11.739204307083542},{word:"2016",weight:11.739204307083542},{word:"world",weight:11.739204307083542},{word:"報告",weight:11.739204307083542},{word:"modern",weight:11.739204307083542},{word:"搜尋的",weight:11.739204307083542},{word:"demo",weight:11.739204307083542},{word:"設計",weight:11.739204307083542},{word:"自動",weight:11.739204307083542},{word:"機制",weight:11.739204307083542},{word:"nlp",weight:11.739204307083542},{word:"根據",weight:11.739204307083542}],excerpt:"front-end [2019 | modern front-end evolution]( [2017 | front-end development past & present]( [2020 | table form]( [demo]( [video]( python slides [2017 | python與作品報告]( [2015 | python programing]( [2015 | crawler]( nlp slides [2017 | hello world of processing text!]( [2015 | lda]( 論文 [2016 | 論文網站(根據食材搭配與替代關係設計食譜搜尋的自動完成機制)]("},{title:"FEZ國戰步兵戰策略",frontmatter:{title:"FEZ國戰步兵戰策略",datetime:"2019/4/23",is_tmp:!0,meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"FEZ國戰步兵戰策略"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/2.%20%E5%9C%8B%E6%88%B0%E6%AD%A5%E5%85%B5%E6%88%B0%E7%AD%96%E7%95%A5/"},{name:"twitter:title",content:"FEZ國戰步兵戰策略"},{name:"twitter:url",content:"/Game/FEZ/2.%20%E5%9C%8B%E6%88%B0%E6%AD%A5%E5%85%B5%E6%88%B0%E7%AD%96%E7%95%A5/"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"開戰, 對方, 我方, 隱身, 心態, 小隊, 隊友, 部隊, 路線, 已經, 拆塔, 回包, 危險, 面對, 別人, 主戰線, 地方, 包抄, 幻想, 前方, 撤退, 博奕, 像是, 吸引, 棒喝, 以情, 回防, hold, 其實, 之後再"},{property:"article:tag",content:"開戰"},{property:"article:tag",content:"對方"},{property:"article:tag",content:"我方"},{property:"article:tag",content:"隱身"},{property:"article:tag",content:"心態"},{property:"article:tag",content:"小隊"},{property:"article:tag",content:"隊友"},{property:"article:tag",content:"部隊"},{property:"article:tag",content:"路線"},{property:"article:tag",content:"已經"},{property:"article:tag",content:"拆塔"},{property:"article:tag",content:"回包"},{property:"article:tag",content:"危險"},{property:"article:tag",content:"面對"},{property:"article:tag",content:"別人"},{property:"article:tag",content:"主戰線"},{property:"article:tag",content:"地方"},{property:"article:tag",content:"包抄"},{property:"article:tag",content:"幻想"},{property:"article:tag",content:"前方"},{property:"article:tag",content:"撤退"},{property:"article:tag",content:"博奕"},{property:"article:tag",content:"像是"},{property:"article:tag",content:"吸引"},{property:"article:tag",content:"棒喝"},{property:"article:tag",content:"以情"},{property:"article:tag",content:"回防"},{property:"article:tag",content:"hold"},{property:"article:tag",content:"其實"},{property:"article:tag",content:"之後再"}]},regularPath:"/Game/FEZ/2.%20%E5%9C%8B%E6%88%B0%E6%AD%A5%E5%85%B5%E6%88%B0%E7%AD%96%E7%95%A5/",relativePath:"Game/FEZ/2. 國戰步兵戰策略/README.md",key:"v-6dbff0ea",path:"/Game/FEZ/2.%20%E5%9C%8B%E6%88%B0%E6%AD%A5%E5%85%B5%E6%88%B0%E7%AD%96%E7%95%A5/",git:{created:"5/20/2020, 5:38:32 PM",updated:"5/3/2019, 11:06:15 AM",author:"PC\\JC",commits:[{fullHash:"d5145dd73a217bae1b306cecdbeca49be6711959",authorTime:"1589967512",commitTime:"1589967512",authorName:"PC\\JC"},{fullHash:"983d59215b8d023a6773501238d8dbfe85175a53",authorTime:"1580312855",commitTime:"1580312855",authorName:"PC\\JC"},{fullHash:"a5f6d6cf81cef459c3f21791438c73218a9a5c04",authorTime:"1573655717",commitTime:"1573655717",authorName:"PC\\JC"},{fullHash:"decae17f361a0bd378d543310c1b68632afd07b6",authorTime:"1572092663",commitTime:"1572092663",authorName:"PC\\JC"},{fullHash:"306eb6ac7c63fb33ed12c6a2d8cbd6c20726957d",authorTime:"1565198476",commitTime:"1565198476",authorName:"PC\\JC"},{fullHash:"b3e3c5fecc97859963b8b5ac4d146f5c699369b2",authorTime:"1556852775",commitTime:"1556852775",authorName:"JC"}],contributors:["PC\\JC","JC"]},pure_content:"沈沒成本\r\n撤退路線\r\n\r\n\r\n    \r\n    \r\n    \r\n\r\n心態要穩\r\n\t犯了錯\r\n\t\t最重要的昰心態要穩住\r\n\t\t可以道歉，不要急著解釋\r\n\t\t急迫性上來說，先把狀況hold住\r\n\t\t之後再來檢討，精進\r\n\t面對心態炸裂的隊友\r\n\t\t如果真的配得上是隊友\r\n\t\t\t就先安撫、順從\r\n\t\t\t動之以情，但不急著說之以理\r\n\t\t\t偶爾的當頭棒喝也很重要\r\n\t\t\t\r\n\r\n\r\n鉗形攻勢(包抄戰)\r\n反包抄\r\n    向前突破後回包\r\n    撐住前方，分兵回防/回包\r\n    \r\n面對人多時的打法\r\n    分而化之，合而擊之\r\n\r\n撤退路線\r\n    逆向逃跑 逆勢異走\r\n        有時最危險的地方，反而是最安全的\r\n        像是往聚點後方跑，對方追你，若打贏你了\r\n        他接下來會需要花很多時間走到主戰線\r\n        若前方已經有其他人在追了，則自己再追會容易僧多粥少\r\n        因此往看起來危險的地方跑，反而是最安全的\r\n        可以自然而然的擺脫掉人，形成能打的僻地戰\r\n對之以明，襲之以陰; 明修棧道，暗渡陳昌\r\n\t1. 盾法給予對方壓力，刀潛進去打\r\n\t2. 刀隱身拿弓，稱對方法師攻擊時射他珠絲\r\n\t\t明身拿弓射對方會退，反而不好射\r\n\t3. 裝笨打ob，讓己方刀好搞人\r\n虛實相生、陰陽合離、主次更異\r\n    像是打僻地假裝拆塔，刀去搞\r\n    或是開戰打的差不多了，刀隱身先去打過來的人\r\n    刀隱身，盾假裝要開吸引注意力\r\n    不願意開戰的人，突然願意開戰=>有炸\r\n        一定要想到對方可能有刀\r\n            看到盾\r\n            看到別人突然跑來打僵持戰\r\n破釜沉舟，背水一戰\r\n\t讓對方明確了解到我方已經退無可退\r\n\t但我方其實可以運用小跳技巧躲傷，或其實有別動對存在時\r\n\t讓對方開戰，開壞\r\n\t或等我方別動隊開戰\r\n\t來達到我方優勢\r\n不對稱作戰\r\n幻想的羊群效應\r\n    跟著盾戰走\r\n        希望別人跟著自己走，拿盾\r\n        不希望的話，拿大劍\r\n        主戰線拉出僻地\r\n            拉到小隊或部隊的一人，則整個小隊或部隊都會被吸引\r\n    跟小隊主導的人走\r\n    跟著人多的地方走\r\n    往肉多的地方走\r\n        落單的敵人\r\n            追的人數，視下一個打點，有可能會變少\r\n    拆塔\r\n    守塔\r\n\r\n    總結來說\r\n        吃力不討好的地方沒人去\r\n\r\n幻想的博奕論",word_token:["沈沒","成本","撤退","路線","心態","要","穩","犯","錯","最","重要","昰","心態","要","穩住","可以","道歉","不要","急著","解釋","急迫","性上","來","說","先","狀況","hold","住","之後再","來","檢討","精進","面對","心態","炸裂","隊友","如果","真的","配得","上","隊友","先安撫","順","從","動","以情","但","急","著","說","以理","偶爾","當頭","棒喝","重要","鉗形","攻勢","包抄","戰","反","包抄","向前","突破","後","回包","撐","住","前方","分兵","回防","回包","面對","人多時","打法","分而化","合而擊","撤退","路線","逆向","逃跑","逆勢","異","走","有時","最","危險","地方","反而","最","安全","像是","往聚","點後方","跑","對方","追","若","打贏","接下","來會","需要","花","很多","時間","走","主戰線","若","前方","已經","其他人","追","則","自己","再","追會","容易","僧多粥少","因此","往","起來","危險","地方","跑","反而","最","安全","可以","自然而然","擺脫","掉","人","形成","能","打","僻","地戰","對","以明","襲之以","陰","明修棧","道","暗渡陳昌","1","盾法","給予","對方","壓力","刀","潛進","去","打","2","刀","隱身","拿","弓","稱","對","方法","師攻擊","時射","珠絲","明身","拿","弓射","對","方會","退","反而","不好","射","3","裝笨","打","ob","讓","己方","刀","好","搞","人","虛實","相生","、","陰","陽","合","離","、","主次","更異","像是","打僻","假裝","拆塔","刀","去","搞","或是","開戰","打","差不多","刀","隱身","先去","打過","來","人","刀","隱身","盾","假裝要","開","吸引","注意力","不願意","開戰","人","突然","願意","開戰","=","有炸","一定","要","想到","對方","可能","有刀","看到","盾","看到","別人","突然","跑","來","打","僵持","戰","破釜沉舟","背水","一戰","讓","對","方明","確","了解","我方","已經","退","無","可退","但","我方","其實","可以","運用","跳","技巧","躲傷","其","實有","別動","對","存在","時","讓","對方","開戰","開壞","我方","別動隊","開戰","來","達","我方","優勢","對","稱","作戰","幻想","羊群","效應","著盾","戰走","希望","別人","著","自己","走","拿盾","希望","話","拿大劍","主戰線","拉","出僻","拉到","小隊","部隊","一人","則整","個","小隊","部隊","會","被","吸引","小隊","主導","人","走","著","人","地方","走","往肉","地方","走","落單","敵人","追","人數","視下","一個","打點","可能","會","變少","拆塔","守塔","總結來","說","吃力","不討","好","地方","沒人","去","幻想","博奕","論"],key_words:[{word:"開戰",weight:58.69602153541771},{word:"對方",weight:46.95681722833417},{word:"我方",weight:36.41954842552},{word:"隱身",weight:35.21761292125063},{word:"心態",weight:35.21761292125063},{word:"小隊",weight:35.21761292125063},{word:"隊友",weight:23.478408614167083},{word:"部隊",weight:23.478408614167083},{word:"路線",weight:23.478408614167083},{word:"已經",weight:23.478408614167083},{word:"拆塔",weight:23.478408614167083},{word:"回包",weight:23.478408614167083},{word:"危險",weight:23.478408614167083},{word:"面對",weight:23.478408614167083},{word:"別人",weight:23.478408614167083},{word:"主戰線",weight:23.478408614167083},{word:"地方",weight:22.07946217165},{word:"包抄",weight:19.4220458199},{word:"幻想",weight:15.26316273654},{word:"前方",weight:14.99089838788},{word:"撤退",weight:14.92905456722},{word:"博奕",weight:13.2075304714},{word:"像是",weight:12.75331247354},{word:"吸引",weight:12.45583951066},{word:"棒喝",weight:11.9547675029},{word:"以情",weight:11.9547675029},{word:"回防",weight:11.9547675029},{word:"hold",weight:11.739204307083542},{word:"其實",weight:11.739204307083542},{word:"之後再",weight:11.739204307083542}],excerpt:"沈沒成本 撤退路線 心態要穩 犯了錯 最重要的昰心態要穩住 可以道歉，不要急著解釋 急迫性上來說，先把狀況hold住 之後再來檢討，精進 面對心態炸裂的隊友 如果真的配得上是隊友 就先安撫、順從 動之以情，但不急著說之以理 偶爾的當頭棒喝也很重要 鉗形攻勢(包抄戰) 反包抄 向前突破後回包 撐住前方，分兵回防/回包 面對人多時的打法 分而化之，合而擊之 撤退路線 逆向逃跑 逆勢異走 有時最危險的地方，反而是最安全的 像是往聚點後方跑，對方追你，若打贏你了 他接下來會需要花很多時間走到主戰線 若前方已經有其他人在追了，則自己再追會容易僧多粥少 因此往看起來危險的地方跑，反而是最安全的 可以自然而然的擺脫掉人，形成能打的僻地戰 對之以明，襲之以陰; 明修棧道，暗渡陳昌 1. 盾法給予對方壓力，刀潛進去打 2. 刀隱身拿弓，稱對方法師攻擊時射他珠絲 明身拿弓射對方會退，反而不好射 3. 裝笨打o..."},{title:"FEZ的單兵思路",frontmatter:{title:"FEZ的單兵思路",datetime:"2020/4/1",is_tmp:!0,meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"FEZ的單兵思路"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/"},{name:"twitter:title",content:"FEZ的單兵思路"},{name:"twitter:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"現象, 單兵, 作戰, 身體, 怎麼, 技巧, 有效率, 遊戲, 人要, 一邊, 變化, 繼續, 總要, 決斷, 數字鍵, 處理, 戰略, 無法, 實踐, 人群, 心理, 一刻, 滑鼠, 事倍功半, 努力, 相成, 之標, 估計, 作戰想, 側鍵"},{property:"article:tag",content:"現象"},{property:"article:tag",content:"單兵"},{property:"article:tag",content:"作戰"},{property:"article:tag",content:"身體"},{property:"article:tag",content:"怎麼"},{property:"article:tag",content:"技巧"},{property:"article:tag",content:"有效率"},{property:"article:tag",content:"遊戲"},{property:"article:tag",content:"人要"},{property:"article:tag",content:"一邊"},{property:"article:tag",content:"變化"},{property:"article:tag",content:"繼續"},{property:"article:tag",content:"總要"},{property:"article:tag",content:"決斷"},{property:"article:tag",content:"數字鍵"},{property:"article:tag",content:"處理"},{property:"article:tag",content:"戰略"},{property:"article:tag",content:"無法"},{property:"article:tag",content:"實踐"},{property:"article:tag",content:"人群"},{property:"article:tag",content:"心理"},{property:"article:tag",content:"一刻"},{property:"article:tag",content:"滑鼠"},{property:"article:tag",content:"事倍功半"},{property:"article:tag",content:"努力"},{property:"article:tag",content:"相成"},{property:"article:tag",content:"之標"},{property:"article:tag",content:"估計"},{property:"article:tag",content:"作戰想"},{property:"article:tag",content:"側鍵"}]},regularPath:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/",relativePath:"Game/FEZ/1. 遊戲思路/README.md",key:"v-9ec1a766",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/",git:{created:"5/20/2020, 5:38:32 PM",updated:"5/3/2019, 11:06:15 AM",author:"PC\\JC",commits:[{fullHash:"d5145dd73a217bae1b306cecdbeca49be6711959",authorTime:"1589967512",commitTime:"1589967512",authorName:"PC\\JC"},{fullHash:"a5f6d6cf81cef459c3f21791438c73218a9a5c04",authorTime:"1573655717",commitTime:"1573655717",authorName:"PC\\JC"},{fullHash:"cecbb4e2269239fef6c5bbcc5b7ce23bcaac1d6d",authorTime:"1568319287",commitTime:"1568319287",authorName:"PC\\JC"},{fullHash:"8b4c64690e293fdd38573e39d6268654645b267a",authorTime:"1567855113",commitTime:"1567855113",authorName:"PC\\JC"},{fullHash:"306eb6ac7c63fb33ed12c6a2d8cbd6c20726957d",authorTime:"1565198476",commitTime:"1565198476",authorName:"PC\\JC"},{fullHash:"735e644b3332091c7aa9752aee99434cc0b563e8",authorTime:"1560475612",commitTime:"1560475612",authorName:"JC"},{fullHash:"5fa939e507076b357eeebe282f7d04096dffe64b",authorTime:"1560214062",commitTime:"1560214062",authorName:"JC"},{fullHash:"b3e3c5fecc97859963b8b5ac4d146f5c699369b2",authorTime:"1556852775",commitTime:"1556852775",authorName:"JC"}],contributors:["PC\\JC","JC"]},pure_content:'fez是個國戰遊戲，這遊戲在遊玩上是相當自由的\r\n\r\n其中一種大宗的遊戲方式為單兵作戰\r\n\r\n你可以選擇單人主線、也可以單人僻地、組隊僻地、組隊主線\r\n\r\n甚至輔以召喚獸，或者打競技場...等等等\r\n\r\n而單兵作戰想打得好是需要許多因素相輔相成的\r\n\r\n本系列的文章，將主要著墨在單兵作戰，其他的因素基本將不會提及\r\n\r\n而單兵作戰，可以拆分成幾個面向來進行介紹\r\n\r\n  心\r\n\r\n    人要前進總要有個目標，人要努力總要有個夢想\r\n    心之所想，辛之所向\r\n    有了想法，才會知道要怎麼努力，辛勞也才有了意義\r\n    否則就會容易事倍功半，\r\n    "心"想探討的是心態、心理素質、心理戰，心理層面的議題\r\n\r\n  技\r\n  技巧，處理事情的手段\r\n\r\n  體\r\n\r\n  空有技巧，是不能處理問題的，還必須要能夠身體力行\r\n  有辦法將技巧實踐\r\n\r\n  身體的運用\r\n  滑鼠側鍵\r\n  改鍵\r\n  順發\r\n  數字鍵\r\n  數字鍵+滾輪\r\n  眼睛的使用\r\n    模糊辨識\r\n  手指\r\n\r\n  群\r\n\r\n  在掌握了自身的能耐候，理解人群現象就很重要了\r\n\r\n  人群現象\r\n    羊群現象\r\n  陣型\r\n    鉗形攻勢  \r\n  連攜\r\n\r\n  略\r\n\r\n  有了技巧的觀念，身體的操作，群重理論的支持後\r\n  盲目的達成心之標的，是沒有效率的\r\n  想要有效率的實踐，就需要靠策略，戰略\r\n\r\n\r\n  戰略\r\n    控制，或利用人群現象的變化\r\n\r\n  決\r\n\r\n  未來是無法估計測量的，上一刻的計畫，很可能很快就無法應對下一刻的變化了\r\n  天有不測風雲，人生無常，唯有當下即刻的決斷，才能繼續令人朝著心之所想，繼續的走下去\r\n  \r\n\r\n\r\n  決斷\r\n\r\n  瞬時判斷\r\n    該怎麼出手\r\n    現在是優勢劣勢\r\n    要逃跑的話怎麼逃比較好\r\n      甚至逃的時候，有策略地逃\r\n      一邊逃一邊製造下一波開戰的機會\r\n  \r\n  增加決斷力的有效率方法\r\n    打on',word_token:["fez","個","國戰","遊戲","這遊戲","遊玩上","相當","自由","其中","一種","大宗","遊戲","方式","為","單兵","作戰","可以","選擇","單人主線","可以","單人","僻地","、","組","隊","僻","、","組","隊","主","線","甚至","輔以","召喚","獸","或者","打","競技場","等等","而","單兵","作戰想","打得","好","需要","許多","因素","相輔","相成","本","系列","文章","將","主要","著墨","單兵","作戰","其他","因素","基本","將不會","提及","而","單兵","作戰","可以","拆","分成","幾個","面向","來","進行","介紹","心","人要","前進","總要","有個","目標","人要","努力","總要","個","夢","想","心之所想","辛之所","想法","才","會","知道","要","怎麼","努力","辛勞","才","意義","否則","會","容易","事倍功半","心","想","探討","心態","、","心理","素質","、","心理","戰","心理","層面","議題","技","技巧","處理","事情","手段","體","空有","技巧","不能","處理","問題","還必須","要","能夠","身體","力行","辦法將","技巧","實踐","身體","運用","滑鼠","側鍵","改鍵","順發","數字鍵","數字鍵","滾輪","眼睛","使用","模糊","辨識","手指","群","掌握","自身","能耐","候","理解","人群","現象","重要","人群","現象","羊群","現象","陣型","鉗形","攻勢","連攜","略","技巧","觀念","身體","操作","群重","理論","支持","後","盲目","達","成心","之標","沒","有效率","想要","有效率","實踐","需要","靠","策略","戰略","戰略","控制","利用","人群","現象","變化","決","未來","無法","估計","測量","上","一刻","計畫","可能","很快","無法","應","對","下","一刻","變化","天有","測風","雲","人生","無常","唯有","當下","即刻","決斷","才能","繼續","令人","朝著心","所","想","繼續","走","下去","決斷","瞬時","判斷","該","怎麼","出手","現在","優勢","劣勢","要","逃跑","話","怎麼","逃","比","較","好","甚至","逃","時候","策略","逃","一邊","逃","一邊","製","造","下","波","開","戰","機","會","增加","決斷力","有效率","方法","打"],key_words:[{word:"現象",weight:46.95681722833417},{word:"單兵",weight:46.95681722833417},{word:"作戰",weight:35.21761292125063},{word:"身體",weight:35.21761292125063},{word:"怎麼",weight:35.21761292125063},{word:"技巧",weight:29.53202551624},{word:"有效率",weight:29.13306872985},{word:"遊戲",weight:23.478408614167083},{word:"人要",weight:23.478408614167083},{word:"一邊",weight:23.478408614167083},{word:"變化",weight:23.478408614167083},{word:"繼續",weight:23.478408614167083},{word:"總要",weight:23.478408614167083},{word:"決斷",weight:23.478408614167083},{word:"數字鍵",weight:23.478408614167083},{word:"處理",weight:23.478408614167083},{word:"戰略",weight:23.478408614167083},{word:"無法",weight:23.478408614167083},{word:"實踐",weight:23.478408614167083},{word:"人群",weight:19.608391913160002},{word:"心理",weight:18.82086070488},{word:"一刻",weight:15.7496233563},{word:"滑鼠",weight:13.900677652},{word:"事倍功半",weight:12.5143832909},{word:"努力",weight:12.0458026374},{word:"相成",weight:11.8212361103},{word:"之標",weight:11.739204307083542},{word:"估計",weight:11.739204307083542},{word:"作戰想",weight:11.739204307083542},{word:"側鍵",weight:11.739204307083542}],excerpt:'fez是個國戰遊戲，這遊戲在遊玩上是相當自由的 其中一種大宗的遊戲方式為單兵作戰 你可以選擇單人主線、也可以單人僻地、組隊僻地、組隊主線 甚至輔以召喚獸，或者打競技場...等等等 而單兵作戰想打得好是需要許多因素相輔相成的 本系列的文章，將主要著墨在單兵作戰，其他的因素基本將不會提及 而單兵作戰，可以拆分成幾個面向來進行介紹 心 人要前進總要有個目標，人要努力總要有個夢想 心之所想，辛之所向 有了想法，才會知道要怎麼努力，辛勞也才有了意義 否則就會容易事倍功半， "心"想探討的是心態、心理素質、心理戰，心理層面的議題 技 技巧，處理事情的手段 體 空有技巧，是不能處理問題的，還必須要能夠身體力行 有辦法將技巧實踐 身體的運用 滑鼠側鍵 改鍵 順發 數字鍵 數字鍵+滾輪 眼睛的使用 模糊辨識 手指 群 在掌握了自身的能耐候，理解人群現象就很重要了 人群現象 羊群現象 陣型 鉗形攻勢 連攜 略...'},{title:"僻地戰策略",frontmatter:{title:"僻地戰策略",datetime:"2019/12/4",is_tmp:!0,meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"僻地戰策略"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/2.%20%E5%9C%8B%E6%88%B0%E6%AD%A5%E5%85%B5%E6%88%B0%E7%AD%96%E7%95%A5/%E5%83%BB%E5%9C%B0%E6%88%B0.html"},{name:"twitter:title",content:"僻地戰策略"},{name:"twitter:url",content:"/Game/FEZ/2.%20%E5%9C%8B%E6%88%B0%E6%AD%A5%E5%85%B5%E6%88%B0%E7%AD%96%E7%95%A5/%E5%83%BB%E5%9C%B0%E6%88%B0.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"對方, 現象, 一個, 反順手, 隊友, 路線, 僻地, 策略, 出手, 逆勢, 1., 10, 狀況, 主戰線, 截擊, 會戰, 市場, 2., 交戰點, v2, 撤退, 僧多粥少, 看起, 我方, 增援, 注意, 一次, 卡位, 11, 4."},{property:"article:tag",content:"對方"},{property:"article:tag",content:"現象"},{property:"article:tag",content:"一個"},{property:"article:tag",content:"反順手"},{property:"article:tag",content:"隊友"},{property:"article:tag",content:"路線"},{property:"article:tag",content:"僻地"},{property:"article:tag",content:"策略"},{property:"article:tag",content:"出手"},{property:"article:tag",content:"逆勢"},{property:"article:tag",content:"1."},{property:"article:tag",content:"10"},{property:"article:tag",content:"狀況"},{property:"article:tag",content:"主戰線"},{property:"article:tag",content:"截擊"},{property:"article:tag",content:"會戰"},{property:"article:tag",content:"市場"},{property:"article:tag",content:"2."},{property:"article:tag",content:"交戰點"},{property:"article:tag",content:"v2"},{property:"article:tag",content:"撤退"},{property:"article:tag",content:"僧多粥少"},{property:"article:tag",content:"看起"},{property:"article:tag",content:"我方"},{property:"article:tag",content:"增援"},{property:"article:tag",content:"注意"},{property:"article:tag",content:"一次"},{property:"article:tag",content:"卡位"},{property:"article:tag",content:"11"},{property:"article:tag",content:"4."}]},regularPath:"/Game/FEZ/2.%20%E5%9C%8B%E6%88%B0%E6%AD%A5%E5%85%B5%E6%88%B0%E7%AD%96%E7%95%A5/%E5%83%BB%E5%9C%B0%E6%88%B0.html",relativePath:"Game/FEZ/2. 國戰步兵戰策略/僻地戰.md",key:"v-36d5d2b3",path:"/Game/FEZ/2.%20%E5%9C%8B%E6%88%B0%E6%AD%A5%E5%85%B5%E6%88%B0%E7%AD%96%E7%95%A5/%E5%83%BB%E5%9C%B0%E6%88%B0.html",git:{created:"6/3/2020, 4:12:30 PM",updated:"1/29/2020, 11:47:35 PM",author:"PC\\JC",commits:[{fullHash:"7d442f68bc55438e309e92dc68c76e723dee3a02",authorTime:"1591171950",commitTime:"1591171950",authorName:"PC\\JC"},{fullHash:"d5145dd73a217bae1b306cecdbeca49be6711959",authorTime:"1589967512",commitTime:"1589967512",authorName:"PC\\JC"},{fullHash:"983d59215b8d023a6773501238d8dbfe85175a53",authorTime:"1580312855",commitTime:"1580312855",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:'人群現象\r\n\t羊群現象\r\n\t順手牽羊現象\r\n        如果我方10人，敵方2人\r\n        且"看起來"很容易可以殺掉此兩人\r\n        且下一個交戰點很近，那這10人必打此2人\r\n\t反順手策略\r\n        不戰而驅人之兵\r\n        1. 讓我方看起來很不好殺\r\n        2. 讓對方的下一個交戰點很遠\r\n\t市場飽和現象\r\n        在反順手策略下，因為僧多粥少\r\n        少數方可吸引到的人的級距大致如下\r\n        少數方 1 2 3 4  5\r\n        多數方 2 5 8 11 14\r\n    市場分化策略\r\n        可以看到2個人會吸到5個人\r\n        因此若可以把戰線拉散，就會變成 1v2 + 1v2，敵人就會變少了\r\n        若再適當的使用"反順手策略"，可以更加強化分散的力道\r\n\r\n開拓僻地\r\n\t主戰線側擊\r\n\t\t從主戰線邊緣拉人\r\n\t\t維持在一個雷c的距離在稍微遠一點\r\n\t\t慢慢把人拉出來\r\n\t\t\t若對方沒注意到小地圖，就會被拉出來\r\n\t\t\t若有注意到，則可能因沉默成本而選擇繼續追\r\n\t後花園遊擊\t\t\t\t\r\n\t補給線截擊(半渡截擊)\r\n\t礦點拉敵\r\n\t拆塔/守塔\r\n延續會戰\r\n\t獵人策略\r\n撤退戰\r\n\t逆勢異走\r\n\t\t利用僧多粥少，把人拉散\r\n\t逆勢齊走\r\n追逐戰\r\n\t閃擊戰策略\r\n\t\t會戰打的差不多後，就換包下一個戰區\r\n\t\t用奇襲代替對線\r\n小細節\r\n\t隊友被黑，第一時間亮位置\r\n\t開戰前先想好退路\r\n\r\n僻地教條\r\n\t1. 生命誠可貴\r\n\t2. 呈上，每一個僻地都很珍貴，死了就浪費掉了\r\n\t3. 每一次出手都是成王敗寇\r\n\t4. 對方看起來像落單/命危，要小心他旁邊可能會有隊友\r\n\t5. 僻地可以從主線的邊線衍伸而來\r\n\t6. 僻地也可以從對方增援主戰線的路線而來(但是短期內對方無人死亡的話這招就會失效)\r\n\t7. 擊殺不夠快，那對方人數會很容易瞬間暴增\r\n\t8. 呈上，那就要趕快往可以大量消小跳的地方撤退\r\n\t9. 開戰前務必把握好狀況(敵軍增援可能路線、撤退路線)\r\n\t10. 隨時注意周遭狀況(每一次出手、出手前、每走兩步就觀察一次)\r\n\r\n小隊常見問題\r\n\t太想著要出手快\r\n\t不會幫隊友\r\n\t\t吃傷\r\n\t\t卡位\r\n\t\t製造攻擊機會\r\n\t隊友做球都接不到球\r\n\t走位沒有陣型\r\n\t\t導致開戰時無法讓全體人員都好上招',word_token:["人群","現象","羊群","現象","順手","牽羊","現象","如果","我方","10","人","敵方","2","人","且","看起","來","容易","可以","殺","掉","兩人","且","下","一個","交戰點","近","這","10","人必","打此","2","人","反順手","策略","不戰","而","驅人","之兵","1","讓","我方","看起","來","不好","殺","2","讓","對方","下","一個","交戰點","遠","市場","飽","現象","反順手","策略","下","因為","僧多粥少","少數","方可","吸引","人","級","距","大致","如下","少數方","1","2","3","4","5","多數方","2","5","8","11","14","市場","分化","策略","可以","看到","2","個","人會","吸到","5","個","人","因此","若","可以","戰線拉散","就會","變成","1","v2","1","v2","敵人","會","變少","若","再","適當","使用","反順手","策略","可以","更加","強化","分散","力道","開拓僻","主戰線","側擊","從主戰線","邊緣拉人","維持","一個","雷","c","距離","稍微","遠一點","慢慢","人拉出","來","若","對方","沒","注意","地圖","會","被","拉","出來","若有","注意","則","可能","因","沉默","成本","而","選擇","繼續","追","後","花園","遊擊","補給線","截擊","半渡","截擊","礦點拉敵","拆塔","守塔","延續","會戰","獵人","策略","撤退","戰","逆勢","異","走","利用","僧多粥少","人拉散","逆勢","齊","走","追逐","戰","閃擊戰","策略","會戰","打","差不多","後","就換","包下","一個","戰區","用奇襲","代替","對線","小細節","隊友","被","黑","第一","時間","亮","位置","開戰前","先想","好","退路","僻地","教條","1","生命","誠可貴","2","呈","上","每一個","僻","珍貴","死","浪費","掉","3","一次","出手","成","王敗寇","4","對方","起來","像","落單","命危","要","小心","旁邊","可能","會有","隊友","5","僻地","可以","從主線","邊線","衍伸","而","來","6","僻地","可以","從","對方","增援","主戰線","路線","而","來","但是","短期","內","對","方無人","死亡","話","這招","會","失效","7","擊殺","不夠","快","對","方人","數會","容易","瞬間","暴增","8","呈","上","就要","趕快","往","可以","大量","消小跳","地方","撤退","9","開戰","前務必","把握","好","狀況","敵","軍","增援","可能","路線","撤退","路線","10","隨時","注意","周遭","狀況","一次","出手","、","出手","前","、","走","兩","步","觀","察","一次","小隊","常見","問題","太想","著要","出手","快","不會","幫隊友","吃傷","卡位","製","造","攻","擊","機","會","隊友","做球","接","不到","球","走位","沒有","陣型","導致","開戰時","無法","讓","全體","人員","好","上","招"],key_words:[{word:"對方",weight:46.95681722833417},{word:"現象",weight:46.95681722833417},{word:"一個",weight:46.95681722833417},{word:"反順手",weight:35.21761292125063},{word:"隊友",weight:35.21761292125063},{word:"路線",weight:35.21761292125063},{word:"僻地",weight:35.21761292125063},{word:"策略",weight:34.8506294715},{word:"出手",weight:28.95017982392},{word:"逆勢",weight:23.478408614167083},{word:"1.",weight:23.478408614167083},{word:"10",weight:23.478408614167083},{word:"狀況",weight:23.478408614167083},{word:"主戰線",weight:23.478408614167083},{word:"截擊",weight:23.478408614167083},{word:"會戰",weight:23.478408614167083},{word:"市場",weight:23.478408614167083},{word:"2.",weight:23.478408614167083},{word:"交戰點",weight:23.478408614167083},{word:"v2",weight:23.478408614167083},{word:"撤退",weight:22.39358185083},{word:"僧多粥少",weight:21.6192703972},{word:"看起",weight:20.634317427},{word:"我方",weight:18.20977421276},{word:"增援",weight:17.0881827546},{word:"注意",weight:16.005797664870002},{word:"一次",weight:13.99400859975},{word:"卡位",weight:12.8020653633},{word:"11",weight:11.739204307083542},{word:"4.",weight:11.739204307083542}],excerpt:'人群現象 羊群現象 順手牽羊現象 如果我方10人，敵方2人 且"看起來"很容易可以殺掉此兩人 且下一個交戰點很近，那這10人必打此2人 反順手策略 不戰而驅人之兵 1. 讓我方看起來很不好殺 2. 讓對方的下一個交戰點很遠 市場飽和現象 在反順手策略下，因為僧多粥少 少數方可吸引到的人的級距大致如下 少數方 1 2 3 4 5 多數方 2 5 8 11 14 市場分化策略 可以看到2個人會吸到5個人 因此若可以把戰線拉散，就會變成 1v2 + 1v2，敵人就會變少了 若再適當的使用"反順手策略"，可以更加強化分散的力道 開拓僻地 主戰線側擊 從主戰線邊緣拉人 維持在一個雷c的距離在稍微遠一點 慢慢把人拉出來 若對方沒注意到小地圖，就會被拉出來 若有注意到，則可能因沉默成本而選擇繼續追 後花園遊擊 補給線截擊(半渡截擊) 礦點拉敵 拆塔/守塔 延續會戰 獵人策略 撤退戰 逆勢異走 利用僧多粥...'},{title:"局勢",frontmatter:{title:"局勢",datetime:"2019/4/23",is_tmp:!0,meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"局勢"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/5.%20%E7%95%A5/%E5%B1%80%E5%8B%A2.html"},{name:"twitter:title",content:"局勢"},{name:"twitter:url",content:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/5.%20%E7%95%A5/%E5%B1%80%E5%8B%A2.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"開戰, operation, status4, status3, right, 會戰, 卡位, 1., 走位, 2., 潛入, 僵持, 前排, status1, 追擊戰, status2, end, status31, status32, 贏對方, status33, 斷後戰, 控場, st, 出招, 撤退, 有利, 局面, parallel, path1"},{property:"article:tag",content:"開戰"},{property:"article:tag",content:"operation"},{property:"article:tag",content:"status4"},{property:"article:tag",content:"status3"},{property:"article:tag",content:"right"},{property:"article:tag",content:"會戰"},{property:"article:tag",content:"卡位"},{property:"article:tag",content:"1."},{property:"article:tag",content:"走位"},{property:"article:tag",content:"2."},{property:"article:tag",content:"潛入"},{property:"article:tag",content:"僵持"},{property:"article:tag",content:"前排"},{property:"article:tag",content:"status1"},{property:"article:tag",content:"追擊戰"},{property:"article:tag",content:"status2"},{property:"article:tag",content:"end"},{property:"article:tag",content:"status31"},{property:"article:tag",content:"status32"},{property:"article:tag",content:"贏對方"},{property:"article:tag",content:"status33"},{property:"article:tag",content:"斷後戰"},{property:"article:tag",content:"控場"},{property:"article:tag",content:"st"},{property:"article:tag",content:"出招"},{property:"article:tag",content:"撤退"},{property:"article:tag",content:"有利"},{property:"article:tag",content:"局面"},{property:"article:tag",content:"parallel"},{property:"article:tag",content:"path1"}]},regularPath:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/5.%20%E7%95%A5/%E5%B1%80%E5%8B%A2.html",relativePath:"Game/FEZ/1. 遊戲思路/5. 略/局勢.md",key:"v-55a376be",path:"/Game/FEZ/1.%20%E9%81%8A%E6%88%B2%E6%80%9D%E8%B7%AF/5.%20%E7%95%A5/%E5%B1%80%E5%8B%A2.html",git:{created:"5/20/2020, 5:38:32 PM",updated:"6/11/2019, 2:13:34 PM",author:"PC\\JC",commits:[{fullHash:"d5145dd73a217bae1b306cecdbeca49be6711959",authorTime:"1589967512",commitTime:"1589967512",authorName:"PC\\JC"},{fullHash:"92c0a8582a5e70a08214932db9e68ec08fedf3aa",authorTime:"1569979585",commitTime:"1569979585",authorName:"JC"},{fullHash:"306eb6ac7c63fb33ed12c6a2d8cbd6c20726957d",authorTime:"1565198476",commitTime:"1565198476",authorName:"PC\\JC"},{fullHash:"9a1af117cd1df3620da7b2774739e0fc6d278e84",authorTime:"1560476584",commitTime:"1560476584",authorName:"JC"},{fullHash:"c6aedaaa12331d0d2ac48593f5ec92889731b417",authorTime:"1560233614",commitTime:"1560233614",authorName:"JC"}],contributors:["PC\\JC","JC"]},pure_content:"識時務者為俊傑，對現狀的把握越強大\r\n\r\n就越不會被大環境所吞噬\r\n\r\n看得穿大局，才想得出對策\r\n\r\n局勢的類型\r\n    僵持戰 開戰 會戰\r\n    會戰\r\n        追擊戰\r\n        撤退戰\r\n        斷後戰\r\n\r\n@flowstart\r\nst=>start: 開局\r\ne=>end: 結束一次會戰\r\nstatus1=>operation: 僵持戰\r\nstatus2=>operation: 開戰\r\nstatus3=>parallel: 會戰\r\nstatus31=>operation: 追擊戰\r\nstatus32=>operation: 撤退戰\r\nstatus33=>operation: 斷後戰\r\nstatus4=>operation: end\r\n\r\nst(right)->status1(right)->status2(right)->status3\r\nstatus3(path1,top)->status31(right)->status4\r\nstatus3(path2,right)->status32(bottom)->status4\r\nstatus3(path3,bottom)->status33->status4\r\nstatus4->e\r\n@flowend\r\n\r\n各局勢應對思路\r\n    僵持戰\r\n        走位主動，出招被動\r\n        \r\n        卡位\r\n        消血\r\n        上狀態\r\n            緩\r\n            毒\r\n\r\n    開戰\r\n        自然開戰(一般開戰)\r\n        強制開戰\r\n            出其不意\r\n            被迫開戰\r\n                冰暈緩\r\n\r\n        開戰贏的條件\r\n        1. 血量贏對方很多 => 硬開也會贏\r\n        2. 先手制敵成功 => 像是刀潛入搞到, 冰到定住人, 單暈\r\n        3. 卡位贏對方\r\n\r\n        製造開戰有利局面\r\n        1. 前排製造壓力, 讓刀好潛入, 或冰好干擾敵人\r\n        2. 前排維持住, 其餘人盡力去pork削血\r\n\r\n        為了製造有利局面的策略\r\n        1. 假裝要強開, 去製造前排壓力, 讓刀好潛入\r\n        2. 換暈騙抗性製造強開可能性\r\n\r\n    開戰後\r\n        每個人都要優先控場\r\n        先控場再考慮其它的\r\n        殺人可以控場就殺\r\n        輸出\r\n        卡位\r\n        製造附加效果\r\n            暈冰殘...\r\n    \r\n\r\n位置 出招timing 選招 走位\r\n\r\n\r\n走位沒有陣型\r\n    導致開戰時無法讓全體人員都好上招",word_token:["識","時務者","為俊傑","對","現狀","把握","越強","大","越","不會","被","大","環境","所","吞噬","看得","穿","大局","才","想","得出","對策","局勢","類型","僵持","戰","開戰","會戰","會戰","追擊戰","撤退","戰","斷後戰","@","flowstart","st","=","start","開局","e","=","end","結束","一次","會戰","status1","=","operation","僵持","戰","status2","=","operation","開戰","status3","=","parallel","會戰","status31","=","operation","追擊戰","status32","=","operation","撤退","戰","status33","=","operation","斷後戰","status4","=","operation","end","st","right","-","status1","right","-","status2","right","-","status3","status3","path1","top","-","status31","right","-","status4","status3","path2","right","-","status32","bottom","-","status4","status3","path3","bottom","-","status33","-","status4","status4","-","e","@","flowend","各局","勢應","對","思路","僵持","戰","走位","主動","出招","被動","卡位","消血","上","狀態","緩","毒","開戰","自然","開戰","一般","開戰","強制","開戰","出其不意","被迫","開戰","冰暈緩","開戰贏","條件","1","血量","贏對方","很多","=","硬開","會贏","2","先手","制敵","成功","=","像是","刀","潛入","搞","冰到","定住","人","單暈","3","卡位","贏對方","製","造","開","戰","有利","局面","1","前排","製","造","壓","力","讓","刀","好","潛入","冰好","干擾","敵人","2","前排","維持","住","其餘人","盡力","去","pork","削血","為了","製","造","有利","局面","策略","1","假裝要","強開","去","製","造","前排","壓力","讓","刀","好","潛入","2","換暈","騙","抗性","製","造","強","開","可能性","開戰","後","每個","人","要","優先","控場","先控場","再","考慮","其它","殺人","可以","控場","殺","輸出","卡位","製","造","附加","效果","暈冰殘","位置","出招","timing","選招","走位","走位","沒有","陣型","導致","開戰時","無法","讓","全體","人員","好","上","招"],key_words:[{word:"開戰",weight:93.91363445666833},{word:"operation",weight:70.43522584250125},{word:"status4",weight:58.69602153541771},{word:"status3",weight:58.69602153541771},{word:"right",weight:58.69602153541771},{word:"會戰",weight:46.95681722833417},{word:"卡位",weight:38.4061960899},{word:"1.",weight:35.21761292125063},{word:"走位",weight:35.21761292125063},{word:"2.",weight:35.21761292125063},{word:"潛入",weight:35.21761292125063},{word:"僵持",weight:27.415511151540002},{word:"前排",weight:26.834551783109998},{word:"status1",weight:23.478408614167083},{word:"追擊戰",weight:23.478408614167083},{word:"status2",weight:23.478408614167083},{word:"end",weight:23.478408614167083},{word:"status31",weight:23.478408614167083},{word:"status32",weight:23.478408614167083},{word:"贏對方",weight:23.478408614167083},{word:"status33",weight:23.478408614167083},{word:"斷後戰",weight:23.478408614167083},{word:"控場",weight:23.478408614167083},{word:"st",weight:23.478408614167083},{word:"出招",weight:21.3636036542},{word:"撤退",weight:14.92905456722},{word:"有利",weight:13.22486650192},{word:"局面",weight:11.93304483688},{word:"parallel",weight:11.739204307083542},{word:"path1",weight:11.739204307083542}],excerpt:"識時務者為俊傑，對現狀的把握越強大 就越不會被大環境所吞噬 看得穿大局，才想得出對策 局勢的類型 僵持戰 開戰 會戰 會戰 追擊戰 撤退戰 斷後戰 @flowstart st=>start: 開局 e=>end: 結束一次會戰 status1=>operation: 僵持戰 status2=>operation: 開戰 status3=>parallel: 會戰 status31=>operation: 追擊戰 status32=>operation: 撤退戰 status33=>operation: 斷後戰 status4=>operation: end st(right)->status1(right)->status2(right)->status3 status3(path1,top)->status31(right)->status4 status3(path2,right)->..."},{title:"Hello VueJCBlog",frontmatter:{title:"Hello VueJCBlog",datetime:"2019/3/7",is_tmp:!0,meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Hello VueJCBlog"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/3.%20%E5%90%84%E8%81%B7%E7%8E%A9%E6%B3%95/%E9%9B%99%E4%BF%AE.html"},{name:"twitter:title",content:"Hello VueJCBlog"},{name:"twitter:url",content:"/Game/FEZ/3.%20%E5%90%84%E8%81%B7%E7%8E%A9%E6%B3%95/%E9%9B%99%E4%BF%AE.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"走位, 忍痛, 反手, 對方, 主動, 大跳, 維持, 一邊, pw, 騙暈, 紅黃, 猛擊, 開戰, 對手, 跌倒, 喝水, 追逐, 故意, 保護, 對方盾, 並拔, 強制, 優越, 兩邊, 互暈, 上暈, 必須, 很慘, 就暈, 前線"},{property:"article:tag",content:"走位"},{property:"article:tag",content:"忍痛"},{property:"article:tag",content:"反手"},{property:"article:tag",content:"對方"},{property:"article:tag",content:"主動"},{property:"article:tag",content:"大跳"},{property:"article:tag",content:"維持"},{property:"article:tag",content:"一邊"},{property:"article:tag",content:"pw"},{property:"article:tag",content:"騙暈"},{property:"article:tag",content:"紅黃"},{property:"article:tag",content:"猛擊"},{property:"article:tag",content:"開戰"},{property:"article:tag",content:"對手"},{property:"article:tag",content:"跌倒"},{property:"article:tag",content:"喝水"},{property:"article:tag",content:"追逐"},{property:"article:tag",content:"故意"},{property:"article:tag",content:"保護"},{property:"article:tag",content:"對方盾"},{property:"article:tag",content:"並拔"},{property:"article:tag",content:"強制"},{property:"article:tag",content:"優越"},{property:"article:tag",content:"兩邊"},{property:"article:tag",content:"互暈"},{property:"article:tag",content:"上暈"},{property:"article:tag",content:"必須"},{property:"article:tag",content:"很慘"},{property:"article:tag",content:"就暈"},{property:"article:tag",content:"前線"}]},regularPath:"/Game/FEZ/3.%20%E5%90%84%E8%81%B7%E7%8E%A9%E6%B3%95/%E9%9B%99%E4%BF%AE.html",relativePath:"Game/FEZ/3. 各職玩法/雙修.md",key:"v-a6174872",path:"/Game/FEZ/3.%20%E5%90%84%E8%81%B7%E7%8E%A9%E6%B3%95/%E9%9B%99%E4%BF%AE.html",git:{created:"6/3/2020, 4:12:30 PM",updated:"5/3/2019, 11:06:15 AM",author:"PC\\JC",commits:[{fullHash:"7d442f68bc55438e309e92dc68c76e723dee3a02",authorTime:"1591171950",commitTime:"1591171950",authorName:"PC\\JC"},{fullHash:"d5145dd73a217bae1b306cecdbeca49be6711959",authorTime:"1589967512",commitTime:"1589967512",authorName:"PC\\JC"},{fullHash:"306eb6ac7c63fb33ed12c6a2d8cbd6c20726957d",authorTime:"1565198476",commitTime:"1565198476",authorName:"PC\\JC"},{fullHash:"b3e3c5fecc97859963b8b5ac4d146f5c699369b2",authorTime:"1556852775",commitTime:"1556852775",authorName:"JC"}],contributors:["PC\\JC","JC"]},pure_content:"雙修\r\n    紅黃走位\r\n    強暈走位\r\n\r\n\r\n刀被猛掉，如果硬暈。可以換大劍重壓拔忍痛騙跌倒\r\n猛擊打盾(對方盾喝水)先讓對方刀拆的話，會賺抗拆耐性，對方力破的話，就暈他準備打他\r\n\r\n雙修練習\r\n\r\n    盾反應的訓練\r\n        抓反手暈，吃補猛掉\r\n\r\n    互暈\r\n    抓反手暈\r\n        對手故意喝水要猛急\r\n        對手故意猛擊要放忍痛\r\n    追逐戰強暈\r\n    撤退戰反暈\r\n    \r\n    被暈大跳\r\n    \r\n    \r\n    追逐戰\r\n        被追的人大跳並拔忍痛，被暈時要倒地\r\n        追的人抓對方落地時暈他\r\n        \r\n    暈小跳沒忍痛的人\r\n        讓對方被暈不跌倒\r\n    \r\n    模擬刀被擊飛走\r\n        a: 猛空後暈\r\n        b: 火刀猛擊後大跳走賺抗暈\r\n    \r\n    盾互相牽制時\r\n        要讓隊友的陣型呈鉗形\r\n        若變倒v時開戰會很慘\r\n\r\n盾\r\n\t前線走位\r\n\t\t遠離法師\r\n\t\t\t可以讓自己更專心在眼前的敵人\r\n\t\t\t做法: 維持在雷c的紅黃交界處\r\n\t\t跟敵方盾維持在反手位置\r\n\t\t\t兩邊出手都暈不到\r\n\t\t\t但一邊一暈，另一邊馬上暈可以暈得到\r\n\t\t這樣似乎就不需要加強保護了?\r\n\t若有高低差\r\n\t\t大跳騙暈\r\n\t對方太深入\r\n\t\t有pw跟hp跟對方換暈\r\n\t\t沒pw大跳騙暈\r\n\r\n開戰\r\n    走位主動，出招被動\r\n        反手暈\r\n\r\n強制開戰\r\n    狀況不好，必須主動硬開\r\n    位置太優越，可以主動強開",word_token:["雙修","紅黃","走位","強暈","走位","刀","被","猛","掉","如果","硬暈","可以","換大劍","重壓拔","忍痛","騙","跌倒","猛擊","打盾","對方盾","喝水","先","讓","對","方刀","拆","話","會","賺","抗","拆","耐性","對方力","破","話","就暈","準備","打","雙修練習","盾","反應","訓練","抓","反手","暈","吃","補猛","掉","互暈","抓","反手","暈","對手","故意","喝水","要","猛","急","對手","故意","猛擊","要","放","忍痛","追逐","戰強暈","撤退","戰反暈","被","暈大","跳","追逐","戰","被","追","人大","跳","並拔","忍痛","被","暈時","要","倒地","追","人","抓","對方","落地","時暈","暈小跳","沒","忍痛","人","讓","對方","被暈","跌倒","模擬","刀","被","擊飛","走","猛空後暈","b","火刀","猛擊後大","跳","走","賺","抗暈","盾","互相","牽制","時","要","讓","隊友","陣型","呈","鉗形","若變","倒","v","時開","戰會","很慘","盾","前線","走位","遠離","法師","可以","讓","自己","專心","眼前","敵人","做法","維持","雷","c","紅黃","交界","處","敵方盾","維持","反手","位置","兩邊","出手","都暈","不到","但","一邊","一暈","另","一邊","馬","上暈","可以","暈","得到","這樣","似乎","需要","加強","保護","若有","高低","差","大跳","騙暈","對方","太","深入","pw","hp","對","方換暈","沒","pw","大跳","騙暈","開戰","走位","主動","出招","被動","反手","暈","強制","開戰","狀況","不好","必須","主動","硬開","位置","太","優越","可以","主動","強開"],key_words:[{word:"走位",weight:46.95681722833417},{word:"忍痛",weight:39.36093856572},{word:"反手",weight:37.92734817672},{word:"對方",weight:35.21761292125063},{word:"主動",weight:35.21761292125063},{word:"大跳",weight:25.0287665818},{word:"維持",weight:23.478408614167083},{word:"一邊",weight:23.478408614167083},{word:"pw",weight:23.478408614167083},{word:"騙暈",weight:23.478408614167083},{word:"紅黃",weight:23.478408614167083},{word:"猛擊",weight:23.478408614167083},{word:"開戰",weight:23.478408614167083},{word:"對手",weight:23.478408614167083},{word:"跌倒",weight:17.51802819094},{word:"喝水",weight:17.19474548784},{word:"追逐",weight:15.82845129338},{word:"故意",weight:13.36793633054},{word:"保護",weight:11.739204307083542},{word:"對方盾",weight:11.739204307083542},{word:"並拔",weight:11.739204307083542},{word:"強制",weight:11.739204307083542},{word:"優越",weight:11.739204307083542},{word:"兩邊",weight:11.739204307083542},{word:"互暈",weight:11.739204307083542},{word:"上暈",weight:11.739204307083542},{word:"必須",weight:11.739204307083542},{word:"很慘",weight:11.739204307083542},{word:"就暈",weight:11.739204307083542},{word:"前線",weight:11.739204307083542}],excerpt:"雙修 紅黃走位 強暈走位 刀被猛掉，如果硬暈。可以換大劍重壓拔忍痛騙跌倒 猛擊打盾(對方盾喝水)先讓對方刀拆的話，會賺抗拆耐性，對方力破的話，就暈他準備打他 雙修練習 盾反應的訓練 抓反手暈，吃補猛掉 互暈 抓反手暈 對手故意喝水要猛急 對手故意猛擊要放忍痛 追逐戰強暈 撤退戰反暈 被暈大跳 追逐戰 被追的人大跳並拔忍痛，被暈時要倒地 追的人抓對方落地時暈他 暈小跳沒忍痛的人 讓對方被暈不跌倒 模擬刀被擊飛走 a: 猛空後暈 b: 火刀猛擊後大跳走賺抗暈 盾互相牽制時 要讓隊友的陣型呈鉗形 若變倒v時開戰會很慘 盾 前線走位 遠離法師 可以讓自己更專心在眼前的敵人 做法: 維持在雷c的紅黃交界處 跟敵方盾維持在反手位置 兩邊出手都暈不到 但一邊一暈，另一邊馬上暈可以暈得到 這樣似乎就不需要加強保護了? 若有高低差 大跳騙暈 對方太深入 有pw跟hp跟對方換暈 沒pw大跳騙暈 開戰 走位主動..."},{title:"2on 基本介紹",frontmatter:{title:"2on 基本介紹",datetime:"2020/5/18",meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"2on 基本介紹"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/4.%202on/"},{name:"twitter:title",content:"2on 基本介紹"},{name:"twitter:url",content:"/Game/FEZ/4.%202on/"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"純刀, 組合, 雙修盾, 對線, 純盾, 設定, 我方, 怎麼, 技術, 能夠, 戰士, 會戰, 何時, 還是, 其實, 單暈, 地圖, 局面, 僵局, 應該, 必須, 戰記, 成敗, 一個, 2020, 有時, 壓力, 7474, fez, 交戰區域"},{property:"article:tag",content:"純刀"},{property:"article:tag",content:"組合"},{property:"article:tag",content:"雙修盾"},{property:"article:tag",content:"對線"},{property:"article:tag",content:"純盾"},{property:"article:tag",content:"設定"},{property:"article:tag",content:"我方"},{property:"article:tag",content:"怎麼"},{property:"article:tag",content:"技術"},{property:"article:tag",content:"能夠"},{property:"article:tag",content:"戰士"},{property:"article:tag",content:"會戰"},{property:"article:tag",content:"何時"},{property:"article:tag",content:"還是"},{property:"article:tag",content:"其實"},{property:"article:tag",content:"單暈"},{property:"article:tag",content:"地圖"},{property:"article:tag",content:"局面"},{property:"article:tag",content:"僵局"},{property:"article:tag",content:"應該"},{property:"article:tag",content:"必須"},{property:"article:tag",content:"戰記"},{property:"article:tag",content:"成敗"},{property:"article:tag",content:"一個"},{property:"article:tag",content:"2020"},{property:"article:tag",content:"有時"},{property:"article:tag",content:"壓力"},{property:"article:tag",content:"7474"},{property:"article:tag",content:"fez"},{property:"article:tag",content:"交戰區域"}]},regularPath:"/Game/FEZ/4.%202on/",relativePath:"Game/FEZ/4. 2on/README.md",key:"v-4dc00f25",path:"/Game/FEZ/4.%202on/",headers:[{level:2,title:"地圖設定",slug:"地圖設定"},{level:2,title:"職業配置",slug:"職業配置"},{level:3,title:"純盾+純刀",slug:"純盾-純刀"},{level:3,title:"雙修盾+純刀",slug:"雙修盾-純刀"},{level:3,title:"雙修盾/純盾+純刀/雙修刀",slug:"雙修盾-純盾-純刀-雙修刀"},{level:3,title:"其他組合",slug:"其他組合"},{level:2,title:"交戰區域",slug:"交戰區域"},{level:2,title:"對線",slug:"對線"},{level:2,title:"連繫",slug:"連繫"},{level:2,title:"緊湊的會戰",slug:"緊湊的會戰"},{level:2,title:"2on具體的挑戰",slug:"_2on具體的挑戰"},{level:3,title:"戰士",slug:"戰士"},{level:3,title:"刀",slug:"刀"}],git:{created:"7/25/2020, 2:20:13 AM",updated:"5/3/2019, 11:06:15 AM",author:"PC\\JC",commits:[{fullHash:"793674af3df037fe9ddb72954e595ab822ffe1ca",authorTime:"1595614813",commitTime:"1595614813",authorName:"PC\\JC"},{fullHash:"d5145dd73a217bae1b306cecdbeca49be6711959",authorTime:"1589967512",commitTime:"1589967512",authorName:"PC\\JC"},{fullHash:"a5f6d6cf81cef459c3f21791438c73218a9a5c04",authorTime:"1573655717",commitTime:"1573655717",authorName:"PC\\JC"},{fullHash:"306eb6ac7c63fb33ed12c6a2d8cbd6c20726957d",authorTime:"1565198476",commitTime:"1565198476",authorName:"PC\\JC"},{fullHash:"b3e3c5fecc97859963b8b5ac4d146f5c699369b2",authorTime:"1556852775",commitTime:"1556852775",authorName:"JC"}],contributors:["PC\\JC","JC"]},pure_content:"基本規則\r\n\r\n 地圖設定\r\n\r\n| 地圖設定| 設定值 |\r\n| ------ | --------------------- |\r\n| 地圖   | 荒地                   |\r\n| 職業   | 純盾+純刀              |\r\n| ^^     | 雙修盾+純刀            |\r\n| ^^     | 雙修盾/純盾+純刀/雙修刀 |\r\n| 時間   | 25~30min               |\r\n| 消耗   | 200(只能吃金幣水，不能吃培根麵包牛排) |\r\n| 建築   | 不可(跳台也不行)        |\r\n| 召喚   | 不可\t                  |\r\n\r\n設定可參考以下附圖\r\n\r\n!設定圖\r\n\r\n 職業配置\r\n\r\n 純盾+純刀\r\n\r\n可以練到比較多白刃戰的技術\r\n\r\n想磨練單兵技術的話，推薦以此組合為主去玩\r\n\r\n 雙修盾+純刀\r\n\r\n承上，也是很適合磨練單兵技術的組合\r\n\r\n但因為戰士方面多了切換大劍的因素，因此複雜度會比較高\r\n\r\n建議當`純盾+純刀`的配置玩的比較熟後再玩此種組合\r\n\r\n 雙修盾/純盾+純刀/雙修刀\r\n\r\n實際上玩到後來，戰士跟刀的組合是可以更多元的\r\n\r\n也就是連遊俠的部分都可以雙修\r\n\r\n但由於遊俠雙修後，有可能會讓局面變成戰士在撐線，而遊俠一直在拿弓射\r\n\r\n因此此種玩法比較不推薦\r\n\r\n 其他組合\r\n\r\n2on顧名思義就是2對2的組合，因此也是有人會嘗試用不同的組合在玩\r\n\r\n但如果看到遊樂場有人開`7474 2on`，那就是隨機分隊的2on房\r\n\r\n而一般來說，7474房，都是以`雙修盾+純刀`的配置為主\r\n\r\n因此要小心不要不小心亂入了!\r\n\r\n 交戰區域\r\n\r\n交戰區域如以下附圖，交戰時基本上儘量在低地開打\r\n\r\n但如果逃命需要，基本上還是可以上一下樓梯，但不能跑到高地上\r\n\r\n!設定圖\r\n\r\n 2on的特色\r\n\r\n 對線\r\n\r\n由於盾刀基本上不會放遠程技能(除非事先約定好可以放哪些遠程技)\r\n\r\n因此兩邊對線時，都必須冒著被單暈的風險進行對線\r\n\r\n在此前提下，如何突破僵局，如何出其不意的打出致勝招\r\n\r\n不幸被單暈時，如何解單暈，單暈對方時，又該如何運用好優勢\r\n\r\n這都是2on有趣的地方\r\n\r\n 連繫\r\n\r\n如何去突破僵局，打出致勝招，這不是一個人的問題\r\n\r\n開戰的成敗，通常會是4人間心理博奕的結果\r\n\r\n像是刀可以漆黑對方刀，讓對方刀後仰，我方盾再猛掉對方刀\r\n\r\n對方盾暈了我方刀的話，我方刀就賺抗暈\r\n\r\n而解法就是我方刀黑的時候，對面盾就要直接猛掉我方刀\r\n\r\n但如果技能放在猛擊上，對面盾出暈，就有很高的機率被單暈\r\n\r\n因此隊友間怎麼去做好連繫，其實是2on一個很重要的地方\r\n\r\n同時也是2on最好玩的地方之一\r\n\r\n 緊湊的會戰\r\n\r\n在僵局的局面下，隨時都有可能開戰\r\n\r\n有時是我方主動開，有時是對方主動開\r\n\r\n當開戰的瞬間，就必須要想好如何出招\r\n\r\n是要馬上對暈? 還是要反手暈? 是要預出手拆武? 還是先漆黑斷刀?\r\n\r\n這一切都在一秒內發生，而瞬間的決斷，就會直接影響這局會戰的成敗\r\n\r\n 2on具體的挑戰\r\n\r\n 戰士\r\n\r\n 暈猛火刀，第一常駐記能的切換\r\n 紅黃圈距離的掌握\r\n 扛住對線壓力的同時還能反手暈或猛或火刀\r\n 判斷合時應該換大劍\r\n 何時應該連繫\r\n 何時該控住局面，何時該輸出\r\n ...\r\n\r\n 刀\r\n\r\n 扛住對線壓力還能紅黃圈攻擊\r\n 各種狀況應該要怎麼殘\r\n 怎麼殘可以穩住局面\r\n 怎麼殘可以打破局面\r\n 何時應該連繫\r\n 哪些時機點其實可以出招\r\n ...\r\n\r\n 總結來說\r\n\r\n2on就是戰場上時常在發生的會戰的縮影\r\n\r\n能打好2on，其實對於打戰場的會戰，或甚至僻地有極大的幫助\r\n\r\n並且如何能夠玩好2on的，就有更大的本錢(技術)，能夠更好的入門3on\r\n\r\n而能夠打好3on的話，戰場上的表現一般都能夠有飛躍的突破\r\n\r\n畢竟魔鬼藏在細節裡，而打on就是練細節最有效率的方式\r\n\r\n 2on整局影片參考\r\n\r\n [[fez][幻想戰記][盾][2on] (2020/5)](\r\n [[fez][幻想戰記][刀][2on] (2020/5)](",word_token:["基本","規則","地圖","設定","|","地圖","設定","|","設定值","|","|","-","-","-","-","-","-","|","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","|","|","地圖","|","荒地","|","|","職業","|","純盾","純刀","|","|","|","雙修盾","純刀","|","|","|","雙修盾","純盾","純刀","雙修刀","|","|","時間","|","25","30","min","|","|","消耗","|","200","只能","吃","金幣","水","不能","吃","培根","麵","包","牛排","|","|","建築","|","不可","跳台","不行","|","|","召喚","|","不可","|","設定","可","參考","以下","附圖","設定","圖","職業","配置","純盾","純刀","可以","練到","比","較","白刃","戰","技術","想磨練","單兵","技術","話","推薦","以此","組合為","主去","玩","雙修盾","純刀","承上","適合","磨練","單兵","技術","組合","但","因為","戰士","方面","切換","大劍","因素","因此","複","雜度","會","比","較","高","建議當","`","純盾","純刀","`","配置","玩","比","較","熟後再","玩","此種","組合","雙修盾","純盾","純刀","雙修刀","實際","上","玩","到後來","戰士","刀","組合","可以","多元","就是","連遊俠","部分","可以","雙修","但","由","於","遊俠","雙修","後","可能","會","讓","局面","變成","戰士","撐線","而遊俠","一直","拿","弓射","因此","此種","玩法","比較","推薦","其他","組合","2","顧名","思義","就是","2","對","2","組合","因此","有人","會嘗試","用","不同","組合","玩","但","如果","看到","遊樂場","有人","開","`","7474","2","`","就是","隨機","分隊","2","房","而","一般","來","說","7474","房","以","`","雙修盾","純刀","`","配置","為主","因此","要","小心","不要","小心","亂入","交戰區域","交戰區域","如","以下","附圖","交戰時","基本上","儘","量","低","開","打","但","如果","逃命","需要","基本上","還是","可以","上","一下","樓梯","但","不能","跑","高","地上","設定","圖","2","特色","對線","由","於","盾","刀","基本上","不會","放遠程","技能","除非","事先","約定","好","可以","放","哪些","遠程技","因此","兩邊","對線","時","必須","冒","著","被","單暈","風險","進行","對線","前提","下","如何","突破","僵局","如何","出其不意","打出","致勝招","不幸","被","單暈時","如何","解單暈","單暈","對","方時","該","如何","運用","好","優勢","這都","2","有趣","地方","連","繫","如何","去","突破","僵局","打出","致勝招","這","不是","一個","人","問題","開戰","成敗","通常","會","4","人間","心理","博奕","結果","像是","刀","可以","漆黑","對方刀","讓","對","方刀後仰","我方","盾","再","猛","掉","對","方刀","對方盾暈","我方","刀","話","我方","刀","賺","抗暈","而","解法","就是","我方","刀","黑","時候","對","面盾","就要","直接","猛掉","我方","刀","但","如果","技能","放在","猛擊","上","對","面盾","出暈","高","機率","被","單暈","因此","隊友間","怎麼","去","做好","連","繫","其實","2","一個","重要","地方","同時","2","最","好玩","地方","之一","緊湊","會戰","僵局","局面","下","隨時","可能","開戰","有時","我方","主動開","有時","對","方主動開","當開戰","瞬間","必須","要","想","好","如何","出招","要","馬","上","對暈","還是","要","反手","暈","要","預","出手","拆武","還是","先","漆黑","斷刀","這","一切都在","一秒","內","發生","而","瞬間","決斷","會","直接","影響","這局","會戰","成敗","2","具體","挑戰","戰士","暈","猛火","刀","第一","常駐","記能","切換","紅黃圈","距離","掌握","扛","住","對線","壓力","同時","還能","反手","暈或猛","火刀","判斷","合時","應該","換大劍","何時","應","該連","繫","何時","該","控住","局面","何時","該","輸出","刀","扛","住","對線","壓力","還能","紅黃圈","攻擊","各種","狀況","應該","要","怎麼","殘","怎麼","殘","可以","穩住","局面","怎麼","殘","可以","打破","局面","何時","應","該連","繫","哪些","時機點","其實","可以","出招","總結來","說","2","就是","戰場","上","時常","發生","會戰","縮影","能","打","好","2","其實","對","於","打戰場","會戰","甚至","僻地","極大","幫助","並且","如何","能夠","玩","好","2","大","本","錢","技術","能夠","更好","入門","3","而","能夠","打","好","3","話","戰場","上","表現","一般","能夠","飛躍的","突破","畢竟","魔鬼","藏","細節裡","而","打","就是","練細節","最","有效率","方式","2","整局","影片","參考","fez","幻想","戰記","盾","2","2020","5","fez","幻想","戰記","刀","2","2020","5"],key_words:[{word:"純刀",weight:93.91363445666833},{word:"組合",weight:70.43522584250125},{word:"雙修盾",weight:58.69602153541771},{word:"對線",weight:58.69602153541771},{word:"純盾",weight:58.69602153541771},{word:"設定",weight:58.69602153541771},{word:"我方",weight:54.62932263828},{word:"怎麼",weight:46.95681722833417},{word:"技術",weight:46.95681722833417},{word:"能夠",weight:46.95681722833417},{word:"戰士",weight:46.95681722833417},{word:"會戰",weight:46.95681722833417},{word:"何時",weight:46.95681722833417},{word:"還是",weight:35.21761292125063},{word:"其實",weight:35.21761292125063},{word:"單暈",weight:35.21761292125063},{word:"地圖",weight:35.21761292125063},{word:"局面",weight:29.8326120922},{word:"僵局",weight:28.631906475869997},{word:"應該",weight:23.478408614167083},{word:"必須",weight:23.478408614167083},{word:"戰記",weight:23.478408614167083},{word:"成敗",weight:23.478408614167083},{word:"一個",weight:23.478408614167083},{word:"2020",weight:23.478408614167083},{word:"有時",weight:23.478408614167083},{word:"壓力",weight:23.478408614167083},{word:"7474",weight:23.478408614167083},{word:"fez",weight:23.478408614167083},{word:"交戰區域",weight:23.478408614167083}],excerpt:"基本規則 地圖設定 地圖設定 設定值 地圖 荒地 職業 純盾+純刀 ^^ 雙修盾+純刀 ^^ 雙修盾/純盾+純刀/雙修刀 時間 25~30min 消耗 200(只能吃金幣水，不能吃培根麵包牛排) 建築 不可(跳台也不行) 召喚 不可 設定可參考以下附圖 !設定圖 職業配置 純盾+純刀 可以練到比較多白刃戰的技術 想磨練單兵技術的話，推薦以此組合為主去玩 雙修盾+純刀 承上，也是很適合磨練單兵技術的組合 但因為戰士方面多了切換大劍的因素，因此複雜度會比較高 建議當純盾+純刀的配置玩的比較熟後再玩此種組合 雙修盾/純盾+純刀/雙修刀 實際上玩到後來，戰士跟刀的組合是可以更多元的 也就是連遊俠的部分都可以雙修 但由於遊俠雙修後，有可能會讓局面變成戰士在撐線，而遊俠一直在拿弓射 因此此種玩法比較不推薦 其他組合 2on顧名思義就是2對2的組合，因此也是有人會嘗試用不同的組合在玩 但如果看到遊樂場有..."},{title:"2on 玩法介紹",frontmatter:{title:"2on 玩法介紹",datetime:"2020/5/19",meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"2on 玩法介紹"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/4.%202on/%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html"},{name:"twitter:title",content:"2on 玩法介紹"},{name:"twitter:url",content:"/Game/FEZ/4.%202on/%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"相關, 開戰, 風險, 我方, 影片, 單暈, 對方, 猛擊, 反制, 缺點, 目標, 時候, 反應, 方刀, 狀況, 方盾, 走位, 可能, 抗暈, 對線, 位置, 僵持, 漆黑, 猛飛, 紅黃圈, 卡位, 紅方刀, 並且, 直接, 面盾"},{property:"article:tag",content:"相關"},{property:"article:tag",content:"開戰"},{property:"article:tag",content:"風險"},{property:"article:tag",content:"我方"},{property:"article:tag",content:"影片"},{property:"article:tag",content:"單暈"},{property:"article:tag",content:"對方"},{property:"article:tag",content:"猛擊"},{property:"article:tag",content:"反制"},{property:"article:tag",content:"缺點"},{property:"article:tag",content:"目標"},{property:"article:tag",content:"時候"},{property:"article:tag",content:"反應"},{property:"article:tag",content:"方刀"},{property:"article:tag",content:"狀況"},{property:"article:tag",content:"方盾"},{property:"article:tag",content:"走位"},{property:"article:tag",content:"可能"},{property:"article:tag",content:"抗暈"},{property:"article:tag",content:"對線"},{property:"article:tag",content:"位置"},{property:"article:tag",content:"僵持"},{property:"article:tag",content:"漆黑"},{property:"article:tag",content:"猛飛"},{property:"article:tag",content:"紅黃圈"},{property:"article:tag",content:"卡位"},{property:"article:tag",content:"紅方刀"},{property:"article:tag",content:"並且"},{property:"article:tag",content:"直接"},{property:"article:tag",content:"面盾"}]},regularPath:"/Game/FEZ/4.%202on/%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html",relativePath:"Game/FEZ/4. 2on/玩法介紹.md",key:"v-2c6bc4ab",path:"/Game/FEZ/4.%202on/%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html",headers:[{level:2,title:"站位",slug:"站位"},{level:2,title:"刀",slug:"刀"},{level:3,title:"卡位",slug:"卡位"},{level:3,title:"紅黃圈足破",slug:"紅黃圈足破"},{level:3,title:"紅黃圈漆黑",slug:"紅黃圈漆黑"},{level:3,title:"微笑走位",slug:"微笑走位"},{level:2,title:"盾",slug:"盾"},{level:3,title:"卡位",slug:"卡位-2"},{level:3,title:"微笑走位",slug:"微笑走位-2"},{level:2,title:"刀",slug:"刀-2"},{level:3,title:"漆黑(對刀)+猛擊",slug:"漆黑-對刀-猛擊"},{level:3,title:"毒蛇(對刀)+猛擊",slug:"毒蛇-對刀-猛擊"},{level:3,title:"直接拆武",slug:"直接拆武"},{level:3,title:"小跳騙暈",slug:"小跳騙暈"},{level:2,title:"盾",slug:"盾-2"},{level:3,title:"對暈",slug:"對暈"},{level:3,title:"單暈對方",slug:"單暈對方"},{level:3,title:"猛掉緩速的人暈另一個人",slug:"猛掉緩速的人暈另一個人"},{level:3,title:"強制開戰",slug:"強制開戰"},{level:3,title:"拔忍痛猛擊",slug:"拔忍痛猛擊"},{level:2,title:"刀",slug:"刀-3"},{level:3,title:"對方刀黑立刻小跳跌倒",slug:"對方刀黑立刻小跳跌倒"},{level:3,title:"盾被單暈",slug:"盾被單暈"},{level:2,title:"盾",slug:"盾-3"},{level:3,title:"刀被單暈",slug:"刀被單暈"},{level:3,title:"反手暈",slug:"反手暈"},{level:3,title:"猛擊空殘的刀",slug:"猛擊空殘的刀"},{level:3,title:"猛擊漆黑的刀",slug:"猛擊漆黑的刀"},{level:3,title:"大跳賺抗暈",slug:"大跳賺抗暈"}],git:{created:"5/21/2020, 9:24:59 PM",updated:"5/20/2020, 5:38:32 PM",author:"PC\\JC",commits:[{fullHash:"291db71f1dce9a153afc061d2915107875905aed",authorTime:"1590067499",commitTime:"1590067499",authorName:"PC\\JC"},{fullHash:"d5145dd73a217bae1b306cecdbeca49be6711959",authorTime:"1589967512",commitTime:"1589967512",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"局勢\r\n\r\n2on的玩法，基本上可以用局勢來做個區別\r\n\r\n分別是`僵持戰`，`開戰`，跟`會戰`\r\n\r\n其中會戰又分優勢的`追逐戰`，跟劣勢的`撤退戰`\r\n\r\n@startuml\r\n\r\n僵持戰 : 為開戰做準備\r\n開戰 : 不精確來說，有人發動了暈，就是要開戰了\r\nstate 會戰 {\r\n  追逐戰 : 優勢追擊敵人\r\n  撤退戰 : 劣勢回穩局面\r\n}\r\n\r\n[] --\x3e 僵持戰 : 開局\r\n僵持戰 -> 開戰\r\n開戰 -> 會戰\r\n會戰 --\x3e 僵持戰\r\n會戰 --\x3e 開戰\r\n會戰 --\x3e [] : 結束一局\r\n\r\n@enduml\r\n\r\n而本篇最主要會介紹到的，為`僵持戰`跟`開戰`的部分\r\n\r\n基本上，不精確來說，有人發動了暈，就是要開戰了\r\n\r\n而開戰的成敗，不僅取決於開戰時，雙方的出招\r\n\r\n成敗的主因，更大程度上，在於僵持戰時4人的位置\r\n\r\n 僵持戰\r\n\r\n僵持戰最大的目地，是為了讓開戰有比對方更多的優勢\r\n\r\n像是盾怎麼走才好暈，暈到了刀才好上招\r\n\r\n而刀在開暈的時候要好上招，就是要盡可能的去貼近敵人\r\n\r\n然而太貼近又會有吃暈吃殘的風險，因此怎麼走可以避免掉這些風險\r\n\r\n等等等，都是僵持戰需要注意的細節\r\n\r\n  站位\r\n\r\n  暈能製造開戰，而由於盾暈的發動速度極快\r\n\r\n  因此2on時，盾若需要集中精神看兩個人\r\n\r\n  那空暈，被單暈的機會就高\r\n\r\n  因此4人的站位會極大的左右開戰的勝敗\r\n\r\n   case 1\r\n\r\n    如下圖，蘭方刀只能打到紅方刀，而紅方刀可以上到2個人\r\n\r\n    而紅方盾只需要對蘭方盾，因此紅方刀幫紅方盾分攤了極大的對線壓力\r\n\r\n    讓紅方盾可以比較專心對蘭方盾\r\n\r\n    當然，紅方盾還是要注意對方紅藍方刀的動向，只是紅方盾對線的壓力會比蘭方盾小的多\r\n\r\n    至於紅方刀，由於他要對兩個人，因此紅方刀的位置當然就是4人中風險最高的\r\n\r\n    !卡位\r\n\r\n   case 2\r\n\r\n    如下圖，紅方盾需要對峙蘭方兩人，而紅方刀的位置則沒有對線的作用\r\n\r\n    因此對線壓力會完全落在紅方盾身上\r\n\r\n    並且在這種狀況下開戰的話，紅方刀會很難上招，因為藍方刀可以直接上到紅方盾\r\n\r\n    而紅方刀位置會被藍方刀卡住(可能被漆黑斷招)，因此紅方刀其實是處於一個比較難上招的位置\r\n\r\n    !卡位\r\n\r\n   總結來說\r\n\r\n    如下圖，圖1跟圖2會是比較正常的對線陣形，並且基本上盾跟盾的距離都是維持在暈的紅黃圈\r\n\r\n    因此實際上比較會左右陣形的，其實會是兩邊刀對距離的把握\r\n\r\n    離盾太近會有被盾暈的可能，太遠則會失去壓制力，導致盾不好開，或自己不好上招\r\n\r\n    而如圖3跟圖4，則是比較一面倒的狀況\r\n\r\n    如圖3，盾互暈的話，刀b會被逼得只能跟刀a拼招\r\n\r\n    因此刀a的盾機本上不太可能會被上到招，而刀b的盾，則可能會吃到殘\r\n\r\n    而圖4的話，刀b的狀況就更淒慘了，互暈的情況下，將會非常難出手\r\n\r\n    像圖3跟圖4的狀況，要不是刀b要想辦法往前壓，不然就是盾要適當的後退\r\n\r\n    以退為進，用後退的空間換取壓制的空間\r\n\r\n    但這麼做要很小心，因為一直退的話，持早會變的退無可退\r\n\r\n    那就會被逼入強制開戰的局面了\r\n\r\n    !卡位\r\n\r\n  刀\r\n\r\n    卡位\r\n\r\n    刀在爭取好的開戰位置時，必然會想要能爭取到第1會戰點好上招\r\n\r\n    甚至是在第0會戰點就上招\r\n\r\n    然而在爭取位置的時候，最大的風險點是被暈還沒出到任何一招\r\n\r\n    其次則是被對方刀黑+猛，或甚至毒蛇+猛(在2on被火或毒都是非常吃虧的)\r\n\r\n    因此刀要以紅黃走位為主去維持距離，並時刻小心對方出奇招\r\n\r\n    而這些都可以透過對方的走位去觀察到\r\n\r\n    尤其是對方突然像你靠近那就有可能是想抓刀去進行開戰了\r\n\r\n\t [相關影片](\r\n\r\n    紅黃圈足破\r\n\r\n\t 目標:\r\n\r\n      對峙時對著盾踢足破，有很高的機率可以騙到對面盾空暈\r\n\r\n\t  因為你出招的瞬間，盾可能會想要抓你漆黑把你猛掉，或暈你\r\n\r\n\t  如果是暈那只要你能走掉，我方盾能單暈對方，那這波開戰就會佔據非常高的優勢\r\n\r\n\t  其次，如果足破踢到對方盾，那對方行動受限，我方也會更好開戰\r\n\r\n\t  如果接著可以再上對方盾紅黃圈漆黑，那開戰前，對方盾就會被上了2個殘了\r\n\r\n\t 反制/缺點:\r\n\r\n\t  由於發動快，收招也快，因此不時的踢個足破，其實不太會被反制\r\n\r\n\t  但有時若是不小心靠的太近，則有可能會被對方的刀黑到\r\n\r\n\t 風險: 低\r\n\r\n\t [相關影片](\r\n\r\n    紅黃圈漆黑\r\n\r\n\t 目標:\r\n\r\n      當對方盾被黑的情況下，即便還是可以掌握狀況，但面對紅黃圈這種極度細膩的距離\r\n\r\n\t  也是會非常難抓的，因此紅黃圈漆黑要是能命中，對對方盾來說將是不小的打擊\r\n\r\n      而如果對面盾想抓紅黃圈漆黑去暈，只要一暈空，就有可能被單暈\r\n\t\r\n\t  漆黑算是非常難抓的技能，因為黑可能是打在盾身上，也可能是想黑刀\r\n\r\n\t 反制/缺點:\r\n\r\n\t  漆黑畢竟還是滿耗魔的，此外黑空的話，對面盾可能會把你猛飛\r\n\r\n\t  若我方盾這時暈下去了，對面盾就會賺抗暈了，因此很吃我方盾的反應\r\n\r\n\t  這時我方盾只能選擇慢慢退掉，或火刀後慢慢退掉\r\n\r\n\t  最慘的情況，可能會是吃對方毒蛇+猛\r\n\r\n\t  但這種情況比較不容易遇到，因為這要反應很快才做得到\r\n\r\n\t 風險: 中低\r\n\r\n\t [相關影片](\r\n\r\n    微笑走位\r\n\r\n     目標:\r\n\r\n      在卡位時，有的盾會選擇直接對著刀去猛擊開戰\r\n\r\n\t  因此在對線周旋時，適當的加入微笑走位會非常重要\r\n\r\n\t  一方面是警告對方不要輕易的去猛擊，再來是對面如果猛擊了，躲掉的瞬間上對方繳械\r\n\r\n\t  並且我方盾去暈對方盾，那這場基本上就算是拿下了\r\n\r\n\t 反制/缺點:\r\n\r\n\t  不過由於使用微笑走位會變成必須固定往一邊走\r\n\r\n\t  在換邊時，或者調整位置，不能繞圓弧走的時候被猛到還是會飛走的\r\n\r\n\t  這些時機點要小心敵對盾使用了猛擊\r\n\r\n\t 風險: 極低\r\n\r\n\t [相關影片](\r\n\r\n  盾\r\n\r\n    卡位\r\n\r\n    盾基本上肩負起了維持對線陣形的中堅作用\r\n\r\n\t可以說盾如果扛不住對線的壓力，那基本上戰線會一直往後退，直到退無可退後被強制開戰\r\n\r\n\t而盾在2on對線中，最主要的作用就是要卡住對方盾，並且維持住這個距離感\r\n\r\n\t當盾有辦法維持住這個距離感時，刀才有機會出一些紅黃圈攻擊\r\n\r\n\t否則刀是無法幫盾做出什麼攻擊的，畢竟在戰線隨時可能突然後撤的情況下\r\n\r\n\t刀只要往前卡的太緊，戰線一退，刀馬上就會被暈\r\n\r\n\t此外就是在以上的基礎上，再儘可能的，去給對方刀壓力，卡住甚至暈對方的刀\r\n\r\n\t [相關影片](\r\n\r\n    微笑走位\r\n\r\n\t 目標:\r\n\r\n      在卡位的時候，不要忘了，僵持戰的目的，是為了開戰好開\r\n\r\n\t  因此卡住位置的同時，不要忘了自己刀的位置\r\n\r\n\t  如果自己刀的位置太過後面的話，可以適當的去旋轉戰線\r\n\r\n\t  讓自己的刀自動的往前\r\n\r\n\t 反制/缺點:\r\n\r\n\t  由於走位時要看自己刀的位置去調整陣形\r\n\r\n\t  因此很考驗盾的注意力分配，當在注意自己刀的時候是比較容易被單暈的時候\r\n\r\n\t  但這算是非戰之罪，畢竟沒看刀的位置就去開戰，可能還更加的危險\r\n\r\n\t 風險: 極低\r\n\r\n\t [相關影片](\r\n\r\n 主動開戰\r\n\r\n一般來說，剛入門2on的玩家，通常會讓盾來主動開戰\r\n\r\n並且想法上會比較刻板印象覺得，開戰就是盾的事情\r\n\r\n但實際上開戰不只是盾的事情，盾刀都是可以進行開戰的\r\n\r\n但當然，盾刀相比，確實是只有盾擁有強制開戰的能力\r\n\r\n    刀\r\n\r\n      漆黑(對刀)+猛擊\r\n\r\n\t   目標:\r\n\r\n        漆黑刀的時候，對方刀會有個後仰，這時盾可以猛擊刀\r\n\r\n        運氣好對面盾暈我方盾的話，我方盾還可以賺抗暈\r\n\r\n\t\t此外有時黑刀也可讓我方盾有機會好暈刀\r\n\r\n\t   反制/缺點:\r\n\r\n\t\t風險點為黑的時候位置過於靠近盾，導致被單暈\r\n\r\n\t    或者出空招，被猛飛，我方盾暈了對方盾\r\n\r\n\t    但其實這種狀況，我方盾上幾下火刀後走掉\r\n\r\n\t    接著慢慢退掉，等待抗暈結束在打就可以\r\n\r\n\t   風險: 中低風險\r\n\r\n\t   [相關影片](\r\n\r\n      毒蛇(對刀)+猛擊\r\n\r\n\t   目標:\r\n\r\n\t    跟`漆黑(對刀)+猛擊`是類似的概念\r\n\r\n\t\t但更強的地方是，毒蛇會讓對方中毒，在2on中，中毒是很傷的\r\n\r\n\t\t發動時，盾要直接對著刀猛擊，如果等看到對方被咬到才猛那會變成被雙拆\r\n\r\n       反制/缺點:\r\n\r\n\t    在人物移動時，毒蛇是沒那麼好中的，並且盾要配合的話，必須直接猛\r\n\r\n\t\t如果毒蛇沒咬中，猛擊打過去，很容易就會吃雙拆\r\n\r\n\t\t但如果真的有咬到，那對方盾就要猛擊我方刀\r\n\r\n\t\t也就是想辦法把刀打跌倒，畢竟被咬到的刀這時應該已經被猛飛\r\n\r\n\t\t如果沒把刀打跌倒，被暈到一定會吃到殘\r\n\r\n       風險: 高風險\r\n\r\n\t   [相關影片](\r\n\r\n      直接拆武\r\n\r\n\t   目標:\r\n\r\n\t    直接拼雙拆，換暈，或運氣好直接拆兩把\r\n\r\n       反制/缺點:\r\n\r\n\t    由於拆的距離真的不長，因此被單暈的可能性很高，算是奇招中的奇招\r\n\r\n\t\t只要盾的反應不要太慢，看到對方刀過於往前就可以直接暈刀了\r\n\r\n\t\t並且若暈完刀後對面盾還能把我方盾猛飛的話，那基本上這局應該就會直接輸了\r\n\r\n       風險: 超高風險\r\n\r\n\t   [相關影片](\r\n\r\n      小跳騙暈\r\n\r\n\t   目標:\r\n\r\n\t\t在一般的走位上，故意往前再小跳走，是有機會騙到對面盾放暈的\r\n\r\n\t\t因為刀故意往前走，其實是有可能是想要拼雙拆\r\n\r\n\t\t而對面盾空暈時，我方盾就有機會單暈對方盾\r\n\r\n       反制/缺點:\r\n\r\n\t\t往前的時候有可能會被單暈，此外小跳落地時也有可能被猛飛\r\n\r\n\t\t而暈到後其實能上到的招也不多，畢竟只能打第2會戰點\r\n\r\n       風險: 中高風險\r\n\r\n\t   [相關影片](\r\n\r\n    盾\r\n\r\n      對暈\r\n\r\n\t   目標:\r\n\r\n\t    直接暈對方盾，有時運氣好會有可能暈出雙暈\r\n\r\n\t\t算是2on的一種經典狀況，很考驗刀的處理能力\r\n\r\n\t   反制/缺點:\r\n\r\n\t    除非對暈的時刻，我方刀的位置比對方刀好\r\n\r\n\t\t否則對暈後，我方刀若不好上招，基本上就是虧了\r\n\r\n\t\t但若我方刀比較會玩的話，也是有可能反拆對方最終開贏\r\n\r\n\t   風險: 視情況而定\r\n\r\n\t   [相關影片](\r\n\r\n      單暈對方\r\n\r\n\t   目標:\r\n\r\n\t    抓對方走位失誤，暈對方\r\n\r\n\t\t 單暈刀\r\n\r\n\t\t  此種狀況下，比較考驗刀的反應能力\r\n\r\n\t\t  由於還會有被對方盾猛飛的可能，因此一定要微笑走位，避免往前走直接被猛飛\r\n\r\n\t\t  另外也可用足破+殘騙雙拆\r\n\r\n\t      但遇到直接猛擊的盾，反而會只能上到雙足破\r\n\r\n\t\t  面對這種狀況，直接繳械反而可以雙拆\r\n\r\n\t\t   [相關影片](\r\n\r\n\t\t 單暈盾\r\n\r\n\t\t  此時我方盾能夠猛掉對方刀會是比較好的狀況\r\n\r\n\t\t  我方刀也可以往前黑對方刀打一個後仰讓我方盾去接\r\n\r\n\t\t  此外單暈到盾的時候，若我方刀被猛掉\r\n\r\n\t\t  那盾上個火刀後走掉即可\r\n\r\n\t\t   [相關影片](\r\n\r\n\t   反制/缺點:\r\n\r\n\t    有可能變成對暈，並且沒暈到的話，有可能會被對方盾單暈\r\n\r\n\t   風險: 極高\r\n\r\n      猛掉緩速的人暈另一個人\r\n\r\n\t   目標:\r\n\r\n\t    若對方刀被緩速，猛刀暈盾\r\n\r\n\t\t若對方盾被緩的話，直接猛盾有可能會被暈，接著被刀\r\n\r\n\t   反制/缺點:\r\n\r\n\t    若距離沒掌握好，有可能會猛掉刀的時候吃到力破\r\n\r\n\t\t但距離夠近的話，一般頂多只會吃到足破，或甚至不會吃到殘\r\n\r\n\t\t而猛掉對面刀後，對面的盾可以做的反制\r\n\r\n\t\t可以在猛的瞬間，把對方盾也猛掉\r\n\r\n\t\t或者火刀，接著往回大跳騙抗暈\r\n\r\n\t   風險: 低風險\r\n\r\n\t   [相關影片](\r\n\r\n      強制開戰\r\n\r\n\t   目標:\r\n\r\n\t    往前走，然後硬暈一個，可能的使用時機有\r\n\r\n\t\t1. 對面刀被力破，並且魔被扣得差不多的時候強開，逼對方開戰\r\n\r\n\t\t2. 對面血少，連我方刀毒蛇都可以咬死人時強開\r\n\r\n\t\t3. 有抗暈後直接往前開一個\r\n\r\n\t   反制/缺點:\r\n\r\n\t    由於盾要往前走硬開，因此被單暈的可能性是非常高的\r\n\r\n\t\t另外我方刀也很有可能會很難上招，畢竟盾直接往前走\r\n\r\n\t\t刀在開戰前是沒有機會拉近距離的\r\n\r\n\t   風險: 視情況而定\r\n\r\n\t   [相關影片](\r\n\r\n      拔忍痛猛擊\r\n\r\n\t   目標:\r\n\r\n\t    猛掉刀後騙抗暈\r\n\r\n\t\t但比較常見是單純被暈倒\r\n\r\n\t   反制/缺點:\r\n\r\n\t    有可能吃到殘後吃到暈，但這種狀況比較不會發生\r\n\t\t\r\n\t\t一般會是被暈倒的位置不夠好，我方刀不好掩護\r\n\r\n\t\t另外起身後沒有忍痛，因此對開戰來說也比較不方便\r\n\r\n\t\t真正可以拿來開戰的抗暈時間會比較短\r\n\r\n\t   風險: 視情況而定，一般來說是中高風險\r\n\r\n\t   [相關影片](\r\n\r\n 反制開戰\r\n\r\n在fez的機制中，由於有反手判定較寬的機制\r\n\r\n因此近職被動出招在某些對線的情況中會極具優勢\r\n\r\n像是打on，或者打國戰時，打主線，或打邊線時對方支援來很慢\r\n\r\n敵人過於主動開打，等等情形，反制開戰就會很好用\r\n\r\n不過打國戰時，奇襲敵人是最好的打法，反制開戰容易花太多時間在對線上\r\n\r\n但打on時，反制開戰通常是最好的打法，奇襲敵人一般來說不容易成功\r\n\r\n    刀\r\n\r\n      對方刀黑立刻小跳跌倒\r\n\r\n\t   目標:\r\n\r\n\t    被對方刀黑的瞬間小跳跌倒，讓對面的盾猛過來吃暈，爬起來後直接殘\r\n\r\n\t   反制/缺點:\r\n\r\n\t    玩盾的人一定要很細微的去判斷我方刀的黑有沒有黑出一個後仰\r\n\r\n\t\t若能判斷出有後仰了才猛，那就有辦法破解這招\r\n\r\n\t\t而這招非常非常非常的吃經驗跟反應，因此算是相當難實踐的招數\r\n\r\n\t\t沒用好，有可能就是突然來了個奇怪的小跳，然後被猛飛\r\n\r\n\t   風險: 中風險\r\n\r\n\t   [相關影片](\r\n\r\n      盾被單暈\r\n\r\n\t  這是玩刀必須面對的經典中的經典困境，基本上是必虧的局面\r\n\r\n\t  但若對方失誤，也有機會逆轉反打，絕境重生\r\n\r\n\t  而此狀況最重要的，就是捨棄掉保盾的想法，想辦法控制住局面\r\n\r\n\t  基本的邏輯，為想辦法微笑走位的同時，還能逼得對方刀不好上招，且\r\n\r\n\t  1. 在對方刀要上招前黑斷他，當然放完黑後有可能就會被猛飛\r\n\t  2. 挑好位置，跟對方刀拼對拆\r\n\r\n\t  因此在只能出一招的情況下，我方盾基本上必吃一招\r\n\r\n\t  但如何把狀況壓制在我方盾吃一招殘，算是此種狀況所需考慮的\r\n\r\n\t  在我方盾被單暈後，若能壓迫對方刀不好上招，盾也不好猛\r\n\r\n\t  那就越有機會爭取我方盾解暈的時間，降低盾被上招的風險\r\n\r\n\t   [相關影片](\r\n\r\n    盾\r\n\r\n\t  刀被單暈\r\n\r\n\t  這也算是盾會遇到的一個很經典的狀況\r\n\r\n\t   若刀被暈的時候沒把盾猛掉\r\n\r\n\t    基本的解法，就是微笑走位，等對面刀出殘後，把刀猛掉就好\r\n\r\n\t    絕對要避免的，是被對面盾猛飛，這樣刀基本上就死定了\r\n\r\n\t   若刀被暈的時候有把盾猛掉\r\n\r\n\t    那往前壓位置讓對方刀不好上招就好\r\n\r\n\t   [相關影片](\r\n    \r\n      反手暈\r\n\r\n\t   目標:\r\n\r\n\t    絕不主動出手暈對方的盾，只抓對方盾暈的時候反手暈，單暈對方\r\n\r\n\t\t是我方可以佔據完全優勢的打法\r\n\r\n\t\t而當兩邊盾都這樣玩，那就只能拼僵持戰誰的位置好，誰的盾的反應力好\r\n\r\n\t\t或者哪邊的刀率先打出破口\r\n\r\n\t\t而在單暈對方盾之後，最好是\r\n\r\n\t\t1. 往前壓位置，讓對方刀不好出招\r\n\t\t2. 等對方刀出招，把他猛掉/暈他\r\n\r\n\t\t由於目前的版本(2020/5/20)，雙修換大劍會有5秒的debuff\r\n\r\n\t\t因此盾繼續拿盾壓制會是最穩健的做法\r\n\r\n\t\t若沒有debuff，且我方刀可以穩上破防，那盾直接換武重壓也是個不錯的玩法\r\n\r\n\t\t當重壓打下去後，接著就能直接壓著對方打了\r\n\r\n\t   反制/缺點:\r\n\r\n\t    基本上非常非常非常的吃反應\r\n\r\n\t\t因為你必須看對方刀出空招就猛掉\r\n\r\n\t\t或我方刀打對方刀一個後仰去猛\r\n\r\n\t\t或者火刀猛過來的盾(對方盾猛我方刀)後大跳騙暈\r\n\r\n\t\t因此非常考驗第1常駐技能的切換反應\r\n\r\n\t\t此外因為要等對方盾暈了才暈，因此也有被單暈的可能\r\n\r\n\t\t但只要反應跟得上，對方的出招空間就會變的非常小\r\n\r\n\t   風險: \r\n\t     反應不高: 超高風險\r\n\t\t 反應高: 極低風險(理論上0風險)\r\n\r\n\t   [相關影片](\r\n\r\n\t  猛擊空殘的刀\r\n\r\n\t   目標:\r\n\r\n\t    猛掉對面刀後暈對方盾，或猛掉對面刀後讓盾暈賺抗暈\r\n\r\n\t\t此外由於起身需要時間，也可利用這個時間打亂對方的陣形\r\n\r\n\t\t但猛的時候務必要控好魔，不要猛過頭，該出暈的時候反而沒魔暈\r\n\r\n\t   反制/缺點:\r\n\r\n\t    基本上沒有缺點，唯一的缺點就是很吃反應\r\n\r\n\t\t畢竟盾隨時都要準備暈人，因此非常的吃第1常駐技能的切換\r\n\t\t\r\n\t\t而盾若反應慢的話，要小心對面刀用足破+殘\r\n\r\n\t\t猛的慢的話，有可能被足破騙到飛過去吃殘\r\n\r\n\t   風險:\r\n\t     反應不高: 超高風險\r\n\t\t 反應高: 極低風險(理論上0風險)\r\n\r\n\t   [相關影片](\r\n\t\r\n\t  猛擊漆黑的刀\r\n\r\n\t   目標:\r\n\r\n\t    基本上跟`猛擊空殘的刀`是差不多的狀況\r\n\r\n\t\t但這個猛是很重要的，若我方刀被黑到，沒來得及猛掉對方刀\r\n\r\n\t\t那就有可能會被單暈並吃到很多殘\r\n\r\n\t   反制/缺點:\r\n\r\n\t    同`猛擊空殘的刀`\r\n\r\n\t   風險:\r\n\t     反應不高: 超高風險\r\n\t\t 反應高: 極低風險(理論上0風險)\r\n\r\n\t   [相關影片](\r\n\r\n\t  大跳賺抗暈\r\n\r\n\t   目標:\r\n\r\n\t    騙抗暈，當對方盾暈的時候往回大跳\r\n\r\n\t   反制/缺點:\r\n\r\n\t    非常的吃反應，一個沒用成功，可能就會被單暈了\r\n\r\n\t\t另外也很仰賴刀的位置，若我方刀位置很靠前的話\r\n\r\n\t\t往回大跳後，我方刀若沒有拆掉對方盾，那刀的狀況有可能會很危險\r\n\r\n\t\t儘量不要在我方刀太靠前的時候用此招比較好\r\n\r\n\t   風險:\r\n\t     反應不高: 超高風險\r\n\t\t 反應超高: 低風險\r\n\r\n\t   [相關影片](\r\n\r\n\x3c!--\r\n僵持戰\r\n    刀\r\n        卡位                       [相關影片](\r\n        紅黃圈足破                 [相關影片](\r\n        紅黃圈漆黑                 [相關影片](\r\n        微笑走位                   [相關影片](\r\n    盾\r\n        卡位                       [相關影片](\r\n        微笑走位                   [相關影片](\r\n        //誘導走位\r\n\r\n主動開戰\r\n    刀\r\n        漆黑(對刀)+猛擊            [相關影片](\r\n        毒蛇(對刀)+猛擊            [相關影片](\r\n        直接拆武                   [相關影片](\r\n        小跳騙暈                   [相關影片](\r\n    盾\r\n        對暈                       [相關影片](\r\n        單暈對方刀                 [相關影片](\r\n        單暈對方盾                 [相關影片](\r\n        猛掉緩速的人暈另一個人     [相關影片](\r\n        強制開戰                   [相關影片](\r\n        拔忍痛猛擊                 [相關影片](\r\n\r\n反制開戰\r\n    刀\r\n        對方刀黑立刻小跳跌倒       [相關影片](\r\n        盾被單暈                   [相關影片](\r\n    盾\r\n        刀被單暈                   [相關影片](\r\n        反手暈                     [相關影片](\r\n        猛擊空殘的刀             [相關影片](\r\n        猛擊漆黑的刀               [相關影片](\r\n        大跳賺抗暈                 [相關影片](\r\n--\x3e",word_token:["局勢","2","玩法","基本上","可以","用局","勢來","做個","區別","分別","`","僵持","戰","`","`","開戰","`","`","會戰","`","其中","會戰","優勢","`","追逐","戰","`","劣勢","`","撤退","戰","`","@","startuml","僵持","戰","為","開戰","準備","開戰","精確","來","說","有人","發動","了暈","就是","要","開戰","state","會戰","追逐","戰","優勢","追擊","敵人","撤退","戰","劣勢","回穩","局面","-","-","僵持","戰","開局","僵持","戰","-","開戰","開戰","-","會戰","會戰","-","-","僵持","戰","會戰","-","-","開戰","會戰","-","-","結束","一局","@","enduml","而","本篇","最","主要","會介紹","為","`","僵持","戰","`","`","開戰","`","部分","基本上","精確","來","說","有人","發動","了暈","就是","要","開戰","而","開戰","成敗","不僅","取決","於","開戰時","雙方","出招","成敗","主因","大程度","上","於","僵持","戰時","4","人","位置","僵持","戰","僵持","戰","最大","目地","為","讓","開戰","比","對方","優勢","像是","盾","怎麼","走","才","好暈","暈到","刀","才","好","上","招","而","刀","開暈","時候","要","好","上","招","就是","要","盡","可能","去","貼","近","敵人","然而","太貼","近","會","吃暈","吃","殘","風險","因此","怎麼","走","可以","避免","掉","這些","風險","等等","僵持","戰","需要","注意","細節","站位","暈能","製","造","開","戰","而","由","於","盾暈","發動","速度","極快","因此","2","時","盾","若","需要","集中","精神","兩個","人","那空暈","被","單暈","機會","高","因此","4","人","站位","會極","大","左右","開戰","勝敗","case","1","如下","圖","蘭方刀","只能","打到","紅方刀","而","紅方刀","可以","上到","2","個","人","而","紅方盾","只","需要","對蘭方盾","因此","紅方刀","幫紅方盾","分攤","極大","對線","壓力","讓","紅方盾","可以","比較","專心","對蘭方盾","當然","紅方盾","還是","要","注意","對方紅","藍方刀","動向","只是","紅方盾","對線","壓力會","比蘭方盾","至於","紅方刀","由","於","要","對","兩個","人","因此","紅方刀","位置","當然","就是","4","人中","風險","最高","卡位","case","2","如下","圖","紅方盾","需要","對峙","蘭方","兩人","而","紅方刀","位置","則沒有","對線","作用","因此","對線","壓力","會","完全","落","紅方盾","身上","並且","這種","狀況","下","開戰","話","紅方刀","會","難","上","招","因為","藍方刀","可以","直接","上到","紅方盾","而","紅方刀","位置","會","被","藍方刀","卡住","可能","被","漆黑","斷招","因此","紅方刀","其實","處","於","一個","比","較","難","上","招","位置","卡位","總結來","說","如下","圖","圖","1","圖","2","會","比","較","正常","對線","陣形","並且","基本上","盾","跟盾","距離","維持","在暈","紅黃圈","因此","實際","上","比","較","會","左右","陣形","其實會","兩邊","刀","對","距離","把握","離盾","太近","會","被","盾暈","可能","太遠則","會","失去","壓制力","導致盾","不好","開","自己","不好","上招","而","如圖","3","圖","4","則是","比","較","一面倒","狀況","如圖","3","盾","互暈","話","刀","b","會","被","逼","只能","刀","拼招","因此","刀","盾","機本","上","不太可能","會","被","上","招","而","刀","b","盾","則","可能","會","吃","殘","而圖","4","話","刀","b","狀況","淒慘","互暈","情況","下","將會","非常","難","出手","像","圖","3","圖","4","狀況","要不是","刀","b","要","想","辦法","往前","壓","不然","就是","盾要","適當","後","退","以退","為","進","用後退","空間","換取","壓制","空間","但","這麼","要","小心","因為","一直","退","話","持早","會變","退","無","可退","會","被","逼入","強制","開戰","局面","卡位","刀","卡位","刀","爭取","好","開戰","位置","時","必然","會","想要","能爭","取到","1","會戰點","好","上","招","甚至","0","會戰點","上","招","然而","爭取","位置","時候","最大","風險點","被","暈還","沒出","任何","一招","其次","則是","被","對","方刀","黑","猛","甚至","毒蛇","猛","2","被","火","毒","非常","吃","虧","因此","刀要","以紅黃","走位","為","主去","維持","距離","並時刻","小心","對方","出奇","招","而","這些","可以","透過","對方","走位","去","觀察到","尤其","對方","突然","像","靠近","可能","想","抓","刀","去","進行","開戰","相關","影片","紅黃圈","足破","目標","對峙","時","對","著盾","踢","足","破","高","機率","可以","騙到","對","面盾","空暈","因為","出招","瞬間","盾","可能","會","想要","抓","漆黑","猛","掉","或暈","如果","是暈","只要","能","走掉","我方","盾能","單暈","對方","這波","開戰","會","佔","據","非常","高","優勢","其次","如果","足破","踢","對","方盾","對","方行動","受限","我方","會","更好","開戰","如果","接著","可以","再","上","對","方盾","紅黃圈","漆黑","那開","戰前","對方盾","會","被","上","2","個","殘","反制","缺點","由","於","發動","快","收招","快","因此","不時","踢","個","足","破","其實","不太會","被","反制","但","時","若","小心","靠","太近","則有","可能","會","被","對方","刀","黑到","風險","低","相關","影片","紅黃圈","漆黑","目標","當對","方盾","被","黑","情況","下","即便","還是","可以","掌握","狀況","但面","對","紅黃圈","這種","極度","細膩","距離","會","非常","難","抓","因此","紅黃圈","漆黑","要是","能","命中","對","對","方盾","來","說","將是","不小","打擊","而","如果","對","面盾","想","抓","紅黃圈","漆黑","去暈","只要","一暈空","可能","被","單暈","漆黑","算是","非常","難","抓","技能","因為","黑","可能","打","盾","身上","可能","想","黑刀","反制","缺點","漆黑","畢竟","還是","滿耗","魔","此外","黑空","話","對","面盾","可能","會","猛飛","若","我方","盾","這時暈","下去","對","面盾","會","賺","抗暈","因此","吃","我方","盾","反應","這時","我方","盾","只能","選擇","慢慢","退掉","火刀","後","慢慢","退掉","最慘","情況","可能","會","吃","對方","毒蛇","猛","但","這種","情況","比","較","容易","遇到","因為","這要","反應","很快","才","得到","風險","中低","相關","影片","微笑","走位","目標","卡位","時","盾","會","選擇","直接","對","著刀","去","猛擊","開戰","因此","對線","周旋","時","適當","加入","微笑","走位","會","非常","重要","一方面","警告","對方","不要","輕易","去","猛擊","再來","對面","如果","猛擊","躲","掉","瞬間","上","對方","繳械","並且","我方","盾","去","暈對","方盾","這場","基本上","就算","拿下","反制","缺點","不過","由","於","使用","微笑","走位","會","變成","必須","固定","往一邊","走","換邊","時","或者","調整","位置","不能","繞圓弧","走","時候","被","猛到","還是","會","飛","走","這些","時","機點","要","小心","敵對盾","使用","猛擊","風險","極低","相關","影片","盾","卡位","盾","基本上","肩負","起","維持","對線","陣形","中堅","作用","可以","說盾","如果","扛不住","對線","壓力","基本上","戰線","會","一直","往後退","直到","退無可退","後","被","強制","開戰","而盾","2","對線","最","主要","作用","就是","要","卡住","對方盾","並且","維持","住","這個","距","離感","當盾","辦法","維持","住","這個","距離","感時","刀","才","機會出","一些","紅黃圈","攻擊","否則","刀","無法","幫盾","做出","什麼","攻擊","畢竟","戰線","隨時","可能","突然","後","撤","情況","下","刀","只要","往前","卡","太緊","戰線","一退","刀馬上","會","被暈","此外","就是","以上","基礎","上","再","儘","可能","去給","對","方刀","壓力","卡住","甚至","暈對方","刀","相關","影片","微笑","走位","目標","卡位","時候","不要","忘","僵持","戰","目的","為","開戰","好","開","因此","卡住","位置","同時","不要","忘","自己","刀","位置","如果","自己","刀","位置","太","過後面","話","可以","適當","去","旋","轉戰線","讓","自己","刀","自動","往前","反制","缺點","由","於","走位","時要","自己","刀","位置","去","調整","陣形","因此","考驗盾","注意力","分配","當在","注意","自己","刀","時候","比","較","容易","被","單暈","時候","但","這","算是","非戰","之罪","畢竟","沒","刀","位置","去","開戰","可能","還","更加","危險","風險","極低","相關","影片","主動","開戰","一般","來","說","剛入門","2","玩家","通常","會","讓","盾","來","主動","開戰","並且","想法","上會","比","較","刻板","印象","覺得","開戰","就是","盾","事情","但","實際上","開戰","只是","盾","事情","盾","刀","可以","進行","開戰","但","當然","盾","刀","相比","確實","只有","盾","擁有","強制","開戰","能力","刀","漆黑","對刀","猛擊","目標","漆黑","刀","時候","對方刀","會","個後仰","這時盾","可以","猛擊","刀","運氣","好","對","面盾暈","我方","盾","話","我方","盾還","可以","賺","抗暈","此外","有時","黑刀","可","讓","我方","盾","機會","好","暈刀","反制","缺點","風險點","為","黑","時候","位置","過於","靠近","盾","導致","被","單暈","或者","出空招","被","猛飛","我方","盾暈","對","方盾","但","其實","這種","狀況","我方","盾","上","幾下","火刀","後","走掉","接著","慢慢","退掉","等待","抗暈","結束","打","可以","風險","中低","風險","相關","影片","毒蛇","對刀","猛擊","目標","`","漆黑","對刀","猛擊","`","是類","似的","概念","但","更強","地方","毒蛇","會","讓","對方","中毒","2","中毒","很傷","發動時","盾要","直接","對","著刀","猛擊","如果","看到","對方","被","咬","才","猛","那會","變成","被","雙拆","反制","缺點","人物","移動時","毒蛇","沒","那麼","好","並且","盾","要","配合","話","必須","直接","猛","如果","毒蛇","沒","咬","猛擊","打過","去","容易","會","吃","雙拆","但","如果","真的","咬","對","方盾","就要","猛擊","我方","刀","就是","想","辦法","刀","打","跌倒","畢竟","被","咬","刀","這時","應該","已經","被","猛飛","如果","沒","刀","打","跌倒","被","暈到","一定","會","吃","殘","風險","高風險","相關","影片","直接","拆武","目標","直接","拼雙","拆","換暈","運氣","好","直接","拆","兩","反制","缺點","由","於","拆","距離","真的","不長","因此","被","單暈","可能性","高","算是","奇招","奇招","只要","盾","反應","不要","太慢","看到","對方","刀過","於","往前","可以","直接","暈刀","並且","若暈","完刀","後","對","面盾","還能","我方","盾","猛飛","話","基本上","這局","應該","會","直接","輸","風險","超高","風險","相關","影片","跳","騙暈","目標","一般","走位","上","故意","往前","再","跳","走","機會","騙","對","面盾","放暈","因為","刀","故意","往前走","其實","可能","想要","拼雙","拆","而","對","面盾","空暈時","我方","盾","機會","單暈","對","方盾","反制","缺點","往前","時候","可能","會","被","單暈","此外","跳","落地","時","可能","被","猛飛","而暈","後","其","實能","上","招","畢竟","只能","打","2","會戰點","風險","中高","風險","相關","影片","盾","對暈","目標","直接","暈對","方盾","有時","運氣","好會","可能","暈出","雙暈","算是","2","一種","經典","狀況","考驗","刀","處理","能力","反制","缺點","除非","對暈","時刻","我方","刀","位置","比對","方刀","好","否則","對暈","後","我方","刀","若","不好","上招","基本上","就是","虧","但","若","我方","刀","比","較","會","玩","話","可能","反","拆","對方","最終","開贏","風險","視情況","而定","相關","影片","單暈","對方","目標","抓","對方","走位","失誤","暈對方","單暈","刀","此種","狀況","下","比較","考驗","刀","反應","能力","由","於","還會","被","對","方盾","猛飛","可能","因此","一定","要","微笑","走位","避免","往前走","直接","被","猛飛","另外","可用","足破","殘騙","雙拆","但","遇到","直接","猛擊","盾","反而","會","只能","上到","雙足","破","面對","這種","狀況","直接","繳械","反而","可以","雙拆","相關","影片","單暈盾","此時","我方","盾","能夠","猛","掉","對","方刀會","比","較","好","狀況","我方","刀","可以","往前","黑對","方刀","打","一個後仰","讓","我方","盾","去","接","此外","單暈","盾","時候","若","我方","刀","被","猛","掉","那盾","上個","火刀","後","走掉","即可","相關","影片","反制","缺點","可能","變成","對暈","並且","沒暈","話","可能","會","被","對","方盾","單暈","風險","極高","猛掉","緩速","人暈","另","一個","人","目標","若","對","方刀","被","緩速","猛刀","暈盾","若","對","方盾","被","緩","話","直接","猛盾","可能","會","被暈","接著","被","刀","反制","缺點","若距離","沒","掌握","好","可能","會","猛","掉","刀","時候","吃","力破","但","距","離夠","近","話","一般","頂","多只","會","吃","足","破","甚至","不會","吃","殘","而","猛","掉","對","面刀","後","對面","盾","可以","反制","可以","猛","瞬間","對","方盾","猛","掉","或者","火刀","接著","往回","大","跳","騙","抗暈","風險","低風險","相關","影片","強制","開戰","目標","往前走","然後硬暈","一個","可能","使用","時機","1","對面","刀","被","力破","並且","魔","被扣","差不多","時候","強開","逼","對方","開戰","2","對面","血少","連","我方","刀","毒蛇","可以","咬","死","人時","強開","3","抗暈","後","直接","往前","開一個","反制","缺點","由","於","盾","要","往前走","硬開","因此","被","單暈","可能性","非常","高","另外","我方","刀","可能","會","難","上","招","畢竟","盾","直接","往前走","刀","開戰前","沒","機會","拉","近距","離","風險","視情況","而定","相關","影片","拔","忍痛","猛擊","目標","猛掉","刀後騙","抗暈","但","比","較常見","單純","被","暈倒","反制","缺點","可能","吃","殘後吃","到暈","但","這種","狀況","比較","不會","發生","一般","會","被","暈倒","位置","不夠","好","我方","刀","不好","掩護","另外","起身","後","沒","忍痛","因此","對","開戰來","說","比","較","方便","真正","可以","拿來","開戰","抗暈","時間","會","比","較","短","風險","視情況","而定","一般","來","說","高風險","相關","影片","反制","開戰","fez","機制","由","於","反手","判定","較","寬","機制","因此","近職","被","動出","招","某些","對線","情況","中會","極具","優勢","像是","打","或者","打國","戰時","打主線","打","邊線","時","對方","支援","來","很慢","敵人過","於","主動開","打","等等","情形","反制","開戰","會","好","用","不過","打國","戰時","奇襲","敵人","最好","打法","反制","開戰","容易","花太多","時間","對線","上","但","打","時","反制","開戰","通常","最好","打法","奇襲","敵人","一般","來","說","容易","成功","刀","對方刀","黑","立刻","跳","跌倒","目標","被","對","方刀","黑","瞬間","跳","跌倒","讓","對面","盾","猛過","來","吃暈","爬","起來","後","直接","殘","反制","缺點","玩盾","人","一定","要","細微","去","判斷","我方","刀","黑有","沒有","黑出","一個後仰","若能","判斷","出","有後仰","才","猛","辦法","破解","這招","而","這招","非常","非常","非常","吃","經驗","反應","因此","算是","相當難","實踐","招數","沒用","好","可能","就是","突然","來","個","奇怪","跳","然後被","猛飛","風險","中風險","相關","影片","盾","被","單暈","這是","玩刀","必須","面","對","經典","經典","困境","基本上","必虧","局面","但","若","對方","失誤","機會","逆","轉反","打","絕境","重生","而此","狀況","最","重要","就是","捨","棄掉","保盾","想法","想","辦法","控制","住","局面","基本","邏輯","為","想","辦法","微笑","走位","同時","還能","逼","對","方刀","不好","上招","且","1","對","方刀","要","上","招前","黑斷","當然","放","完","黑後有","可能","會","被","猛飛","2","挑好","位置","對","方刀","拼","對","拆","因此","只能","出","一招","情況","下","我方","盾","基本上","必吃","一招","但","如何","狀況","壓制","我方","盾","吃","一招","殘","算是","此種","狀況","所","需","考慮","我方","盾","被","單暈","後","若能","壓迫","對","方刀","不好","上招","盾","不好","猛","越","機會","爭取","我方","盾","解暈","時間","降低","盾","被","上","招","風險","相關","影片","盾","刀","被","單暈","這也","算是","盾會","遇到","一個","經典","狀況","若刀","被暈","時候","沒","盾","猛","掉","基本","解法","就是","微笑","走位","對","面刀","出殘","後","刀","猛","掉","好","絕對","要","避免","被","對","面盾","猛飛","這樣","刀","基本上","死定了","若刀","被暈","時候","盾","猛","掉","往前","壓","位置","讓","對","方刀","不好","上招","好","相關","影片","反手","暈","目標","絕不主動","出手","暈對方","盾","只","抓","對","方盾暈","時候","反手","暈","單暈","對方","我方","可以","佔據","完全","優勢","打法","而當","兩邊盾","這樣","玩","只能","拼","僵持","戰","誰","位置","好","誰","盾","反應力","好","或者","哪邊","刀","率先","打出","破口","而","單暈","對","方盾","後","最好","1","往前","壓","位置","讓","對","方刀","不好","出招","2","對","方刀","出招","猛","掉","暈他","由","於","目前","版本","2020","5","20","雙修換","大劍會","5","debuff","因此","盾","繼續","拿盾","壓制","會","最","穩健","做法","若","沒","debuff","且","我方","刀","可以","穩上","破防","那盾","直接","換武","重壓","個","不錯","玩法","當重","壓","打","下去","後","接著","能","直接","壓著","對方","打","反制","缺點","基本上","非常","非常","非常","吃","反應","因為","必須","對","方刀","出空招","猛","掉","我方","刀","打","對","方刀","一個後仰","去","猛","或者","火刀","猛過","來","盾","對方盾","猛","我方","刀","後","大","跳","騙暈","因此","非常","考驗","1","常駐","技能","切換","反應","此外","因為","要","對","方盾暈","才暈","因此","被","單暈","可能","但","只要","反應","跟得上","對方","出","招空間","會","變","非常","風險","反應","不高","超高","風險","反應","高","極低","風險","理論","上","0","風險","相關","影片","猛擊","空殘","刀","目標","猛掉","對面","刀後暈","對","方盾","猛","掉","對","面刀","後","讓","盾暈","賺","抗暈","此外","由","於","起身","需要","時間","可","利用","這個","時間","打亂","對方","陣形","但","猛","時","候務","必要","控好","魔","不要","猛過頭","該","出暈","時候","反而","沒魔暈","反制","缺點","基本上","沒有","缺點","唯一","缺點","就是","吃","反應","畢竟","盾","隨時","要","準備","暈人","因此","非常","吃","1","常駐","技能","切換","而盾","若","反應慢","話","要","小心","對面","刀用","足破","殘","猛","慢","話","可能","被","足","破","騙","飛過","去","吃","殘","風險","反應","不高","超高","風險","反應","高","極低","風險","理論","上","0","風險","相關","影片","猛擊","漆黑","刀","目標","基本上","`","猛擊","空殘","刀","`","差不多","狀況","但","這個","猛","重要","若","我方","刀","被","黑到","沒來","猛","掉","對","方刀","可能","會","被","單暈","並吃到","很多","殘","反制","缺點","同","`","猛擊","空殘","刀","`","風險","反應","不高","超高","風險","反應","高","極低","風險","理論","上","0","風險","相關","影片","大","跳","賺","抗暈","目標","騙","抗暈","當對","方盾暈","時候","往回","大","跳","反制","缺點","非常","吃","反應","一個","沒用","成功","可能","會","被","單暈","另外","仰賴刀","位置","若","我方","刀","位置","靠","前","話","往回","大","跳","後","我方","刀","若","沒","拆掉","對方盾","那刀","狀況","可能","會","危險","儘","量","不要","我方","刀太靠","前","時候","用","招比","較","好","風險","反應","不高","超高","風險","反應","超高","低風險","相關","影片","-","-","僵持","戰","刀","卡位","相關","影片","紅黃圈","足破","相關","影片","紅黃圈","漆黑","相關","影片","微笑","走位","相關","影片","盾","卡位","相關","影片","微笑","走位","相關","影片","誘導","走位","主動","開戰","刀","漆黑","對刀","猛擊","相關","影片","毒蛇","對刀","猛擊","相關","影片","直接","拆武","相關","影片","跳","騙暈","相關","影片","盾","對暈","相關","影片","單暈","對","方刀","相關","影片","單暈","對","方盾","相關","影片","猛掉","緩速","人暈","另","一個","人","相關","影片","強制","開戰","相關","影片","拔","忍痛","猛擊","相關","影片","反制","開戰","刀","對方刀","黑","立刻","跳","跌倒","相關","影片","盾","被","單暈","相關","影片","盾","刀","被","單暈","相關","影片","反手","暈","相關","影片","猛擊","空殘","刀","相關","影片","猛擊","漆黑","刀","相關","影片","大","跳","賺","抗暈","相關","影片","-","-"],key_words:[{word:"相關",weight:540.0033981258429},{word:"開戰",weight:446.0897636691746},{word:"風險",weight:410.87215074792397},{word:"我方",weight:336.88082293606},{word:"影片",weight:335.27728438843997},{word:"單暈",weight:293.48010767708854},{word:"對方",weight:258.2624947558379},{word:"猛擊",weight:258.2624947558379},{word:"反制",weight:253.4869384075},{word:"缺點",weight:234.78408614167083},{word:"目標",weight:211.30567752750375},{word:"時候",weight:211.30567752750375},{word:"反應",weight:211.30567752750375},{word:"方刀",weight:199.56647322042022},{word:"狀況",weight:199.56647322042022},{word:"方盾",weight:187.82726891333667},{word:"走位",weight:176.0880646062531},{word:"可能",weight:131.18097950055},{word:"抗暈",weight:129.13124737791895},{word:"對線",weight:129.13124737791895},{word:"位置",weight:124.84206289478},{word:"僵持",weight:118.80054832334001},{word:"漆黑",weight:117.72882724575001},{word:"猛飛",weight:117.39204307083541},{word:"紅黃圈",weight:117.39204307083541},{word:"卡位",weight:115.2185882697},{word:"紅方刀",weight:105.65283876375187},{word:"並且",weight:105.65283876375187},{word:"直接",weight:96.78138667600001},{word:"面盾",weight:93.91363445666833}],excerpt:"局勢 2on的玩法，基本上可以用局勢來做個區別 分別是僵持戰，開戰，跟會戰 其中會戰又分優勢的追逐戰，跟劣勢的撤退戰 @startuml 僵持戰 : 為開戰做準備 開戰 : 不精確來說，有人發動了暈，就是要開戰了 state 會戰 { 追逐戰 : 優勢追擊敵人 撤退戰 : 劣勢回穩局面 } [] --\x3e 僵持戰 : 開局 僵持戰 -> 開戰 開戰 -> 會戰 會戰 --\x3e 僵持戰 會戰 --\x3e 開戰 會戰 --\x3e [] : 結束一局 @enduml 而本篇最主要會介紹到的，為僵持戰跟開戰的部分 基本上，不精確來說，有人發動了暈，就是要開戰了 而開戰的成敗，不僅取決於開戰時，雙方的出招 成敗的主因，更大程度上，在於僵持戰時4人的位置 僵持戰 僵持戰最大的目地，是為了讓開戰有比對方更多的優勢 像是盾怎麼走才好暈，暈到了刀才好上招 而刀在開暈的時候要好上招，就是要盡可能的去貼近敵人 然而太貼近又..."},{title:"Hello VueJCBlog",frontmatter:{title:"Hello VueJCBlog",datetime:"2019/3/7",is_tmp:!0,meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Hello VueJCBlog"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/3.%20%E5%90%84%E8%81%B7%E7%8E%A9%E6%B3%95/%E5%88%80.html"},{name:"twitter:title",content:"Hello VueJCBlog"},{name:"twitter:url",content:"/Game/FEZ/3.%20%E5%90%84%E8%81%B7%E7%8E%A9%E6%B3%95/%E5%88%80.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"擊飛, 神小跳, 反猛, 走位, 出手, 微笑"},{property:"article:tag",content:"擊飛"},{property:"article:tag",content:"神小跳"},{property:"article:tag",content:"反猛"},{property:"article:tag",content:"走位"},{property:"article:tag",content:"出手"},{property:"article:tag",content:"微笑"}]},regularPath:"/Game/FEZ/3.%20%E5%90%84%E8%81%B7%E7%8E%A9%E6%B3%95/%E5%88%80.html",relativePath:"Game/FEZ/3. 各職玩法/刀.md",key:"v-6890df9a",path:"/Game/FEZ/3.%20%E5%90%84%E8%81%B7%E7%8E%A9%E6%B3%95/%E5%88%80.html",git:{created:"5/20/2020, 5:38:32 PM",updated:"11/13/2019, 10:35:17 PM",author:"PC\\JC",commits:[{fullHash:"d5145dd73a217bae1b306cecdbeca49be6711959",authorTime:"1589967512",commitTime:"1589967512",authorName:"PC\\JC"},{fullHash:"a5f6d6cf81cef459c3f21791438c73218a9a5c04",authorTime:"1573655717",commitTime:"1573655717",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"反猛\r\n    微笑走位\r\n    神小跳\r\n    預出手\r\n        有被擊飛\r\n        沒被擊飛",word_token:["反猛","微笑","走位","神小跳","預","出手","被","擊飛","沒","被","擊飛"],key_words:[{word:"擊飛",weight:23.478408614167083},{word:"神小跳",weight:11.739204307083542},{word:"反猛",weight:11.739204307083542},{word:"走位",weight:11.739204307083542},{word:"出手",weight:7.23754495598},{word:"微笑",weight:6.80395627348}],excerpt:"反猛 微笑走位 神小跳 預出手 有被擊飛 沒被擊飛"},{title:"3on 共通玩法介紹",frontmatter:{title:"3on 共通玩法介紹",datetime:"2020/5/21",meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"3on 共通玩法介紹"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/5.%203on/3on%E5%85%B1%E9%80%9A%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html"},{name:"twitter:title",content:"3on 共通玩法介紹"},{name:"twitter:url",content:"/Game/FEZ/5.%203on/3on%E5%85%B1%E9%80%9A%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"開戰, 對方, 大劍, 陣形, 伸張, 騙暈, 紅黃圈, 血量, 優勢, 一個, 狀態, 狀況, 輸出, 技能, 反手, 漆黑, 舉例, 主動, 破綻, 走位, 吹掉, 水池, 沒有, 吹飛, 優先, 時候, 原則, 收頭, 空間, 攻擊"},{property:"article:tag",content:"開戰"},{property:"article:tag",content:"對方"},{property:"article:tag",content:"大劍"},{property:"article:tag",content:"陣形"},{property:"article:tag",content:"伸張"},{property:"article:tag",content:"騙暈"},{property:"article:tag",content:"紅黃圈"},{property:"article:tag",content:"血量"},{property:"article:tag",content:"優勢"},{property:"article:tag",content:"一個"},{property:"article:tag",content:"狀態"},{property:"article:tag",content:"狀況"},{property:"article:tag",content:"輸出"},{property:"article:tag",content:"技能"},{property:"article:tag",content:"反手"},{property:"article:tag",content:"漆黑"},{property:"article:tag",content:"舉例"},{property:"article:tag",content:"主動"},{property:"article:tag",content:"破綻"},{property:"article:tag",content:"走位"},{property:"article:tag",content:"吹掉"},{property:"article:tag",content:"水池"},{property:"article:tag",content:"沒有"},{property:"article:tag",content:"吹飛"},{property:"article:tag",content:"優先"},{property:"article:tag",content:"時候"},{property:"article:tag",content:"原則"},{property:"article:tag",content:"收頭"},{property:"article:tag",content:"空間"},{property:"article:tag",content:"攻擊"}]},regularPath:"/Game/FEZ/5.%203on/3on%E5%85%B1%E9%80%9A%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html",relativePath:"Game/FEZ/5. 3on/3on共通玩法介紹.md",key:"v-6f7fa8b4",path:"/Game/FEZ/5.%203on/3on%E5%85%B1%E9%80%9A%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html",headers:[{level:2,title:"僵持戰",slug:"僵持戰"},{level:3,title:"應對原則",slug:"應對原則"},{level:3,title:"卡位",slug:"卡位"},{level:3,title:"陣形",slug:"陣形"},{level:3,title:"消血",slug:"消血"},{level:3,title:"上狀態",slug:"上狀態"},{level:3,title:"吹飛",slug:"吹飛"},{level:2,title:"開戰",slug:"開戰"},{level:3,title:"應對原則",slug:"應對原則-2"},{level:3,title:"開戰考量因素",slug:"開戰考量因素"},{level:3,title:"開戰可能目標",slug:"開戰可能目標"},{level:3,title:"開戰可能手段",slug:"開戰可能手段"},{level:2,title:"主動開戰",slug:"主動開戰"},{level:3,title:"適用情境",slug:"適用情境"},{level:3,title:"一般開戰",slug:"一般開戰"},{level:3,title:"吹飛開戰",slug:"吹飛開戰"},{level:3,title:"連攜開戰",slug:"連攜開戰"},{level:3,title:"佯攻開戰",slug:"佯攻開戰"},{level:3,title:"暴力開戰",slug:"暴力開戰"},{level:2,title:"反制開戰",slug:"反制開戰"},{level:2,title:"會戰",slug:"會戰"},{level:2,title:"讓僵直",slug:"讓僵直"},{level:2,title:"要小心的心態",slug:"要小心的心態"},{level:2,title:"收頭",slug:"收頭"},{level:2,title:"狀況不好",slug:"狀況不好"},{level:2,title:"對方打的很風箏怎麼辦?",slug:"對方打的很風箏怎麼辦"},{level:2,title:"被力破的應對",slug:"被力破的應對"},{level:2,title:"計算PW",slug:"計算pw"},{level:2,title:"看隊友位置",slug:"看隊友位置"},{level:2,title:"水池戰",slug:"水池戰"}],git:{created:"7/25/2020, 2:20:13 AM",updated:"7/18/2020, 4:54:00 PM",author:"PC\\JC",commits:[{fullHash:"793674af3df037fe9ddb72954e595ab822ffe1ca",authorTime:"1595614813",commitTime:"1595614813",authorName:"PC\\JC"},{fullHash:"0637039e4a44d45fce011f3ad87bcec787d95e41",authorTime:"1595062440",commitTime:"1595062440",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"各局勢的主要目標\r\n\r\n 僵持戰\r\n\r\n 應對原則\r\n\r\n為開戰做準備\r\n\r\n 卡位\r\n\r\n如果位置不夠近，開戰時往前走會有被吹掉，或被敵人限制走位的風險\r\n\r\n位置卡的夠近，給予對方提防預出手的壓力，我方整體來說出手空間才會大\r\n\r\n 陣形\r\n\r\n有的時候中間位置的人適合做佯攻\r\n\r\n兩側則為實際進攻者\r\n\r\n有的時候若對方陣形失誤，或者出奇招，或者不得不進攻\r\n\r\n也可以讓中間的人去開戰，兩側輔助\r\n\r\n若再考慮上職業配置的話\r\n\r\n陣形有非常多種變化，位置決定手段\r\n\r\n以下舉3個例子\r\n\r\n 鏡之陣\r\n\r\n      大劍 盾 刀\r\n      大劍 盾 刀\r\n  \r\n  最base的陣形\r\n\r\n  最主要的開戰者為大劍、刀，而盾一般比較不適合當主要開戰者\r\n\r\n  但當對方陣形失誤的話，盾也可以試著去開戰\r\n\r\n  像是盾直接暈刀，敵方盾過於突出...\r\n\r\n 旋轉陣\r\n\r\n      大劍 盾 刀\r\n      刀   盾 大劍\r\n\r\n  會帶有明顯旋轉狀況的陣形\r\n\r\n  非常考驗兩翼刀大劍交鋒的狀況\r\n\r\n  如果刀對不贏大劍，很容易造成陣形崩壞 vice versa\r\n\r\n 強襲陣\r\n  \r\n      大劍 刀 盾\r\n\r\n  一般來說，盾比較好強制開戰的陣形\r\n\r\n 消血\r\n\r\n開戰時，讓對方的血量難以出招換招\r\n\r\n| 可用技能舉例 |\r\n| --- | \r\n| 力衝 |\r\n| 空襲 |\r\n| 火箭 |\r\n| 毒箭 |\r\n| 強力 |\r\n| 精準 |\r\n| 雷a |\r\n| 雷b |\r\n| ... |\r\n\r\n 上狀態\r\n\r\n開戰前，製造狀態的不對稱，限制對方的開戰手段\r\n\r\n| 可用技能舉例 |\r\n| --- | \r\n| 珠絲 |\r\n| 足破 |\r\n| 力破 |\r\n| 漆黑 |\r\n| 冰a |\r\n\r\n 吹飛\r\n\r\n 騙暈\r\n 打亂陣形\r\n 對方被漆黑時吹飛對方，讓對方失去方向感\r\n\r\n| 可用技能舉例 |\r\n| --- | \r\n| 雷c |\r\n| 粉碎 |\r\n\r\n 開戰\r\n\r\n 應對原則\r\n\r\n 為下一波開戰製造優勢\r\n 上狀態，讓接下來的會戰好打\r\n 逆勢回穩，不得不開戰拼一波\r\n   沒撤退空間\r\n   時間快到\r\n   快被一個一個收頭，快變成被下水餃的局面\r\n\r\n由於主動攻擊會導致判定變廣，導致被抓反手\r\n\r\n因此在沒有好的破綻可抓時，儘量被動開戰\r\n\r\n有破綻可抓時，適當的主動開戰，但要小心破綻有可能是對方的佯攻\r\n\r\n 開戰考量因素\r\n\r\n位置、血量、狀態、人頭、時間\r\n\r\n 開戰可能目標\r\n\r\n 輸出壓低對方血量\r\n 上狀態\r\n 打亂陣形\r\n 收頭\r\n 逆勢回穩\r\n\r\n 開戰可能手段\r\n\r\n 輸出\r\n   無傷輸出、換傷輸出\r\n 消傷\r\n 擋傷\r\n   讓刀可以多上幾招\r\n 騙暈\r\n 小/大跳跌倒\r\n 上狀態\r\n 吹飛\r\n   躲吹飛\r\n   或故意被吹掉但吹之前出一招\r\n     輸出\r\n     吃補\r\n     補狀態\r\n 斷招\r\n   漆黑\r\n   伸張\r\n\r\n 主動開戰\r\n\r\n 適用情境\r\n\r\n 出奇不意\r\n 對方有破綻\r\n 不得不進攻\r\n\r\n 一般開戰\r\n\r\n開戰信號 | 可能開戰方式\r\n------- | --------\r\n有人被冰        | 直接開冰塊，或吹掉冰塊開其他人\r\n有血量、狀態優勢 | 鉗形攻勢、強制開戰\r\n兩邊近距離對峙   | 盾之間過於靠近，隨時可能互暈\r\n\r\n 吹飛開戰\r\n\r\n開戰信號 | 可能開戰方式\r\n------- | --------\r\n有緩速             | 猛掉緩速的，造成3打2局面\r\n弓、大劍出招       | 盾抓反手猛掉後，暈一個，打亂對方陣形\r\n有人`突然`過於靠近，或兩邊近距離對峙 | 攻擊+吹，像\r\n^^                |  粉碎換暈\r\n^^                |  盾刀攻擊+粉碎\r\n盾戰暈人           | 吹掉暈以外的人\r\n\r\n 連攜開戰\r\n\r\n在兩邊狀況都還不錯的情況下，要發動需要至少兩人為最小單位，一起開戰\r\n\r\n 被反手暈+吹賺抗暈\r\n\r\n  也可以被反手暈+黑+吹\r\n (大劍被暈+暈)+(漆黑+猛)\r\n\r\n  伸張盾騙暈，我方盾暈對方盾\r\n\r\n  刀黑對方刀，盾再猛掉對方刀\r\n\r\n  我方刀就可以多上盾很多招\r\n 伸張(刀)+猛\r\n 轉轉(刀)+猛\r\n 力衝(刀)+猛\r\n 毒蛇(刀)+被暈倒+猛(刀)\r\n 毒蛇(刀)+伸張+吹\r\n  當對方刀在邊線時這樣用比較好\r\n\r\n 佯攻開戰\r\n\r\n 盾誘導走位騙暈+大跳+(黑+吹)\r\n 大劍誘導走位騙暈+暈\r\n 小跳騙暈+暈\r\n 紅黃圈伸張+暈\r\n 紅黃圈足破+暈\r\n 紅黃圈漆黑+暈\r\n\r\n 暴力開戰\r\n\r\n適用情形\r\n\r\n 對方血量不好\r\n 鉗形攻勢\r\n\r\n可能開法\r\n\r\n 重壓/伸張/轉轉 + 重壓/伸張/轉轉\r\n\r\n 反制開戰\r\n\r\n 適用情境\r\n   我方有人頭優勢\r\n   對方沒有明顯破綻\r\n   這時適合走位主動，出招被動\r\n 優勢\r\n   可以讓敵人走過來撞技能\r\n    但對方還手的時候，自己已經走到射程外了\r\n 可能開法\r\n   大跳擋暈+殘\r\n   反手暈+猛\r\n   紅黃圈攻擊\r\n\t 紅黃圈伸張\r\n\t 紅黃圈漆黑\r\n   ...\r\n\r\n 會戰\r\n\r\n 輸出\r\n 控場\r\n\r\n  像是`黑+猛`\r\n\r\n 團隊合作的一些原則\r\n\r\n 讓僵直\r\n\r\n有些僵直要讓給適當的職業\r\n\r\n 毒蛇咬過來，繳械優先\r\n 暈肉破防優先\r\n 對方喝水/小跳讓盾先猛\r\n\r\n 要小心的心態\r\n\r\n被上狀態很可怕\r\n\r\n但沒有血量更可怕(打出血量優勢才好壓著打)\r\n\r\n沒有武器最可怕\r\n\r\n 收頭\r\n\r\n不要追一隻追到底，對好殺的人先殺\r\n\r\n 狀況不好\r\n\r\n 圍著牆繞圈\r\n 在牆上大跳\r\n 適當的蓋跳台\r\n 水池不要太輕易解掉無敵\r\n 避免下水餃，一個一個死\r\n\r\n 對方打的很風箏怎麼辦?\r\n\r\n舉例來說，遊俠一直空襲火箭、大劍一直力衝\r\n\r\n思路:\r\n\r\n 整體技能的狀況\r\n\r\n   如果是純刀\r\n\r\n\t那就不能一直被風箏，不然血跟消耗會被耗光\r\n\r\n\t言下之意，被風箏的3人，必須儘可能的往前貼，讓對方沒有射擊的空間\r\n\r\n\t刀要儘量往前貼，並且要避免被斷招、被吹走、以及開暫時沒血打\r\n\r\n\t盾要儘量開戰給隊友打、並且開戰後控掉(猛、暈、走位逼退)對面的刀\r\n\r\n\t大劍要儘量往前卡，讓刀好上招，並且在刀上到破防後，直接重壓打出血量優勢\r\n\r\n 如果技能配置差不多\r\n\r\n   比準度\r\n\r\n\t那就是比誰射的準、誰先射出血量優勢，有血量優勢後，開戰就會好開\r\n\r\n   比壓制度\r\n\r\n    如果射的比較不准，那就要儘早改成壓制型打法，也就是上述純刀的玩法\r\n\r\n 果斷\r\n\r\n  其實解法就是`比準度`或`比壓制度`，3人都要一起實踐同樣的策略\r\n\r\n  如果有人壓制、有人在射，那效果就會很差\r\n\r\n 個人要注意的狀況\r\n\r\n 被力破的應對\r\n\r\n 少出招，緩慢撤退\r\n 不要急著把魔打光\r\n\r\n 計算pw\r\n\r\n像是盾暈了2個，一般來說暈不出第3個，除非喝r藍\r\n\r\n 看隊友位置\r\n\r\n尤其是隊友能不能預出手\r\n\r\n 水池戰\r\n\r\n一定要小心被刀拆，水池刀很好神小跳，威脅極高\r\n\r\n被壓水池的話\r\n\r\n 刀一定要優先拆掉對方刀\r\n 重生時要避免輕易解掉無敵\r\n 最好在家裡蓋一個跳台吸傷害，增加活命機會\r\n\r\n [參考影片](",word_token:["各局","勢","主要","目標","僵持","戰","應對","原則","為","開戰","準備","卡位","如果","位置","不夠","近","開戰時","往前走","會","被","吹掉","被","敵人","限制","走位","風險","位置","卡的夠","近","給予","對方","提防","預","出手","壓力","方整","體來","說","出手","空間","才","會","大","陣形","時候","中間","位置","人","適合","佯攻","兩","側則","為","實際進","攻者","時候","若","對","方陣","形失誤","或者","出奇","招","或者","不得不","進攻","可以","讓","中間","人","去","開戰","兩側","輔助","若","再","考慮","上","職業","配置","話","陣形","非常","多種","變化","位置","決定","手段","以下","舉","3","個","例子","鏡之陣","大劍","盾","刀","大劍","盾","刀","最","base","陣形","最","主要","開戰者","為","大劍","刀","而盾","一般","比較","適合當","主要","開戰者","但當","對","方陣","形失誤","話","盾","可以","試著","去","開戰","像是","盾","直接","暈刀","敵方盾過","於","突出","旋轉陣","大劍","盾","刀","刀","盾","大劍","會帶","有明","顯旋","轉狀況","陣形","非常","考驗","兩翼","刀大劍","交鋒","狀況","如果","刀","對","贏大劍","容易","造成","陣形","崩壞","vice","versa","強襲陣","大劍","刀","盾","一般","來","說","盾","比","較","好","強制","開戰","陣形","消血","開戰時","讓","對方","血量","難以","出","招換","招","|","可用","技能","舉例","|","|","-","-","-","|","|","力衝","|","|","空襲","|","|","火箭","|","|","毒箭","|","|","強力","|","|","精準","|","|","雷","|","|","雷","b","|","|","|","上","狀態","開戰前","製","造","狀","態","對","稱","限制","對方","開戰","手段","|","可用","技能","舉例","|","|","-","-","-","|","|","珠絲","|","|","足破","|","|","力破","|","|","漆黑","|","|","冰","|","吹飛","騙暈","打亂","陣形","對方","被","漆黑","時吹飛","對方","讓","對方","失去","方向感","|","可用","技能","舉例","|","|","-","-","-","|","|","雷","c","|","|","粉碎","|","開戰","應對","原則","為","下","一波","開戰","製","造","優","勢","上","狀態","讓","接下","來","會","戰好","打","逆勢","回穩","不得不","開戰","拼一波","沒","撤退","空間","時間","快","快","被","一個","一個","收頭","快","變成","被","下水","餃","局面","由","於","主動","攻擊會","導致","判定","變廣","導致","被","抓","反手","因此","沒","好","破綻","可","抓時","儘","量","被","動","開","戰","有破綻","可","抓時","適當","主動","開戰","但","要","小心","破綻","可能","對方","佯攻","開戰","考量","因素","位置","、","血量","、","狀","態","、","人","頭","、","時","間","開戰","可能","目標","輸出","壓低","對方","血量","上","狀態","打亂","陣形","收頭","逆勢","回穩","開戰","可能","手段","輸出","無傷","輸出","、","換","傷","輸","出","消傷","擋傷","讓","刀","可以","多上","幾招","騙暈","大","跳","跌倒","上","狀態","吹飛","躲","吹","飛","故意","被","吹掉","但","吹","之前","出","一招","輸出","吃","補","補狀態","斷招","漆黑","伸張","主動","開戰","適用","情境","出奇","不意","對方有","破綻","不得不","進攻","一般","開戰","開戰","信號","|","可能","開戰","方式","-","-","-","-","-","-","-","|","-","-","-","-","-","-","-","-","有人","被","冰","|","直接","開冰塊","吹掉","冰塊","開","其他人","血量","、","狀","態","優","勢","|","鉗形","攻勢","、","強","制","開","戰","兩邊","近距","離","對","峙","|","盾","之間過","於","靠近","隨時","可能","互暈","吹飛","開戰","開戰","信號","|","可能","開戰","方式","-","-","-","-","-","-","-","|","-","-","-","-","-","-","-","-","緩速","|","猛掉","緩速","造成","3","打","2","局面","弓","、","大","劍","出","招","|","盾","抓","反手","猛掉","後","暈一個","打亂","對","方陣形","有人","`","突然","`","過於","靠近","兩邊","近距","離","對","峙","|","攻擊","吹","像","|","粉碎","換暈","|","盾刀","攻擊","粉碎","盾","戰暈","人","|","吹掉","暈","以外","人","連攜","開戰","兩邊","狀況","還不錯","情況","下","要","發動","需要","至少","兩人","為","最小","單位","一起","開戰","被","反手","暈","吹","賺","抗暈","可以","被","反手","暈","黑","吹","大劍","被暈","暈","漆黑","猛","伸","張盾","騙暈","我方","盾暈","對","方盾","刀","黑","對","方刀","盾","再","猛","掉","對","方刀","我方","刀","可以","上盾","很多","招","伸張","刀","猛","轉轉","刀","猛","力衝","刀","猛","毒蛇","刀","被暈","倒","猛","刀","毒蛇","刀","伸張","吹","當對","方刀","邊線","時","這樣","用","比","較","好","佯攻","開戰","盾","誘導","走位","騙暈","大","跳","黑","吹","大劍","誘導","走位","騙暈","暈","跳","騙暈","暈","紅黃圈","伸張","暈","紅黃圈","足破","暈","紅黃圈","漆黑","暈","暴力","開戰","適用","情形","對方","血量","不好","鉗形","攻勢","可能","開法","重壓","伸張","轉轉","重壓","伸張","轉轉","反制","開戰","適用","情境","我方","有人","頭優勢","對方","沒有","明顯","破綻","這時","適合","走位","主動","出招","被動","優勢","可以","讓","敵人","走","過來","撞","技能","但","對方","還手","時候","自己","已經","走","射程","外","可能","開法","大跳","擋暈","殘","反手","暈","猛","紅黃圈","攻擊","紅黃圈","伸張","紅黃圈","漆黑","會戰","輸出","控場","像是","`","黑","猛","`","團隊","合作","一些","原則","讓","僵直","有些","僵直","要","讓給","適當","職業","毒蛇","咬過","來","繳械","優先","暈肉","破防","優先","對方","喝水","跳","讓","盾","先猛","要","小心","心態","被","上","狀態","可怕","但","沒","血量","可怕","打","出血量","優勢","才","好","壓著","打","沒有","武器","最","可怕","收頭","不要","追一","隻","追","到底","對","好","殺","人","先","殺","狀況","不好","圍著牆","繞圈","牆","上","大","跳","適當","蓋","跳台","水池","不要","太輕易","解掉","無敵","避免","下水","餃","一個","一個","死","對方","打","風箏","怎麼","辦","舉例","來","說","遊俠","一直","空襲","火箭","、","大","劍","一直","力衝","思路","整體","技能","狀況","如果","純刀","不能","一直","被","風箏","不然","血","消耗","會","被","耗光","言下之意","被","風箏","3","人","必須","儘","可能","往前","貼","讓","對方","沒有","射擊","空間","刀要","儘","量","往前","貼","並且","要","避免","被","斷招","、","被","吹","走","、","以及","開暫","時","沒血","打","盾要","儘","量","開","戰","給","隊","友","打","、","並","且","開","戰","後","控","掉","猛","、","暈","、","走","位","逼","退","對面","刀","大劍要","儘","量","往前","卡","讓","刀","好","上","招","並且","刀","上","破防","後","直接","重壓","打","出血量","優勢","如果","技能","配置","差不多","比準度","就是","比","誰","射的準","、","誰","先","射","出血量","優勢","血量","優勢","後","開戰","會","好","開","比壓","制度","如果","射","比","較","不准","就要","儘","早","改成","壓制","型","打法","就是","上述","純刀","玩法","果斷","其實","解法","就是","`","比準度","`","`","比壓","制度","`","3","人","要","一起","實踐","同樣","策略","如果","有人","壓制","、","有人","射","效果","會","差","個","人","要","注意","狀況","被力","破","應","對","少出","招","緩慢","撤退","不要","急著","魔","打光","計算","pw","像是","盾暈","2","個","一般","來","說","暈不出","3","個","除非","喝","r","藍","看隊友","位置","尤其","隊友","能","不能","預","出手","水池","戰","一定","要","小心","被","刀","拆","水池","刀","好","神","跳","威脅","極高","被","壓","水池","話","刀","一定","要","優先","拆掉","對方刀","重生","時要","避免","輕易","解掉","無敵","最好","在家","裡蓋","一個","跳台","吸傷害","增加","活命","機會","參考","影片"],key_words:[{word:"開戰",weight:293.48010767708854},{word:"對方",weight:164.3488602991696},{word:"大劍",weight:93.91363445666833},{word:"陣形",weight:93.91363445666833},{word:"伸張",weight:82.1744301495848},{word:"騙暈",weight:70.43522584250125},{word:"紅黃圈",weight:70.43522584250125},{word:"血量",weight:69.51270016894},{word:"優勢",weight:58.69602153541771},{word:"一個",weight:58.69602153541771},{word:"狀態",weight:58.69602153541771},{word:"狀況",weight:58.69602153541771},{word:"輸出",weight:58.69602153541771},{word:"技能",weight:49.00401825048},{word:"反手",weight:47.4091852209},{word:"漆黑",weight:47.0915308983},{word:"舉例",weight:46.95681722833417},{word:"主動",weight:46.95681722833417},{word:"破綻",weight:46.95681722833417},{word:"走位",weight:46.95681722833417},{word:"吹掉",weight:46.392370236},{word:"水池",weight:37.26284069324},{word:"沒有",weight:35.21761292125063},{word:"吹飛",weight:35.21761292125063},{word:"優先",weight:35.21761292125063},{word:"時候",weight:35.21761292125063},{word:"原則",weight:35.21761292125063},{word:"收頭",weight:35.21761292125063},{word:"空間",weight:35.21761292125063},{word:"攻擊",weight:35.21761292125063}],excerpt:"各局勢的主要目標 僵持戰 應對原則 為開戰做準備 卡位 如果位置不夠近，開戰時往前走會有被吹掉，或被敵人限制走位的風險 位置卡的夠近，給予對方提防預出手的壓力，我方整體來說出手空間才會大 陣形 有的時候中間位置的人適合做佯攻 兩側則為實際進攻者 有的時候若對方陣形失誤，或者出奇招，或者不得不進攻 也可以讓中間的人去開戰，兩側輔助 若再考慮上職業配置的話 陣形有非常多種變化，位置決定手段 以下舉3個例子 鏡之陣 大劍 盾 刀 大劍 盾 刀 最base的陣形 最主要的開戰者為大劍、刀，而盾一般比較不適合當主要開戰者 但當對方陣形失誤的話，盾也可以試著去開戰 像是盾直接暈刀，敵方盾過於突出... 旋轉陣 大劍 盾 刀 刀 盾 大劍 會帶有明顯旋轉狀況的陣形 非常考驗兩翼刀大劍交鋒的狀況 如果刀對不贏大劍，很容易造成陣形崩壞 vice versa 強襲陣 大劍 刀 盾 一般來說，盾比較好強制開戰的..."},{title:"3on 雙修玩法介紹",frontmatter:{title:"3on 雙修玩法介紹",datetime:"2020/5/22",meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"3on 雙修玩法介紹"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/5.%203on/3on%E9%9B%99%E4%BF%AE%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html"},{name:"twitter:title",content:"3on 雙修玩法介紹"},{name:"twitter:url",content:"/Game/FEZ/5.%203on/3on%E9%9B%99%E4%BF%AE%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"輸出, 大劍, 時候, 出招, 控場, 抗暈, 走位, 硬值, 猛掉, 壓制, 隨時, 開戰, 忍痛, 反手, 水池, 時間, 有時, 旁邊, 神小跳, 狀況, 準備, 一邊, 主動, 強制, 硬暈, 猛刀, 延滯, 對線, 對暈, 若刀"},{property:"article:tag",content:"輸出"},{property:"article:tag",content:"大劍"},{property:"article:tag",content:"時候"},{property:"article:tag",content:"出招"},{property:"article:tag",content:"控場"},{property:"article:tag",content:"抗暈"},{property:"article:tag",content:"走位"},{property:"article:tag",content:"硬值"},{property:"article:tag",content:"猛掉"},{property:"article:tag",content:"壓制"},{property:"article:tag",content:"隨時"},{property:"article:tag",content:"開戰"},{property:"article:tag",content:"忍痛"},{property:"article:tag",content:"反手"},{property:"article:tag",content:"水池"},{property:"article:tag",content:"時間"},{property:"article:tag",content:"有時"},{property:"article:tag",content:"旁邊"},{property:"article:tag",content:"神小跳"},{property:"article:tag",content:"狀況"},{property:"article:tag",content:"準備"},{property:"article:tag",content:"一邊"},{property:"article:tag",content:"主動"},{property:"article:tag",content:"強制"},{property:"article:tag",content:"硬暈"},{property:"article:tag",content:"猛刀"},{property:"article:tag",content:"延滯"},{property:"article:tag",content:"對線"},{property:"article:tag",content:"對暈"},{property:"article:tag",content:"若刀"}]},regularPath:"/Game/FEZ/5.%203on/3on%E9%9B%99%E4%BF%AE%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html",relativePath:"Game/FEZ/5. 3on/3on雙修玩法介紹.md",key:"v-9f0190e0",path:"/Game/FEZ/5.%203on/3on%E9%9B%99%E4%BF%AE%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html",headers:[{level:2,title:"時機",slug:"時機"},{level:2,title:"方法",slug:"方法"},{level:3,title:"暈",slug:"暈"},{level:3,title:"猛",slug:"猛"},{level:3,title:"暈+猛",slug:"暈-猛"},{level:3,title:"暈+等+猛",slug:"暈-等-猛"},{level:3,title:"猛+抗暈+暈(強制開戰)+上面兩種",slug:"猛-抗暈-暈-強制開戰-上面兩種"},{level:2,title:"壓制大劍",slug:"壓制大劍"}],git:{created:"7/25/2020, 2:20:13 AM",updated:"7/18/2020, 4:54:00 PM",author:"PC\\JC",commits:[{fullHash:"793674af3df037fe9ddb72954e595ab822ffe1ca",authorTime:"1595614813",commitTime:"1595614813",authorName:"PC\\JC"},{fullHash:"0637039e4a44d45fce011f3ad87bcec787d95e41",authorTime:"1595062440",commitTime:"1595062440",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"最主要的職位定位\r\n\r\n 開戰\r\n 控場\r\n 輔助輸出\r\n\r\n 暈猛控場與對線\r\n\r\n 時機\r\n\r\n僵持戰、開戰、會戰\r\n\r\n 方法\r\n\r\n 暈\r\n\r\n 反手暈\r\n   走位主動，出招被動\r\n   往前壓，隨時準備反手暈\r\n   若敵方過於主動，也可不過於往前壓，準備抓反手\r\n\r\n 強制開戰\r\n   直接往前硬暈\r\n   對方狀況不好/我方狀況好很多的時候好用\r\n\r\n 對暈\r\n   用hp換抗暈\r\n   hp800以上，對暈後不會吃殘\r\n\r\n 大跳騙抗暈\r\n   對線時不見得一定要暈人\r\n\r\n    有時也可以利用對手想暈的心態用大跳騙暈\r\n\r\n 猛\r\n\r\n 隨時抓硬值猛\r\n   出招後的硬值\r\n   抓力衝猛\r\n   喝水的硬值\r\n   抓遊俠小跳換武猛\r\n 隨時抓隊友打刀的時候猛刀\r\n   重壓+猛\r\n   伸張+猛\r\n   黑+猛\r\n 抓緩速猛\r\n ...\r\n\r\n但要小心控魔，不要猛到最後，該暈的時候沒魔暈\r\n\r\n儘量不要直接猛盾\r\n\r\n 暈+猛\r\n\r\n 對大劍可以直接猛\r\n 對盾要看一下情況\r\n   如果猛過去不會吃殘，那基本上可以猛\r\n 如果來不及猛，一定會被吹掉，可以改火刀/補忍痛+被吹掉\r\n\r\n 暈+等+猛\r\n\r\n有的時候暈完不適合直接猛，那就需要等一下\r\n\r\n等的時候可以走位作勢要暈人，實際上就看是猛的效益高還是暈的效益高去選擇怎麼出招\r\n\r\n 猛+抗暈+暈(強制開戰)+上面兩種\r\n\r\n有時可以故意猛掉盾旁邊的人，故意讓盾暈，藉此來騙暈，像是猛掉被緩的刀\r\n\r\n若刀離很遠，對方盾旁邊是跟著大劍，猛掉大劍騙抗暈可能也是不錯的選擇\r\n\r\n 換大劍輸出\r\n\r\n不需要盾控場與壓制就可以換成大劍輸出\r\n\r\n但如果很快又需要控場，那建議火刀/大地輸出就好\r\n\r\n儘量多利用抗暈+走位去輸出\r\n\r\n輸出基本上還是要靠別人，雙修不要硬換大劍硬輸出，隊友會很難打\r\n\r\n 水池戰\r\n\r\n水池戰由於能神小跳，因此一定要非常注意雙方刀的動向\r\n\r\n而反打的時候，若刀快復活，也可以硬暈，對手出招就會被無敵刀殘\r\n\r\n如果被壓制的很慘，那一定要再己方水池蓋跳台、拔忍痛，配合神小跳/神奇大跳/延滯起身/暈/猛拖時間\r\n\r\n 求生\r\n\r\n儘量多利用以下的技巧，拖時間\r\n\r\n 蓋跳台\r\n 拔忍痛\r\n 延滯起身\r\n 神小跳\r\n 神奇大跳\r\n 暈\r\n 猛\r\n\r\n 位置強壓\r\n\r\n 壓制大劍\r\n\r\n 幫刀壓大劍\r\n   但要小心位置，避免被大劍硬打\r\n 把大劍猛掉後回去開另一邊\r\n   另一邊大劍可以打盾，盾暈我方盾再暈\r\n   敵方就會剩下刀可以出招\r\n 暈大劍\r\n   被盾暈的瞬間\r\n     猛刀\r\n     往回大跳\r\n     對暈\r\n\r\n 掩護隊友\r\n\r\n 暈/猛\r\n 若 `沒魔/存魔` 可以靠 `身體/走位/大跳/小跳` 來 `擋傷/消傷`\r\n\r\n [參考影片](",word_token:["最","主要","職位","定位","開戰","控場","輔助","輸出","暈猛","控場","與","對線","時機","僵持","戰","開","戰","、","會","戰","方法","暈","反手","暈","走位","主動","出招","被動","往前","壓","隨時","準備","反手","暈","若","敵方過","於","主動","可不","過於","往前","壓","準備","抓","反手","強制","開戰","直接","往前","硬暈","對方","狀況","不好","我方","狀況","好","很多","時候","好","用","對暈","用","hp","換抗暈","hp800","以上","對","暈後不會","吃","殘","大","跳","騙","抗暈","對線","時不見","一定","要暈","人","有時","可以","利用","對手","想暈","心態","用","大","跳","騙暈","猛","隨時","抓","硬值","猛","出招","後","硬值","抓力","衝猛","喝水","硬值","抓遊俠","跳換","武猛","隨時","抓","隊友","打刀","時候","猛刀","重壓","猛","伸張","猛","黑","猛","抓","緩速","猛","但","要","小心","控魔","不要","猛到","最","後","該暈","時候","沒","魔暈","儘","量","不要","直接","猛盾","暈","猛","對大劍","可以","直接","猛","對盾","要","一下","情況","如果","猛過","去","不會","吃","殘","基本上","可以","猛","如果","來","不及","猛","一定","會","被","吹掉","可以","改火刀","補","忍痛","被","吹掉","暈","猛","時候","暈完","適合","直接","猛","需要","一下","時候","可以","走位","作勢","要","暈人","實際","上","猛","效益","高","還是暈","效益","高去","選擇","怎麼","出招","猛","抗暈","暈","強制","開戰","上面","兩種","有時","可以","故意","猛掉","盾","旁邊","人","故意","讓","盾暈","藉此","來","騙暈","像是","猛掉","被","緩","刀","若刀","離","遠","對方盾","旁邊","著大劍","猛掉","大劍騙","抗暈","可能","不錯","選擇","換大劍","輸出","需要","盾","控場","與","壓制","可以","換成","大劍","輸出","但","如果","很快","需要","控場","那建議","火刀","大地","輸出","好","儘","量","利用","抗暈","走位","去","輸出","輸出","基本上","還是","要","靠","別人","雙修","不要","硬換","大劍","硬輸出","隊友會","難","打","水池","戰","水池","戰由","於","能","神","跳","因此","一定","要","非常","注意","雙方刀","動向","而","反","打","時候","若刀","快","復","活","可以","硬暈","對手","出招","會","被","無","敵刀","殘","如果","被","壓制","很慘","一定","要","再","己方","水池","蓋","跳台","、","拔","忍痛","配合","神小跳","神奇","大","跳","延滯","起身","暈","猛","拖","時間","求生","儘","量","利用","以下","技巧","拖","時間","蓋","跳台","拔","忍痛","延滯","起身","神小跳","神奇","大","跳","暈","猛","位置","強壓","壓制","大劍","幫刀","壓大劍","但","要","小心","位置","避免","被","大劍","硬打","大劍","猛","掉","後","回去","開","另","一邊","另","一邊","大劍","可以","打盾","盾暈","我方","盾","再暈","敵方","會","剩下","刀","可以","出招","暈大劍","被盾暈","瞬間","猛刀","往回","大","跳","對暈","掩護","隊友","暈","猛","若","`","沒魔","存魔","`","可以","靠","`","身體","走位","大","跳","跳","`","來","`","擋傷","消傷","`","參考","影片"],key_words:[{word:"輸出",weight:70.43522584250125},{word:"大劍",weight:70.43522584250125},{word:"時候",weight:70.43522584250125},{word:"出招",weight:53.4090091355},{word:"控場",weight:46.95681722833417},{word:"抗暈",weight:46.95681722833417},{word:"走位",weight:46.95681722833417},{word:"硬值",weight:35.21761292125063},{word:"猛掉",weight:35.21761292125063},{word:"壓制",weight:35.21761292125063},{word:"隨時",weight:35.21761292125063},{word:"開戰",weight:35.21761292125063},{word:"忍痛",weight:29.520703924289997},{word:"反手",weight:28.445511132540002},{word:"水池",weight:27.94713051993},{word:"時間",weight:23.478408614167083},{word:"有時",weight:23.478408614167083},{word:"旁邊",weight:23.478408614167083},{word:"神小跳",weight:23.478408614167083},{word:"狀況",weight:23.478408614167083},{word:"準備",weight:23.478408614167083},{word:"一邊",weight:23.478408614167083},{word:"主動",weight:23.478408614167083},{word:"強制",weight:23.478408614167083},{word:"硬暈",weight:23.478408614167083},{word:"猛刀",weight:23.478408614167083},{word:"延滯",weight:23.478408614167083},{word:"對線",weight:23.478408614167083},{word:"對暈",weight:23.478408614167083},{word:"若刀",weight:23.478408614167083}],excerpt:"最主要的職位定位 開戰 控場 輔助輸出 暈猛控場與對線 時機 僵持戰、開戰、會戰 方法 暈 反手暈 走位主動，出招被動 往前壓，隨時準備反手暈 若敵方過於主動，也可不過於往前壓，準備抓反手 強制開戰 直接往前硬暈 對方狀況不好/我方狀況好很多的時候好用 對暈 用hp換抗暈 hp800以上，對暈後不會吃殘 大跳騙抗暈 對線時不見得一定要暈人 有時也可以利用對手想暈的心態用大跳騙暈 猛 隨時抓硬值猛 出招後的硬值 抓力衝猛 喝水的硬值 抓遊俠小跳換武猛 隨時抓隊友打刀的時候猛刀 重壓+猛 伸張+猛 黑+猛 抓緩速猛 ... 但要小心控魔，不要猛到最後，該暈的時候沒魔暈 儘量不要直接猛盾 暈+猛 對大劍可以直接猛 對盾要看一下情況 如果猛過去不會吃殘，那基本上可以猛 如果來不及猛，一定會被吹掉，可以改火刀/補忍痛+被吹掉 暈+等+猛 有的時候暈完不適合直接猛，那就需要等一下 等的時候可以走位作勢..."},{title:"3on 大劍玩法介紹",frontmatter:{title:"3on 大劍玩法介紹",datetime:"2020/5/24",meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"3on 大劍玩法介紹"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/5.%203on/3on%E5%A4%A7%E5%8A%8D%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html"},{name:"twitter:title",content:"3on 大劍玩法介紹"},{name:"twitter:url",content:"/Game/FEZ/5.%203on/3on%E5%A4%A7%E5%8A%8D%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"輸出, 大劍, 伸張, 出招, 紅黃圈, 收頭, 破防, 力衝, 壓制, 隊友, 僵持, 小心, 猛大劍, 猛過, 無法, 斷刀, 用來, 時候, pw, 控魔, 走位, 衝斬, 60, 對方, 對手, 太輕易, 開戰, 紅黃, 吹飛, 單體"},{property:"article:tag",content:"輸出"},{property:"article:tag",content:"大劍"},{property:"article:tag",content:"伸張"},{property:"article:tag",content:"出招"},{property:"article:tag",content:"紅黃圈"},{property:"article:tag",content:"收頭"},{property:"article:tag",content:"破防"},{property:"article:tag",content:"力衝"},{property:"article:tag",content:"壓制"},{property:"article:tag",content:"隊友"},{property:"article:tag",content:"僵持"},{property:"article:tag",content:"小心"},{property:"article:tag",content:"猛大劍"},{property:"article:tag",content:"猛過"},{property:"article:tag",content:"無法"},{property:"article:tag",content:"斷刀"},{property:"article:tag",content:"用來"},{property:"article:tag",content:"時候"},{property:"article:tag",content:"pw"},{property:"article:tag",content:"控魔"},{property:"article:tag",content:"走位"},{property:"article:tag",content:"衝斬"},{property:"article:tag",content:"60"},{property:"article:tag",content:"對方"},{property:"article:tag",content:"對手"},{property:"article:tag",content:"太輕易"},{property:"article:tag",content:"開戰"},{property:"article:tag",content:"紅黃"},{property:"article:tag",content:"吹飛"},{property:"article:tag",content:"單體"}]},regularPath:"/Game/FEZ/5.%203on/3on%E5%A4%A7%E5%8A%8D%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html",relativePath:"Game/FEZ/5. 3on/3on大劍玩法介紹.md",key:"v-3ff73aa5",path:"/Game/FEZ/5.%203on/3on%E5%A4%A7%E5%8A%8D%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html",headers:[{level:2,title:"對刀",slug:"對刀"},{level:2,title:"對盾",slug:"對盾"},{level:2,title:"對大劍",slug:"對大劍"},{level:2,title:"控魔",slug:"控魔"},{level:2,title:"策略",slug:"策略"},{level:2,title:"斷刀",slug:"斷刀"},{level:2,title:"等+輸出",slug:"等-輸出"},{level:2,title:"等+轉轉輸出",slug:"等-轉轉輸出"},{level:2,title:"粉碎吹人",slug:"粉碎吹人"},{level:2,title:"小心猛擊",slug:"小心猛擊"}],git:{created:"7/25/2020, 2:20:13 AM",updated:"7/18/2020, 4:54:00 PM",author:"PC\\JC",commits:[{fullHash:"793674af3df037fe9ddb72954e595ab822ffe1ca",authorTime:"1595614813",commitTime:"1595614813",authorName:"PC\\JC"},{fullHash:"1d2a3781dd92d783224be0aa114a2094f9591cc4",authorTime:"1595072587",commitTime:"1595072587",authorName:"PC\\JC"},{fullHash:"0637039e4a44d45fce011f3ad87bcec787d95e41",authorTime:"1595062440",commitTime:"1595062440",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"最主要的職位定位\r\n\r\n 輸出\r\n 控場\r\n 收頭\r\n\r\n 僵持戰\r\n\r\n 對刀\r\n\r\n 紅黃走位壓制\r\n 消血(力衝、音爆、伸張...)\r\n  \r\n  但要小心對方\r\n\r\n   大劍偷打\r\n   盾突然反壓\r\n     猛過來控\r\n       盾猛過來可以碎擊他\r\n     走過來暈\r\n\r\n 對盾\r\n\r\n 戰線僵持\r\n   紅黃圈伸張加減削血\r\n 對方陣形失誤\r\n   可能可以重壓盾\r\n 被盾壓制\r\n   距離夠力衝/伸張盾，但要小心被猛倒，爬起來後被硬暈\r\n\r\n 對大劍\r\n\r\n 消血時，要提防其他人進行阻擾\r\n 利用距離騙力衝伸張\r\n   若對方力衝打空，會得到更多優勢\r\n 力衝互消\r\n   但要小心開戰時魔不夠\r\n\r\n 控魔\r\n\r\n僵持戰魔一定要控好，不要太輕易就丟乾\r\n\r\n不然突然開戰的話，一定會沒魔出招\r\n\r\n建議隨時維持在60pw以上\r\n\r\n如果低於60pw一定要跟隊友說先不要開，不然要吹的時候會沒魔吹\r\n\r\n 開戰\r\n\r\n 策略\r\n\r\n 優先考慮能否收頭\r\n 無法順利收頭，的話\r\n   輸出、掩護要判斷哪個對接下來的局勢有利\r\n   有利\r\n    1. 對方無法輕易出招\r\n    2. 我方可以追著打\r\n    3. 開輸逆勢怎麼回穩\r\n   輸出\r\n     單體為主、儘量把一個人打到快死，讓他瀕死，難以參戰\r\n     若無法有效對單體輸出、就要考慮全體輸出\r\n   掩護\r\n     紅黃走位分攤對線壓力\r\n     吹飛\r\n     斷刀(伸張、轉轉)\r\n\r\n 斷刀\r\n\r\n讓對手刀不好出招\r\n\r\n伸張、衝斬、轉轉、力衝都可以用來斷\r\n\r\n 等+輸出\r\n\r\n開戰點若刀好上招，大劍不要急著出招\r\n\r\n先幫忙壓位置，再打被破防的\r\n\r\n 等+轉轉輸出\r\n\r\n有時對手會利用大劍在等破防後要輸出\r\n\r\n看刀出招後想都吹掉救隊友\r\n\r\n利用這點，轉的夠快的話\r\n\r\n可以接著破防連對方想幫的人都轉\r\n\r\n 粉碎吹人\r\n\r\n 騙暈\r\n 吹掉部份的人，讓隊友好打\r\n 狀況不好，吹飛救援\r\n\r\n  但要避免直接正面吹，很容易被躲掉\r\n\r\n  最好是抓對方出招的硬值吹比較穩\r\n\r\n 小心猛擊\r\n\r\n有的盾單暈後，可能不會猛刀\r\n\r\n而是猛大劍暈刀\r\n\r\n或是猛大劍讓大劍不能輸出\r\n\r\n 求生\r\n\r\n 拔忍痛\r\n 高低差跑\r\n 換盾\r\n 衝斬跑\r\n 跳台吸傷\r\n ...\r\n\r\n 衝斬\r\n\r\n不僅可以用來combo、接近人\r\n\r\n也可以用來遠離人、做假動作、斷招\r\n\r\n 單體技多重判定\r\n\r\n像重壓、暈這類單體技能，跟敵人貼的夠近的話，是可以打到複數的人的\r\n\r\n另外若對手想擋傷，也可以貼近一點，連他一起打\r\n\r\n 紅黃圈伸張\r\n\r\n善用紅黃圈伸張，可發揮大劍的壓制力到極限\r\n\r\n當大劍卡對手卡的越緊，對手就越需要耗費心思提防\r\n\r\n若大劍沒有壓制力，另兩名隊友，可能就會受到對手3人的壓制\r\n\r\n 控魔\r\n\r\n 隨時準備吹\r\n 不要太輕易一下就把魔打光\r\n 除非有把握一定不用吹，那才可以把魔打的比較乾\r\n 魔比較乾的時候一定要讓隊友知道\r\n\r\n 參考影片\r\n\r\n [[fez][幻想戰記][clip] 3on 大劍](\r\n [20170514-3on大会決勝-大剣](",word_token:["最","主要","職位","定位","輸出","控場","收頭","僵持","戰","對刀","紅黃","走位","壓制","消血","力衝","音","爆","、","伸","張","但","要","小心","對方","大劍","偷打","盾","突然","反壓","猛過","來控","盾","猛過","來","可以","碎擊","走過","來暈","對盾","戰線","僵持","紅黃圈","伸","張加","減削","血","對方陣","形失誤","可能","可以","重壓盾","被盾","壓制","距離夠","力衝","伸","張盾","但","要","小心","被","猛","倒","爬","起來","後","被","硬暈","對大劍","消血時","要","提防","其他人","進行","阻擾","利用","距離","騙力","衝伸","張","若","對","方力衝","打空","會","得到","更多","優勢","力衝","互消","但","要","小心","開戰時","魔","不夠","控魔","僵持","戰魔","一定","要","控好","不要","太輕易","丟乾","不然","突然","開戰","話","一定","會","沒","魔","出招","建議","隨時","維持","60","pw","以上","如果","低","於","60","pw","一定","要","隊友","說","先","不要","開","不然","要","吹","時候","會","沒","魔","吹","開戰","策略","優","先考","慮","能否","收頭","無法","順利","收頭","話","輸出","、","掩","護","要","判","斷","個","對","接下","來","局勢","有利","有利","1","對方","無法","輕易","出招","2","我方","可以","追著","打","3","開輸逆勢","怎麼","回穩","輸出","單體","為主","、","儘","量","個","人","打","快","死","讓","瀕","死","難以","參戰","若無法","有效","對","單體","輸出","、","就要","考慮","全體","輸出","掩護","紅黃","走位","分攤","對線","壓力","吹飛","斷刀","伸張","、","轉","轉","斷刀","讓","對","手刀","不好","出招","伸張","、","衝","斬","、","轉","轉","、","力","衝","可以","用來斷","輸出","開戰點","若","刀","好","上","招","大劍","不要","急著","出招","先幫","忙","壓","位置","再","打","被","破防","轉轉","輸出","有時","對","手會","利用","大劍","破防","後","要","輸出","看刀出","招後想","吹掉","救隊友","利用","這點","轉的夠","快","話","可以","接著","破防","連對","方想","幫","人都轉","粉碎","吹人","騙暈","吹掉","部份","人","讓","隊","友好","打","狀況","不好","吹飛","救援","但","要","避免","直接","正面","吹","容易","被","躲","掉","最好","抓","對","方出","招","硬值","吹","比","較","穩","小心","猛擊","盾","單暈","後","可能","不會","猛刀","而是","猛大劍","暈刀","或是","猛大劍","讓","大劍","不能","輸出","求生","拔","忍痛","高低","差跑","換盾","衝斬","跑","跳台","吸傷","衝斬","不僅","可以","用來","combo","、","接近","人","可以","用來","遠","離人","、","假","動","作","、","斷","招","單體技","多重","判定","像","重壓","、","暈","這","類","單","體","技能","敵人","貼","夠近","話","可以","打到","複","數的","人","另外","若","對","手想","擋傷","可以","貼近","一點","連他","一起","打","紅黃圈","伸張","善用","紅黃圈","伸張","可發揮","大劍","壓","制力","極限","當大劍","卡","對","手卡","越緊","對手","越","需要","耗費","心思","提防","若大劍","沒有","壓制力","另","兩名","隊友","可能","會","受到","對手","3","人","壓制","控魔","隨時","準備","吹","不要","太輕易","一下","魔","打光","除非","有把握","一定","不用","吹","那才","可以","魔","打","比","較","乾","魔","比","較","乾","時候","一定","要","讓","隊友","知道","參考","影片","fez","幻想","戰記","clip","3","大劍","20170514","-","3","大会","決勝","-","大","剣"],key_words:[{word:"輸出",weight:105.65283876375187},{word:"大劍",weight:70.43522584250125},{word:"伸張",weight:46.95681722833417},{word:"出招",weight:42.7272073084},{word:"紅黃圈",weight:35.21761292125063},{word:"收頭",weight:35.21761292125063},{word:"破防",weight:35.21761292125063},{word:"力衝",weight:35.21761292125063},{word:"壓制",weight:35.21761292125063},{word:"隊友",weight:35.21761292125063},{word:"僵持",weight:27.415511151540002},{word:"小心",weight:26.86722774764},{word:"猛大劍",weight:23.478408614167083},{word:"猛過",weight:23.478408614167083},{word:"無法",weight:23.478408614167083},{word:"斷刀",weight:23.478408614167083},{word:"用來",weight:23.478408614167083},{word:"時候",weight:23.478408614167083},{word:"pw",weight:23.478408614167083},{word:"控魔",weight:23.478408614167083},{word:"走位",weight:23.478408614167083},{word:"衝斬",weight:23.478408614167083},{word:"60",weight:23.478408614167083},{word:"對方",weight:23.478408614167083},{word:"對手",weight:23.478408614167083},{word:"太輕易",weight:23.478408614167083},{word:"開戰",weight:23.478408614167083},{word:"紅黃",weight:23.478408614167083},{word:"吹飛",weight:23.478408614167083},{word:"單體",weight:23.478408614167083}],excerpt:"最主要的職位定位 輸出 控場 收頭 僵持戰 對刀 紅黃走位壓制 消血(力衝、音爆、伸張...) 但要小心對方 大劍偷打 盾突然反壓 猛過來控 盾猛過來可以碎擊他 走過來暈 對盾 戰線僵持 紅黃圈伸張加減削血 對方陣形失誤 可能可以重壓盾 被盾壓制 距離夠力衝/伸張盾，但要小心被猛倒，爬起來後被硬暈 對大劍 消血時，要提防其他人進行阻擾 利用距離騙力衝伸張 若對方力衝打空，會得到更多優勢 力衝互消 但要小心開戰時魔不夠 控魔 僵持戰魔一定要控好，不要太輕易就丟乾 不然突然開戰的話，一定會沒魔出招 建議隨時維持在60pw以上 如果低於60pw一定要跟隊友說先不要開，不然要吹的時候會沒魔吹 開戰 策略 優先考慮能否收頭 無法順利收頭，的話 輸出、掩護要判斷哪個對接下來的局勢有利 有利 1. 對方無法輕易出招 2. 我方可以追著打 3. 開輸逆勢怎麼回穩 輸出 單體為主、儘量把一個人打到快死，讓他..."},{title:"3on 基本玩法介紹",frontmatter:{title:"3on 基本玩法介紹",datetime:"2020/5/20",meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"3on 基本玩法介紹"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/5.%203on/"},{name:"twitter:title",content:"3on 基本玩法介紹"},{name:"twitter:url",content:"/Game/FEZ/5.%203on/"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"地圖, 設定, 法師, 玩法, 職業, 大劍, 雙修, 組合, 變化, 競技場, 一個, 參考, 直接, 不可, 跳台, 基本上, 2020, 設定值, 藍方, min, 約戰, 戰局, 不會, 拳鬥, 建築, 28, 各職業, 選擇, 時間, 場地"},{property:"article:tag",content:"地圖"},{property:"article:tag",content:"設定"},{property:"article:tag",content:"法師"},{property:"article:tag",content:"玩法"},{property:"article:tag",content:"職業"},{property:"article:tag",content:"大劍"},{property:"article:tag",content:"雙修"},{property:"article:tag",content:"組合"},{property:"article:tag",content:"變化"},{property:"article:tag",content:"競技場"},{property:"article:tag",content:"一個"},{property:"article:tag",content:"參考"},{property:"article:tag",content:"直接"},{property:"article:tag",content:"不可"},{property:"article:tag",content:"跳台"},{property:"article:tag",content:"基本上"},{property:"article:tag",content:"2020"},{property:"article:tag",content:"設定值"},{property:"article:tag",content:"藍方"},{property:"article:tag",content:"min"},{property:"article:tag",content:"約戰"},{property:"article:tag",content:"戰局"},{property:"article:tag",content:"不會"},{property:"article:tag",content:"拳鬥"},{property:"article:tag",content:"建築"},{property:"article:tag",content:"28"},{property:"article:tag",content:"各職業"},{property:"article:tag",content:"選擇"},{property:"article:tag",content:"時間"},{property:"article:tag",content:"場地"}]},regularPath:"/Game/FEZ/5.%203on/",relativePath:"Game/FEZ/5. 3on/README.md",key:"v-5de41bb6",path:"/Game/FEZ/5.%203on/",headers:[{level:2,title:"地圖設定",slug:"地圖設定"},{level:3,title:"訓練場",slug:"訓練場"},{level:3,title:"競技場",slug:"競技場"}],git:{created:"7/25/2020, 2:20:13 AM",updated:"11/13/2019, 10:35:17 PM",author:"PC\\JC",commits:[{fullHash:"793674af3df037fe9ddb72954e595ab822ffe1ca",authorTime:"1595614813",commitTime:"1595614813",authorName:"PC\\JC"},{fullHash:"1d2a3781dd92d783224be0aa114a2094f9591cc4",authorTime:"1595072587",commitTime:"1595072587",authorName:"PC\\JC"},{fullHash:"0637039e4a44d45fce011f3ad87bcec787d95e41",authorTime:"1595062440",commitTime:"1595062440",authorName:"PC\\JC"},{fullHash:"7d442f68bc55438e309e92dc68c76e723dee3a02",authorTime:"1591171950",commitTime:"1591171950",authorName:"PC\\JC"},{fullHash:"d5145dd73a217bae1b306cecdbeca49be6711959",authorTime:"1589967512",commitTime:"1589967512",authorName:"PC\\JC"},{fullHash:"a5f6d6cf81cef459c3f21791438c73218a9a5c04",authorTime:"1573655717",commitTime:"1573655717",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:'特色\r\n\r\n3on基本上就是2on的延伸\r\n\r\n由於多了一個人，因此"人"的變化因素，基本上就圍繞在這第三人身上\r\n\r\n這直接使3on成為了非常注重團隊合作的遊戲，光是一波3人的連攜，就有可能直接打翻對手\r\n\r\n此外多了一個人，對於視野的變化，反應的要求則變得更高了\r\n\r\n對線時，開戰那劍拔弩張的氣氛，更加考驗了一個玩家的心理素質\r\n\r\n至於場地的變化，一般來說3on的場地會選擇跟2on不同的場地，並且也有可能可以蓋跳台\r\n\r\n詳細的設置將在下方進行說明\r\n\r\n 基本規則\r\n\r\n 地圖設定\r\n\r\n 訓練場\r\n\r\n| 地圖設定| 設定值 |\r\n| ------ | ----------------------------------------- |\r\n| 地圖   | 請參考下方附圖(修練場結尾的那個)             |\r\n| 職業   | 雙修/盾 + 刀 + 大劍/法師                   |\r\n| 時間   | 25~30min                                  |\r\n| 消耗   | 200(一般吃金幣水，培根麵包，通常不吃r水牛排) |\r\n| 建築   | 通常不蓋跳台，兩邊約定好就好                |\r\n| 召喚   | 不可\t                                     |\r\n\r\n 一般會選擇在中央的地區戰鬥，不可打過橋，落水視為死亡\r\n\r\n 一般為回合制，死掉不能直接加入戰局，當一方不可繼續後，雙方重新退至兩方的橋邊\r\n\r\n 職業設定\r\n\r\n  一般會是`雙修/盾 + 刀 + 大劍/法師`的組合\r\n\r\n  但有些人會不想打有法師的組合，因此會在開房時直接把法師的職業取消掉\r\n\r\n  此外，如果是朋友們一起開的話，若要玩特別的3on，也可以混入拳鬥或擊劍\r\n\r\n 若自行開房想邀請路人遊玩，房名可用`3on 7474`\r\n\r\n  進入房間後使用`/sos`大地圖廣播，邀請別人遊玩\r\n\r\n!設定圖\r\n\r\n 競技場\r\n\r\n| 地圖設定| 設定值 |\r\n| ------ | -------------------------------------- |\r\n| 地圖   | 請參考下方附圖(競技場地圖選項的第一張圖)   |\r\n| 職業   | 雙修/盾 + 刀 + 大劍/法師                 |\r\n| 時間   | 不可調整(10min)                         |\r\n| 消耗   | 100(約戰基本上吃r水牛排)                 |\r\n| 建築   | 可蓋跳台                                |\r\n| 召喚   | 不可\t                                   |\r\n\r\n 地圖任何地方都可以打，死亡後可直接加入戰局\r\n\r\n 目前(2020/6/28)地圖有bug，藍方復活不會直接掉到水池\r\n\r\n  藍方復活務必直接下到水池，不可待在上方等隊友復活，補詠唱，等等\r\n\r\n 職業設定\r\n\r\n  一般會是`雙修/盾 + 刀 + 大劍/法師`的組合，基本上不會上擊劍跟拳鬥\r\n\r\n  帶法師的組合比較少見\r\n\r\n 競技場基本上不會有野團，都是以朋友約戰形式為主\r\n\r\n!設定圖\r\n\r\n 總結來說\r\n\r\n由於通訊軟體的興起，現在(2020/6/28)都是約戰為主，野團會選擇到遊樂場，但也已經不多見\r\n\r\n現今玩家舉辦之競技比賽，人數最低的，即為3on(總共6人)\r\n\r\n在3on中，各職業的玩法都以發展到很專精的程度，各職業玩法介紹可以參考以下文章\r\n\r\n 共通玩法\r\n 雙修玩法\r\n 刀玩法\r\n 大劍玩法',word_token:["特色","3","基本上","就是","2","延伸","由","於","一個","人","因此","人","變化","因素","基本上","圍繞","這","第三","人","身上","這","直接","使","3","成為","非常","注重","團隊","合作","遊戲","光是","一波","3","人","連攜","可能","直接","打翻","對手","此外","一個","人","對","於","視野","變化","反應","要求","則變","高","對線","時","開戰","那劍拔","弩","張","氣氛","更加","考驗","一個","玩家","心理","素質","至於","場地","變化","一般","來","說","3","場地會","選擇","2","不同","場地","並且","可能","可以","蓋","跳台","詳細","設置將","下方","進行","說明","基本","規則","地圖","設定","訓練場","|","地圖","設定","|","設定值","|","|","-","-","-","-","-","-","|","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","|","|","地圖","|","請","參考","下方","附圖","修練場","結尾","那個","|","|","職業","|","雙修","盾","刀","大劍","法師","|","|","時間","|","25","30","min","|","|","消耗","|","200","一般","吃","金幣","水","培根","麵","包","通常","不吃","r","水","牛排","|","|","建築","|","通常","不蓋","跳台","兩邊","約定","好","好","|","|","召喚","|","不可","|","一般","會選擇","中央","地區","戰鬥","不可","打過橋","落水","視為","死亡","一般","為","回合制","死","掉","不能","直接","加入","戰局","當","一方","不可","繼續","後","雙方","重新","退至","兩方","橋邊","職業","設定","一般","會","`","雙修","盾","刀","大劍","法師","`","組合","但","有些","人會","不想","打有","法師","組合","因此","會","開房","時","直接","法師","職業","取消","掉","此外","如果","朋友","們","一起","開","話","若要","玩","特別","3","可以","混入","拳鬥","或擊","劍","若","自行","開房","想","邀","請","路","人遊","玩","房名","可用","`","3","7474","`","進入","房間","後","使用","`","sos","`","大地","圖廣播","邀請","別人遊","玩","設定","圖","競技場","|","地圖","設定","|","設定值","|","|","-","-","-","-","-","-","|","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","|","|","地圖","|","請","參考","下方","附圖","競技場","地圖","選項","第一","張圖","|","|","職業","|","雙修","盾","刀","大劍","法師","|","|","時間","|","不可","調整","10","min","|","|","消耗","|","100","約戰","基本上","吃","r","水","牛排","|","|","建築","|","可蓋","跳台","|","|","召喚","|","不可","|","地圖","任何","地方","可以","打","死亡","後","可","直接","加入","戰局","目前","2020","6","28","地圖","bug","藍方","復","活不會","直接","掉","水池","藍方","復","活務必","直接","下到","水池","不可","待","上方","隊友","復","活","補詠","唱","等等","職業","設定","一般","會","`","雙修","盾","刀","大劍","法師","`","組合","基本上","不會","上擊","劍","拳鬥","帶法師","組合","比較","少見","競技場","基本上","不會","野團","以","朋友","約戰","形式","為主","設定","圖","總結來","說","由","於","通訊","軟體","興起","現在","2020","6","28","約","戰為","主","野團會","選擇","遊樂場","但","已經","不多見","現今","玩家","舉辦","競技","比賽","人數","最低","即為","3","總共","6","人","3","各職業","玩法","以","發展","專精","程度","各職業","玩法","介紹","可以","參考","以下","文章","共通","玩法","雙修","玩法","刀","玩法","大劍","玩法"],key_words:[{word:"地圖",weight:93.91363445666833},{word:"設定",weight:82.1744301495848},{word:"法師",weight:70.43522584250125},{word:"玩法",weight:62.2459027644},{word:"職業",weight:58.69602153541771},{word:"大劍",weight:58.69602153541771},{word:"雙修",weight:58.69602153541771},{word:"組合",weight:46.95681722833417},{word:"變化",weight:35.21761292125063},{word:"競技場",weight:35.21761292125063},{word:"一個",weight:35.21761292125063},{word:"參考",weight:35.21761292125063},{word:"直接",weight:33.873485336600005},{word:"不可",weight:32.87600871732},{word:"跳台",weight:32.4289055958},{word:"基本上",weight:31.9759268862},{word:"2020",weight:23.478408614167083},{word:"設定值",weight:23.478408614167083},{word:"藍方",weight:23.478408614167083},{word:"min",weight:23.478408614167083},{word:"約戰",weight:23.478408614167083},{word:"戰局",weight:23.478408614167083},{word:"不會",weight:23.478408614167083},{word:"拳鬥",weight:23.478408614167083},{word:"建築",weight:23.478408614167083},{word:"28",weight:23.478408614167083},{word:"各職業",weight:23.478408614167083},{word:"選擇",weight:23.478408614167083},{word:"時間",weight:23.478408614167083},{word:"場地",weight:23.478408614167083}],excerpt:'特色 3on基本上就是2on的延伸 由於多了一個人，因此"人"的變化因素，基本上就圍繞在這第三人身上 這直接使3on成為了非常注重團隊合作的遊戲，光是一波3人的連攜，就有可能直接打翻對手 此外多了一個人，對於視野的變化，反應的要求則變得更高了 對線時，開戰那劍拔弩張的氣氛，更加考驗了一個玩家的心理素質 至於場地的變化，一般來說3on的場地會選擇跟2on不同的場地，並且也有可能可以蓋跳台 詳細的設置將在下方進行說明 基本規則 地圖設定 訓練場 地圖設定 設定值 地圖 請參考下方附圖(修練場結尾的那個) 職業 雙修/盾 + 刀 + 大劍/法師 時間 25~30min 消耗 200(一般吃金幣水，培根麵包，通常不吃r水牛排) 建築 通常不蓋跳台，兩邊約定好就好 召喚 不可 一般會選擇在中央的地區戰鬥，不可打過橋，落水視為死亡 一般為回合制，死掉不能直接加入戰局，當一方不可繼續後，雙方重新退至兩方...'},{title:"3on 刀玩法介紹",frontmatter:{title:"3on 刀玩法介紹",datetime:"2020/5/23",meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"3on 刀玩法介紹"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/5.%203on/3on%E5%88%80%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html"},{name:"twitter:title",content:"3on 刀玩法介紹"},{name:"twitter:url",content:"/Game/FEZ/5.%203on/3on%E5%88%80%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"會戰點, 走位, 開戰, 機會, 紅黃圈, 神小跳, 對方, 出招, 出手, 大劍, 攻擊, 往前, 利用, 一招, 漆黑, 不要, 卡位, 誘導, 足破, 紅黃, 狀況, 重壓, 反猛, 伸張, 法師, 時候, 一個, 開戰前, 距離, 優勢"},{property:"article:tag",content:"會戰點"},{property:"article:tag",content:"走位"},{property:"article:tag",content:"開戰"},{property:"article:tag",content:"機會"},{property:"article:tag",content:"紅黃圈"},{property:"article:tag",content:"神小跳"},{property:"article:tag",content:"對方"},{property:"article:tag",content:"出招"},{property:"article:tag",content:"出手"},{property:"article:tag",content:"大劍"},{property:"article:tag",content:"攻擊"},{property:"article:tag",content:"往前"},{property:"article:tag",content:"利用"},{property:"article:tag",content:"一招"},{property:"article:tag",content:"漆黑"},{property:"article:tag",content:"不要"},{property:"article:tag",content:"卡位"},{property:"article:tag",content:"誘導"},{property:"article:tag",content:"足破"},{property:"article:tag",content:"紅黃"},{property:"article:tag",content:"狀況"},{property:"article:tag",content:"重壓"},{property:"article:tag",content:"反猛"},{property:"article:tag",content:"伸張"},{property:"article:tag",content:"法師"},{property:"article:tag",content:"時候"},{property:"article:tag",content:"一個"},{property:"article:tag",content:"開戰前"},{property:"article:tag",content:"距離"},{property:"article:tag",content:"優勢"}]},regularPath:"/Game/FEZ/5.%203on/3on%E5%88%80%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html",relativePath:"Game/FEZ/5. 3on/3on刀玩法介紹.md",key:"v-1080dbe2",path:"/Game/FEZ/5.%203on/3on%E5%88%80%E7%8E%A9%E6%B3%95%E4%BB%8B%E7%B4%B9.html",headers:[{level:2,title:"卡位",slug:"卡位"},{level:2,title:"緩速",slug:"緩速"},{level:2,title:"消血",slug:"消血"},{level:2,title:"紅黃圈攻擊",slug:"紅黃圈攻擊"},{level:2,title:"開戰要小心",slug:"開戰要小心"},{level:2,title:"打第0會戰點",slug:"打第0會戰點"},{level:2,title:"打第1會戰點",slug:"打第1會戰點"},{level:2,title:"打第2會戰點",slug:"打第2會戰點"},{level:3,title:"誘導走位騙出招",slug:"誘導走位騙出招"},{level:3,title:"漆黑斷刀",slug:"漆黑斷刀"},{level:3,title:"微笑走位",slug:"微笑走位"},{level:3,title:"神小跳進場",slug:"神小跳進場"},{level:3,title:"紅黃圈漆黑",slug:"紅黃圈漆黑"}],git:{created:"7/25/2020, 2:20:13 AM",updated:"7/18/2020, 4:54:00 PM",author:"PC\\JC",commits:[{fullHash:"793674af3df037fe9ddb72954e595ab822ffe1ca",authorTime:"1595614813",commitTime:"1595614813",authorName:"PC\\JC"},{fullHash:"0637039e4a44d45fce011f3ad87bcec787d95e41",authorTime:"1595062440",commitTime:"1595062440",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"最主要的職位定位\r\n\r\n 控場\r\n\r\n 僵持戰\r\n\r\n最重要的是`協助開戰`\r\n\r\n 卡位\r\n\r\n多往前卡，不要總是躲在盾後面\r\n\r\n卡位要選第1、2會戰點好出招的位置去卡\r\n\r\n 緩速\r\n\r\n開戰前可以多緩刀或大劍，，有緩到盾可以猛擊開戰\r\n\r\n但也要小心位置，不要為了緩而離盾太遠\r\n\r\n 消血\r\n\r\n若對方大劍\r\n\r\n 喝藍強勢輸出: 可以上毒火，削他血逼他喝回黃\r\n 喝黃打刀: 那刀可以主動去近身大劍，逼大劍不好回手\r\n\r\n 紅黃圈攻擊\r\n\r\n刀不見得都要等盾開，善加利用紅黃圈攻擊\r\n\r\n對協助開戰、誘發開戰會有很大的幫助\r\n\r\n 開戰\r\n\r\n優先考慮如何打破防給大劍重壓\r\n\r\n開戰前要就位置、心理，去預期能穩上幾招\r\n\r\n不要想說一個開戰就能上到很多\r\n\r\n上到一招算是常態\r\n\r\n上到兩招算是很賺\r\n\r\n優勢是滾雪球般慢慢打出來的，不是一口氣打出來的\r\n\r\n 開戰要小心\r\n\r\n職業 | 狀況\r\n---- | ----\r\n大劍 | 粉碎吹掉，伸張/力衝斷刀\r\n盾   | 粉碎吹掉，猛擊，暈\r\n刀   | 拆武，漆黑\r\n^^   | 破防+伸張/重壓\r\n法師 | 冰a斷招，雷c吹飛\r\n\r\n 打第0會戰點\r\n\r\n藉由極快的預出手，來避免被斷招\r\n\r\n並在開戰前就先上一招\r\n\r\n 打第1會戰點\r\n\r\n第1會戰點要好上招，僵持戰的階段位置一定要卡好\r\n\r\n硬打的話，一定被斷招到死\r\n\r\n可以考慮的手段有:\r\n\r\n 直接殘\r\n 預出手殘\r\n 足破騙招+殘\r\n\r\n 打第2會戰點\r\n\r\n相對第0第1會戰點，實務上，刀打第2會戰點的狀況會比較多\r\n\r\n而打第2會戰點的關鍵在心理戰，讓對方看到刀接近，卻猜錯刀的招\r\n\r\n這樣刀才有機會上到招\r\n\r\n 誘導走位騙出招\r\n\r\n假裝要走直的往前殘，實際上在關鍵的時間點退掉\r\n\r\n迴避掉敵人的預出手，再利用對手收招的時間往前\r\n\r\n最好是第1會戰點誘導走位假裝要打騙出招\r\n\r\n這樣第2會戰點才會比較好打\r\n\r\n 漆黑斷刀\r\n\r\n沒什麼出手空間的時候，若隊友狀況也不好\r\n\r\n那刀絕不能掉武器，不然會更慘\r\n\r\n這時就要考慮先用黑干擾對面刀\r\n\r\n 微笑走位\r\n\r\n先卡住位置，讓對方位置不好\r\n\r\n接著故意不出招，讓對方不好打\r\n\r\n打亂節奏後再突然反擊，出奇不意\r\n\r\n 神小跳進場\r\n\r\n利用對方第1會戰點，預出手想斷刀的心態\r\n\r\n神小跳進場閃招+卡位後再殘\r\n\r\n 紅黃圈漆黑\r\n\r\n當暈點太遠，必須往前打的時候\r\n\r\n如果沒有閃招空間，出招又一定得換傷\r\n\r\n那可以紅黃圈漆黑吃一招黑多點人，為下波開戰帶來優勢\r\n\r\n 紅黃走位往前貼緊\r\n\r\n刀的射程非常短，出招還很慢，因此一定要儘可能往前貼，才有出招機會\r\n\r\n而貼的同時，也要小心不要吃太多招，紅黃走位的距離感是非常重要的\r\n\r\n沒走好就是非死即殘，但紅黃走位依然非常值得使用\r\n\r\n機會稍縱即逝，事先卡好，才有機會上到招\r\n\r\n紅黃走位躲攻擊，可以多從以下角度去猜對手會想怎麼打你\r\n 紅黃圈攻擊?\r\n 第1常駐技能是什麼?\r\n\r\n 隱身殘\r\n\r\n3on由於人少，一般刀不會隱身，但如果反過來利用這個想法\r\n\r\n就有機會在對方不夠警戒的情形下殘到對方\r\n\r\n 明刀會戰\r\n\r\n玩刀不要依賴盾開戰給你打\r\n\r\n萬一盾不會開/失誤了，那就完了\r\n\r\n有機會就要趕快打，不要等\r\n\r\n可能可以直接明刀打的狀況:\r\n 拿弓引誘大劍衝斬，再換刀殘\r\n 誘導走位騙招\r\n 硬拼招拼多拆\r\n 神小跳拼招\r\n 利用隊友的身體擋招殘\r\n   倒地無敵\r\n   復活無敵\r\n   大/小跳擋傷\r\n\r\n 水池戰\r\n\r\n水池是刀的主場，能掌握小跳就能掌握水池\r\n\r\n善用神小跳、足破，可以讓刀變得非常難打\r\n\r\n而解危的時候，一定要注意對手刀的動向\r\n\r\n處理掉刀，危機可能就處理一半了\r\n\r\n 反伸張\r\n\r\n伸張發動快距離遠\r\n\r\n距離大劍近的話，可以足破+殘\r\n\r\n距離大劍遠的話(紅黃圈)，可以看到再殘\r\n\r\n再來就是猜心態，預出手殘\r\n\r\n 反猛\r\n\r\n會控場的盾，一定會抓刀的破綻猛掉\r\n\r\n因此刀會不會反猛，對戰局的影響將會非常的大\r\n\r\n可以反猛的時機:\r\n 被擊飛前上盾一招殘\r\n 利用我方人物的身體，一個猛上多個殘\r\n 神小跳迴避後殘\r\n 微笑走位迴避後殘\r\n 小跳騙猛上力破\r\n\r\n 加長殘\r\n\r\n利用身後也能判定，人物往前走，加長殘的有效距離\r\n\r\n 足破\r\n\r\n一般人跟刀近身會怕被拆武，利用這個心態踢足破，就能騙到招:\r\n 斜坡足破騙招+殘\r\n 起身無敵足破騙空暈+殘\r\n\r\n 換武\r\n\r\n看到快要開戰了，就要趕快換刀\r\n\r\n等開戰了才換刀一定來不及\r\n\r\n 帶法師的話\r\n\r\n要適當的去法師旁邊，讓盾頂前面\r\n\r\n多上破防，讓法師可以輸出\r\n\r\n法師輸出時，多幫法師製造輸出空間\r\n\r\n適當回防幫法師擋大劍\r\n\r\n 上招原則\r\n\r\n 開戰不要想說能上很多招\r\n\r\n  1~2招就很多了，但要利用這幾招延續優勢，來讓能上的招變多\r\n 隊友能重壓的話，優先打破防\r\n 足破+殘常能帶來意外的戰果\r\n 繳械癱瘓一個人後，可以選擇殘其他人\r\n 沒什麼出手空間的話就用紅黃圈漆黑\r\n 黑刀打個後仰給別人接(前提是有把握隊友能接的到)\r\n 先上黑，後續拿弓射會好射很多，能緩到速的話，下ㄧ波開戰會好打很多\r\n 善用連殘來讓對手過來撞招\r\n 能捕到足破就踢，能緩到速就有機會多上一招\r\n\r\n 勇往直前\r\n\r\n玩刀不要總是打的太龜縮，3on中，只有刀有逆轉一切的可能\r\n\r\n勇敢一點，利用所有細微的機會，未來才會是你的\r\n\r\n [參考影片](",word_token:["最","主要","職位","定位","控場","僵持","戰","最","重要","`","協助","開戰","`","卡位","往前","卡","不要","總是","躲","盾後面","卡位","要選","1","2","會戰點","好","出招","位置","去","卡","緩速","開戰前","可以","多緩","刀","大劍","緩到","盾","可以","猛擊","開戰","但","要","小心","位置","不要","為","緩","而","離盾","太遠","消血","若","對","方大劍","喝","藍","強勢","輸出","可以","上毒","火","削","血","逼","喝","回","黃","喝","黃","打刀","那刀","可以","主動","去","近","身大劍","逼大劍","不好","回手","紅黃圈","攻擊","刀不見","要","盾","開","善加利用","紅黃圈","攻擊","對","協助","開戰","、","誘","發","開","戰","會","很大","幫助","開戰","優","先考","慮","如何","打破","防給","大劍","重壓","開戰前","要","位置","、","心理","去","預期","能","穩上","幾招","不要","想","說","一個","開戰","能","上","很多","上到","一招","算是","常態","上到","兩招","算是","賺","優勢","滾","雪球","般","慢慢","打出","來","不是","一口","氣","打出","來","開戰要","小心","職業","|","狀況","-","-","-","-","|","-","-","-","-","大劍","|","粉碎","吹掉","伸張","力衝斷","刀","盾","|","粉碎","吹掉","猛擊","暈","刀","|","拆武","漆黑","|","破防","伸張","重壓","法師","|","冰","斷招","雷","c","吹飛","打","0","會戰點","藉由","極快","預","出手","來","避免","被斷","招","並在","開戰前","先上","一招","打","1","會戰點","1","會戰點","要","好","上","招","僵持","戰","階段","位置","一定","要卡好","硬打","話","一定","被斷","招到","死","可以","考慮","手段","直接","殘","預","出手","殘","足破騙","招","殘","打","2","會戰點","相對","0","1","會戰點","實務上","刀","打","2","會戰點","狀況","會","比","較","而","打","2","會戰點","關鍵","心理","戰","讓","對方","看到","刀","接近","卻","猜","錯刀","招","這樣","刀","才","機會","上","招","誘導","走位","騙","出招","假裝要","走","直","往前","殘","實際","上","關鍵","時間點","退掉","迴","避掉","敵人","預","出手","再","利用","對手","收招","時間","往前","最好","1","會戰點","誘導","走位","假裝要","打騙","出招","這樣","2","會戰點","才","會","比","較","好","打","漆黑","斷刀","沒什麼","出手","空間","時候","若隊","友狀況","不好","那刀絕","不能","掉","武器","不然","會","更慘","這時","就要","考慮","先用","黑干擾","對","面刀","微笑","走位","先","卡住","位置","讓","對方","位置","不好","接著","故意","不出","招","讓","對方","不好","打","打亂","節奏","後","再","突然","反擊","出奇","不意","神小跳","進場","利用","對方","1","會戰點","預","出手","想斷","刀","心態","神小跳","進場","閃招","卡位","後","再","殘","紅黃圈","漆黑","當暈點","太遠","必須","往前","打","時候","如果","沒有","閃","招空間","出招","一定","換傷","可以","紅黃圈","漆黑","吃","一招","黑多點","人","為","下波","開戰","帶來","優勢","紅黃","走位","往前","貼緊","刀","射程","非常","短","出招還","很慢","因此","一定","要","儘","可能","往前","貼","才","出招","機會","而","貼","同時","要","小心","不要","吃","太","多招","紅黃","走位","距","離感","非常","重要","沒","走","好","是非","死","即","殘","但紅黃","走位","依然","非常","值得","使用","機會","稍","縱","即逝","事先","卡好","才","機會","上","招","紅黃","走位","躲","攻擊","可以","從","以下","角度","去","猜","對","手會","想","怎麼","打","紅黃圈","攻擊","1","常駐","技能","什麼","隱身","殘","3","由","於","人少","一般","刀不會","隱身","但","如果","反過","來","利用","這個","想法","機會","對","方不夠","警戒","情形","下","殘到","對方","明刀會戰","玩刀","不要","依賴盾","開戰給","打","萬","一盾","不會開","失誤","完","機會","就要","趕快","打","不要","可能","可以","直接","明刀","打","狀況","拿","弓引","誘大劍衝","斬","再換","刀","殘","誘導","走位","騙","招","硬拼","招拼多","拆","神小跳","拼招","利用","隊友","身體","擋","招殘","倒地","無敵","復","活無敵","大","跳","擋傷","水池","戰","水池","刀","主場","能","掌握","跳","能","掌握","水池","善用","神小跳","、","足","破","可以","讓","刀","變得","非常","難","打","而","解危","時候","一定","要","注意","對手","刀","動向","處理","掉","刀","危機","可能","處理","一半","反伸","張","伸張","發動","快","距","離遠","距離","大劍近","話","可以","足破","殘","距離","大劍遠","話","紅黃圈","可以","看到","再","殘","再來","就是","猜心態","預","出手","殘","反猛","會","控場","盾","一定","會","抓","刀","破綻","猛掉","因此","刀會","不會","反猛","對","戰局","影響","將會","非常","大","可以","反猛","時機","被擊","飛前","上盾","一招","殘","利用","我方","人物","身體","一個","猛上","多個","殘","神小跳","迴","避後殘","微笑","走位","迴","避後殘","跳","騙","猛","上力","破","加長","殘","利用","身後也","能","判定","人物","往前走","加長","殘","有效","距離","足破","一般","人","刀","近","身會","怕","被","拆武","利用","這個","心態","踢","足","破","能","騙","招","斜坡","足破騙","招","殘","起身","無敵足","破騙","空暈","殘","換武","看到","快要","開戰","就要","趕快","換刀","開戰","才","換刀","一定","來","不及","帶法師","話","要","適當","去","法師","旁邊","讓","盾","頂","前面","多上","破防","讓","法師","可以","輸出","法師輸","出時","幫法師","製","造","輸","出","空","間","適當","回防","幫法師","擋","大劍","上招","原則","開戰","不要","想","說","能","上","很多","招","1","2","招","很多","但","要","利用","這幾招","延續","優勢","來","讓","能","上","招變","隊友","能","重壓","話","優先","打破","防","足破","殘常能","帶來","意外","戰果","繳械","癱瘓","一個","人","後","可以","選擇","殘","其他人","沒什麼","出手","空間","話","用","紅黃圈","漆黑","黑刀","打個後仰","給別","人接","前提","有把握","隊友","能接","先上","黑","後","續","拿","弓射會","好射","很多","能緩","到速","話","下","ㄧ","波","開","戰","會","好","打","很多","善用","連殘來","讓","對","手過","來","撞","招","能捕","足","破","踢","能緩","到速","機會","上","一招","勇往直前","玩刀","不要","總是","打","太龜縮","3","只有","刀","逆轉","一切","可能","勇敢","一點","利用","所有","細微","機會","未來","才","會","參考","影片"],key_words:[{word:"會戰點",weight:129.13124737791895},{word:"走位",weight:105.65283876375187},{word:"開戰",weight:105.65283876375187},{word:"機會",weight:93.91363445666833},{word:"紅黃圈",weight:82.1744301495848},{word:"神小跳",weight:58.69602153541771},{word:"對方",weight:58.69602153541771},{word:"出招",weight:53.4090091355},{word:"出手",weight:50.66281469186},{word:"大劍",weight:46.95681722833417},{word:"攻擊",weight:46.95681722833417},{word:"往前",weight:45.65465107452},{word:"利用",weight:45.035574610320005},{word:"一招",weight:44.517326891050004},{word:"漆黑",weight:39.24294241525},{word:"不要",weight:39.1435454408},{word:"卡位",weight:38.4061960899},{word:"誘導",weight:35.21761292125063},{word:"足破",weight:35.21761292125063},{word:"紅黃",weight:35.21761292125063},{word:"狀況",weight:35.21761292125063},{word:"重壓",weight:35.21761292125063},{word:"反猛",weight:35.21761292125063},{word:"伸張",weight:35.21761292125063},{word:"法師",weight:35.21761292125063},{word:"時候",weight:35.21761292125063},{word:"一個",weight:35.21761292125063},{word:"開戰前",weight:35.21761292125063},{word:"距離",weight:35.21761292125063},{word:"優勢",weight:35.21761292125063}],excerpt:"最主要的職位定位 控場 僵持戰 最重要的是協助開戰 卡位 多往前卡，不要總是躲在盾後面 卡位要選第1、2會戰點好出招的位置去卡 緩速 開戰前可以多緩刀或大劍，，有緩到盾可以猛擊開戰 但也要小心位置，不要為了緩而離盾太遠 消血 若對方大劍 喝藍強勢輸出: 可以上毒火，削他血逼他喝回黃 喝黃打刀: 那刀可以主動去近身大劍，逼大劍不好回手 紅黃圈攻擊 刀不見得都要等盾開，善加利用紅黃圈攻擊 對協助開戰、誘發開戰會有很大的幫助 開戰 優先考慮如何打破防給大劍重壓 開戰前要就位置、心理，去預期能穩上幾招 不要想說一個開戰就能上到很多 上到一招算是常態 上到兩招算是很賺 優勢是滾雪球般慢慢打出來的，不是一口氣打出來的 開戰要小心 職業 狀況 大劍 粉碎吹掉，伸張/力衝斷刀 盾 粉碎吹掉，猛擊，暈 刀 拆武，漆黑 ^^ 破防+伸張/重壓 法師 冰a斷招，雷c吹飛 打第0會戰點 藉由極快的預出手，來避免被..."},{title:"Hidden Markov Model",frontmatter:{title:"Hidden Markov Model",datetime:"2019/4/23",is_tmp:!0,meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Hidden Markov Model"},{property:"og:type",content:"website"},{property:"og:url",content:"/Game/FEZ/X.%20Theorem/HMM.html"},{name:"twitter:title",content:"Hidden Markov Model"},{name:"twitter:url",content:"/Game/FEZ/X.%20Theorem/HMM.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"開戰, 隱象, 散步, 表象, 晴天, 打掃, 觀察到, 機率, hmm, 我們, 應用, 雨天, 可能, 接下, 卡位, 積極, 理論, 購物, 沒業績, 一種, 方大劍, 不斷, 天氣, 幾個, 0.5, 優勢, 影片, 基本概念, 序列, 注意力"},{property:"article:tag",content:"開戰"},{property:"article:tag",content:"隱象"},{property:"article:tag",content:"散步"},{property:"article:tag",content:"表象"},{property:"article:tag",content:"晴天"},{property:"article:tag",content:"打掃"},{property:"article:tag",content:"觀察到"},{property:"article:tag",content:"機率"},{property:"article:tag",content:"hmm"},{property:"article:tag",content:"我們"},{property:"article:tag",content:"應用"},{property:"article:tag",content:"雨天"},{property:"article:tag",content:"可能"},{property:"article:tag",content:"接下"},{property:"article:tag",content:"卡位"},{property:"article:tag",content:"積極"},{property:"article:tag",content:"理論"},{property:"article:tag",content:"購物"},{property:"article:tag",content:"沒業績"},{property:"article:tag",content:"一種"},{property:"article:tag",content:"方大劍"},{property:"article:tag",content:"不斷"},{property:"article:tag",content:"天氣"},{property:"article:tag",content:"幾個"},{property:"article:tag",content:"0.5"},{property:"article:tag",content:"優勢"},{property:"article:tag",content:"影片"},{property:"article:tag",content:"基本概念"},{property:"article:tag",content:"序列"},{property:"article:tag",content:"注意力"}]},regularPath:"/Game/FEZ/X.%20Theorem/HMM.html",relativePath:"Game/FEZ/X. Theorem/HMM.md",key:"v-0c7f77bc",path:"/Game/FEZ/X.%20Theorem/HMM.html",headers:[{level:2,title:"舉例",slug:"舉例"},{level:2,title:"對方看起來既怯弱似乎不敢開戰，卻又積極卡位",slug:"對方看起來既怯弱似乎不敢開戰，卻又積極卡位"},{level:2,title:"3on盾積極卡位",slug:"_3on盾積極卡位"}],git:{created:"8/8/2019, 1:21:16 AM",updated:"6/19/2019, 8:54:26 AM",author:"PC\\JC",commits:[{fullHash:"306eb6ac7c63fb33ed12c6a2d8cbd6c20726957d",authorTime:"1565198476",commitTime:"1565198476",authorName:"PC\\JC"},{fullHash:"97dd281affd0e382e9ad7bc108bab13f79dbf6b4",authorTime:"1563325088",commitTime:"1563325088",authorName:"JC"},{fullHash:"865034f2c8176998657f5d81865d3ec76258a525",authorTime:"1561426251",commitTime:"1561426251",authorName:"JC"},{fullHash:"fb17d26752c3dabda6fca354a1497ecfa7f2d396",authorTime:"1561082097",commitTime:"1561082097",authorName:"JC"},{fullHash:"0b1d470ff2a07224f6f588a5b67816e6a52d6978",authorTime:"1560905666",commitTime:"1560905666",authorName:"JC"}],contributors:["PC\\JC","JC"]},pure_content:'hmm(hidden markov model)又稱為隱馬可夫模型\r\n\r\n是個被大量應用在語音辨識，或甚至語意分析的一種理論\r\n\r\nhmm存在已經非常久了，而他的應用相當的廣\r\n\r\n甚至hmm的基本概念，可以拿來使用在fez的玩法中\r\n\r\n 基本概念\r\n\r\n  我們人會觀察到許多的現象，這些看得到的"表象"\r\n\r\n  皆是因某一個"隱象"而生\r\n\r\n  我們會依時間順序陸續觀察到"表象"，即"表象的序列"\r\n\r\n  這也代表著，這將會有對應的"隱象的序列"\r\n\r\n    舉例\r\n\r\n    ![aaa](\r\n    \r\n     某a他只會做3件事\r\n    \r\n      1. 散步(walk)\r\n      2. 購物(shop)\r\n      3. 打掃(clean)\r\n\r\n     a在下雨天會有0.4的機率去購物、0.5的機率去打掃\r\n\r\n     a在晴天時會有0.6的機率去散步\r\n\r\n     以上條件我們可以做出上圖\r\n\r\n     假如你正在跟某a聊天\r\n\r\n       你能從對話中知道他正在散步、購物或打掃\r\n\r\n       你無法直接得知a所在當地的天氣\r\n\r\n     若a說他在打掃、明天說他在散步，那後天a會做什麼呢？\r\n\r\n       一種概略估計的方式是，打掃(雨天[^1])、散步(晴天[^1]) => 散步(晴天)[^2]\r\n\r\n 應用\r\n\r\n    對方看起來既怯弱似乎不敢開戰，卻又積極卡位\r\n    \r\n    如影片，當今天國戰打僻地\b，對方人數優勢卻打得這麼龜\r\n\r\n    人數優勢一般都會硬打，即便開輸對敵人來說也不虧\r\n\r\n    最虧的是不斷的僵持，完全沒業績\r\n\r\n    但對方寧可沒業績也要不斷吸引我方注意力\r\n\r\n    吸引注意力為"表象"，真正的意圖，其"隱象"\r\n\r\n    其實是要讓刀好隱身進來開戰\r\n\r\n    3on盾積極卡位\r\n\r\n    如影片，盾積極卡可能不是為了開戰，可能是為了製造有利的開戰局勢\r\n\r\n    也可能是為了讓後方的遊俠 or 大劍先進行削血輸出\r\n\r\n    因此"表象"是盾好像要開戰了，但其對應的可能"隱象"是開戰 or 削血\r\n\r\n    如影片，又若可以多觀察到，對方大劍連放了幾個力衝\r\n\r\n    那對方大劍若沒魔，對方盾理論上不會開戰\r\n\r\n    但若對方大劍喝r藍，那則可能會開\r\n\r\n summary\r\n\r\n  若可以多掌握住可能的"隱象"並推測出連續的"隱象"\r\n\r\n  那就能對於推測最後的"表象"帶來幫助\r\n\r\n  進而預測出接下來的幾個"表象"，並提早做出應對\r\n\r\n\r\n\r\n[^1]: 雨天打掃 => 0.5, 晴天打掃 -> 0.1, 最有可能是打掃的"隱象"這邊猜雨天\r\n[^2]: 由於之前散步是晴天，而晴天接下來最有可能的天氣為晴天，因此猜接下來為散步',word_token:["hmm","hidden","markov","model","稱","為","隱馬","可夫","模型","個","被","大量","應用","語音","辨識","甚至","語意","分析","一種","理論","hmm","存在","已經","非常","久","而","應用","相當的廣","甚至","hmm","基本概念","可以","拿來","使用","fez","玩法","基本概念","我們","人會","觀察到","許多","現象","這些","得到","表象","皆","因","一個","隱象","而生","我們","會","依時間","順序","陸續","觀察到","表象","即","表象","序列","這也","代表","著","這將會","對","應","隱象","序列","舉例","aaa","只會","3","件","事","1","散步","walk","2","購物","shop","3","打掃","clean","下雨天","會","04","機率","去","購物","05","機率","去","打","掃","晴天","時會","06","機率","去","散步","以上","條件","我們","可以","做出","上圖","假如","正在","聊天","能","從","對","話","知道","正在","散步","、","購","物","打","掃","無法","直接","得知","所在","當地","天氣","若","說","打掃","、","明天","說","散步","那後天","會","什麼呢","一種","概略","估計","方式","打掃","雨天","1","、","散步","晴天","1","=","散步","晴天","2","應用","對方","起來","既","怯弱","似乎","不敢","開戰","卻","積極","卡位","如","影片","當","今天","國戰","打僻","\b","對方人數","優勢","卻","打得","這麼","龜","人數","優勢","一般","會","硬打","即便","開輸","對","敵人來","說","不虧","最虧","不斷","僵持","完全","沒業績","但","對","方寧","可","沒業績","要","不斷","吸引","我方","注意力","吸引","注意力","為","表象","真正","意圖","其","隱象","其實","要","讓","刀","好","隱身","進來","開戰","3","盾","積極","卡位","如","影片","盾積","極卡","可能","不是","為","開戰","可能","為了","製","造","有利","開戰","局勢","可能","為","讓後方","遊俠","大劍先","進行","削血輸出","因此","表象","盾","好像","要","開戰","但","其","對","應","可能","隱象","開戰","削血","如","影片","若","可以","觀察到","對方大劍","連放","幾個","力衝","對","方大劍","若","沒","魔","對方盾","理論","上","不會","開戰","但","若","對","方大劍","喝","r","藍","那則","可能","會開","summary","若","可以","掌握住","可能","隱象","並推測","出連續","隱象","能","對","於","推測","最","後","表象","帶來","幫助","進而","預測","出","接下","來","幾個","表象","並","提早","做出","應對","1","雨天","打掃","=","05","晴天","打掃","-","01","最有","可能","打","掃","隱象","這邊","猜","雨天","2","由","於","之前","散步","晴天","而","晴天","接下","來","最","可能","天氣","為","晴天","因此","猜","接下","來","為","散步"],key_words:[{word:"開戰",weight:82.1744301495848},{word:"隱象",weight:82.1744301495848},{word:"散步",weight:70.45541960936},{word:"表象",weight:64.92993387083},{word:"晴天",weight:64.86164064625001},{word:"打掃",weight:58.69602153541771},{word:"觀察到",weight:35.21761292125063},{word:"機率",weight:35.21761292125063},{word:"hmm",weight:35.21761292125063},{word:"我們",weight:35.21761292125063},{word:"應用",weight:35.21761292125063},{word:"雨天",weight:30.0884299233},{word:"可能",weight:29.98422388584},{word:"接下",weight:29.13306872985},{word:"卡位",weight:25.6041307266},{word:"積極",weight:23.478408614167083},{word:"理論",weight:23.478408614167083},{word:"購物",weight:23.478408614167083},{word:"沒業績",weight:23.478408614167083},{word:"一種",weight:23.478408614167083},{word:"方大劍",weight:23.478408614167083},{word:"不斷",weight:23.478408614167083},{word:"天氣",weight:23.478408614167083},{word:"幾個",weight:23.478408614167083},{word:"0.5",weight:23.478408614167083},{word:"優勢",weight:23.478408614167083},{word:"影片",weight:21.86590985142},{word:"基本概念",weight:18.40039457236},{word:"序列",weight:16.0458837404},{word:"注意力",weight:15.6323564778}],excerpt:'hmm(hidden markov model)又稱為隱馬可夫模型 是個被大量應用在語音辨識，或甚至語意分析的一種理論 hmm存在已經非常久了，而他的應用相當的廣 甚至hmm的基本概念，可以拿來使用在fez的玩法中 基本概念 我們人會觀察到許多的現象，這些看得到的"表象" 皆是因某一個"隱象"而生 我們會依時間順序陸續觀察到"表象"，即"表象的序列" 這也代表著，這將會有對應的"隱象的序列" 舉例 ![aaa]( 某a他只會做3件事 1. 散步(walk) 2. 購物(shop) 3. 打掃(clean) a在下雨天會有0.4的機率去購物、0.5的機率去打掃 a在晴天時會有0.6的機率去散步 以上條件我們可以做出上圖 假如你正在跟某a聊天 你能從對話中知道他正在散步、購物或打掃 你無法直接得知a所在當地的天氣 若a說他在打掃、明天說他在散步，那後天a會做什麼呢？ 一種概略估計的方式是，打掃...'},{title:"Test Article Meta Comment Count",frontmatter:{title:"Test Article Meta Comment Count",datetime:"2019/4/14",tag:["VueJCBlog","Test","Comment Count"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Test Article Meta Comment Count"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Development/article/test/test-comment.html"},{name:"twitter:title",content:"Test Article Meta Comment Count"},{name:"twitter:url",content:"/VueJCBlog/Development/article/test/test-comment.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"meta, test, comment, article, count"},{property:"article:tag",content:"meta"},{property:"article:tag",content:"test"},{property:"article:tag",content:"comment"},{property:"article:tag",content:"article"},{property:"article:tag",content:"count"}]},regularPath:"/VueJCBlog/Development/article/test/test-comment.html",relativePath:"VueJCBlog/Development/article/test/test-comment.md",key:"v-ace574d0",path:"/VueJCBlog/Development/article/test/test-comment.html",git:{created:"4/29/2019, 1:42:48 AM",updated:"4/29/2019, 1:42:48 AM",author:"PC\\JC",commits:[{fullHash:"abcae7c1645bb879dcbb64b83ac2c1d9cf760128",authorTime:"1556473368",commitTime:"1556473368",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"test article meta comment count",word_token:["test","article","meta","comment","count"],key_words:[{word:"meta",weight:11.739204307083542},{word:"test",weight:11.739204307083542},{word:"comment",weight:11.739204307083542},{word:"article",weight:11.739204307083542},{word:"count",weight:11.739204307083542}],excerpt:"test article meta comment count"},{title:"Add page views for blog by Firebase",frontmatter:{title:"Add page views for blog by Firebase",datetime:"2019/4/28",tag:["Firebase","Page Views"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Add page views for blog by Firebase"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Development/article/hello-vuejcblog.html"},{name:"twitter:title",content:"Add page views for blog by Firebase"},{name:"twitter:url",content:"/VueJCBlog/Development/article/hello-vuejcblog.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"firebase, url, state, articles, config, 專案, dashboard, db, database, 選擇, 資料, key, ref, function, init, 次數, snapshot, 串接, views, 一個, js, 閱讀, 網址, api, 更新, 需要, 我們, 權限, vuex, value"},{property:"article:tag",content:"firebase"},{property:"article:tag",content:"url"},{property:"article:tag",content:"state"},{property:"article:tag",content:"articles"},{property:"article:tag",content:"config"},{property:"article:tag",content:"專案"},{property:"article:tag",content:"dashboard"},{property:"article:tag",content:"db"},{property:"article:tag",content:"database"},{property:"article:tag",content:"選擇"},{property:"article:tag",content:"資料"},{property:"article:tag",content:"key"},{property:"article:tag",content:"ref"},{property:"article:tag",content:"function"},{property:"article:tag",content:"init"},{property:"article:tag",content:"次數"},{property:"article:tag",content:"snapshot"},{property:"article:tag",content:"串接"},{property:"article:tag",content:"views"},{property:"article:tag",content:"一個"},{property:"article:tag",content:"js"},{property:"article:tag",content:"閱讀"},{property:"article:tag",content:"網址"},{property:"article:tag",content:"api"},{property:"article:tag",content:"更新"},{property:"article:tag",content:"需要"},{property:"article:tag",content:"我們"},{property:"article:tag",content:"權限"},{property:"article:tag",content:"vuex"},{property:"article:tag",content:"value"}]},regularPath:"/VueJCBlog/Development/article/hello-vuejcblog.html",relativePath:"VueJCBlog/Development/article/hello-vuejcblog.md",key:"v-3c8dbd4b",path:"/VueJCBlog/Development/article/hello-vuejcblog.html",headers:[{level:2,title:"紀錄",slug:"紀錄"},{level:2,title:"更新方式",slug:"更新方式"},{level:2,title:"Apply Firebase",slug:"apply-firebase"},{level:2,title:"串接 Firebase API",slug:"串接-firebase-api"},{level:2,title:"串接思路",slug:"串接思路"}],git:{created:"4/29/2019, 3:25:35 PM",updated:"4/29/2019, 1:42:48 AM",author:"JC",commits:[{fullHash:"5bcca74af1a896e94714d360e7688c667071979f",authorTime:"1556522735",commitTime:"1556522735",authorName:"JC"},{fullHash:"abcae7c1645bb879dcbb64b83ac2c1d9cf760128",authorTime:"1556473368",commitTime:"1556473368",authorName:"PC\\JC"}],contributors:["JC","PC\\JC"]},pure_content:"部落格文章的閱讀量雖然可以透過ga來進行一些追蹤與分析\r\n\r\n但閱讀次數直接顯示給人的觀感還是不一樣的\r\n\r\n因此我結合了 firebase 來實做了此功能\r\n\r\n 開發策略\r\n\r\n首先，閱讀次數需要被記錄，再來需要定義閱讀次數何時要被更新\r\n\r\n 紀錄\r\n\r\n紀錄這件事，就交給了 firebase 了， firebase有許多的功能\r\n\r\n這邊我使用 firebase 的 realtime database 功能來當作我的儲存空間\r\n\r\n 更新方式\r\n\r\n理想上，短期內重複觀看文章，好像昰不該增加閱讀次數\r\n\r\n但這樣實作起來太麻煩了 lol\r\n\r\n因此我直接在讀者進入頁面時，就讓次數+1\r\n\r\n development\r\n\r\n apply firebase\r\n\r\n [開啟一個專案](\r\n\r\n  !新增專案\r\n\r\n 選擇一個專案[^1]\r\n\r\n  !選擇專案\r\n\r\n 建立完 firebase 專案後，就會有個 firebase 的 dashboard 可以用了\r\n\r\n  !dashboard\r\n\r\n 選擇左方 database，然後點選規則\r\n\r\n  由於我們需要將每篇網誌文章的觀看次數更新上去\r\n\r\n  所以要將 read write 權限打開\r\n\r\n  !dashboard\r\n\r\n 申請api\r\n\r\n  !dashboard\r\n\r\n  由於昰要給網頁開發用的，因此選擇網頁\r\n\r\n  !dashboard\r\n\r\n  接著就會出現串接 api 時需要的 config\r\n\r\n  後續會需要使用到此config[^2]\r\n\r\n  !dashboard\r\n\r\n 串接 firebase api\r\n\r\n [js library](\r\n\r\n [語法](\r\n\r\n 串接思路\r\n\r\n 起一個 firebase instance 儲存在 vuex 中\r\n\r\n 用一個 `is_init` 來確保只會初始化一次\r\n\r\n 起一個 articles reference 並監聽資料的異動\r\n\r\n 先跟db要一次資料\r\n\r\n    ```js\r\n    init_firebase(state, config){\r\n        if( !state.is_init ){\r\n            let firebase = require('firebase');\r\n            state.firebase = firebase\r\n\r\n            state.is_init = true\r\n            state.config = config\r\n            firebase.initializeapp(config);\r\n            state.db = firebase.database()    \r\n\r\n            state.articles_ref = firebase.database().ref('articles/')\r\n            state.articles_ref.on('value', function(snapshot) {\r\n                state.articles = snapshot.val()\r\n            })\r\n            state.articles_ref.once('value').then(function(snapshot) {\r\n                state.articles = snapshot.val()\r\n            })\r\n        }\r\n    }\r\n    ```\r\n    \r\n 在 vuex 中建立 function 來處理資料的寫入\r\n\r\n 由於 firebase 不允許網址中的某些字元做為 key 值 [^3]\r\n\r\n  因此我將網址中的 `http`、`hash`去掉，並把網址轉為base64來當做 key 值\r\n\r\n    ```js\r\n    function transform_url(url){\r\n        url = url.split(\"://\")[1]\r\n        url = url.split(\"\")[0]\r\n        return {\r\n            url: url, \r\n            url_key: btoa(url)\r\n        }\r\n    }\r\n\r\n    state.firebase.database().ref(`articles/${key}`).set({\r\n        url: transform_url(url),\r\n        views\r\n    });\r\n    ```\r\n\r\n 最後只要讓各篇文章去 watch `state.articles` 中自己的 page views\r\n\r\n  那當瀏覽的過程中，若有其他人也進來瀏覽\r\n  \r\n  page views 也會自己 reactive 的更新啦!\r\n\r\n\r\n[^1]: 這邊選擇的昰 google 的專案，並不是 firebase 專案\r\n\r\n[^2]: config需要妥善保管好，否則別人將可以改寫資料(因為我們在前面有將db的讀寫權限都開啟了)。另外db中最好不要存放太機敏的資料(畢竟config還是設定到前端了)。\r\n\r\n[^3]: 由於 firebase 的 realtime db 應該昰 nosql base db，因此像是 `.`(dot) 就不能做為 key 值",word_token:["部落","格","文章","閱讀量","雖然","可以","透過","ga","來","進行","一些","追","蹤","與","分析","但","閱讀","次數","直接","顯示","給人","觀感","還是","一樣","因此","結合","firebase","來實","功能","開發","策略","首先","閱讀","次數","需要","被","記錄","再來","需要","定義閱","讀次","數何","時要","被","更新","紀錄","紀錄","這件","事","交給","firebase","firebase","許多","功能","這邊","使用","firebase","realtime","database","功能","來","當作","儲存","空間","更新","方式","理想","上","短期","內重","複","觀看","文章","好像","昰","該","增加","閱讀","次數","但","這樣","實作","起來","太麻煩","lol","因此","直接","讀者","進入","頁","面時","讓","次數","1","development","apply","firebase","開啟","一個","專案","新增","專案","選擇","一個","專案","1","選擇","專案","建立","完","firebase","專案","後","會","個","firebase","dashboard","可以","用","dashboard","選擇","左方","database","然後點","選規則","由","於","我們","需要","將","每篇","網誌","文章","觀","看次數","更新","上去","所以","要將","read","write","權限","打開","dashboard","申請","api","dashboard","由","於","昰","要給","網頁","開發用","因此","選擇","網頁","dashboard","接著","會","出現","串接","api","時","需要","config","後","續會","需要","使用","config","2","dashboard","串接","firebase","api","js","library","語法","串接","思路","起一個","firebase","instance","儲","存在","vuex","用","一個","`","_","init","`","來","確保","只會","初始化","一次","起一個","articles","reference","並監","聽","資料","異動","先","db","要","一次","資料","`","`","`","js","init","_","firebase","state","config","state","_","init","let","firebase","=","require","firebase","state","firebase","=","firebase","state","_","init","=","true","state","config","=","config","firebase","initializeapp","config","state","db","=","firebase","database","state","articles","_","ref","=","firebase","database","ref","articles","state","articles","_","ref","value","function","snapshot","state","articles","=","snapshot","val","state","articles","_","ref","once","value","function","snapshot","state","articles","=","snapshot","val","`","`","`","vuex","建立","function","來","處理","資料","寫入","由","於","firebase","不允許","網址","某些","字元","為","key","值","3","因此","我將","網址","`","http","`","`","hash","`","去掉","並把","網址","轉為","base64","來當","key","值","`","`","`","js","function","transform","_","url","url","url","=","url","split","1","url","=","url","split","0","return","url","url","url","_","key","btoa","url","state","firebase","database","ref","`","articles","key","`","set","url","transform","_","url","url","views","`","`","`","最","後","只要","讓","篇文章","去","watch","`","state","articles","`","自己","page","views","那當","瀏覽","過程","若有","其他人","進來","瀏覽","page","views","會","自己","reactive","更新","啦","1","這邊","選擇","昰","google","專案","並","不是","firebase","專案","2","config","需要","妥善","保管","好","否則","別人將","可以","改寫","資料","因為","我們","前面","有將","db","讀","寫","權限","開啟","另外","db","最好","不要","存放","太機敏","資料","畢竟","config","還是","設定","前端","。","3","由","於","firebase","realtime","db","應該","昰","nosql","base","db","因此","像是","`","`","dot","不能","為","key","值"],key_words:[{word:"firebase",weight:246.52329044875438},{word:"url",weight:152.60965599208603},{word:"state",weight:152.60965599208603},{word:"articles",weight:105.65283876375187},{word:"config",weight:93.91363445666833},{word:"專案",weight:82.1744301495848},{word:"dashboard",weight:70.43522584250125},{word:"db",weight:70.43522584250125},{word:"database",weight:58.69602153541771},{word:"選擇",weight:58.69602153541771},{word:"資料",weight:58.69602153541771},{word:"key",weight:58.69602153541771},{word:"ref",weight:58.69602153541771},{word:"function",weight:46.95681722833417},{word:"init",weight:46.95681722833417},{word:"次數",weight:46.95681722833417},{word:"snapshot",weight:46.95681722833417},{word:"串接",weight:36.3267545481},{word:"views",weight:35.21761292125063},{word:"一個",weight:35.21761292125063},{word:"js",weight:35.21761292125063},{word:"閱讀",weight:35.21761292125063},{word:"網址",weight:35.21761292125063},{word:"api",weight:35.21761292125063},{word:"更新",weight:26.62294442256},{word:"需要",weight:26.066883861},{word:"我們",weight:23.478408614167083},{word:"權限",weight:23.478408614167083},{word:"vuex",weight:23.478408614167083},{word:"value",weight:23.478408614167083}],excerpt:"部落格文章的閱讀量雖然可以透過ga來進行一些追蹤與分析 但閱讀次數直接顯示給人的觀感還是不一樣的 因此我結合了 firebase 來實做了此功能 開發策略 首先，閱讀次數需要被記錄，再來需要定義閱讀次數何時要被更新 紀錄 紀錄這件事，就交給了 firebase 了， firebase有許多的功能 這邊我使用 firebase 的 realtime database 功能來當作我的儲存空間 更新方式 理想上，短期內重複觀看文章，好像昰不該增加閱讀次數 但這樣實作起來太麻煩了 lol 因此我直接在讀者進入頁面時，就讓次數+1 development apply firebase [開啟一個專案]( !新增專案 選擇一個專案[^1] !選擇專案 建立完 firebase 專案後，就會有個 firebase 的 dashboard 可以用了 !dashboard 選擇左方 database，然後點..."},{title:"Test Lazy Loading - 2",frontmatter:{title:"Test Lazy Loading - 2",datetime:"2019/4/14",tag:["VueJCBlog","Test","Lazy Load"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Test Lazy Loading - 2"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Development/article/test/test-lazy-load2.html"},{name:"twitter:title",content:"Test Lazy Loading - 2"},{name:"twitter:url",content:"/VueJCBlog/Development/article/test/test-lazy-load2.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"youtube, text, grid, img"},{property:"article:tag",content:"youtube"},{property:"article:tag",content:"text"},{property:"article:tag",content:"grid"},{property:"article:tag",content:"img"}]},regularPath:"/VueJCBlog/Development/article/test/test-lazy-load2.html",relativePath:"VueJCBlog/Development/article/test/test-lazy-load2.md",key:"v-27f6ecec",path:"/VueJCBlog/Development/article/test/test-lazy-load2.html",git:{created:"4/29/2019, 1:42:48 AM",updated:"4/29/2019, 1:42:48 AM",author:"PC\\JC",commits:[{fullHash:"abcae7c1645bb879dcbb64b83ac2c1d9cf760128",authorTime:"1556473368",commitTime:"1556473368",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"img\r\n\r\n::: grid\r\n\r\n![some text](\r\n\r\n![some text](\r\n\r\n![some text](\r\n\r\n![some text](\r\n\r\n![some text](\r\n\r\n![some text](\r\n\r\n![some text](\r\n\r\n![some text](\r\n\r\n![some text](\r\n\r\n![some text](\r\n\r\n![some text](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n:::",word_token:["img","grid","text","text","text","text","text","text","text","text","text","text","text","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube"],key_words:[{word:"youtube",weight:211.30567752750375},{word:"text",weight:129.13124737791895},{word:"grid",weight:11.739204307083542},{word:"img",weight:11.739204307083542}],excerpt:"img ::: grid ![some text]( ![some text]( ![some text]( ![some text]( ![some text]( ![some text]( ![some text]( ![some text]( ![some text]( ![some text]( ![some text]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( :::"},{title:"Test Lazy Loading",frontmatter:{title:"Test Lazy Loading",datetime:"2019/4/14",tag:["VueJCBlog","Test","Lazy Load"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Test Lazy Loading"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Development/article/test/test-lazy-load.html"},{name:"twitter:title",content:"Test Lazy Loading"},{name:"twitter:url",content:"/VueJCBlog/Development/article/test/test-lazy-load.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"youtube, text, img, video"},{property:"article:tag",content:"youtube"},{property:"article:tag",content:"text"},{property:"article:tag",content:"img"},{property:"article:tag",content:"video"}]},regularPath:"/VueJCBlog/Development/article/test/test-lazy-load.html",relativePath:"VueJCBlog/Development/article/test/test-lazy-load.md",key:"v-25bc4f18",path:"/VueJCBlog/Development/article/test/test-lazy-load.html",git:{created:"4/29/2019, 1:42:48 AM",updated:"4/29/2019, 1:42:48 AM",author:"PC\\JC",commits:[{fullHash:"abcae7c1645bb879dcbb64b83ac2c1d9cf760128",authorTime:"1556473368",commitTime:"1556473368",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"img\r\n\r\n![some text](\r\n\r\n![some text](\r\n\r\n![some text](\r\n\r\n![some text](\r\n\r\n![some text](\r\n\r\n![some text](\r\n\r\n![some text](\r\n\r\n![some text](\r\n\r\n![some text](\r\n\r\n![some text](\r\n\r\n![some text](\r\n\r\n video\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](\r\n\r\n@[youtube](",word_token:["img","text","text","text","text","text","text","text","text","text","text","text","video","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube","@","youtube"],key_words:[{word:"youtube",weight:211.30567752750375},{word:"text",weight:129.13124737791895},{word:"img",weight:11.739204307083542},{word:"video",weight:11.739204307083542}],excerpt:"img ![some text]( ![some text]( ![some text]( ![some text]( ![some text]( ![some text]( ![some text]( ![some text]( ![some text]( ![some text]( ![some text]( video @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]( @[youtube]("},{title:"Archive Page",frontmatter:{title:"Archive Page",datetime:"2019/3/29",update_datetime:"2019/4/7",tag:["VueJCBlog","Feature","Archive"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Archive Page"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Feature/archive-page.html"},{name:"twitter:title",content:"Archive Page"},{name:"twitter:url",content:"/VueJCBlog/Feature/archive-page.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"features, nav, 進行, viewer, 簡約, recent, sidebar, category, mini, 呈現, post, reading, main, progress, 年月日, 排序, 文章, 方式"},{property:"article:tag",content:"features"},{property:"article:tag",content:"nav"},{property:"article:tag",content:"進行"},{property:"article:tag",content:"viewer"},{property:"article:tag",content:"簡約"},{property:"article:tag",content:"recent"},{property:"article:tag",content:"sidebar"},{property:"article:tag",content:"category"},{property:"article:tag",content:"mini"},{property:"article:tag",content:"呈現"},{property:"article:tag",content:"post"},{property:"article:tag",content:"reading"},{property:"article:tag",content:"main"},{property:"article:tag",content:"progress"},{property:"article:tag",content:"年月日"},{property:"article:tag",content:"排序"},{property:"article:tag",content:"文章"},{property:"article:tag",content:"方式"}]},regularPath:"/VueJCBlog/Feature/archive-page.html",relativePath:"VueJCBlog/Feature/archive-page.md",key:"v-7690c622",path:"/VueJCBlog/Feature/archive-page.html",git:{created:"4/17/2019, 10:53:41 PM",updated:"4/17/2019, 10:53:41 PM",author:"PC\\JC",commits:[{fullHash:"312820eae2ffb989afb42499a7ad08f4e2afbc68",authorTime:"1555512821",commitTime:"1555512821",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"main features\r\n\r\n   將所有的文章以簡約的方式依照年月日排序後進行呈現\r\n\r\n sidebar features\r\n\r\n   mini category viewer\r\n  \r\n   recent post\r\n  \r\n nav features\r\n\r\n   reading progress",word_token:["main","features","將","所有","文章","以","簡約","方式","依照","年月日","排序","後","進行","呈現","sidebar","features","mini","category","viewer","recent","post","nav","features","reading","progress"],key_words:[{word:"features",weight:35.21761292125063},{word:"nav",weight:11.739204307083542},{word:"進行",weight:11.739204307083542},{word:"viewer",weight:11.739204307083542},{word:"簡約",weight:11.739204307083542},{word:"recent",weight:11.739204307083542},{word:"sidebar",weight:11.739204307083542},{word:"category",weight:11.739204307083542},{word:"mini",weight:11.739204307083542},{word:"呈現",weight:11.739204307083542},{word:"post",weight:11.739204307083542},{word:"reading",weight:11.739204307083542},{word:"main",weight:11.739204307083542},{word:"progress",weight:11.739204307083542},{word:"年月日",weight:10.4666904475},{word:"排序",weight:9.12999302751},{word:"文章",weight:6.62342992534},{word:"方式",weight:4.80149232937}],excerpt:"main features 將所有的文章以簡約的方式依照年月日排序後進行呈現 sidebar features mini category viewer recent post nav features reading progress"},{title:"Category Page",frontmatter:{title:"Category Page",datetime:"2019/3/27",update_datetime:"2019/4/7",tag:["VueJCBlog","Feature","Category"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Category Page"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Feature/category-page.html"},{name:"twitter:title",content:"Category Page"},{name:"twitter:url",content:"/VueJCBlog/Feature/category-page.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"features, 呈現, 文章, 夾的, 分類, recent, 以資料, 換要, nav, viewer, 資訊, 來切, reading, 下鑽, 顯示, main, sidebar, category, 順序, 資料夾, post, button, 點擊, progress, 排序, 一下, 方式, 使用"},{property:"article:tag",content:"features"},{property:"article:tag",content:"呈現"},{property:"article:tag",content:"文章"},{property:"article:tag",content:"夾的"},{property:"article:tag",content:"分類"},{property:"article:tag",content:"recent"},{property:"article:tag",content:"以資料"},{property:"article:tag",content:"換要"},{property:"article:tag",content:"nav"},{property:"article:tag",content:"viewer"},{property:"article:tag",content:"資訊"},{property:"article:tag",content:"來切"},{property:"article:tag",content:"reading"},{property:"article:tag",content:"下鑽"},{property:"article:tag",content:"顯示"},{property:"article:tag",content:"main"},{property:"article:tag",content:"sidebar"},{property:"article:tag",content:"category"},{property:"article:tag",content:"順序"},{property:"article:tag",content:"資料夾"},{property:"article:tag",content:"post"},{property:"article:tag",content:"button"},{property:"article:tag",content:"點擊"},{property:"article:tag",content:"progress"},{property:"article:tag",content:"排序"},{property:"article:tag",content:"一下"},{property:"article:tag",content:"方式"},{property:"article:tag",content:"使用"}]},regularPath:"/VueJCBlog/Feature/category-page.html",relativePath:"VueJCBlog/Feature/category-page.md",key:"v-2e8c0cd0",path:"/VueJCBlog/Feature/category-page.html",git:{created:"4/17/2019, 10:53:41 PM",updated:"4/17/2019, 10:53:41 PM",author:"PC\\JC",commits:[{fullHash:"312820eae2ffb989afb42499a7ad08f4e2afbc68",authorTime:"1555512821",commitTime:"1555512821",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"main features\r\n\r\n   以資料夾的方式呈現文章的分類\r\n  \r\n   資料夾可以點擊一下來下鑽、點擊兩下進入該類別\r\n\r\n   可以使用button來切換要顯示的資訊\r\n\r\n   可以排序呈現的文章順序\r\n\r\n sidebar features\r\n  \r\n   recent post\r\n\r\n   category viewer\r\n  \r\n nav features\r\n\r\n   reading progress",word_token:["main","features","以資料","夾的","方式","呈現","文章","分類","資料夾","可以","點擊","一下","來","下鑽","點","擊","兩","下","進","入","該","類","別","可以","使用","button","來切","換要","顯示","資訊","可以","排序","呈現","文章","順序","sidebar","features","recent","post","category","viewer","nav","features","reading","progress"],key_words:[{word:"features",weight:35.21761292125063},{word:"呈現",weight:23.478408614167083},{word:"文章",weight:13.24685985068},{word:"夾的",weight:11.739204307083542},{word:"分類",weight:11.739204307083542},{word:"recent",weight:11.739204307083542},{word:"以資料",weight:11.739204307083542},{word:"換要",weight:11.739204307083542},{word:"nav",weight:11.739204307083542},{word:"viewer",weight:11.739204307083542},{word:"資訊",weight:11.739204307083542},{word:"來切",weight:11.739204307083542},{word:"reading",weight:11.739204307083542},{word:"下鑽",weight:11.739204307083542},{word:"顯示",weight:11.739204307083542},{word:"main",weight:11.739204307083542},{word:"sidebar",weight:11.739204307083542},{word:"category",weight:11.739204307083542},{word:"順序",weight:11.739204307083542},{word:"資料夾",weight:11.739204307083542},{word:"post",weight:11.739204307083542},{word:"button",weight:11.739204307083542},{word:"點擊",weight:11.739204307083542},{word:"progress",weight:11.739204307083542},{word:"排序",weight:9.12999302751},{word:"一下",weight:4.88927614262},{word:"方式",weight:4.80149232937},{word:"使用",weight:4.51629994279}],excerpt:"main features 以資料夾的方式呈現文章的分類 資料夾可以點擊一下來下鑽、點擊兩下進入該類別 可以使用button來切換要顯示的資訊 可以排序呈現的文章順序 sidebar features recent post category viewer nav features reading progress"},{title:"Features of VueJCBlog",frontmatter:{title:"Features of VueJCBlog",datetime:"2019/3/22",update_datetime:"2019/4/7",tag:["VueJCBlog","Feature","Article","Index","About","Category","Tag","Archive","Search"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Features of VueJCBlog"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Feature/"},{name:"twitter:title",content:"Features of VueJCBlog"},{name:"twitter:url",content:"/VueJCBlog/Feature/"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"div, 呈現, 文章, blueprint, class, sidebar, bp, main, content, navigation, element, feature, post, search, 介紹, 面來, tag, filter, 進行, 夾的, 每個, 負責, 分類, 以資料, 附上, 方式, page, purpose, archive, vuejcblog"},{property:"article:tag",content:"div"},{property:"article:tag",content:"呈現"},{property:"article:tag",content:"文章"},{property:"article:tag",content:"blueprint"},{property:"article:tag",content:"class"},{property:"article:tag",content:"sidebar"},{property:"article:tag",content:"bp"},{property:"article:tag",content:"main"},{property:"article:tag",content:"content"},{property:"article:tag",content:"navigation"},{property:"article:tag",content:"element"},{property:"article:tag",content:"feature"},{property:"article:tag",content:"post"},{property:"article:tag",content:"search"},{property:"article:tag",content:"介紹"},{property:"article:tag",content:"面來"},{property:"article:tag",content:"tag"},{property:"article:tag",content:"filter"},{property:"article:tag",content:"進行"},{property:"article:tag",content:"夾的"},{property:"article:tag",content:"每個"},{property:"article:tag",content:"負責"},{property:"article:tag",content:"分類"},{property:"article:tag",content:"以資料"},{property:"article:tag",content:"附上"},{property:"article:tag",content:"方式"},{property:"article:tag",content:"page"},{property:"article:tag",content:"purpose"},{property:"article:tag",content:"archive"},{property:"article:tag",content:"vuejcblog"}]},regularPath:"/VueJCBlog/Feature/",relativePath:"VueJCBlog/Feature/README.md",key:"v-74a44f51",path:"/VueJCBlog/Feature/",git:{created:"4/17/2019, 10:53:41 PM",updated:"4/17/2019, 10:53:41 PM",author:"PC\\JC",commits:[{fullHash:"312820eae2ffb989afb42499a7ad08f4e2afbc68",authorTime:"1555512821",commitTime:"1555512821",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:'vuejcblog由幾種頁面組成，比方說文章的呈現會由 post 類型的頁面來負責呈現\r\n\r\n搜尋由 search 頁面來負責呈現\r\n\r\n每個頁面由上方的 navigation、左側的sidebar、與主要內容的 main content組成，如下圖\r\n\r\n<div bp="grid" class="blueprint">\r\n    <div bp="12" class="blueprint element">\r\n        navigation\r\n    </div>\r\n    <div bp="4" class="blueprint element">\r\n        sidebar\r\n    </div>\r\n    <div bp="8" class="blueprint element">\r\n        main content\r\n    </div>\r\n</div>\r\n\r\n\r\n每個頁面的 navigation 都是一樣的，而 sidebar 與 main content 則或多或少有些差異\r\n\r\n各頁面的 feature 、 共通的 feature 以及 sidebar的feature 將於其他文章逐一進行介紹\r\n\r\n  |              page              |  main purpose                                                           |\r\n  | ------------------------------ | ----------------------------------------------------------------------- |\r\n  | index       | 首頁                                                                    |\r\n  | about       | 可以用來放 blog 作者的自我介紹                                            |\r\n  | category | 以資料夾的方式呈現文章的分類，並附上一個filter                              |\r\n  | tag           | 以資料夾的方式呈現文章的分類、再以顯示了部落格所有文章的tag，並附上兩個filter |\r\n  | archive   | 將所有的文章以簡約的方式依照年月日排序後進行呈現                            |\r\n  | search     | 搜尋文章用的頁面                                                         |\r\n  | post         | 呈現文章用的頁面                                                         |',word_token:["vuejcblog","由","幾種","頁","面組成","比方","說","文章","呈","現會","由","post","類型","頁","面來","負責","呈現","搜尋由","search","頁","面來","負責","呈現","每個","頁","面","由","上方","navigation","左","側","sidebar","、","與","主要","內容","main","content","組成","如下","圖","div","bp","=","grid","class","=","blueprint","div","bp","=","12","class","=","blueprint","element","navigation","div","div","bp","=","4","class","=","blueprint","element","sidebar","div","div","bp","=","8","class","=","blueprint","element","main","content","div","div","每個","頁","面","navigation","一樣","而","sidebar","與","main","content","則","或多或少","有些","差異","各頁","面","feature","、","共通","feature","以及","sidebar","feature","將於","其他","文章","逐一","進行","介紹","|","page","|","main","purpose","|","|","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","|","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","|","|","index","|","首頁","|","|","|","可以","用來","放","blog","作者","自我","介紹","|","|","category","|","以資料","夾的","方式","呈現","文章","分類","並","附上","一個","filter","|","|","tag","|","以資料","夾的","方式","呈現","文章","分類","、","再","以","顯","示","部落","格","所有","文章","tag","並","附上","兩個","filter","|","|","archive","|","將","所有","文章","以","簡約","方式","依照","年月日","排序","後","進行","呈現","|","|","search","|","搜尋","文章","用","頁","面","|","|","post","|","呈現","文章","用","頁","面","|"],key_words:[{word:"div",weight:93.91363445666833},{word:"呈現",weight:70.43522584250125},{word:"文章",weight:52.98743940272},{word:"blueprint",weight:46.95681722833417},{word:"class",weight:46.95681722833417},{word:"sidebar",weight:46.95681722833417},{word:"bp",weight:46.95681722833417},{word:"main",weight:46.95681722833417},{word:"content",weight:35.21761292125063},{word:"navigation",weight:35.21761292125063},{word:"element",weight:35.21761292125063},{word:"feature",weight:35.21761292125063},{word:"post",weight:23.478408614167083},{word:"search",weight:23.478408614167083},{word:"介紹",weight:23.478408614167083},{word:"面來",weight:23.478408614167083},{word:"tag",weight:23.478408614167083},{word:"filter",weight:23.478408614167083},{word:"進行",weight:23.478408614167083},{word:"夾的",weight:23.478408614167083},{word:"每個",weight:23.478408614167083},{word:"負責",weight:23.478408614167083},{word:"分類",weight:23.478408614167083},{word:"以資料",weight:23.478408614167083},{word:"附上",weight:21.7123104286},{word:"方式",weight:14.404476988110002},{word:"page",weight:11.739204307083542},{word:"purpose",weight:11.739204307083542},{word:"archive",weight:11.739204307083542},{word:"vuejcblog",weight:11.739204307083542}],excerpt:'vuejcblog由幾種頁面組成，比方說文章的呈現會由 post 類型的頁面來負責呈現 搜尋由 search 頁面來負責呈現 每個頁面由上方的 navigation、左側的sidebar、與主要內容的 main content組成，如下圖 <div bp="grid" class="blueprint"> <div bp="12" class="blueprint element"> navigation </div> <div bp="4" class="blueprint element"> sidebar </div> <div bp="8" class="blueprint element"> main content </div> </div> 每個頁面的 navigation 都是一樣的，而 sidebar 與 main content 則或多或少有些差異 各頁面的 featu...'},{title:"Common Features",frontmatter:{title:"Common Features",datetime:"2019/3/23",update_datetime:"2019/4/7",tag:["VueJCBlog","Feature","Article","Index","About","Category","Tag","Archive","Search"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Common Features"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Feature/common-feature.html"},{name:"twitter:title",content:"Common Features"},{name:"twitter:url",content:"/VueJCBlog/Feature/common-feature.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"切換, 進行, 瀏覽, sidebar, link, seo, 一頁, toggle, 滑鼠, page, image, progress, navigation, iframe, preview, fast, pwa, img, reading, rwd, behavier, files, js, scroll, lazy, search, friendly, sitemap, spa, load"},{property:"article:tag",content:"切換"},{property:"article:tag",content:"進行"},{property:"article:tag",content:"瀏覽"},{property:"article:tag",content:"sidebar"},{property:"article:tag",content:"link"},{property:"article:tag",content:"seo"},{property:"article:tag",content:"一頁"},{property:"article:tag",content:"toggle"},{property:"article:tag",content:"滑鼠"},{property:"article:tag",content:"page"},{property:"article:tag",content:"image"},{property:"article:tag",content:"progress"},{property:"article:tag",content:"navigation"},{property:"article:tag",content:"iframe"},{property:"article:tag",content:"preview"},{property:"article:tag",content:"fast"},{property:"article:tag",content:"pwa"},{property:"article:tag",content:"img"},{property:"article:tag",content:"reading"},{property:"article:tag",content:"rwd"},{property:"article:tag",content:"behavier"},{property:"article:tag",content:"files"},{property:"article:tag",content:"js"},{property:"article:tag",content:"scroll"},{property:"article:tag",content:"lazy"},{property:"article:tag",content:"search"},{property:"article:tag",content:"friendly"},{property:"article:tag",content:"sitemap"},{property:"article:tag",content:"spa"},{property:"article:tag",content:"load"}]},regularPath:"/VueJCBlog/Feature/common-feature.html",relativePath:"VueJCBlog/Feature/common-feature.md",key:"v-021b3aa4",path:"/VueJCBlog/Feature/common-feature.html",git:{created:"3/29/2020, 5:51:04 AM",updated:"4/17/2019, 10:53:41 PM",author:"PC\\JC",commits:[{fullHash:"ca204d5e4de675b2dec1eb9902a7760988ff7b9f",authorTime:"1585432264",commitTime:"1585432264",authorName:"PC\\JC"},{fullHash:"312820eae2ffb989afb42499a7ad08f4e2afbc68",authorTime:"1555512821",commitTime:"1555512821",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"image viewer\r\n\r\n reading progress\r\n\r\n   閱讀的進度調，顯示在navigation\r\n\r\n link preview\r\n\r\n   滑鼠移到連結上可以預覽該業面的內容\r\n\r\n page transition\r\n\r\n   頁面間以動畫的方式進行切換\r\n\r\n scroll behavier\r\n\r\n   按上一頁或下一頁時將會記錄之前瀏覽的位置\r\n\r\n toggle search\r\n\r\n   可切換的搜尋頁面，並會記憶切換前後的瀏覽狀態\r\n    包含搜尋時所下的關鍵字\r\n\r\n rwd\r\n\r\n   響應式頁面，能配合螢幕大小進行呈現的切換\r\n\r\n toggle sidebar\r\n\r\n   可開關的 sidebar\r\n\r\n lazy load\r\n\r\n   iframe, img, video\r\n\r\n   static files: js, css\r\n\r\n spa\r\n\r\n ssr\r\n\r\n   seo friendly\r\n\r\n   fast first loading\r\n\r\n [seo](\r\n\r\n [ga](\r\n\r\n [sitemap](\r\n\r\n [alias link](\r\n\r\n [pwa](\r\n\r\n   網誌文章可以離線觀看",word_token:["image","viewer","reading","progress","閱讀","進度","調","顯示","navigation","link","preview","滑鼠","移到","連結","上","可以","預覽","該業面","內容","page","transition","頁","面間","以動畫","方式","進行","切換","scroll","behavier","按上","一頁","下","一頁","時","將會","記錄","之前","瀏覽","位置","toggle","search","可切換","搜尋頁","面","並會","記憶切","換前","後","瀏覽","狀態","包含","搜尋時","所下","關鍵","字","rwd","響應式","頁","面","能","配合","螢幕","大小","進行","呈現","切換","toggle","sidebar","可開關","sidebar","lazy","load","iframe","img","video","static","files","js","css","spa","ssr","seo","friendly","fast","first","loading","seo","ga","sitemap","alias","link","pwa","網誌","文章","可以","離線","觀看"],key_words:[{word:"切換",weight:23.478408614167083},{word:"進行",weight:23.478408614167083},{word:"瀏覽",weight:23.478408614167083},{word:"sidebar",weight:23.478408614167083},{word:"link",weight:23.478408614167083},{word:"seo",weight:23.478408614167083},{word:"一頁",weight:23.478408614167083},{word:"toggle",weight:23.478408614167083},{word:"滑鼠",weight:13.900677652},{word:"page",weight:11.739204307083542},{word:"image",weight:11.739204307083542},{word:"progress",weight:11.739204307083542},{word:"navigation",weight:11.739204307083542},{word:"iframe",weight:11.739204307083542},{word:"preview",weight:11.739204307083542},{word:"fast",weight:11.739204307083542},{word:"pwa",weight:11.739204307083542},{word:"img",weight:11.739204307083542},{word:"reading",weight:11.739204307083542},{word:"rwd",weight:11.739204307083542},{word:"behavier",weight:11.739204307083542},{word:"files",weight:11.739204307083542},{word:"js",weight:11.739204307083542},{word:"scroll",weight:11.739204307083542},{word:"lazy",weight:11.739204307083542},{word:"search",weight:11.739204307083542},{word:"friendly",weight:11.739204307083542},{word:"sitemap",weight:11.739204307083542},{word:"spa",weight:11.739204307083542},{word:"load",weight:11.739204307083542}],excerpt:"image viewer reading progress 閱讀的進度調，顯示在navigation link preview 滑鼠移到連結上可以預覽該業面的內容 page transition 頁面間以動畫的方式進行切換 scroll behavier 按上一頁或下一頁時將會記錄之前瀏覽的位置 toggle search 可切換的搜尋頁面，並會記憶切換前後的瀏覽狀態 包含搜尋時所下的關鍵字 rwd 響應式頁面，能配合螢幕大小進行呈現的切換 toggle sidebar 可開關的 sidebar lazy load iframe, img, video static files: js, css spa ssr seo friendly fast first loading [seo]( [ga]( [sitemap]( [alias link]( [pwa]( 網誌文章可以離線觀看"},{title:"About Page",frontmatter:{title:"About Page",datetime:"2019/3/26",update_datetime:"2019/4/7",tag:["VueJCBlog","Feature","About","Article"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"About Page"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Feature/about-page.html"},{name:"twitter:title",content:"About Page"},{name:"twitter:url",content:"/VueJCBlog/Feature/about-page.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"features, sidebar, 呈現, nav, main, 介紹頁, 內容, 參考, readme, category, md, viewer, post, progress, blog, reading, 自動產生, mini, 連結, recent, toc, usage, 自我, 用以, 文章, 作者, 存在"},{property:"article:tag",content:"features"},{property:"article:tag",content:"sidebar"},{property:"article:tag",content:"呈現"},{property:"article:tag",content:"nav"},{property:"article:tag",content:"main"},{property:"article:tag",content:"介紹頁"},{property:"article:tag",content:"內容"},{property:"article:tag",content:"參考"},{property:"article:tag",content:"readme"},{property:"article:tag",content:"category"},{property:"article:tag",content:"md"},{property:"article:tag",content:"viewer"},{property:"article:tag",content:"post"},{property:"article:tag",content:"progress"},{property:"article:tag",content:"blog"},{property:"article:tag",content:"reading"},{property:"article:tag",content:"自動產生"},{property:"article:tag",content:"mini"},{property:"article:tag",content:"連結"},{property:"article:tag",content:"recent"},{property:"article:tag",content:"toc"},{property:"article:tag",content:"usage"},{property:"article:tag",content:"自我"},{property:"article:tag",content:"用以"},{property:"article:tag",content:"文章"},{property:"article:tag",content:"作者"},{property:"article:tag",content:"存在"}]},regularPath:"/VueJCBlog/Feature/about-page.html",relativePath:"VueJCBlog/Feature/about-page.md",key:"v-e468b710",path:"/VueJCBlog/Feature/about-page.html",git:{created:"4/17/2019, 10:53:41 PM",updated:"4/17/2019, 10:53:41 PM",author:"PC\\JC",commits:[{fullHash:"312820eae2ffb989afb42499a7ad08f4e2afbc68",authorTime:"1555512821",commitTime:"1555512821",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"main features\r\n\r\n  用以呈現 blog 作者的自我介紹頁面\r\n\r\n  當 about/readme.md 存在時，才會在nav自動產生about連結\r\n\r\n  文章內容更多的呈現，請參考 usage\r\n\r\n sidebar features\r\n\r\n   sidebar toc\r\n\r\n   mini category viewer\r\n  \r\n   recent post\r\n  \r\n nav features\r\n\r\n   reading progress",word_token:["main","features","用以","呈現","blog","作者","自我","介紹頁","面","當","readme","md","存在","時","才","會","nav","自動產生","連結","文章","內容","呈現","請","參考","usage","sidebar","features","sidebar","toc","mini","category","viewer","recent","post","nav","features","reading","progress"],key_words:[{word:"features",weight:35.21761292125063},{word:"sidebar",weight:23.478408614167083},{word:"呈現",weight:23.478408614167083},{word:"nav",weight:23.478408614167083},{word:"main",weight:11.739204307083542},{word:"介紹頁",weight:11.739204307083542},{word:"內容",weight:11.739204307083542},{word:"參考",weight:11.739204307083542},{word:"readme",weight:11.739204307083542},{word:"category",weight:11.739204307083542},{word:"md",weight:11.739204307083542},{word:"viewer",weight:11.739204307083542},{word:"post",weight:11.739204307083542},{word:"progress",weight:11.739204307083542},{word:"blog",weight:11.739204307083542},{word:"reading",weight:11.739204307083542},{word:"自動產生",weight:11.739204307083542},{word:"mini",weight:11.739204307083542},{word:"連結",weight:11.739204307083542},{word:"recent",weight:11.739204307083542},{word:"toc",weight:11.739204307083542},{word:"usage",weight:11.739204307083542},{word:"自我",weight:7.34247984916},{word:"用以",weight:7.0590621755},{word:"文章",weight:6.62342992534},{word:"作者",weight:5.87091913153},{word:"存在",weight:4.57051188693}],excerpt:"main features 用以呈現 blog 作者的自我介紹頁面 當 about/readme.md 存在時，才會在nav自動產生about連結 文章內容更多的呈現，請參考 usage sidebar features sidebar toc mini category viewer recent post nav features reading progress"},{title:"Index Page",frontmatter:{title:"Index Page",datetime:"2019/3/25",update_datetime:"2019/4/7",tag:["VueJCBlog","Feature","Index"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Index Page"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Feature/index-page.html"},{name:"twitter:title",content:"Index Page"},{name:"twitter:url",content:"/VueJCBlog/Feature/index-page.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"features, waterfall, timer, mini, viewer, category, buttons, nav, blog, control, 流畫面, article, 狀態, main, recent, 呈現, 顯示, post, reading, progress, count, 還有, sidebar, 開箱, 刷新, 瀑布, 多久, 更新, 文章, 控制"},{property:"article:tag",content:"features"},{property:"article:tag",content:"waterfall"},{property:"article:tag",content:"timer"},{property:"article:tag",content:"mini"},{property:"article:tag",content:"viewer"},{property:"article:tag",content:"category"},{property:"article:tag",content:"buttons"},{property:"article:tag",content:"nav"},{property:"article:tag",content:"blog"},{property:"article:tag",content:"control"},{property:"article:tag",content:"流畫面"},{property:"article:tag",content:"article"},{property:"article:tag",content:"狀態"},{property:"article:tag",content:"main"},{property:"article:tag",content:"recent"},{property:"article:tag",content:"呈現"},{property:"article:tag",content:"顯示"},{property:"article:tag",content:"post"},{property:"article:tag",content:"reading"},{property:"article:tag",content:"progress"},{property:"article:tag",content:"count"},{property:"article:tag",content:"還有"},{property:"article:tag",content:"sidebar"},{property:"article:tag",content:"開箱"},{property:"article:tag",content:"刷新"},{property:"article:tag",content:"瀑布"},{property:"article:tag",content:"多久"},{property:"article:tag",content:"更新"},{property:"article:tag",content:"文章"},{property:"article:tag",content:"控制"}]},regularPath:"/VueJCBlog/Feature/index-page.html",relativePath:"VueJCBlog/Feature/index-page.md",key:"v-aab392fc",path:"/VueJCBlog/Feature/index-page.html",headers:[{level:2,title:"Article Waterfall",slug:"article-waterfall"}],git:{created:"4/17/2019, 10:53:41 PM",updated:"4/17/2019, 10:53:41 PM",author:"PC\\JC",commits:[{fullHash:"312820eae2ffb989afb42499a7ad08f4e2afbc68",authorTime:"1555512821",commitTime:"1555512821",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"main features\r\n\r\n    article waterfall\r\n\r\n     開箱即用的瀑布流畫面，呈現目前blog有的文章\r\n\r\n sidebar features\r\n\r\n   timer control buttons\r\n\r\n     可以控制 waterfall 的狀態(刷新、暫停、開始倒數)\r\n\r\n   mini category viewer\r\n  \r\n   recent post\r\n  \r\n nav features\r\n\r\n   reading progress\r\n\r\n   count down timer\r\n\r\n     顯示 waterfall 還有多久更新",word_token:["main","features","article","waterfall","開箱","即","用","瀑布","流畫面","呈現","目前","blog","文章","sidebar","features","timer","control","buttons","可以","控制","waterfall","狀態","刷新","暫","停","、","開","始","倒","數","mini","category","viewer","recent","post","nav","features","reading","progress","count","down","timer","顯示","waterfall","還有","多久","更新"],key_words:[{word:"features",weight:35.21761292125063},{word:"waterfall",weight:35.21761292125063},{word:"timer",weight:23.478408614167083},{word:"mini",weight:11.739204307083542},{word:"viewer",weight:11.739204307083542},{word:"category",weight:11.739204307083542},{word:"buttons",weight:11.739204307083542},{word:"nav",weight:11.739204307083542},{word:"blog",weight:11.739204307083542},{word:"control",weight:11.739204307083542},{word:"流畫面",weight:11.739204307083542},{word:"article",weight:11.739204307083542},{word:"狀態",weight:11.739204307083542},{word:"main",weight:11.739204307083542},{word:"recent",weight:11.739204307083542},{word:"呈現",weight:11.739204307083542},{word:"顯示",weight:11.739204307083542},{word:"post",weight:11.739204307083542},{word:"reading",weight:11.739204307083542},{word:"progress",weight:11.739204307083542},{word:"count",weight:11.739204307083542},{word:"還有",weight:11.739204307083542},{word:"sidebar",weight:11.739204307083542},{word:"開箱",weight:11.739204307083542},{word:"刷新",weight:8.20023407859},{word:"瀑布",weight:7.60725837313},{word:"多久",weight:7.45495783259},{word:"更新",weight:6.65573610564},{word:"文章",weight:6.62342992534},{word:"控制",weight:4.95638833233}],excerpt:"main features article waterfall 開箱即用的瀑布流畫面，呈現目前blog有的文章 sidebar features timer control buttons 可以控制 waterfall 的狀態(刷新、暫停、開始倒數) mini category viewer recent post nav features reading progress count down timer 顯示 waterfall 還有多久更新"},{title:"Search Page",frontmatter:{title:"Search Page",datetime:"2019/3/30",update_datetime:"2019/4/7",tag:["VueJCBlog","Feature","Search"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Search Page"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Feature/search-page.html"},{name:"twitter:title",content:"Search Page"},{name:"twitter:url",content:"/VueJCBlog/Feature/search-page.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"search, features, reactive, 關鍵, 搜尋, remember, key, state, word, auto, chinese, english, filter, sidebar, complete, text, main, nav, 搜尋的, cloud, progress, 反饋, query, 搜尋時, excerpt, 將出現, 條件, 搜尋頁, 將會, 尋結果"},{property:"article:tag",content:"search"},{property:"article:tag",content:"features"},{property:"article:tag",content:"reactive"},{property:"article:tag",content:"關鍵"},{property:"article:tag",content:"搜尋"},{property:"article:tag",content:"remember"},{property:"article:tag",content:"key"},{property:"article:tag",content:"state"},{property:"article:tag",content:"word"},{property:"article:tag",content:"auto"},{property:"article:tag",content:"chinese"},{property:"article:tag",content:"english"},{property:"article:tag",content:"filter"},{property:"article:tag",content:"sidebar"},{property:"article:tag",content:"complete"},{property:"article:tag",content:"text"},{property:"article:tag",content:"main"},{property:"article:tag",content:"nav"},{property:"article:tag",content:"搜尋的"},{property:"article:tag",content:"cloud"},{property:"article:tag",content:"progress"},{property:"article:tag",content:"反饋"},{property:"article:tag",content:"query"},{property:"article:tag",content:"搜尋時"},{property:"article:tag",content:"excerpt"},{property:"article:tag",content:"將出現"},{property:"article:tag",content:"條件"},{property:"article:tag",content:"搜尋頁"},{property:"article:tag",content:"將會"},{property:"article:tag",content:"尋結果"}]},regularPath:"/VueJCBlog/Feature/search-page.html",relativePath:"VueJCBlog/Feature/search-page.md",key:"v-5edad598",path:"/VueJCBlog/Feature/search-page.html",git:{created:"4/17/2019, 10:53:41 PM",updated:"4/17/2019, 10:53:41 PM",author:"PC\\JC",commits:[{fullHash:"312820eae2ffb989afb42499a7ad08f4e2afbc68",authorTime:"1555512821",commitTime:"1555512821",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"main features\r\n\r\n   reactive full text search\r\n\r\n     在 search 頁面中，任何的搜尋操作都會有及時的搜尋結果反饋(reactive)\r\n  \r\n     目前主要支援的語言有 chinese, english\r\n\r\n     全文搜尋\r\n\r\n     query auto complete\r\n\r\n       搜尋時輸入關鍵字的部分，將出現可能的關鍵字清單\r\n  \r\n     excerpt\r\n\r\n       顯示內文摘要\r\n\r\n     key word cloud\r\n\r\n   state remember \r\n\r\n     離開搜尋頁面後，當前搜尋的結果以及條件將會被保留\r\n\r\n sidebar features\r\n\r\n   search filter\r\n  \r\n nav features\r\n\r\n   reading progress",word_token:["main","features","reactive","full","text","search","search","頁","面中","任何","搜尋","操作","會","時","搜","尋結果","反饋","reactive","目前","主要","支援","語言有","chinese","english","全文","搜尋","query","auto","complete","搜尋時","輸入","關鍵","字","部分","將出現","可能","關鍵","字","清單","excerpt","顯示","內","文摘","要","key","word","cloud","state","remember","離開","搜尋頁","面","後","當前","搜尋的","結果","以及","條件","將會","被","保留","sidebar","features","search","filter","nav","features","reading","progress"],key_words:[{word:"search",weight:35.21761292125063},{word:"features",weight:35.21761292125063},{word:"reactive",weight:23.478408614167083},{word:"關鍵",weight:23.478408614167083},{word:"搜尋",weight:23.478408614167083},{word:"remember",weight:11.739204307083542},{word:"key",weight:11.739204307083542},{word:"state",weight:11.739204307083542},{word:"word",weight:11.739204307083542},{word:"auto",weight:11.739204307083542},{word:"chinese",weight:11.739204307083542},{word:"english",weight:11.739204307083542},{word:"filter",weight:11.739204307083542},{word:"sidebar",weight:11.739204307083542},{word:"complete",weight:11.739204307083542},{word:"text",weight:11.739204307083542},{word:"main",weight:11.739204307083542},{word:"nav",weight:11.739204307083542},{word:"搜尋的",weight:11.739204307083542},{word:"cloud",weight:11.739204307083542},{word:"progress",weight:11.739204307083542},{word:"反饋",weight:11.739204307083542},{word:"query",weight:11.739204307083542},{word:"搜尋時",weight:11.739204307083542},{word:"excerpt",weight:11.739204307083542},{word:"將出現",weight:11.739204307083542},{word:"條件",weight:11.739204307083542},{word:"搜尋頁",weight:11.739204307083542},{word:"將會",weight:11.739204307083542},{word:"尋結果",weight:11.739204307083542}],excerpt:"main features reactive full text search 在 search 頁面中，任何的搜尋操作都會有及時的搜尋結果反饋(reactive) 目前主要支援的語言有 chinese, english 全文搜尋 query auto complete 搜尋時輸入關鍵字的部分，將出現可能的關鍵字清單 excerpt 顯示內文摘要 key word cloud state remember 離開搜尋頁面後，當前搜尋的結果以及條件將會被保留 sidebar features search filter nav features reading progress"},{title:"Tag Page",frontmatter:{title:"Tag Page",datetime:"2019/3/28",update_datetime:"2019/4/7",tag:["VueJCBlog","Feature","Tag"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Tag Page"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Feature/tag-page.html"},{name:"twitter:title",content:"Tag Page"},{name:"twitter:url",content:"/VueJCBlog/Feature/tag-page.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"tag, features, 進行, 篩選, category, 觀看, reading, 幾個, recent, sidebar, 圓餅, page, 相關, 基礎, nav, post, 搜尋, viewer, 各類, 顯示, 點擊, main, progress, 圖上, 底下, 文章, 增加, 目前"},{property:"article:tag",content:"tag"},{property:"article:tag",content:"features"},{property:"article:tag",content:"進行"},{property:"article:tag",content:"篩選"},{property:"article:tag",content:"category"},{property:"article:tag",content:"觀看"},{property:"article:tag",content:"reading"},{property:"article:tag",content:"幾個"},{property:"article:tag",content:"recent"},{property:"article:tag",content:"sidebar"},{property:"article:tag",content:"圓餅"},{property:"article:tag",content:"page"},{property:"article:tag",content:"相關"},{property:"article:tag",content:"基礎"},{property:"article:tag",content:"nav"},{property:"article:tag",content:"post"},{property:"article:tag",content:"搜尋"},{property:"article:tag",content:"viewer"},{property:"article:tag",content:"各類"},{property:"article:tag",content:"顯示"},{property:"article:tag",content:"點擊"},{property:"article:tag",content:"main"},{property:"article:tag",content:"progress"},{property:"article:tag",content:"圖上"},{property:"article:tag",content:"底下"},{property:"article:tag",content:"文章"},{property:"article:tag",content:"增加"},{property:"article:tag",content:"目前"}]},regularPath:"/VueJCBlog/Feature/tag-page.html",relativePath:"VueJCBlog/Feature/tag-page.md",key:"v-422a7e52",path:"/VueJCBlog/Feature/tag-page.html",git:{created:"4/17/2019, 10:53:41 PM",updated:"4/17/2019, 10:53:41 PM",author:"PC\\JC",commits:[{fullHash:"312820eae2ffb989afb42499a7ad08f4e2afbc68",authorTime:"1555512821",commitTime:"1555512821",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"main features\r\n\r\n   在 category page 的基礎上，再增加 tag 相關的顯示\r\n\r\n   可以觀看目前有哪些 tag\r\n  \r\n   可以點擊 tag 進行篩選\r\n\r\n   可以搜尋 tag 進行篩選\r\n\r\n   可以在圓餅圖上觀看各類底下的文章有幾個\r\n\r\n sidebar features\r\n  \r\n   recent post\r\n\r\n   category viewer\r\n  \r\n nav features\r\n\r\n   reading progress",word_token:["main","features","category","page","基礎","上","再","增加","tag","相關","顯示","可以","觀看","目前","哪些","tag","可以","點擊","tag","進行","篩選","可以","搜尋","tag","進行","篩選","可以","圓餅","圖上","觀看","各類","底下","文章","幾個","sidebar","features","recent","post","category","viewer","nav","features","reading","progress"],key_words:[{word:"tag",weight:46.95681722833417},{word:"features",weight:35.21761292125063},{word:"進行",weight:23.478408614167083},{word:"篩選",weight:23.478408614167083},{word:"category",weight:23.478408614167083},{word:"觀看",weight:23.478408614167083},{word:"reading",weight:11.739204307083542},{word:"幾個",weight:11.739204307083542},{word:"recent",weight:11.739204307083542},{word:"sidebar",weight:11.739204307083542},{word:"圓餅",weight:11.739204307083542},{word:"page",weight:11.739204307083542},{word:"相關",weight:11.739204307083542},{word:"基礎",weight:11.739204307083542},{word:"nav",weight:11.739204307083542},{word:"post",weight:11.739204307083542},{word:"搜尋",weight:11.739204307083542},{word:"viewer",weight:11.739204307083542},{word:"各類",weight:11.739204307083542},{word:"顯示",weight:11.739204307083542},{word:"點擊",weight:11.739204307083542},{word:"main",weight:11.739204307083542},{word:"progress",weight:11.739204307083542},{word:"圖上",weight:11.739204307083542},{word:"底下",weight:7.16489763773},{word:"文章",weight:6.62342992534},{word:"增加",weight:4.57299878758},{word:"目前",weight:3.91528758382}],excerpt:"main features 在 category page 的基礎上，再增加 tag 相關的顯示 可以觀看目前有哪些 tag 可以點擊 tag 進行篩選 可以搜尋 tag 進行篩選 可以在圓餅圖上觀看各類底下的文章有幾個 sidebar features recent post category viewer nav features reading progress"},{title:"Post Page",frontmatter:{title:"Post Page",datetime:"2019/3/31",update_datetime:"2019/4/7",tag:["VueJCBlog","Feature","Article"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Post Page"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Feature/post-page.html"},{name:"twitter:title",content:"Post Page"},{name:"twitter:url",content:"/VueJCBlog/Feature/post-page.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"features, sidebar, 滾動, 呈現, 文章, 留言板, recent, markdown, slide, toc, disque, mini, viewer, reading, main, count, tag, meta, usage, category, nav, 內容, comment, outline, 參考, post, 時將會, article, hash, progress"},{property:"article:tag",content:"features"},{property:"article:tag",content:"sidebar"},{property:"article:tag",content:"滾動"},{property:"article:tag",content:"呈現"},{property:"article:tag",content:"文章"},{property:"article:tag",content:"留言板"},{property:"article:tag",content:"recent"},{property:"article:tag",content:"markdown"},{property:"article:tag",content:"slide"},{property:"article:tag",content:"toc"},{property:"article:tag",content:"disque"},{property:"article:tag",content:"mini"},{property:"article:tag",content:"viewer"},{property:"article:tag",content:"reading"},{property:"article:tag",content:"main"},{property:"article:tag",content:"count"},{property:"article:tag",content:"tag"},{property:"article:tag",content:"meta"},{property:"article:tag",content:"usage"},{property:"article:tag",content:"category"},{property:"article:tag",content:"nav"},{property:"article:tag",content:"內容"},{property:"article:tag",content:"comment"},{property:"article:tag",content:"outline"},{property:"article:tag",content:"參考"},{property:"article:tag",content:"post"},{property:"article:tag",content:"時將會"},{property:"article:tag",content:"article"},{property:"article:tag",content:"hash"},{property:"article:tag",content:"progress"}]},regularPath:"/VueJCBlog/Feature/post-page.html",relativePath:"VueJCBlog/Feature/post-page.md",key:"v-1ccc22d8",path:"/VueJCBlog/Feature/post-page.html",git:{created:"4/18/2019, 10:51:45 PM",updated:"4/17/2019, 10:53:41 PM",author:"PC\\JC",commits:[{fullHash:"0e02701a4c7a28b47248e8c8e3f44d68da7d8cf4",authorTime:"1555599105",commitTime:"1555599105",authorName:"PC\\JC"},{fullHash:"312820eae2ffb989afb42499a7ad08f4e2afbc68",authorTime:"1555512821",commitTime:"1555512821",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"main features\r\n\r\n   呈現文章用的頁面\r\n\r\n   滾動文章時將會連動 sidebar 的 outline\r\n\r\n   文章內容更多的呈現，請參考 usage\r\n\r\n   依照網址的 hash tag 自動滾動到相關位置\r\n\r\n   disque\r\n\r\n     訪客留言板\r\n\r\n     article meta comment count\r\n\r\n   [ ] markdown to slide\r\n\r\n sidebar features\r\n\r\n   sidebar toc\r\n\r\n   mini category viewer\r\n  \r\n   recent post\r\n  \r\n nav features\r\n\r\n   reading progress",word_token:["main","features","呈現","文章","用","頁","面","滾動","文章","時將會","連動","sidebar","outline","文章","內容","呈現","請","參考","usage","依照","網址","hash","tag","自動","滾動","相關","位置","disque","訪客","留言板","article","meta","comment","count","markdown","slide","sidebar","features","sidebar","toc","mini","category","viewer","recent","post","nav","features","reading","progress"],key_words:[{word:"features",weight:35.21761292125063},{word:"sidebar",weight:35.21761292125063},{word:"滾動",weight:23.478408614167083},{word:"呈現",weight:23.478408614167083},{word:"文章",weight:19.87028977602},{word:"留言板",weight:11.9547675029},{word:"recent",weight:11.739204307083542},{word:"markdown",weight:11.739204307083542},{word:"slide",weight:11.739204307083542},{word:"toc",weight:11.739204307083542},{word:"disque",weight:11.739204307083542},{word:"mini",weight:11.739204307083542},{word:"viewer",weight:11.739204307083542},{word:"reading",weight:11.739204307083542},{word:"main",weight:11.739204307083542},{word:"count",weight:11.739204307083542},{word:"tag",weight:11.739204307083542},{word:"meta",weight:11.739204307083542},{word:"usage",weight:11.739204307083542},{word:"category",weight:11.739204307083542},{word:"nav",weight:11.739204307083542},{word:"內容",weight:11.739204307083542},{word:"comment",weight:11.739204307083542},{word:"outline",weight:11.739204307083542},{word:"參考",weight:11.739204307083542},{word:"post",weight:11.739204307083542},{word:"時將會",weight:11.739204307083542},{word:"article",weight:11.739204307083542},{word:"hash",weight:11.739204307083542},{word:"progress",weight:11.739204307083542}],excerpt:"main features 呈現文章用的頁面 滾動文章時將會連動 sidebar 的 outline 文章內容更多的呈現，請參考 usage 依照網址的 hash tag 自動滾動到相關位置 disque 訪客留言板 article meta comment count [ ] markdown to slide sidebar features sidebar toc mini category viewer recent post nav features reading progress"},{title:"Sidebar",frontmatter:{title:"Sidebar",datetime:"2019/4/1",update_datetime:"2019/4/7",tag:["VueJCBlog","Feature","Sidebar","Article","Index","About","Category","Tag","Archive","Search"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Sidebar"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Feature/sidebar-feature.html"},{name:"twitter:title",content:"Sidebar"},{name:"twitter:url",content:"/VueJCBlog/Feature/sidebar-feature.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"文章, 進行, category, toc, 自動, viewer, 頁面, filter, post, 連動, hash, 預設, search, 點擊, 滑動, 時間, 排序, mini, h2, outline, 以觀, page, 搜尋的, 換以, h3, 內容, recent, 別將, h1, 可切"},{property:"article:tag",content:"文章"},{property:"article:tag",content:"進行"},{property:"article:tag",content:"category"},{property:"article:tag",content:"toc"},{property:"article:tag",content:"自動"},{property:"article:tag",content:"viewer"},{property:"article:tag",content:"頁面"},{property:"article:tag",content:"filter"},{property:"article:tag",content:"post"},{property:"article:tag",content:"連動"},{property:"article:tag",content:"hash"},{property:"article:tag",content:"預設"},{property:"article:tag",content:"search"},{property:"article:tag",content:"點擊"},{property:"article:tag",content:"滑動"},{property:"article:tag",content:"時間"},{property:"article:tag",content:"排序"},{property:"article:tag",content:"mini"},{property:"article:tag",content:"h2"},{property:"article:tag",content:"outline"},{property:"article:tag",content:"以觀"},{property:"article:tag",content:"page"},{property:"article:tag",content:"搜尋的"},{property:"article:tag",content:"換以"},{property:"article:tag",content:"h3"},{property:"article:tag",content:"內容"},{property:"article:tag",content:"recent"},{property:"article:tag",content:"別將"},{property:"article:tag",content:"h1"},{property:"article:tag",content:"可切"}]},regularPath:"/VueJCBlog/Feature/sidebar-feature.html",relativePath:"VueJCBlog/Feature/sidebar-feature.md",key:"v-c26b0310",path:"/VueJCBlog/Feature/sidebar-feature.html",git:{created:"4/17/2019, 10:53:41 PM",updated:"4/17/2019, 10:53:41 PM",author:"PC\\JC",commits:[{fullHash:"312820eae2ffb989afb42499a7ad08f4e2afbc68",authorTime:"1555512821",commitTime:"1555512821",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"recent post\r\n\r\n   用以呈現近期文章\r\n\r\n   預設以文章建立時間進行排序\r\n\r\n   可切換以文章更新時間來進行排序\r\n\r\n mini category viewer\r\n\r\n   簡易版的文章歸類檢視器\r\n\r\n   可以點擊資料夾圖式，以觀看該類底下有哪些文章\r\n\r\n sidebar toc\r\n\r\n   只支援 post 頁面與 about 頁面\r\n\r\n   從 markdown 文章中的 hash 自動產生outline\r\n\r\n   預設自動對應 h1, h2, h3，當找不到 hash 時，將會自動隱藏\r\n\r\n   點擊 toc 中的章結將會自動滑動文章到相關位置\r\n\r\n   滑動文章，也會連動 toc 中的章結\r\n\r\n category viewer\r\n\r\n   可以檢視目前文章中的所有類別與階層關係\r\n\r\n   點擊類別將可讓 category, tag page 中的顯示內容進行連動\r\n\r\n search filter\r\n\r\n   針對全文搜尋的結果，可以使用 search filter 將結果更進一步的進行篩選",word_token:["recent","post","用以","呈現","近期","文章","預設","以","文章","建立","時間","進行","排序","可切","換以","文章","更新","時間","來","進行","排序","mini","category","viewer","簡易版","文章","歸類","檢視器","可以","點擊","資料","夾圖式","以觀","該類","底下","哪些","文章","sidebar","toc","只","支援","post","頁面","與","頁面","從","markdown","文章","hash","自動產生","outline","預設","自動","對","應","h1","h2","h3","當找","不到","hash","時","將會","自動","隱藏","點擊","toc","章","結將會","自動","滑動","文章","相關","位置","滑動","文章","會","連動","toc","章結","category","viewer","可以","檢視","目前","文章","所有","類別","與","階層關","係","點擊類","別將","可","讓","category","tag","page","顯示","內容","進行","連動","search","filter","針對","全文","搜尋的","結果","可以","使用","search","filter","將結果","更進","一步","進行","篩選"],key_words:[{word:"文章",weight:59.61086932806},{word:"進行",weight:46.95681722833417},{word:"category",weight:35.21761292125063},{word:"toc",weight:35.21761292125063},{word:"自動",weight:35.21761292125063},{word:"viewer",weight:23.478408614167083},{word:"頁面",weight:23.478408614167083},{word:"filter",weight:23.478408614167083},{word:"post",weight:23.478408614167083},{word:"連動",weight:23.478408614167083},{word:"hash",weight:23.478408614167083},{word:"預設",weight:23.478408614167083},{word:"search",weight:23.478408614167083},{word:"點擊",weight:23.478408614167083},{word:"滑動",weight:23.478408614167083},{word:"時間",weight:23.478408614167083},{word:"排序",weight:18.25998605502},{word:"mini",weight:11.739204307083542},{word:"h2",weight:11.739204307083542},{word:"outline",weight:11.739204307083542},{word:"以觀",weight:11.739204307083542},{word:"page",weight:11.739204307083542},{word:"搜尋的",weight:11.739204307083542},{word:"換以",weight:11.739204307083542},{word:"h3",weight:11.739204307083542},{word:"內容",weight:11.739204307083542},{word:"recent",weight:11.739204307083542},{word:"別將",weight:11.739204307083542},{word:"h1",weight:11.739204307083542},{word:"可切",weight:11.739204307083542}],excerpt:"recent post 用以呈現近期文章 預設以文章建立時間進行排序 可切換以文章更新時間來進行排序 mini category viewer 簡易版的文章歸類檢視器 可以點擊資料夾圖式，以觀看該類底下有哪些文章 sidebar toc 只支援 post 頁面與 about 頁面 從 markdown 文章中的 hash 自動產生outline 預設自動對應 h1, h2, h3，當找不到 hash 時，將會自動隱藏 點擊 toc 中的章結將會自動滑動文章到相關位置 滑動文章，也會連動 toc 中的章結 category viewer 可以檢視目前文章中的所有類別與階層關係 點擊類別將可讓 category, tag page 中的顯示內容進行連動 search filter 針對全文搜尋的結果，可以使用 search filter 將結果更進一步的進行篩選"},{title:"Config",frontmatter:{title:"Config",datetime:"2020/9/29",tag:["VueJCBlog","config"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Config"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Config.html"},{name:"twitter:title",content:"Config"},{name:"twitter:url",content:"/VueJCBlog/Config.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"config, 設置, 網誌, ga, firebase, 設定, 若想, 申請, head, sitemap, base, icon, subdomain, title, manifest, disqus, 網址, author, feature, 啟用, 網站, 檔案, href, blog, js, description, link, rel, vuepress, shortname"},{property:"article:tag",content:"config"},{property:"article:tag",content:"設置"},{property:"article:tag",content:"網誌"},{property:"article:tag",content:"ga"},{property:"article:tag",content:"firebase"},{property:"article:tag",content:"設定"},{property:"article:tag",content:"若想"},{property:"article:tag",content:"申請"},{property:"article:tag",content:"head"},{property:"article:tag",content:"sitemap"},{property:"article:tag",content:"base"},{property:"article:tag",content:"icon"},{property:"article:tag",content:"subdomain"},{property:"article:tag",content:"title"},{property:"article:tag",content:"manifest"},{property:"article:tag",content:"disqus"},{property:"article:tag",content:"網址"},{property:"article:tag",content:"author"},{property:"article:tag",content:"feature"},{property:"article:tag",content:"啟用"},{property:"article:tag",content:"網站"},{property:"article:tag",content:"檔案"},{property:"article:tag",content:"href"},{property:"article:tag",content:"blog"},{property:"article:tag",content:"js"},{property:"article:tag",content:"description"},{property:"article:tag",content:"link"},{property:"article:tag",content:"rel"},{property:"article:tag",content:"vuepress"},{property:"article:tag",content:"shortname"}]},regularPath:"/VueJCBlog/Config.html",relativePath:"VueJCBlog/Config.md",key:"v-302e6251",path:"/VueJCBlog/Config.html",headers:[{level:2,title:"title",slug:"title"},{level:2,title:"base",slug:"base"},{level:2,title:"head",slug:"head"},{level:2,title:"author",slug:"author"},{level:2,title:"description",slug:"description"},{level:2,title:"sitemap",slug:"sitemap"},{level:2,title:"ga",slug:"ga"},{level:2,title:"disqus",slug:"disqus"},{level:2,title:"firebase",slug:"firebase"}],git:{created:"9/29/2020, 4:37:50 PM",updated:"9/29/2020, 4:37:50 PM",author:"johnny1991524",commits:[{fullHash:"27642ab88978ab6ccefc742db8add5a8dff9f456",authorTime:"1601368670",commitTime:"1601368670",authorName:"johnny1991524"}],contributors:["johnny1991524"]},pure_content:"此篇文章將介紹config的部分\r\n\r\n initial config\r\n\r\n初始config如下\r\n\r\n接下來的篇章將分為 `recommend config` 與 `optional config`\r\n```js\r\n{\r\n    title: 'vuejcblog',\r\n    base: \"/\",\r\n    description: 'a blog made by vuepress',\r\n    head:[\r\n        ['link', { rel: 'icon', href: '/icon.png' }],\r\n        ['link', { rel: 'manifest', href: '/manifest.webmanifest'} ],\r\n    ],\r\n    themeconfig: {\r\n        sitemap:{\r\n            hostname: '' // \r\n        },\r\n        ga: '', // ua--\r\n        author: '', // your name\r\n        disqus:{ // for comment feature\r\n            shortname: \"\",\r\n        },\r\n        firebase:{ // for watching count feature\r\n            apikey: \"\",\r\n            authdomain: \"\",\r\n            databaseurl: \"\",\r\n            projectid: \"\",\r\n            storagebucket: \"\",\r\n            messagingsenderid: \"\"\r\n        }\r\n    },\r\n}\r\n```\r\n\r\n recommend config\r\n\r\n title\r\n\r\n網站之title\r\n\r\n base\r\n\r\n若網誌需置於網址domain下的subdomain，可以把subdomain的位置設為base\r\n\r\n否則前端routing會無法正常運作\r\n\r\n預設為`\"/\"`，不置於subdomain之下\r\n\r\n head\r\n\r\n若網站需要額外引用一些全域的資源，可以在此設置\r\n\r\n像是全站共用的js檔案，css檔案，等等\r\n\r\n另外若想設置一些html head的設定，也可在此設定\r\n\r\n預設設定了網站的icon和manifest\r\n\r\n author\r\n\r\n網誌作者\r\n\r\n optional config\r\n\r\n description\r\n\r\n網誌本身的一些敘述\r\n\r\n sitemap\r\n\r\n設置後vuepress在build的時候會產生正確網址之sitemap\r\n\r\n對seo有幫助\r\n\r\n ga\r\n\r\n若想透過ga了解網誌的流量狀況，可以申請ga的track id後設置在此\r\n\r\n disqus\r\n\r\n若想啟用網誌的留言功能，可以申請disqus帳號後，將shortname設置在此\r\n\r\n firebase\r\n\r\n若想啟用網誌文章的觀看次數功能，可以申請firebase後，將相關設定設置於此\r\n\r\n相關步驟請參考 add page views for blog by firebase",word_token:["篇文章","將介紹","config","部分","initial","config","初始","config","如下","接下","來","篇章","將分","為","`","recommend","config","`","與","`","optional","config","`","`","`","`","js","title","vuejcblog","base","description","blog","made","vuepress","head","link","rel","icon","href","icon","png","link","rel","manifest","href","manifest","webmanifest","themeconfig","sitemap","hostname","ga","ua","-","-","author","name","disqus","comment","feature","shortname","firebase","watching","count","feature","apikey","authdomain","databaseurl","projectid","storagebucket","messagingsenderid","`","`","`","recommend","config","title","網站","title","base","若","網誌","需置","於","網址","domain","下","subdomain","可以","subdomain","位置","設為","base","否則","前端","routing","會無法","正常","運作","預設","為","`","`","不置","於","subdomain","之下","head","若網","站","需要","額外","引用","一些","全域","資源","可以","設置","像是","全站","共用","js","檔案","css","檔案","等等","另外","若想","設置","一些","html","head","設定","可","設定","預設","設定","網站","icon","manifest","author","網誌","作者","optional","config","description","網誌","本身","一些","敘述","sitemap","設置","後","vuepress","build","時候","會產生","正確","網址","sitemap","對","seo","幫助","ga","若想","透過","ga","了解","網誌","流量","狀況","可以","申請","ga","track","id","後","設置","disqus","若想","啟用","網誌","留言","功能","可以","申請","disqus","帳號","後","將","shortname","設置","firebase","若想","啟用","網誌","文章","觀","看次數","功能","可以","申請","firebase","後","將相關","設定","設置","於","相關","步驟","請","參考","add","page","views","blog","firebase"],key_words:[{word:"config",weight:82.1744301495848},{word:"設置",weight:70.43522584250125},{word:"網誌",weight:70.43522584250125},{word:"ga",weight:46.95681722833417},{word:"firebase",weight:46.95681722833417},{word:"設定",weight:46.95681722833417},{word:"若想",weight:38.44087284332},{word:"申請",weight:35.21761292125063},{word:"head",weight:35.21761292125063},{word:"sitemap",weight:35.21761292125063},{word:"base",weight:35.21761292125063},{word:"icon",weight:35.21761292125063},{word:"subdomain",weight:35.21761292125063},{word:"title",weight:35.21761292125063},{word:"manifest",weight:35.21761292125063},{word:"disqus",weight:35.21761292125063},{word:"網址",weight:23.478408614167083},{word:"author",weight:23.478408614167083},{word:"feature",weight:23.478408614167083},{word:"啟用",weight:23.478408614167083},{word:"網站",weight:23.478408614167083},{word:"檔案",weight:23.478408614167083},{word:"href",weight:23.478408614167083},{word:"blog",weight:23.478408614167083},{word:"js",weight:23.478408614167083},{word:"description",weight:23.478408614167083},{word:"link",weight:23.478408614167083},{word:"rel",weight:23.478408614167083},{word:"vuepress",weight:23.478408614167083},{word:"shortname",weight:23.478408614167083}],excerpt:"此篇文章將介紹config的部分 initial config 初始config如下 接下來的篇章將分為 recommend config 與 optional config { title: 'vuejcblog', base: \"/\", description: 'a blog made by vuepress', head:[ ['link', { rel: 'icon', href: '/icon.png' }], ['link', { rel: 'manifest', href: '/manifest.webmanifest'} ], ], themeconfig: { sitemap:{ hostname: '' // }, ga: '', // ua-- author: '', // your name disqus:{ // for comment feature shor..."},{title:"Write Article with Markdown",frontmatter:{title:"Write Article with Markdown",datetime:"2019/3/24",update_datetime:"2019/4/8",tag:["VueJCBlog","Usage","Markdown"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Write Article with Markdown"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Usage/Markdown/"},{name:"twitter:title",content:"Write Article with Markdown"},{name:"twitter:url",content:"/VueJCBlog/Usage/Markdown/"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"markdown, 許多, vuejcblog, 詳細, 擴展, vuepress, 分類, 參考, 原生, 用法, 使用"},{property:"article:tag",content:"markdown"},{property:"article:tag",content:"許多"},{property:"article:tag",content:"vuejcblog"},{property:"article:tag",content:"詳細"},{property:"article:tag",content:"擴展"},{property:"article:tag",content:"vuepress"},{property:"article:tag",content:"分類"},{property:"article:tag",content:"參考"},{property:"article:tag",content:"原生"},{property:"article:tag",content:"用法"},{property:"article:tag",content:"使用"}]},regularPath:"/VueJCBlog/Usage/Markdown/",relativePath:"VueJCBlog/Usage/Markdown/README.md",key:"v-66061c06",path:"/VueJCBlog/Usage/Markdown/",git:{created:"4/17/2019, 10:53:41 PM",updated:"4/17/2019, 10:53:41 PM",author:"PC\\JC",commits:[{fullHash:"312820eae2ffb989afb42499a7ad08f4e2afbc68",authorTime:"1555512821",commitTime:"1555512821",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"vuejcblog對vuepress使用的原生markdown(markdown-it)做了許多擴展\r\n\r\n詳細用法請參考 markdown 分類",word_token:["vuejcblog","對","vuepress","使用","原生","markdown","markdown","-","許多","擴展","詳細","用法","請","參考","markdown","分類"],key_words:[{word:"markdown",weight:35.21761292125063},{word:"許多",weight:11.739204307083542},{word:"vuejcblog",weight:11.739204307083542},{word:"詳細",weight:11.739204307083542},{word:"擴展",weight:11.739204307083542},{word:"vuepress",weight:11.739204307083542},{word:"分類",weight:11.739204307083542},{word:"參考",weight:11.739204307083542},{word:"原生",weight:8.91707103027},{word:"用法",weight:8.53938548627},{word:"使用",weight:4.51629994279}],excerpt:"vuejcblog對vuepress使用的原生markdown(markdown-it)做了許多擴展 詳細用法請參考 markdown 分類"},{title:"Installation",frontmatter:{title:"Installation",datetime:"2019/3/27",update_datetime:"2019/3/28",tag:["VueJCBlog","Installation"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Installation"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Installation.html"},{name:"twitter:title",content:"Installation"},{name:"twitter:url",content:"/VueJCBlog/Installation.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"nodejieba, install, python, npm, node, bash, set, gyp, 安裝, config, windows, exe, path, 要安裝, python2, js, 設定, 編譯, 應該, 因為, 需要, build, global, production, anaconda3, program, py27, tools, vuejcblog, envs"},{property:"article:tag",content:"nodejieba"},{property:"article:tag",content:"install"},{property:"article:tag",content:"python"},{property:"article:tag",content:"npm"},{property:"article:tag",content:"node"},{property:"article:tag",content:"bash"},{property:"article:tag",content:"set"},{property:"article:tag",content:"gyp"},{property:"article:tag",content:"安裝"},{property:"article:tag",content:"config"},{property:"article:tag",content:"windows"},{property:"article:tag",content:"exe"},{property:"article:tag",content:"path"},{property:"article:tag",content:"要安裝"},{property:"article:tag",content:"python2"},{property:"article:tag",content:"js"},{property:"article:tag",content:"設定"},{property:"article:tag",content:"編譯"},{property:"article:tag",content:"應該"},{property:"article:tag",content:"因為"},{property:"article:tag",content:"需要"},{property:"article:tag",content:"build"},{property:"article:tag",content:"global"},{property:"article:tag",content:"production"},{property:"article:tag",content:"anaconda3"},{property:"article:tag",content:"program"},{property:"article:tag",content:"py27"},{property:"article:tag",content:"tools"},{property:"article:tag",content:"vuejcblog"},{property:"article:tag",content:"envs"}]},regularPath:"/VueJCBlog/Installation.html",relativePath:"VueJCBlog/Installation.md",key:"v-d6c4343e",path:"/VueJCBlog/Installation.html",headers:[{level:2,title:"Install Python",slug:"install-python"},{level:2,title:"Set Python Path",slug:"set-python-path"},{level:2,title:"node-gyp",slug:"node-gyp"},{level:3,title:"Install",slug:"install"},{level:3,title:"Config",slug:"config"},{level:2,title:"Install nodejieba",slug:"install-nodejieba-2"}],git:{created:"4/17/2019, 10:53:41 PM",updated:"4/17/2019, 10:53:41 PM",author:"PC\\JC",commits:[{fullHash:"312820eae2ffb989afb42499a7ad08f4e2afbc68",authorTime:"1555512821",commitTime:"1555512821",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"由於vuepress的建置需要依賴 node.js 的功能，因此需要先下載安裝 node.js\r\n\r\n而因為vuejcblog為了做中文的全文搜尋使用到了 nodejieba\r\n\r\n因此為了能安裝上 nodejieba ，必須要安裝 python2.7\r\n\r\n在 linux 與 mac 要安裝這些應該不太會遇到問題\r\n\r\n但因為 windows 預設沒有安裝 python2.7 ，因此需要額外做設定\r\n\r\n另外若 python 安裝的是 anaconda python ，也要在 `npm install` 前做一些設定\r\n\r\n因此本篇的安裝步驟內容，主要都將圍繞在怎麼安裝 nodejieba 上\r\n\r\n install nodejieba\r\n\r\n    install python\r\n\r\n    set python path\r\n\r\n    ```bash\r\n    npm config set python path/to/yout/python.exe\r\n     example\r\n    npm config set python e:\\program\\anaconda3\\envs\\py27\\python.exe\r\n    ```\r\n\r\n    [node-gyp](\r\n\r\n    在 windows 由於 nodejieba 底層是以 c 寫的，因此需要微軟的編譯工具進行編譯\r\n\r\n    而這套流程可以使用 node-gyp 去簡化\r\n\r\n      install\r\n\r\n      ```bash\r\n      npm install -g node-gyp\r\n      ```\r\n\r\n      config\r\n\r\n      ```bash\r\n      npm install --global --production windows-build-tools\r\n      ```\r\n    install nodejieba\r\n\r\n    做完準備動作後，應該就可以安裝上 nodejieba 了\r\n\r\n      ```bash\r\n      npm install -d nodejieba\r\n      ```",word_token:["由","於","vuepress","建置","需要","依賴","node","js","功能","因此","需要","先下","載安裝","node","js","而","因為","vuejcblog","為","中文","全文","搜尋","使用","nodejieba","因此","為","能安裝","上","nodejieba","必須","要安裝","python2","7","linux","與","mac","要安裝","這些","應該","不太會","遇到","問題","但","因為","windows","預設","沒","有安裝","python2","7","因此","需要","額外","設定","另外","若","python","安裝","anaconda","python","要","`","npm","install","`","前","一些","設定","因此","本篇","安裝步","驟內容","主要","將圍","繞","怎麼","安裝","nodejieba","上","install","nodejieba","install","python","set","python","path","`","`","`","bash","npm","config","set","python","path","yout","python","exe","example","npm","config","set","python","e","program","anaconda3","envs","py27","python","exe","`","`","`","node","-","gyp","windows","由","於","nodejieba","底層","以","c","寫","因此","需要","微軟","編譯","工具","進行","編譯","而","這套","流程","可以","使用","node","-","gyp","去","簡化","install","`","`","`","bash","npm","install","-","g","node","-","gyp","`","`","`","config","`","`","`","bash","npm","install","-","-","global","-","-","production","windows","-","build","-","tools","`","`","`","install","nodejieba","完準","備動作","後","應該","可以","安裝","上","nodejieba","`","`","`","bash","npm","install","-","d","nodejieba","`","`","`"],key_words:[{word:"nodejieba",weight:93.91363445666833},{word:"install",weight:93.91363445666833},{word:"python",weight:93.91363445666833},{word:"npm",weight:70.43522584250125},{word:"node",weight:58.69602153541771},{word:"bash",weight:46.95681722833417},{word:"set",weight:35.21761292125063},{word:"gyp",weight:35.21761292125063},{word:"安裝",weight:35.21761292125063},{word:"config",weight:35.21761292125063},{word:"windows",weight:35.21761292125063},{word:"exe",weight:23.478408614167083},{word:"path",weight:23.478408614167083},{word:"要安裝",weight:23.478408614167083},{word:"python2",weight:23.478408614167083},{word:"js",weight:23.478408614167083},{word:"設定",weight:23.478408614167083},{word:"編譯",weight:23.478408614167083},{word:"應該",weight:23.478408614167083},{word:"因為",weight:23.478408614167083},{word:"需要",weight:17.377922574},{word:"build",weight:11.739204307083542},{word:"global",weight:11.739204307083542},{word:"production",weight:11.739204307083542},{word:"anaconda3",weight:11.739204307083542},{word:"program",weight:11.739204307083542},{word:"py27",weight:11.739204307083542},{word:"tools",weight:11.739204307083542},{word:"vuejcblog",weight:11.739204307083542},{word:"envs",weight:11.739204307083542}],excerpt:"由於vuepress的建置需要依賴 node.js 的功能，因此需要先下載安裝 node.js 而因為vuejcblog為了做中文的全文搜尋使用到了 nodejieba 因此為了能安裝上 nodejieba ，必須要安裝 python2.7 在 linux 與 mac 要安裝這些應該不太會遇到問題 但因為 windows 預設沒有安裝 python2.7 ，因此需要額外做設定 另外若 python 安裝的是 anaconda python ，也要在 npm install 前做一些設定 因此本篇的安裝步驟內容，主要都將圍繞在怎麼安裝 nodejieba 上 install nodejieba install python set python path ```bash npm config set python path/to/yout/python.exe example npm con..."},{title:"Write Article with Container",frontmatter:{title:"Write Article with Container",datetime:"2019/3/26",update_datetime:"2019/4/8",tag:["VueJCBlog","Usage","Container"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Write Article with Container"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Usage/Container/"},{name:"twitter:title",content:"Write Article with Container"},{name:"twitter:url",content:"/VueJCBlog/Usage/Container/"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"text, align, 50, px, hello, right, height, vue, world, width, grid, theorem, package, json, md, container, center, left, example, 物体, 维基百科, 004, chu, lib, 002, 123, lock, 001, docs, readme"},{property:"article:tag",content:"text"},{property:"article:tag",content:"align"},{property:"article:tag",content:"50"},{property:"article:tag",content:"px"},{property:"article:tag",content:"hello"},{property:"article:tag",content:"right"},{property:"article:tag",content:"height"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"world"},{property:"article:tag",content:"width"},{property:"article:tag",content:"grid"},{property:"article:tag",content:"theorem"},{property:"article:tag",content:"package"},{property:"article:tag",content:"json"},{property:"article:tag",content:"md"},{property:"article:tag",content:"container"},{property:"article:tag",content:"center"},{property:"article:tag",content:"left"},{property:"article:tag",content:"example"},{property:"article:tag",content:"物体"},{property:"article:tag",content:"维基百科"},{property:"article:tag",content:"004"},{property:"article:tag",content:"chu"},{property:"article:tag",content:"lib"},{property:"article:tag",content:"002"},{property:"article:tag",content:"123"},{property:"article:tag",content:"lock"},{property:"article:tag",content:"001"},{property:"article:tag",content:"docs"},{property:"article:tag",content:"readme"}]},regularPath:"/VueJCBlog/Usage/Container/",relativePath:"VueJCBlog/Usage/Container/README.md",key:"v-4829d184",path:"/VueJCBlog/Usage/Container/",headers:[{level:2,title:"theorem",slug:"theorem"},{level:2,title:"right",slug:"right"},{level:2,title:"vue",slug:"vue"},{level:2,title:"grid",slug:"grid"},{level:2,title:"align",slug:"align"},{level:3,title:"left",slug:"left"},{level:3,title:"right",slug:"right-2"},{level:3,title:"center",slug:"center"}],git:{created:"3/21/2020, 11:17:17 PM",updated:"4/17/2019, 10:53:41 PM",author:"PC\\JC",commits:[{fullHash:"af14dbfb6dd72e068254f7738f4d47edc1d8ce04",authorTime:"1584803837",commitTime:"1584803837",authorName:"PC\\JC"},{fullHash:"312820eae2ffb989afb42499a7ad08f4e2afbc68",authorTime:"1555512821",commitTime:"1555512821",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:'container\r\n\r\ncontainer 是 [vuepress-plugin-container]( 提供的功能\r\n\r\n可以讓我們在撰寫文章時使用以下語法\r\n\r\n```\r\n\r\n::: theorem 牛顿第一定律\r\n假若施加于某物体的外力为零，则该物体的运动速度不变。\r\n\r\n::: right\r\nfrom [维基百科](\r\n:::\r\n\r\n```\r\n\r\n產生以下結果\r\n\r\n::: theorem 牛顿第一定律\r\n假若施加于某物体的外力为零，则该物体的运动速度不变。\r\n\r\n::: right\r\nfrom [维基百科](\r\n:::\r\n\r\n 支援的container\r\n\r\n    theorem\r\n\r\n     來自 vue 官方範例\r\n\r\n     example\r\n\r\n      ```\r\n      ::: theorem xxx理論\r\n      yyy現象\r\n      :::\r\n      ```\r\n\r\n      ::: theorem xxx理論\r\n      yyy現象\r\n      :::\r\n\r\n\r\n    right\r\n\r\n     來自 vue 官方範例\r\n\r\n     example\r\n\r\n      ```\r\n      ::: right\r\n      123\r\n      :::\r\n      ```\r\n\r\n      ::: right\r\n      123\r\n      :::\r\n\r\n    vue\r\n\r\n     改自 vue 官方source code\r\n\r\n     example\r\n\r\n      ```\r\n      ::: vue\r\n      .\r\n      ├── docs\r\n      │   ├── readme.md\r\n      │   └── `hello-vuejcblogblog.md`_(add this file)_\r\n      │\r\n      ├── lib/\r\n      │   ├── ...\r\n      │   ...\r\n      │\r\n      ├── package.json\r\n      └── package-lock.json\r\n      :::\r\n      ```\r\n\r\n      ::: vue\r\n      .\r\n      ├── docs\r\n      │   ├── readme.md\r\n      │   └── `hello-vuejcblogblog.md`_(add this file)_\r\n      │\r\n      ├── lib/\r\n      │   ├── ...\r\n      │   ...\r\n      │\r\n      ├── package.json\r\n      └── package-lock.json\r\n      :::\r\n\r\n    grid\r\n\r\n    ```\r\n    ::: grid\r\n    !some text\r\n\r\n    !some text\r\n\r\n    !some text\r\n\r\n    !some text\r\n    ::: \r\n    ```\r\n\r\n    ::: grid\r\n    !some text\r\n\r\n    !some text\r\n\r\n    !some text\r\n\r\n    !some text\r\n    ::: \r\n\r\n    ```\r\n    ::: grid\r\n    !some text\r\n    001\r\n\r\n    !some text\r\n    002\r\n\r\n    !some text\r\n    003\r\n\r\n    !some text\r\n    004\r\n    :::\r\n    ```\r\n\r\n    ::: grid\r\n    !some text\r\n    001\r\n\r\n    !some text\r\n    002\r\n\r\n    !some text\r\n    003\r\n\r\n    !some text\r\n    004\r\n    :::\r\n\r\n    align\r\n\r\n      left\r\n\r\n      ```\r\n      hello\r\n      ::: align \'{"align":"left","height":"50px","width":"50px"}\'\r\n      !some text\r\n      :::\r\n      world\r\n\r\n      chu\r\n      ```\r\n\r\n      hello\r\n      ::: align \'{"align":"left","height":"50px","width":"50px"}\'\r\n      !some text\r\n      :::\r\n      world\r\n\r\n      chu\r\n\r\n      right\r\n\r\n      ```\r\n      hello\r\n      ::: align \'{"align":"right","height":"50px","width":"50px"}\'\r\n      !some text\r\n      :::\r\n      world\r\n      ```\r\n\r\n      hello\r\n      ::: align \'{"align":"right","height":"50px","width":"50px"}\'\r\n      !some text\r\n      :::\r\n      world\r\n\r\n      center\r\n\r\n      ```\r\n      hello\r\n      ::: align \'{"align":"center","height":"50px","width":"50px"}\'\r\n      !some text\r\n      :::\r\n      world\r\n      ```\r\n\r\n      hello\r\n      ::: align \'{"align":"center","height":"50px","width":"50px"}\'\r\n      !some text\r\n      :::\r\n      world',word_token:["container","container","vuepress","-","plugin","-","container","提供","功能","可以","讓","我們","撰","寫","文章","時","使用","以下","語法","`","`","`","theorem","牛顿","第一","定律","假若","施加","物体","外力","零","则","物体","运动","速度","不变","right","维基百科","`","`","`","產生","以下","結果","theorem","牛顿","第一","定律","假若","施加","物体","外力","零","则","物体","运动","速度","不变","。","right","维基百科","支援","container","theorem","來","自","vue","官方","範例","example","`","`","`","theorem","xxx","理論","yyy","現象","`","`","`","theorem","xxx","理論","yyy","現象","right","來","自","vue","官方","範例","example","`","`","`","right","123","`","`","`","right","123","vue","改自","vue","官方","source","code","example","`","`","`","vue","├","─","─","docs","│","├","─","─","readme","md","│","└","─","─","`","hello","-","vuejcblogblog","md","`","_","add","file","_","│","├","─","─","lib","│","├","─","─","│","│","├","─","─","package","json","└","─","─","package","-","lock","json","`","`","`","vue","├","─","─","docs","│","├","─","─","readme","md","│","└","─","─","`","hello","-","vuejcblogblog","md","`","_","add","file","_","│","├","─","─","lib","│","├","─","─","│","│","├","─","─","package","json","└","─","─","package","-","lock","json","grid","`","`","`","grid","text","text","text","text","`","`","`","grid","text","text","text","text","`","`","`","grid","text","001","text","002","text","003","text","004","`","`","`","grid","text","001","text","002","text","003","text","004","align","left","`","`","`","hello","align","align","left","height","50","px","width","50","px","text","world","chu","`","`","`","hello","align","align","left","height","50","px","width","50","px","text","world","chu","right","`","`","`","hello","align","align","right","height","50","px","width","50","px","text","world","`","`","`","hello","align","align","right","height","50","px","width","50","px","text","world","center","`","`","`","hello","align","align","center","height","50","px","width","50","px","text","world","`","`","`","hello","align","align","center","height","50","px","width","50","px","text","world"],key_words:[{word:"text",weight:258.2624947558379},{word:"align",weight:152.60965599208603},{word:"50",weight:140.8704516850025},{word:"px",weight:140.8704516850025},{word:"hello",weight:93.91363445666833},{word:"right",weight:93.91363445666833},{word:"height",weight:70.43522584250125},{word:"vue",weight:70.43522584250125},{word:"world",weight:70.43522584250125},{word:"width",weight:70.43522584250125},{word:"grid",weight:58.69602153541771},{word:"theorem",weight:58.69602153541771},{word:"package",weight:46.95681722833417},{word:"json",weight:46.95681722833417},{word:"md",weight:46.95681722833417},{word:"container",weight:46.95681722833417},{word:"center",weight:35.21761292125063},{word:"left",weight:35.21761292125063},{word:"example",weight:35.21761292125063},{word:"物体",weight:28.70257603924},{word:"维基百科",weight:27.801355304},{word:"004",weight:23.478408614167083},{word:"chu",weight:23.478408614167083},{word:"lib",weight:23.478408614167083},{word:"002",weight:23.478408614167083},{word:"123",weight:23.478408614167083},{word:"lock",weight:23.478408614167083},{word:"001",weight:23.478408614167083},{word:"docs",weight:23.478408614167083},{word:"readme",weight:23.478408614167083}],excerpt:"container container 是 [vuepress-plugin-container]( 提供的功能 可以讓我們在撰寫文章時使用以下語法 ::: theorem 牛顿第一定律 假若施加于某物体的外力为零，则该物体的运动速度不变。 ::: right from [维基百科]( ::: 產生以下結果 ::: theorem 牛顿第一定律 假若施加于某物体的外力为零，则该物体的运动速度不变。 ::: right from [维基百科]( ::: 支援的container theorem 來自 vue 官方範例 example ``` ::: theorem xxx理論 yyy現象 ::: ``` ::: theorem xxx理論 yyy現象 ::: right 來自 vue 官方範例 example ``` ::: right 123 ::: ``` ::: right 123 :..."},{title:"Advanced Syntax of Markdown",frontmatter:{title:"Advanced Syntax of Markdown",datetime:"2019/3/26",update_datetime:"2019/4/8",tag:["VueJCBlog","Usage","Markdown"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Advanced Syntax of Markdown"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Usage/Markdown/advanced.html"},{name:"twitter:title",content:"Advanced Syntax of Markdown"},{name:"twitter:url",content:"/VueJCBlog/Usage/Markdown/advanced.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"shadow, drop, world, hello, 123, left, tag, python, li, background, linear, gradient, 100, right, 50, example, katex, 51, c146a1, cb60b3, class, a80077, db36a4, mathbf, sum, sigma, print, ij, lis, dic"},{property:"article:tag",content:"shadow"},{property:"article:tag",content:"drop"},{property:"article:tag",content:"world"},{property:"article:tag",content:"hello"},{property:"article:tag",content:"123"},{property:"article:tag",content:"left"},{property:"article:tag",content:"tag"},{property:"article:tag",content:"python"},{property:"article:tag",content:"li"},{property:"article:tag",content:"background"},{property:"article:tag",content:"linear"},{property:"article:tag",content:"gradient"},{property:"article:tag",content:"100"},{property:"article:tag",content:"right"},{property:"article:tag",content:"50"},{property:"article:tag",content:"example"},{property:"article:tag",content:"katex"},{property:"article:tag",content:"51"},{property:"article:tag",content:"c146a1"},{property:"article:tag",content:"cb60b3"},{property:"article:tag",content:"class"},{property:"article:tag",content:"a80077"},{property:"article:tag",content:"db36a4"},{property:"article:tag",content:"mathbf"},{property:"article:tag",content:"sum"},{property:"article:tag",content:"sigma"},{property:"article:tag",content:"print"},{property:"article:tag",content:"ij"},{property:"article:tag",content:"lis"},{property:"article:tag",content:"dic"}]},regularPath:"/VueJCBlog/Usage/Markdown/advanced.html",relativePath:"VueJCBlog/Usage/Markdown/advanced.md",key:"v-4dc54ba5",path:"/VueJCBlog/Usage/Markdown/advanced.html",headers:[{level:2,title:"Basic",slug:"basic"},{level:2,title:"URL Auto Link",slug:"url-auto-link"},{level:2,title:"Previewer",slug:"previewer"},{level:2,title:"inline katex",slug:"inline-katex"},{level:2,title:"block katex",slug:"block-katex"},{level:2,title:"block katex with tags",slug:"block-katex-with-tags"}],git:{created:"11/21/2019, 12:02:00 AM",updated:"4/17/2019, 10:53:41 PM",author:"PC\\JC",commits:[{fullHash:"b0093ca3adef866e72e214281ea22740658838b4",authorTime:"1574265720",commitTime:"1574265720",authorName:"PC\\JC"},{fullHash:"312820eae2ffb989afb42499a7ad08f4e2afbc68",authorTime:"1555512821",commitTime:"1555512821",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:'code syntax hightlight\r\n\r\n basic\r\n\r\n    ```python\r\n    print(123)\r\n    ```\r\n\r\n```python\r\nprint(123)\r\n```\r\n\r\n\r\n    ```python\r\n    class imaclass():\r\n\r\n        def init(self):\r\n            pass\r\n\r\n        @staticmethod\r\n        def func(arg=123):\r\n            """\r\n            hello world\r\n            """\r\n            a, b = 1, 2\r\n            lis = [\r\n                \'hello\', hello\r\n                \'world!\' world!\r\n            ]\r\n\r\n            dic = {\r\n                "hello": 0,\r\n                "world!": 1\r\n            }\r\n\r\n            return { dic, {"x":lis}, {"y": a+b} }\r\n\r\n    >>> message = """123\r\n    ... 456"""\r\n    ```\r\n\r\n```python\r\nclass imaclass():\r\n\r\n    def init(self):\r\n        pass\r\n\r\n    @staticmethod\r\n    def func(arg=123):\r\n        """\r\n        hello world\r\n        """\r\n        a, b = 1, 2\r\n        lis = [\r\n            \'hello\', hello\r\n            \'world!\' world!\r\n        ]\r\n\r\n        dic = {\r\n            "hello": 0,\r\n            "world!": 1\r\n        }\r\n\r\n        return { dic, {"x":lis}, {"y": a+b} }\r\n\r\n>>> message = """123\r\n... 456"""\r\n```\r\n\r\n code\r\n   highlight\r\n     with\r\n       indent\r\n        ```python\r\n        print(123)\r\n        ```\r\n    \r\n [url auto link](\r\n\r\n```python\r\nprint(123)\r\n \r\n```\r\n\r\n [previewer](\r\n\r\n```css\r\n.example-gradient {\r\n    background: -webkit-linear-gradient(left,     cb60b3 0%, c146a1 50%, a80077 51%, db36a4 100%); / chrome10+, safari5.1+ /\r\n    background:    -moz-linear-gradient(left,     cb60b3 0%, c146a1 50%, a80077 51%, db36a4 100%); / ff3.6+ /\r\n    background:     -ms-linear-gradient(left,     cb60b3 0%, c146a1 50%, a80077 51%, db36a4 100%); / ie10+ /\r\n    background:      -o-linear-gradient(left,     cb60b3 0%, c146a1 50%, a80077 51%, db36a4 100%); / opera 11.10+ /\r\n    background:         linear-gradient(to right, cb60b3 0%, c146a1 50%, a80077 51%, db36a4 100%); / w3c /\r\n}\r\n.example-angle {\r\n    transform: rotate(10deg);\r\n}\r\n.example-color {\r\n    color: rgba(255, 0, 0, 0.2);\r\n    background: purple;\r\n    border: 1px solid hsl(100, 70%, 40%);\r\n}\r\n.example-easing {\r\n    transition-timing-function: linear;\r\n}\r\n.example-time {\r\n    transition-duration: 3s;\r\n}\r\n```\r\n\r\n [katex](\r\n\r\n[katex syntax](\r\n\r\n inline katex \r\n\r\n    hello $p(x|y) = \\frac{p(y|x)p(x)}{p(y)}$ world\r\n\r\nhello $p(x|y) = \\frac{p(y|x)p(x)}{p(y)}$ world\r\n\r\n block katex\r\n\r\n    $$\r\n    a^2 + b^2 = c^2\r\n    $$\r\n\r\n$$\r\na^2 + b^2 = c^2\r\n$$\r\n\r\n block katex with tags\r\n\r\n    $$\r\n    \\tag{hi} x+y^{2x}\r\n    $$\r\n\r\n$$\r\n\\tag{hi} x+y^{2x}\r\n$$\r\n\r\n    $$\r\n    \\tag{1} p(v_i=1|\\mathbf{h}) = \\sigma\\left(\\sum_j w_{ij}h_j + b_i\\right)\r\n    $$\r\n\r\n$$\r\n\\tag{1} p(v_i=1|\\mathbf{h}) = \\sigma\\left(\\sum_j w_{ij}h_j + b_i\\right)\r\n$$\r\n\r\n    $$\r\n    \\tag{2} p(h_j=1|\\mathbf{v}) = \\sigma\\left(\\sum_i w_{ij}v_i + c_j\\right)\r\n    $$\r\n\r\n\r\n$$\r\n\\tag{2} p(h_j=1|\\mathbf{v}) = \\sigma\\left(\\sum_i w_{ij}v_i + c_j\\right)\r\n$$\r\n\r\n tag attributes\r\n\r\n     drop-shadow-1 {.drop-shadow-1}\r\n     drop-shadow-2 {.drop-shadow-2}\r\n     !some text {.drop-shadow-1}\r\n\r\n```html\r\n<ul>\r\n    <li class="drop-shadow-1">drop-shadow-1</li> \r\n    <li class="drop-shadow-2">drop-shadow-2</li> \r\n    <li>\r\n        <img class="drop-shadow-1"\r\n            src="/assets/img/pika.264710a4.png" alt="some text" >\r\n    </li>\r\n</ul>\r\n```\r\n\r\n drop-shadow-1{.drop-shadow-1}\r\n drop-shadow-2{.drop-shadow-2}\r\n !some text{.drop-shadow-1}\r\n\r\n [more description](',word_token:["code","syntax","hightlight","basic","`","`","`","python","print","123","`","`","`","`","`","`","python","print","123","`","`","`","`","`","`","python","class","imaclass","def","init","self","pass","@","staticmethod","def","func","arg","=","123","hello","world","b","=","1","2","lis","=","hello","hello","world","world","dic","=","hello","0","world","1","return","dic","x","lis","y","b","message","=","123","456","`","`","`","`","`","`","python","class","imaclass","def","init","self","pass","@","staticmethod","def","func","arg","=","123","hello","world","b","=","1","2","lis","=","hello","hello","world","world","dic","=","hello","0","world","1","return","dic","x","lis","y","b","message","=","123","456","`","`","`","code","highlight","indent","`","`","`","python","print","123","`","`","`","url","auto","link","`","`","`","python","print","123","`","`","`","previewer","`","`","`","css","example","-","gradient","background","-","webkit","-","linear","-","gradient","left","cb60b3","0","c146a1","50","a80077","51","db36a4","100","chrome10","safari5","1","background","-","moz","-","linear","-","gradient","left","cb60b3","0","c146a1","50","a80077","51","db36a4","100","ff3","6","background","-","ms","-","linear","-","gradient","left","cb60b3","0","c146a1","50","a80077","51","db36a4","100","ie10","background","-","o","-","linear","-","gradient","left","cb60b3","0","c146a1","50","a80077","51","db36a4","100","opera","1110","background","linear","-","gradient","right","cb60b3","0","c146a1","50","a80077","51","db36a4","100","w3c","example","-","angle","transform","rotate","10","deg","example","-","color","color","rgba","255","0","0","02","background","purple","border","1","px","solid","hsl","100","70","40","example","-","easing","transition","-","timing","-","function","linear","example","-","time","transition","-","duration","3","s","`","`","`","katex","katex","syntax","inline","katex","hello","p","x","|","y","=","frac","p","y","|","x","p","x","p","y","world","hello","p","x","|","y","=","frac","p","y","|","x","p","x","p","y","world","block","katex","2","b","2","=","c","2","2","b","2","=","c","2","block","katex","tags","tag","hi","x","y","2","x","tag","hi","x","y","2","x","tag","1","p","v","_","=","1","|","mathbf","h","=","sigma","left","sum","_","j","w","_","ij","h","_","j","b","_","right","tag","1","p","v","_","=","1","|","mathbf","h","=","sigma","left","sum","_","j","w","_","ij","h","_","j","b","_","right","tag","2","p","h","_","j","=","1","|","mathbf","v","=","sigma","left","sum","_","w","_","ij","v","_","c","_","j","right","tag","2","p","h","_","j","=","1","|","mathbf","v","=","sigma","left","sum","_","w","_","ij","v","_","c","_","j","right","tag","attributes","drop","-","shadow","-","1","drop","-","shadow","-","1","drop","-","shadow","-","2","drop","-","shadow","-","2","text","drop","-","shadow","-","1","`","`","`","html","ul","li","class","=","drop","-","shadow","-","1","drop","-","shadow","-","1","li","li","class","=","drop","-","shadow","-","2","drop","-","shadow","-","2","li","li","img","class","=","drop","-","shadow","-","1","src","=","assets","img","pika","264710","a4","png","alt","=","text","li","ul","`","`","`","drop","-","shadow","-","1","drop","-","shadow","-","1","drop","-","shadow","-","2","drop","-","shadow","-","2","text","drop","-","shadow","-","1","description"],key_words:[{word:"shadow",weight:176.0880646062531},{word:"drop",weight:176.0880646062531},{word:"world",weight:117.39204307083541},{word:"hello",weight:117.39204307083541},{word:"123",weight:93.91363445666833},{word:"left",weight:93.91363445666833},{word:"tag",weight:82.1744301495848},{word:"python",weight:70.43522584250125},{word:"li",weight:70.43522584250125},{word:"background",weight:70.43522584250125},{word:"linear",weight:70.43522584250125},{word:"gradient",weight:70.43522584250125},{word:"100",weight:70.43522584250125},{word:"right",weight:58.69602153541771},{word:"50",weight:58.69602153541771},{word:"example",weight:58.69602153541771},{word:"katex",weight:58.69602153541771},{word:"51",weight:58.69602153541771},{word:"c146a1",weight:58.69602153541771},{word:"cb60b3",weight:58.69602153541771},{word:"class",weight:58.69602153541771},{word:"a80077",weight:58.69602153541771},{word:"db36a4",weight:58.69602153541771},{word:"mathbf",weight:46.95681722833417},{word:"sum",weight:46.95681722833417},{word:"sigma",weight:46.95681722833417},{word:"print",weight:46.95681722833417},{word:"ij",weight:46.95681722833417},{word:"lis",weight:46.95681722833417},{word:"dic",weight:46.95681722833417}],excerpt:'code syntax hightlight basic ```python print(123) ``` print(123) ```python class imaclass(): def init(self): pass @staticmethod def func(arg=123): """ hello world """ a, b = 1, 2 lis = [ \'hello\', hello \'world!\' world! ] dic = { "hello": 0, "world!": 1 } return { dic, {"x":lis}, {"y": a+b} } >>> message = """123 ... 456""" ``` class imaclass(): def init(self): pass @staticmethod def func(arg=123): ...'},{title:"Flow Chart with Markdown",frontmatter:{title:"Flow Chart with Markdown",datetime:"2019/3/28",tag:["VueJCBlog","Usage","Markdown"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Flow Chart with Markdown"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Usage/Markdown/flow-chart.html"},{name:"twitter:title",content:"Flow Chart with Markdown"},{name:"twitter:url",content:"/VueJCBlog/Usage/Markdown/flow-chart.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"state1, mermaid, process, task, alice, cond, 2014, 01, john, gantt, des3, diagram, des2, string, end, enduml, state2, active, future, section, startuml, hello, flowchart, 09, bob, des4, 06, completed, flowend, condition"},{property:"article:tag",content:"state1"},{property:"article:tag",content:"mermaid"},{property:"article:tag",content:"process"},{property:"article:tag",content:"task"},{property:"article:tag",content:"alice"},{property:"article:tag",content:"cond"},{property:"article:tag",content:"2014"},{property:"article:tag",content:"01"},{property:"article:tag",content:"john"},{property:"article:tag",content:"gantt"},{property:"article:tag",content:"des3"},{property:"article:tag",content:"diagram"},{property:"article:tag",content:"des2"},{property:"article:tag",content:"string"},{property:"article:tag",content:"end"},{property:"article:tag",content:"enduml"},{property:"article:tag",content:"state2"},{property:"article:tag",content:"active"},{property:"article:tag",content:"future"},{property:"article:tag",content:"section"},{property:"article:tag",content:"startuml"},{property:"article:tag",content:"hello"},{property:"article:tag",content:"flowchart"},{property:"article:tag",content:"09"},{property:"article:tag",content:"bob"},{property:"article:tag",content:"des4"},{property:"article:tag",content:"06"},{property:"article:tag",content:"completed"},{property:"article:tag",content:"flowend"},{property:"article:tag",content:"condition"}]},regularPath:"/VueJCBlog/Usage/Markdown/flow-chart.html",relativePath:"VueJCBlog/Usage/Markdown/flow-chart.md",key:"v-21fcb945",path:"/VueJCBlog/Usage/Markdown/flow-chart.html",headers:[{level:2,title:"Flowchart",slug:"flowchart-2"},{level:2,title:"Sequence diagram",slug:"sequence-diagram"},{level:2,title:"Gantt diagram",slug:"gantt-diagram"}],git:{created:"4/17/2019, 10:53:41 PM",updated:"4/17/2019, 10:53:41 PM",author:"PC\\JC",commits:[{fullHash:"312820eae2ffb989afb42499a7ad08f4e2afbc68",authorTime:"1555512821",commitTime:"1555512821",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"[flowchart](\r\n\r\n wapper of [flowchart.js](\r\n\r\n    ```\r\n    @flowstart\r\n    cond=>condition: process?\r\n    process=>operation: process\r\n    e=>end: end\r\n\r\n    cond(yes)->process->e\r\n    cond(no)->e\r\n    @flowend\r\n    ```\r\n\r\n@flowstart\r\ncond=>condition: process?\r\nprocess=>operation: process\r\ne=>end: end\r\n\r\ncond(yes)->process->e\r\ncond(no)->e\r\n@flowend\r\n\r\n [mermaid uml](\r\n\r\n[uml document](\r\n\r\n flowchart\r\n\r\n    ```mermaid\r\n    graph td;\r\n        a--\x3eb;\r\n        a--\x3ec;\r\n        b--\x3ed;\r\n        c--\x3ed;\r\n    ```\r\n\r\n```mermaid\r\ngraph td;\r\n    a--\x3eb;\r\n    a--\x3ec;\r\n    b--\x3ed;\r\n    c--\x3ed;\r\n```\r\n\r\n sequence diagram\r\n\r\n    ```mermaid\r\n    sequencediagram\r\n        alice->>john: hello john, how are you?\r\n        john--\x3e>alice: great!\r\n    ```\r\n\r\n```mermaid\r\nsequencediagram\r\n    alice->>john: hello john, how are you?\r\n    john--\x3e>alice: great!\r\n```\r\n\r\n gantt diagram\r\n\r\n    ```mermaid\r\n    gantt\r\n    dateformat  yyyy-mm-dd\r\n    title adding gantt diagram to mermaid\r\n    section a section\r\n    completed task            :done,    des1, 2014-01-06,2014-01-08\r\n    active task               :active,  des2, 2014-01-09, 3d\r\n    future task               :         des3, after des2, 5d\r\n    future task2               :         des4, after des3, 5d\r\n    ```\r\n\r\n```mermaid\r\ngantt\r\ndateformat  yyyy-mm-dd\r\ntitle adding gantt diagram to mermaid\r\nsection a section\r\ncompleted task            :done,    des1, 2014-01-06,2014-01-08\r\nactive task               :active,  des2, 2014-01-09, 3d\r\nfuture task               :         des3, after des2, 5d\r\nfuture task2               :         des4, after des3, 5d\r\n```\r\n\r\n\r\n\r\n [plantuml](\r\n\r\n    @startuml\r\n    bob -> alice : hello\r\n    @enduml\r\n \r\n@startuml\r\nbob -> alice : hello\r\n@enduml\r\n\r\n\r\n    @startuml\r\n    \r\n    [] --\x3e state1\r\n    state1 --\x3e []\r\n    state1 : this is a string\r\n    state1 : this is another string\r\n    \r\n    state1 -> state2\r\n    state2 --\x3e []\r\n    \r\n    @enduml\r\n\r\n@startuml\r\n\r\n[] --\x3e state1\r\nstate1 --\x3e []\r\nstate1 : this is a string\r\nstate1 : this is another string\r\n\r\nstate1 -> state2\r\nstate2 --\x3e []\r\n\r\n@enduml",word_token:["flowchart","wapper","flowchart","js","`","`","`","@","flowstart","cond","=","condition","process","process","=","operation","process","e","=","end","end","cond","yes","-","process","-","e","cond","no","-","e","@","flowend","`","`","`","@","flowstart","cond","=","condition","process","process","=","operation","process","e","=","end","end","cond","yes","-","process","-","e","cond","no","-","e","@","flowend","mermaid","uml","uml","document","flowchart","`","`","`","mermaid","graph","td","-","-","b","-","-","c","b","-","-","d","c","-","-","d","`","`","`","`","`","`","mermaid","graph","td","-","-","b","-","-","c","b","-","-","d","c","-","-","d","`","`","`","sequence","diagram","`","`","`","mermaid","sequencediagram","alice","-","john","hello","john","john","-","-","alice","great","`","`","`","`","`","`","mermaid","sequencediagram","alice","-","john","hello","john","john","-","-","alice","great","`","`","`","gantt","diagram","`","`","`","mermaid","gantt","dateformat","yyyy","-","mm","-","dd","title","adding","gantt","diagram","mermaid","section","section","completed","task","done","des1","2014","-","01","-","06","2014","-","01","-","08","active","task","active","des2","2014","-","01","-","09","3","d","future","task","des3","des2","5","d","future","task2","des4","des3","5","d","`","`","`","`","`","`","mermaid","gantt","dateformat","yyyy","-","mm","-","dd","title","adding","gantt","diagram","mermaid","section","section","completed","task","done","des1","2014","-","01","-","06","2014","-","01","-","08","active","task","active","des2","2014","-","01","-","09","3","d","future","task","des3","des2","5","d","future","task2","des4","des3","5","d","`","`","`","plantuml","@","startuml","bob","-","alice","hello","@","enduml","@","startuml","bob","-","alice","hello","@","enduml","@","startuml","-","-","state1","state1","-","-","state1","string","state1","string","state1","-","state2","state2","-","-","@","enduml","@","startuml","-","-","state1","state1","-","-","state1","string","state1","string","state1","-","state2","state2","-","-","@","enduml"],key_words:[{word:"state1",weight:117.39204307083541},{word:"mermaid",weight:105.65283876375187},{word:"process",weight:93.91363445666833},{word:"task",weight:70.43522584250125},{word:"alice",weight:70.43522584250125},{word:"cond",weight:70.43522584250125},{word:"2014",weight:70.43522584250125},{word:"01",weight:70.43522584250125},{word:"john",weight:70.43522584250125},{word:"gantt",weight:58.69602153541771},{word:"des3",weight:46.95681722833417},{word:"diagram",weight:46.95681722833417},{word:"des2",weight:46.95681722833417},{word:"string",weight:46.95681722833417},{word:"end",weight:46.95681722833417},{word:"enduml",weight:46.95681722833417},{word:"state2",weight:46.95681722833417},{word:"active",weight:46.95681722833417},{word:"future",weight:46.95681722833417},{word:"section",weight:46.95681722833417},{word:"startuml",weight:46.95681722833417},{word:"hello",weight:46.95681722833417},{word:"flowchart",weight:35.21761292125063},{word:"09",weight:23.478408614167083},{word:"bob",weight:23.478408614167083},{word:"des4",weight:23.478408614167083},{word:"06",weight:23.478408614167083},{word:"completed",weight:23.478408614167083},{word:"flowend",weight:23.478408614167083},{word:"condition",weight:23.478408614167083}],excerpt:"[flowchart]( wapper of [flowchart.js]( ``` @flowstart cond=>condition: process? process=>operation: process e=>end: end cond(yes)->process->e cond(no)->e @flowend ``` @flowstart cond=>condition: process? process=>operation: process e=>end: end cond(yes)->process->e cond(no)->e @flowend [mermaid uml]( [uml document]( flowchart ```mermaid graph td; a--\x3eb; a--\x3ec; b--\x3ed; c--\x3ed; ``` graph td; a--\x3eb; a-..."},{title:"Usage",frontmatter:{title:"Usage",datetime:"2019/3/24",update_datetime:"2019/4/8",tag:["VueJCBlog","Usage"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Usage"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Usage/"},{name:"twitter:title",content:"Usage"},{name:"twitter:url",content:"/VueJCBlog/Usage/"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"container, article, 文章, markdown, matter, 進行, write, vuepress, 檔案, 每個, 為主, 設定, 詳細, 內容, md, config, 參考, vuejcblog, 使用, 格式, 功能, 提供, 主要"},{property:"article:tag",content:"container"},{property:"article:tag",content:"article"},{property:"article:tag",content:"文章"},{property:"article:tag",content:"markdown"},{property:"article:tag",content:"matter"},{property:"article:tag",content:"進行"},{property:"article:tag",content:"write"},{property:"article:tag",content:"vuepress"},{property:"article:tag",content:"檔案"},{property:"article:tag",content:"每個"},{property:"article:tag",content:"為主"},{property:"article:tag",content:"設定"},{property:"article:tag",content:"詳細"},{property:"article:tag",content:"內容"},{property:"article:tag",content:"md"},{property:"article:tag",content:"config"},{property:"article:tag",content:"參考"},{property:"article:tag",content:"vuejcblog"},{property:"article:tag",content:"使用"},{property:"article:tag",content:"格式"},{property:"article:tag",content:"功能"},{property:"article:tag",content:"提供"},{property:"article:tag",content:"主要"}]},regularPath:"/VueJCBlog/Usage/",relativePath:"VueJCBlog/Usage/README.md",key:"v-c60be50a",path:"/VueJCBlog/Usage/",git:{created:"4/17/2019, 10:53:41 PM",updated:"4/17/2019, 10:53:41 PM",author:"PC\\JC",commits:[{fullHash:"312820eae2ffb989afb42499a7ad08f4e2afbc68",authorTime:"1555512821",commitTime:"1555512821",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"文章的撰寫，主要以 markdown 格式為主\r\n\r\n此外由於 vuepress 提供的 container 功能\r\n\r\n因此在vuejcblog也能使用 container 來進行文章的撰寫\r\n\r\n而在每個文章(.md)檔案，也可以使用 front matter 來對文章進行一些設定\r\n\r\n詳細的內容，請參考:\r\n\r\n write article with markdown\r\n\r\n config article with front matter\r\n\r\n write article with container",word_token:["文章","撰","寫","主要","以","markdown","格式","為主","此外","由","於","vuepress","提供","container","功能","因此","vuejcblog","能","使用","container","來","進行","文章","撰","寫","而","每個","文章","md","檔案","可以","使用","front","matter","來","對","文章","進行","一些","設定","詳細","內容","請","參考","write","article","markdown","config","article","front","matter","write","article","container"],key_words:[{word:"container",weight:35.21761292125063},{word:"article",weight:35.21761292125063},{word:"文章",weight:26.49371970136},{word:"markdown",weight:23.478408614167083},{word:"matter",weight:23.478408614167083},{word:"進行",weight:23.478408614167083},{word:"write",weight:23.478408614167083},{word:"vuepress",weight:11.739204307083542},{word:"檔案",weight:11.739204307083542},{word:"每個",weight:11.739204307083542},{word:"為主",weight:11.739204307083542},{word:"設定",weight:11.739204307083542},{word:"詳細",weight:11.739204307083542},{word:"內容",weight:11.739204307083542},{word:"md",weight:11.739204307083542},{word:"config",weight:11.739204307083542},{word:"參考",weight:11.739204307083542},{word:"vuejcblog",weight:11.739204307083542},{word:"使用",weight:9.03259988558},{word:"格式",weight:8.44535653662},{word:"功能",weight:5.51177248086},{word:"提供",weight:4.68415642092},{word:"主要",weight:3.45856450082}],excerpt:"文章的撰寫，主要以 markdown 格式為主 此外由於 vuepress 提供的 container 功能 因此在vuejcblog也能使用 container 來進行文章的撰寫 而在每個文章(.md)檔案，也可以使用 front matter 來對文章進行一些設定 詳細的內容，請參考: write article with markdown config article with front matter write article with container"},{title:"Link Resource with Markdown",frontmatter:{title:"Link Resource with Markdown",datetime:"2019/3/29",tag:["VueJCBlog","Usage","Markdown"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Link Resource with Markdown"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Usage/Markdown/link.html"},{name:"twitter:title",content:"Link Resource with Markdown"},{name:"twitter:url",content:"/VueJCBlog/Usage/Markdown/link.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"link, text, syntax, basic, markdown, youtube, url, vimeo, prezi, image, hash, include, tag, video, resource, channel, twitch, linkify, autolink, embedded, local, article, size"},{property:"article:tag",content:"link"},{property:"article:tag",content:"text"},{property:"article:tag",content:"syntax"},{property:"article:tag",content:"basic"},{property:"article:tag",content:"markdown"},{property:"article:tag",content:"youtube"},{property:"article:tag",content:"url"},{property:"article:tag",content:"vimeo"},{property:"article:tag",content:"prezi"},{property:"article:tag",content:"image"},{property:"article:tag",content:"hash"},{property:"article:tag",content:"include"},{property:"article:tag",content:"tag"},{property:"article:tag",content:"video"},{property:"article:tag",content:"resource"},{property:"article:tag",content:"channel"},{property:"article:tag",content:"twitch"},{property:"article:tag",content:"linkify"},{property:"article:tag",content:"autolink"},{property:"article:tag",content:"embedded"},{property:"article:tag",content:"local"},{property:"article:tag",content:"article"},{property:"article:tag",content:"size"}]},regularPath:"/VueJCBlog/Usage/Markdown/link.html",relativePath:"VueJCBlog/Usage/Markdown/link.md",key:"v-4d7e2aa5",path:"/VueJCBlog/Usage/Markdown/link.html",headers:[{level:2,title:"Local Resource",slug:"local-resource"},{level:3,title:"Image",slug:"image"},{level:3,title:"Video",slug:"video"},{level:2,title:"Twitch",slug:"twitch"},{level:3,title:"Link Channel",slug:"link-channel"},{level:3,title:"Link Video",slug:"link-video"},{level:2,title:"youtube",slug:"youtube"},{level:2,title:"vimeo",slug:"vimeo"},{level:2,title:"prezi",slug:"prezi"}],git:{created:"11/21/2019, 12:02:00 AM",updated:"4/17/2019, 10:53:41 PM",author:"PC\\JC",commits:[{fullHash:"b0093ca3adef866e72e214281ea22740658838b4",authorTime:"1574265720",commitTime:"1574265720",authorName:"PC\\JC"},{fullHash:"312820eae2ffb989afb42499a7ad08f4e2afbc68",authorTime:"1555512821",commitTime:"1555512821",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"link hash\r\n\r\n    go to image\r\n\r\ngo to image\r\n\r\n    go to link url\r\n\r\ngo to link url\r\n\r\n link url\r\n\r\n    [link url](\r\n\r\n[link url](\r\n\r\n [link article](\r\n\r\n    basic syntax of markdown\r\n\r\nbasic syntax of markdown\r\n\r\n    basic syntax of markdown\r\n\r\nbasic syntax of markdown\r\n\r\n    basic syntax of markdown with hash tag\r\n\r\nbasic syntax of markdown with hash tag\r\n\r\n autolink(linkify)\r\n\r\n    \r\n\r\n\r\n\r\n\r\n embedded resource\r\n\r\n local resource\r\n\r\n image\r\n\r\n include image\r\n\r\n        !some text\r\n\r\n!some text\r\n\r\n        !some text\r\n\r\n!some text\r\n\r\n include image with size\r\n\r\n        !some text\r\n\r\n!some text\r\n\r\n video\r\n\r\n    !some text\r\n\r\n!some text\r\n\r\n [twitch](\r\n\r\n link channel\r\n\r\n    /i/\r\n\r\n/i/\r\n\r\n link video\r\n\r\n    /i/\r\n\r\n/i/\r\n\r\n youtube\r\n\r\n    @youtube\r\n\r\n@youtube\r\n\r\n    @[youtube](\r\n\r\n@[youtube](\r\n\r\n vimeo\r\n\r\n    @vimeo\r\n\r\n@vimeo\r\n\r\n    @[vimeo](\r\n\r\n@[vimeo](\r\n\r\n prezi\r\n\r\n    @prezi\r\n    @[prezi](\r\n    @[prezi](\r\n\r\n@prezi",word_token:["link","hash","go","image","go","image","go","link","url","go","link","url","link","url","link","url","link","url","link","article","basic","syntax","markdown","basic","syntax","markdown","basic","syntax","markdown","basic","syntax","markdown","basic","syntax","markdown","hash","tag","basic","syntax","markdown","hash","tag","autolink","linkify","embedded","resource","local","resource","image","include","image","text","text","text","text","include","image","size","text","text","video","text","text","twitch","link","channel","link","video","youtube","@","youtube","@","youtube","@","youtube","@","youtube","vimeo","@","vimeo","@","vimeo","@","vimeo","@","vimeo","prezi","@","prezi","@","prezi","@","prezi","@","prezi"],key_words:[{word:"link",weight:105.65283876375187},{word:"text",weight:93.91363445666833},{word:"syntax",weight:70.43522584250125},{word:"basic",weight:70.43522584250125},{word:"markdown",weight:70.43522584250125},{word:"youtube",weight:58.69602153541771},{word:"url",weight:58.69602153541771},{word:"vimeo",weight:58.69602153541771},{word:"prezi",weight:58.69602153541771},{word:"image",weight:58.69602153541771},{word:"hash",weight:35.21761292125063},{word:"include",weight:23.478408614167083},{word:"tag",weight:23.478408614167083},{word:"video",weight:23.478408614167083},{word:"resource",weight:23.478408614167083},{word:"channel",weight:11.739204307083542},{word:"twitch",weight:11.739204307083542},{word:"linkify",weight:11.739204307083542},{word:"autolink",weight:11.739204307083542},{word:"embedded",weight:11.739204307083542},{word:"local",weight:11.739204307083542},{word:"article",weight:11.739204307083542},{word:"size",weight:11.739204307083542}],excerpt:"link hash go to image go to image go to link url go to link url link url [link url]( [link url]( [link article]( basic syntax of markdown basic syntax of markdown basic syntax of markdown basic syntax of markdown basic syntax of markdown with hash tag basic syntax of markdown with hash tag autolink(linkify) embedded resource local resource image include image !some text !some text !some text !some..."},{title:"Basic Syntax of Markdown",frontmatter:{title:"Basic Syntax of Markdown",datetime:"2019/3/25",update_datetime:"2019/4/8",tag:["VueJCBlog","Usage","Markdown"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Basic Syntax of Markdown"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Usage/Markdown/basic.html"},{name:"twitter:title",content:"Basic Syntax of Markdown"},{name:"twitter:url",content:"/VueJCBlog/Usage/Markdown/basic.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"item, header, cell, 123, second, data, ch, footnote, longnote, col, content, text, superscript, tables, mark, list, subscript, multiple, centered, neat, 456, escaped, new, aligned, grouping, hello, merge, 12, cool, lines"},{property:"article:tag",content:"item"},{property:"article:tag",content:"header"},{property:"article:tag",content:"cell"},{property:"article:tag",content:"123"},{property:"article:tag",content:"second"},{property:"article:tag",content:"data"},{property:"article:tag",content:"ch"},{property:"article:tag",content:"footnote"},{property:"article:tag",content:"longnote"},{property:"article:tag",content:"col"},{property:"article:tag",content:"content"},{property:"article:tag",content:"text"},{property:"article:tag",content:"superscript"},{property:"article:tag",content:"tables"},{property:"article:tag",content:"mark"},{property:"article:tag",content:"list"},{property:"article:tag",content:"subscript"},{property:"article:tag",content:"multiple"},{property:"article:tag",content:"centered"},{property:"article:tag",content:"neat"},{property:"article:tag",content:"456"},{property:"article:tag",content:"escaped"},{property:"article:tag",content:"new"},{property:"article:tag",content:"aligned"},{property:"article:tag",content:"grouping"},{property:"article:tag",content:"hello"},{property:"article:tag",content:"merge"},{property:"article:tag",content:"12"},{property:"article:tag",content:"cool"},{property:"article:tag",content:"lines"}]},regularPath:"/VueJCBlog/Usage/Markdown/basic.html",relativePath:"VueJCBlog/Usage/Markdown/basic.md",key:"v-f313c186",path:"/VueJCBlog/Usage/Markdown/basic.html",headers:[{level:2,title:"Basic Table",slug:"basic-table"},{level:2,title:"Cross-Cell Table",slug:"cross-cell-table"},{level:3,title:"Multi-Line in Cell",slug:"multi-line-in-cell"},{level:3,title:"Merge-Column",slug:"merge-column"},{level:3,title:"Merge-Row",slug:"merge-row"}],git:{created:"11/21/2019, 12:02:00 AM",updated:"4/17/2019, 10:53:41 PM",author:"PC\\JC",commits:[{fullHash:"b0093ca3adef866e72e214281ea22740658838b4",authorTime:"1574265720",commitTime:"1574265720",authorName:"PC\\JC"},{fullHash:"312820eae2ffb989afb42499a7ad08f4e2afbc68",authorTime:"1555512821",commitTime:"1555512821",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"emphasize\r\n\r\n    123\r\n\r\n    123\r\n\r\n    123\r\n\r\n123\r\n\r\n123\r\n\r\n123\r\n\r\n hr\r\n\r\n    ---\r\n\r\n---\r\n\r\n tables\r\n\r\n basic table\r\n\r\n    | tables        | are           | cool  |\r\n    | ------------- |:-------------:| -----:|\r\n    | col 3 is      | right-aligned | $1600 |\r\n    | col 2 is      | centered      |   $12 |\r\n    | zebra stripes | are neat      |    $1 |\r\n\r\n| tables        | are           | cool  |\r\n| ------------- |:-------------:| -----:|\r\n| col 3 is      | right-aligned | $1600 |\r\n| col 2 is      | centered      |   $12 |\r\n| zebra stripes | are neat      |    $1 |\r\n\r\n cross-cell table\r\n\r\n multi-line in cell\r\n\r\n        first header | second header\r\n        -------------|---------------\r\n        list:        | more  \\\r\n        - over       | data  \\\r\n        - several    |       \\\r\n        - lines      |\r\n\r\nfirst header | second header\r\n-------------|---------------\r\nlist:        | more  \\\r\n- over       | data  \\\r\n- several    |       \\\r\n- lines      |\r\n\r\n merge-column\r\n\r\n        |              |          grouping           ||\r\n        |first header  | second header | third header |\r\n        | ------------ | :-----------: | -----------: |\r\n        | content      |          long cell        ||\r\n        | content      |   cell    |         cell |\r\n        | new section  |     more      |         data |\r\n        | and more     | with an escaped '\\\\|'       ||\r\n\r\n|              |          grouping           ||\r\n|first header  | second header | third header |\r\n| ------------ | :-----------: | -----------: |\r\n| content      |          long cell        ||\r\n| content      |   cell    |         cell |\r\n| new section  |     more      |         data |\r\n| and more     | with an escaped '\\\\|'       ||\r\n\r\n merge-row\r\n \r\n        first header | second header\r\n        -------------|---------------\r\n        merged       | cell 1\r\n        ^^           | cell 2\r\n        ^^           | cell 3\r\n\r\nfirst header | second header\r\n-------------|---------------\r\nmerged       | cell 1\r\n^^           | cell 2\r\n^^           | cell 3\r\n\r\n delete\r\n\r\n    ~~~123~~~\r\n    ~~456~~\r\n\r\n~~~123~~~\r\n\r\n~~456~~\r\n\r\n subscript\r\n\r\n    a~b~\r\n\r\n    ch~3~ch~2~oh\r\n\r\n    text~a\\ subscript~\r\n\r\na~b~\r\n\r\nch~3~ch~2~oh\r\n\r\ntext~a\\ subscript~\r\n\r\n superscript\r\n\r\n    a^b^\r\n\r\n    h^2^0\r\n\r\n    text^a\\ superscript^\r\n\r\na^b^\r\n\r\nh^2^0\r\n\r\ntext^a\\ superscript^\r\n\r\n foot note\r\n\r\n    hello world[^1]\r\n\r\n    here is a footnote reference,[^1] and another.[^longnote]\r\n\r\n    [^1]: here is the footnote.\r\n\r\n    [^longnote]: here's one with multiple blocks.\r\n\r\nhello world[^1]\r\n\r\nhere is a footnote reference,[^1] and another.[^longnote]\r\n\r\n[^1]: here is the footnote.\r\n\r\n[^longnote]: here's one with multiple blocks.\r\n\r\n task list\r\n\r\n    - [x] item 1\r\n         [x] item a\r\n         [ ] item b\r\n            + [x] item a\r\n            + [ ] item b\r\n            + [x] item c\r\n         [x] item c\r\n    - [ ] item 2\r\n    - [ ] item 3\r\n\r\n- [x] item 1\r\n     [x] item a\r\n     [ ] item b\r\n        + [x] item a\r\n        + [ ] item b\r\n        + [x] item c\r\n     [x] item c\r\n- [ ] item 2\r\n- [ ] item 3\r\n\r\n mark\r\n\r\n    ==mark me==\r\n\r\n==mark me==",word_token:["emphasize","123","123","123","123","123","123","hr","-","-","-","-","-","-","tables","basic","table","|","tables","|","|","cool","|","|","-","-","-","-","-","-","-","-","-","-","-","-","-","|","-","-","-","-","-","-","-","-","-","-","-","-","-","|","-","-","-","-","-","|","|","col","3","|","right","-","aligned","|","1600","|","|","col","2","|","centered","|","12","|","|","zebra","stripes","|","neat","|","1","|","|","tables","|","|","cool","|","|","-","-","-","-","-","-","-","-","-","-","-","-","-","|","-","-","-","-","-","-","-","-","-","-","-","-","-","|","-","-","-","-","-","|","|","col","3","|","right","-","aligned","|","1600","|","|","col","2","|","centered","|","12","|","|","zebra","stripes","|","neat","|","1","|","cross","-","cell","table","multi","-","line","cell","first","header","|","second","header","-","-","-","-","-","-","-","-","-","-","-","-","-","|","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","list","|","-","|","data","-","several","|","-","lines","|","first","header","|","second","header","-","-","-","-","-","-","-","-","-","-","-","-","-","|","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","list","|","-","|","data","-","several","|","-","lines","|","merge","-","column","|","|","grouping","|","|","|","first","header","|","second","header","|","third","header","|","|","-","-","-","-","-","-","-","-","-","-","-","-","|","-","-","-","-","-","-","-","-","-","-","-","|","-","-","-","-","-","-","-","-","-","-","-","|","|","content","|","long","cell","|","|","|","content","|","cell","|","cell","|","|","new","section","|","|","data","|","|","|","escaped","|","|","|","|","|","grouping","|","|","|","first","header","|","second","header","|","third","header","|","|","-","-","-","-","-","-","-","-","-","-","-","-","|","-","-","-","-","-","-","-","-","-","-","-","|","-","-","-","-","-","-","-","-","-","-","-","|","|","content","|","long","cell","|","|","|","content","|","cell","|","cell","|","|","new","section","|","|","data","|","|","|","escaped","|","|","|","merge","-","row","first","header","|","second","header","-","-","-","-","-","-","-","-","-","-","-","-","-","|","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","merged","|","cell","1","|","cell","2","|","cell","3","first","header","|","second","header","-","-","-","-","-","-","-","-","-","-","-","-","-","|","-","-","-","-","-","-","-","-","-","-","-","-","-","-","-","merged","|","cell","1","|","cell","2","|","cell","3","delete","123","456","123","456","subscript","b","ch","3","ch","2","oh","text","subscript","b","ch","3","ch","2","oh","text","subscript","superscript","b","h","2","0","text","superscript","b","h","2","0","text","superscript","foot","note","hello","world","1","footnote","reference","1","longnote","1","footnote","longnote","s","one","multiple","blocks","hello","world","1","footnote","reference","1","longnote","1","footnote","longnote","s","one","multiple","blocks","task","list","-","x","item","1","x","item","item","b","x","item","item","b","x","item","c","x","item","c","-","item","2","-","item","3","-","x","item","1","x","item","item","b","x","item","item","b","x","item","c","x","item","c","-","item","2","-","item","3","mark","=","=","mark","=","=","=","=","mark","=","="],key_words:[{word:"item",weight:211.30567752750375},{word:"header",weight:164.3488602991696},{word:"cell",weight:164.3488602991696},{word:"123",weight:93.91363445666833},{word:"second",weight:70.43522584250125},{word:"data",weight:46.95681722833417},{word:"ch",weight:46.95681722833417},{word:"footnote",weight:46.95681722833417},{word:"longnote",weight:46.95681722833417},{word:"col",weight:46.95681722833417},{word:"content",weight:46.95681722833417},{word:"text",weight:46.95681722833417},{word:"superscript",weight:35.21761292125063},{word:"tables",weight:35.21761292125063},{word:"mark",weight:35.21761292125063},{word:"list",weight:35.21761292125063},{word:"subscript",weight:35.21761292125063},{word:"multiple",weight:23.478408614167083},{word:"centered",weight:23.478408614167083},{word:"neat",weight:23.478408614167083},{word:"456",weight:23.478408614167083},{word:"escaped",weight:23.478408614167083},{word:"new",weight:23.478408614167083},{word:"aligned",weight:23.478408614167083},{word:"grouping",weight:23.478408614167083},{word:"hello",weight:23.478408614167083},{word:"merge",weight:23.478408614167083},{word:"12",weight:23.478408614167083},{word:"cool",weight:23.478408614167083},{word:"lines",weight:23.478408614167083}],excerpt:"emphasize 123 123 123 123 123 123 hr --- tables basic table | tables | are | cool | | ------------- |:-------------:| -----:| | col 3 is | right-aligned | $1600 | | col 2 is | centered | $12 | | zebra stripes | are neat | $1 | tables are cool col 3 is right-aligned $1600 col 2 is centered $12 zebra stripes are neat $1 cross-cell table multi-line in cell first header | second header -------------|-..."},{title:"Embedded Slides in Article(TODO)",frontmatter:{title:"Embedded Slides in Article(TODO)",datetime:"2019/3/26",update_datetime:"2019/4/8",tag:["VueJCBlog","Usage","Container"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Embedded Slides in Article(TODO)"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Usage/Slide.html"},{name:"twitter:title",content:"Embedded Slides in Article(TODO)"},{name:"twitter:url",content:"/VueJCBlog/Usage/Slide.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"section, item, process, 123, cond, text, markdown, slide, col, ch, hello, end, fragment, superscript, tables, subscript, slides, mark, article, syntax, 12, condition, basic, graph, 456, cool, js, bob, link, alice"},{property:"article:tag",content:"section"},{property:"article:tag",content:"item"},{property:"article:tag",content:"process"},{property:"article:tag",content:"123"},{property:"article:tag",content:"cond"},{property:"article:tag",content:"text"},{property:"article:tag",content:"markdown"},{property:"article:tag",content:"slide"},{property:"article:tag",content:"col"},{property:"article:tag",content:"ch"},{property:"article:tag",content:"hello"},{property:"article:tag",content:"end"},{property:"article:tag",content:"fragment"},{property:"article:tag",content:"superscript"},{property:"article:tag",content:"tables"},{property:"article:tag",content:"subscript"},{property:"article:tag",content:"slides"},{property:"article:tag",content:"mark"},{property:"article:tag",content:"article"},{property:"article:tag",content:"syntax"},{property:"article:tag",content:"12"},{property:"article:tag",content:"condition"},{property:"article:tag",content:"basic"},{property:"article:tag",content:"graph"},{property:"article:tag",content:"456"},{property:"article:tag",content:"cool"},{property:"article:tag",content:"js"},{property:"article:tag",content:"bob"},{property:"article:tag",content:"link"},{property:"article:tag",content:"alice"}]},regularPath:"/VueJCBlog/Usage/Slide.html",relativePath:"VueJCBlog/Usage/Slide.md",key:"v-518ca8d8",path:"/VueJCBlog/Usage/Slide.html",headers:[{level:2,title:"inline katex",slug:"inline-katex"},{level:3,title:"Link Video",slug:"link-video"},{level:2,title:"Flowchart",slug:"flowchart-2"}],git:{created:"12/23/2019, 5:23:08 PM",updated:"4/17/2019, 10:53:41 PM",author:"JC",commits:[{fullHash:"20a1a635d1d13d6c69ad7f31ea2ef81ddae67e02",authorTime:"1577092988",commitTime:"1577092988",authorName:"JC"},{fullHash:"a243c01318210234c78797a56b8ac3d00185e8bb",authorTime:"1574590134",commitTime:"1574590134",authorName:"PC\\JC"},{fullHash:"3c41138b12367c2e51bf878a572583c781711860",authorTime:"1574416850",commitTime:"1574416850",authorName:"PC\\JC"},{fullHash:"b60c4c9ee608c0154b7c7af0409e17d00a4bc2d3",authorTime:"1574326911",commitTime:"1574326911",authorName:"PC\\JC"},{fullHash:"312820eae2ffb989afb42499a7ad08f4e2afbc68",authorTime:"1555512821",commitTime:"1555512821",authorName:"PC\\JC"}],contributors:["JC","PC\\JC"]},pure_content:"constraint\r\n\r\n   one page one slide(due to the mechanism of reveal.js)\r\n\r\n todo\r\n\r\n   write example\r\n\r\n   auto transform article to slide\r\n\r\n syntax\r\n\r\n```markdown\r\n<slide>\r\n    <-- change line is required now\r\n<section>\r\n    <-- change line is required now\r\n embedded slides in article\r\n\r\nintegrety with [reveal.js](\r\n\r\nrender slides with markdown\r\n\r\n</section>\r\n<section>\r\n\r\n    <slide content writed by markdown>\r\n\r\n</section>\r\n<section>\r\n\r\n<fragment>\r\n\r\n    <fragment is also supported>\r\n    \r\n</fragment>\r\n\r\n</section>\r\n\r\n</slide>\r\n```\r\n\r\n<slide>\r\n\r\n<section>\r\n\r\n embedded slides in article\r\n\r\nintegrety with [reveal.js](\r\n\r\nrender slides with markdown\r\n\r\n</section>\r\n<section>\r\n\r\n emphasize\r\n\r\n<fragment>\r\n\r\n    123 \r\n\r\n    123\r\n\r\n    123\r\n\r\n</fragment>\r\n<fragment>\r\n\r\n123\r\n\r\n123\r\n\r\n123\r\n\r\n</fragment>\r\n\r\n</section>\r\n<section>\r\n\r\n hr\r\n\r\n    ---\r\n\r\n---\r\n\r\n</section>\r\n<section>\r\n\r\n tables\r\n\r\n    | tables        | are           | cool  |\r\n    | ------------- |:-------------:| -----:|\r\n    | col 3 is      | right-aligned | $1600 |\r\n    | col 2 is      | centered      |   $12 |\r\n    | zebra stripes | are neat      |    $1 |\r\n\r\n| tables        | are           | cool  |\r\n| ------------- |:-------------:| -----:|\r\n| col 3 is      | right-aligned | $1600 |\r\n| col 2 is      | centered      |   $12 |\r\n| zebra stripes | are neat      |    $1 |\r\n\r\n</section>\r\n<section>\r\n\r\n delete\r\n\r\n    ~~~123~~~\r\n    ~~456~~\r\n\r\n~~~123~~~\r\n\r\n~~456~~\r\n\r\n</section>\r\n<section>\r\n\r\n subscript\r\n\r\n    a~b~\r\n\r\n    ch~3~ch~2~oh\r\n\r\n    text~a\\ subscript~\r\n\r\na~b~\r\n\r\nch~3~ch~2~oh\r\n\r\ntext~a\\ subscript~\r\n\r\n</section>\r\n<section>\r\n\r\n superscript\r\n\r\n    a^b^\r\n\r\n    h^2^0\r\n\r\n    text^a\\ superscript^\r\n\r\na^b^\r\n\r\nh^2^0\r\n\r\ntext^a\\ superscript^\r\n\r\n</section>\r\n<section>\r\n\r\n task list\r\n\r\n    - [x] item 1\r\n         [x] item a\r\n         [ ] item b\r\n            + [x] item a\r\n            + [ ] item b\r\n            + [x] item c\r\n         [x] item c\r\n    - [ ] item 2\r\n    - [ ] item 3\r\n\r\n- [x] item 1\r\n     [x] item a\r\n     [ ] item b\r\n        + [x] item a\r\n        + [ ] item b\r\n        + [x] item c\r\n     [x] item c\r\n- [ ] item 2\r\n- [ ] item 3\r\n\r\n</section>\r\n<section>\r\n\r\n mark\r\n\r\n    ==mark me==\r\n\r\n==mark me==\r\n\r\n</section>\r\n<section>\r\n\r\n inline katex \r\n\r\n    hello $p(x|y) = \\frac{p(y|x)p(x)}{p(y)}$ world\r\n\r\nhello $p(x|y) = \\frac{p(y|x)p(x)}{p(y)}$ world\r\n\r\n</section>\r\n<section>\r\n\r\n    !some text\r\n\r\n!some text\r\n\r\n</section>\r\n<section>\r\n\r\n [link article](\r\n\r\n    basic syntax of markdown\r\n\r\nbasic syntax of markdown\r\n\r\n</section>\r\n<section>\r\n\r\n link video\r\n\r\n    /i/\r\n\r\n/i/\r\n\r\n</section>\r\n<section>\r\n\r\n [flowchart](\r\n\r\n    ```\r\n    @flowstart\r\n    cond=>condition: process?\r\n    process=>operation: process\r\n    e=>end: end\r\n\r\n    cond(yes)->process->e\r\n    cond(no)->e\r\n    @flowend\r\n    ```\r\n\r\n@flowstart\r\ncond=>condition: process?\r\nprocess=>operation: process\r\ne=>end: end\r\n\r\ncond(yes)->process->e\r\ncond(no)->e\r\n@flowend\r\n\r\n</section>\r\n<section>\r\n\r\n flowchart\r\n\r\n    ```mermaid\r\n    graph td;\r\n        a--\x3eb;\r\n        a--\x3ec;\r\n        b--\x3ed;\r\n        c--\x3ed;\r\n    ```\r\n\r\n```mermaid\r\ngraph td;\r\n    a--\x3eb;\r\n    a--\x3ec;\r\n    b--\x3ed;\r\n    c--\x3ed;\r\n```\r\n\r\n</section>\r\n<section>\r\n\r\n [plantuml](\r\n\r\n    @startuml\r\n    bob -> alice : hello\r\n    @enduml\r\n \r\n@startuml\r\nbob -> alice : hello\r\n@enduml\r\n\r\n</section>\r\n\r\n</slide>\r\n\r\n example\r\n\r\nbelow is the original markdown of slide\r\n\r\n```markdown\r\n<slide>\r\n\r\n<section>\r\n\r\n embedded slides in article\r\n\r\nintegrety with [reveal.js](\r\n\r\nrender slides with markdown\r\n\r\n</section>\r\n<section>\r\n\r\n emphasize\r\n\r\n    123\r\n\r\n    123\r\n\r\n    123\r\n\r\n123\r\n\r\n123\r\n\r\n123\r\n\r\n</section>\r\n<section>\r\n\r\n hr\r\n\r\n    ---\r\n\r\n---\r\n\r\n</section>\r\n<section>\r\n\r\n tables\r\n\r\n    | tables        | are           | cool  |\r\n    | ------------- |:-------------:| -----:|\r\n    | col 3 is      | right-aligned | $1600 |\r\n    | col 2 is      | centered      |   $12 |\r\n    | zebra stripes | are neat      |    $1 |\r\n\r\n| tables        | are           | cool  |\r\n| ------------- |:-------------:| -----:|\r\n| col 3 is      | right-aligned | $1600 |\r\n| col 2 is      | centered      |   $12 |\r\n| zebra stripes | are neat      |    $1 |\r\n\r\n</section>\r\n<section>\r\n\r\n delete\r\n\r\n    ~~~123~~~\r\n    ~~456~~\r\n\r\n~~~123~~~\r\n\r\n~~456~~\r\n\r\n</section>\r\n<section>\r\n\r\n subscript\r\n\r\n    a~b~\r\n\r\n    ch~3~ch~2~oh\r\n\r\n    text~a\\ subscript~\r\n\r\na~b~\r\n\r\nch~3~ch~2~oh\r\n\r\ntext~a\\ subscript~\r\n\r\n</section>\r\n<section>\r\n\r\n superscript\r\n\r\n    a^b^\r\n\r\n    h^2^0\r\n\r\n    text^a\\ superscript^\r\n\r\na^b^\r\n\r\nh^2^0\r\n\r\ntext^a\\ superscript^\r\n\r\n</section>\r\n<section>\r\n\r\n task list\r\n\r\n    - [x] item 1\r\n         [x] item a\r\n         [ ] item b\r\n            + [x] item a\r\n            + [ ] item b\r\n            + [x] item c\r\n         [x] item c\r\n    - [ ] item 2\r\n    - [ ] item 3\r\n\r\n- [x] item 1\r\n     [x] item a\r\n     [ ] item b\r\n        + [x] item a\r\n        + [ ] item b\r\n        + [x] item c\r\n     [x] item c\r\n- [ ] item 2\r\n- [ ] item 3\r\n\r\n</section>\r\n<section>\r\n\r\n mark\r\n\r\n    ==mark me==\r\n\r\n==mark me==\r\n\r\n</section>\r\n<section>\r\n\r\n inline katex \r\n\r\n    hello $p(x|y) = \\frac{p(y|x)p(x)}{p(y)}$ world\r\n\r\nhello $p(x|y) = \\frac{p(y|x)p(x)}{p(y)}$ world\r\n\r\n</section>\r\n<section>\r\n\r\n    !some text\r\n\r\n!some text\r\n\r\n</section>\r\n<section>\r\n\r\n [link article](\r\n\r\n    basic syntax of markdown\r\n\r\nbasic syntax of markdown\r\n\r\n</section>\r\n<section>\r\n\r\n link video\r\n\r\n    /i/\r\n\r\n/i/\r\n\r\n</section>\r\n<section>\r\n\r\n [flowchart](\r\n\r\n    ```\r\n    @flowstart\r\n    cond=>condition: process?\r\n    process=>operation: process\r\n    e=>end: end\r\n\r\n    cond(yes)->process->e\r\n    cond(no)->e\r\n    @flowend\r\n    ```\r\n\r\n@flowstart\r\ncond=>condition: process?\r\nprocess=>operation: process\r\ne=>end: end\r\n\r\ncond(yes)->process->e\r\ncond(no)->e\r\n@flowend\r\n\r\n</section>\r\n<section>\r\n\r\n flowchart\r\n\r\n    ```mermaid\r\n    graph td;\r\n        a--\x3eb;\r\n        a--\x3ec;\r\n        b--\x3ed;\r\n        c--\x3ed;\r\n    ```\r\n\r\n```mermaid\r\ngraph td;\r\n    a--\x3eb;\r\n    a--\x3ec;\r\n    b--\x3ed;\r\n    c--\x3ed;\r\n``\r\n\r\n</section>\r\n<section>\r\n\r\n [plantuml](\r\n\r\n    @startuml\r\n    bob -> alice : hello\r\n    @enduml\r\n\r\n@startuml\r\nbob -> alice : hello\r\n@enduml\r\n\r\n</section>\r\n\r\n</slide>\r\n```",word_token:["constraint","one","page","one","slide","due","mechanism","reveal","js","todo","write","example","auto","transform","article","slide","syntax","`","`","`","markdown","slide","-","-","change","line","required","section","-","-","change","line","required","embedded","slides","article","integrety","reveal","js","render","slides","markdown","section","section","slide","content","writed","markdown","section","section","fragment","fragment","supported","fragment","section","slide","`","`","`","slide","section","embedded","slides","article","integrety","reveal","js","render","slides","markdown","section","section","emphasize","fragment","123","123","123","fragment","fragment","123","123","123","fragment","section","section","hr","-","-","-","-","-","-","section","section","tables","|","tables","|","|","cool","|","|","-","-","-","-","-","-","-","-","-","-","-","-","-","|","-","-","-","-","-","-","-","-","-","-","-","-","-","|","-","-","-","-","-","|","|","col","3","|","right","-","aligned","|","1600","|","|","col","2","|","centered","|","12","|","|","zebra","stripes","|","neat","|","1","|","|","tables","|","|","cool","|","|","-","-","-","-","-","-","-","-","-","-","-","-","-","|","-","-","-","-","-","-","-","-","-","-","-","-","-","|","-","-","-","-","-","|","|","col","3","|","right","-","aligned","|","1600","|","|","col","2","|","centered","|","12","|","|","zebra","stripes","|","neat","|","1","|","section","section","delete","123","456","123","456","section","section","subscript","b","ch","3","ch","2","oh","text","subscript","b","ch","3","ch","2","oh","text","subscript","section","section","superscript","b","h","2","0","text","superscript","b","h","2","0","text","superscript","section","section","task","list","-","x","item","1","x","item","item","b","x","item","item","b","x","item","c","x","item","c","-","item","2","-","item","3","-","x","item","1","x","item","item","b","x","item","item","b","x","item","c","x","item","c","-","item","2","-","item","3","section","section","mark","=","=","mark","=","=","=","=","mark","=","=","section","section","inline","katex","hello","p","x","|","y","=","frac","p","y","|","x","p","x","p","y","world","hello","p","x","|","y","=","frac","p","y","|","x","p","x","p","y","world","section","section","text","text","section","section","link","article","basic","syntax","markdown","basic","syntax","markdown","section","section","link","video","section","section","flowchart","`","`","`","@","flowstart","cond","=","condition","process","process","=","operation","process","e","=","end","end","cond","yes","-","process","-","e","cond","no","-","e","@","flowend","`","`","`","@","flowstart","cond","=","condition","process","process","=","operation","process","e","=","end","end","cond","yes","-","process","-","e","cond","no","-","e","@","flowend","section","section","flowchart","`","`","`","mermaid","graph","td","-","-","b","-","-","c","b","-","-","d","c","-","-","d","`","`","`","`","`","`","mermaid","graph","td","-","-","b","-","-","c","b","-","-","d","c","-","-","d","`","`","`","section","section","plantuml","@","startuml","bob","-","alice","hello","@","enduml","@","startuml","bob","-","alice","hello","@","enduml","section","slide","example","below","original","markdown","slide","`","`","`","markdown","slide","section","embedded","slides","article","integrety","reveal","js","render","slides","markdown","section","section","emphasize","123","123","123","123","123","123","section","section","hr","-","-","-","-","-","-","section","section","tables","|","tables","|","|","cool","|","|","-","-","-","-","-","-","-","-","-","-","-","-","-","|","-","-","-","-","-","-","-","-","-","-","-","-","-","|","-","-","-","-","-","|","|","col","3","|","right","-","aligned","|","1600","|","|","col","2","|","centered","|","12","|","|","zebra","stripes","|","neat","|","1","|","|","tables","|","|","cool","|","|","-","-","-","-","-","-","-","-","-","-","-","-","-","|","-","-","-","-","-","-","-","-","-","-","-","-","-","|","-","-","-","-","-","|","|","col","3","|","right","-","aligned","|","1600","|","|","col","2","|","centered","|","12","|","|","zebra","stripes","|","neat","|","1","|","section","section","delete","123","456","123","456","section","section","subscript","b","ch","3","ch","2","oh","text","subscript","b","ch","3","ch","2","oh","text","subscript","section","section","superscript","b","h","2","0","text","superscript","b","h","2","0","text","superscript","section","section","task","list","-","x","item","1","x","item","item","b","x","item","item","b","x","item","c","x","item","c","-","item","2","-","item","3","-","x","item","1","x","item","item","b","x","item","item","b","x","item","c","x","item","c","-","item","2","-","item","3","section","section","mark","=","=","mark","=","=","=","=","mark","=","=","section","section","inline","katex","hello","p","x","|","y","=","frac","p","y","|","x","p","x","p","y","world","hello","p","x","|","y","=","frac","p","y","|","x","p","x","p","y","world","section","section","text","text","section","section","link","article","basic","syntax","markdown","basic","syntax","markdown","section","section","link","video","section","section","flowchart","`","`","`","@","flowstart","cond","=","condition","process","process","=","operation","process","e","=","end","end","cond","yes","-","process","-","e","cond","no","-","e","@","flowend","`","`","`","@","flowstart","cond","=","condition","process","process","=","operation","process","e","=","end","end","cond","yes","-","process","-","e","cond","no","-","e","@","flowend","section","section","flowchart","`","`","`","mermaid","graph","td","-","-","b","-","-","c","b","-","-","d","c","-","-","d","`","`","`","`","`","`","mermaid","graph","td","-","-","b","-","-","c","b","-","-","d","c","-","-","d","`","`","section","section","plantuml","@","startuml","bob","-","alice","hello","@","enduml","@","startuml","bob","-","alice","hello","@","enduml","section","slide","`","`","`"],key_words:[{word:"section",weight:821.7443014958479},{word:"item",weight:422.6113550550075},{word:"process",weight:187.82726891333667},{word:"123",weight:187.82726891333667},{word:"cond",weight:140.8704516850025},{word:"text",weight:140.8704516850025},{word:"markdown",weight:129.13124737791895},{word:"slide",weight:117.39204307083541},{word:"col",weight:93.91363445666833},{word:"ch",weight:93.91363445666833},{word:"hello",weight:93.91363445666833},{word:"end",weight:93.91363445666833},{word:"fragment",weight:82.1744301495848},{word:"superscript",weight:70.43522584250125},{word:"tables",weight:70.43522584250125},{word:"subscript",weight:70.43522584250125},{word:"slides",weight:70.43522584250125},{word:"mark",weight:70.43522584250125},{word:"article",weight:70.43522584250125},{word:"syntax",weight:58.69602153541771},{word:"12",weight:46.95681722833417},{word:"condition",weight:46.95681722833417},{word:"basic",weight:46.95681722833417},{word:"graph",weight:46.95681722833417},{word:"456",weight:46.95681722833417},{word:"cool",weight:46.95681722833417},{word:"js",weight:46.95681722833417},{word:"bob",weight:46.95681722833417},{word:"link",weight:46.95681722833417},{word:"alice",weight:46.95681722833417}],excerpt:"constraint one page one slide(due to the mechanism of reveal.js) todo write example auto transform article to slide syntax <slide> <-- change line is required now <section> <-- change line is required now embedded slides in article integrety with [reveal.js]( render slides with markdown </section> <section> <slide content writed by markdown> </section> <section> <fragment> <fragment is also suppor..."},{title:"Quick Start",frontmatter:{title:"Quick Start",datetime:"2019/3/26",update_datetime:"2019/4/7",tag:["VueJCBlog","Quick Start"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Quick Start"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Quick-Start.html"},{name:"twitter:title",content:"Quick Start"},{name:"twitter:url",content:"/VueJCBlog/Quick-Start.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"npm, vuejcblog, run, hello, package, json, md, 套件, docs, 參考, article, bash, 安裝, markdown, 相依, 內容, 執行, write, build, step, vue, readme, 2., nodejieba, lib, command, line, basic, lock, 1."},{property:"article:tag",content:"npm"},{property:"article:tag",content:"vuejcblog"},{property:"article:tag",content:"run"},{property:"article:tag",content:"hello"},{property:"article:tag",content:"package"},{property:"article:tag",content:"json"},{property:"article:tag",content:"md"},{property:"article:tag",content:"套件"},{property:"article:tag",content:"docs"},{property:"article:tag",content:"參考"},{property:"article:tag",content:"article"},{property:"article:tag",content:"bash"},{property:"article:tag",content:"安裝"},{property:"article:tag",content:"markdown"},{property:"article:tag",content:"相依"},{property:"article:tag",content:"內容"},{property:"article:tag",content:"執行"},{property:"article:tag",content:"write"},{property:"article:tag",content:"build"},{property:"article:tag",content:"step"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"readme"},{property:"article:tag",content:"2."},{property:"article:tag",content:"nodejieba"},{property:"article:tag",content:"lib"},{property:"article:tag",content:"command"},{property:"article:tag",content:"line"},{property:"article:tag",content:"basic"},{property:"article:tag",content:"lock"},{property:"article:tag",content:"1."}]},regularPath:"/VueJCBlog/Quick-Start.html",relativePath:"VueJCBlog/Quick-Start.md",key:"v-3cdc4745",path:"/VueJCBlog/Quick-Start.html",headers:[{level:2,title:"Basic Step",slug:"basic-step"},{level:2,title:"Detail",slug:"detail"},{level:2,title:"Hello VueBlog",slug:"hello-vueblog"},{level:2,title:"Detail",slug:"detail-2"},{level:2,title:"Run dev",slug:"run-dev"},{level:2,title:"Build",slug:"build"},{level:2,title:"Upload",slug:"upload"}],git:{created:"9/29/2020, 4:37:50 PM",updated:"4/17/2019, 10:53:41 PM",author:"johnny1991524",commits:[{fullHash:"27642ab88978ab6ccefc742db8add5a8dff9f456",authorTime:"1601368670",commitTime:"1601368670",authorName:"johnny1991524"},{fullHash:"312820eae2ffb989afb42499a7ad08f4e2afbc68",authorTime:"1555512821",commitTime:"1555512821",authorName:"PC\\JC"}],contributors:["johnny1991524","PC\\JC"]},pure_content:"download\r\n\r\n   [node.js](\r\n\r\n    tested npm version: 6.9.0\r\n\r\n   [python2.7](\r\n\r\n    由於全文搜尋在建置過程中使用到了 [nodejieba]( 套件\r\n\r\n    因此安裝相依套件nodejieba時，會需要使用到python\r\n\r\n   [source code](\r\n\r\n    於下載後，資料夾結構應如下\r\n\r\n    ::: vue\r\n    .\r\n    ├── docs\r\n    │   └── readme.md\r\n    │\r\n    ├── lib/\r\n    │   ├── ...\r\n    │   ...\r\n    │\r\n    ├── package.json\r\n    └── package-lock.json\r\n    :::\r\n    \r\n\r\n  安裝相依套件\r\n\r\n    basic step\r\n\r\n    ```bash\r\n    cd path/to/vuejcblog/folder\r\n    npm ci  or\r\n    npm run install\r\n    ```\r\n\r\n    detail\r\n\r\n    由於使用到的相依套件的關係，若無法按照basic step來進行安裝\r\n\r\n    更詳盡的安裝內容請參考 installation\r\n\r\n  start to write article\r\n\r\n    hello vueblog\r\n\r\n    1. 於docs/底下建立hello-vuejcblog.md\r\n\r\n        ::: vue\r\n        .\r\n        ├── docs\r\n        │   ├── readme.md\r\n        │   └── `hello-vuejcblog.md`_(add this file)_\r\n        │\r\n        ├── lib/\r\n        │   ├── ...\r\n        │   ...\r\n        │\r\n        ├── package.json\r\n        └── package-lock.json\r\n        :::\r\n\r\n    2. 貼上以下內容\r\n\r\n        ```markdown\r\n        ---\r\n        title: hello vuejcblog\r\n        ---\r\n\r\n         hi\r\n\r\n         this is my first article.\r\n        ```\r\n\r\n    detail\r\n\r\n     更多支持的markdown功能請參考 write article with markdown\r\n\r\n    run dev\r\n\r\n    1. 於command line執行\r\n\r\n        ```bash\r\n        npm run dev\r\n        ```\r\n\r\n    2. 於browser開啟 [\r\n\r\n  deploy\r\n\r\n    build\r\n\r\n    於command line執行\r\n\r\n      ```bash\r\n      npm run build\r\n      ```\r\n\r\n    upload\r\n\r\n    請參考 [vuepress官方說明](",word_token:["download","node","js","tested","npm","version","690","python2","7","由","於","全文","搜尋","在建","置","過程","使用","nodejieba","套件","因此","安裝","相依","套件","nodejieba","時","會","需要","使用","python","source","code","於","下載","後","資料","夾結構","應","如下","vue","├","─","─","docs","│","└","─","─","readme","md","│","├","─","─","lib","│","├","─","─","│","│","├","─","─","package","json","└","─","─","package","-","lock","json","安裝","相依","套件","basic","step","`","`","`","bash","cd","path","vuejcblog","folder","npm","ci","npm","run","install","`","`","`","detail","由","於","使用","相依","套件","的關","係","若無法","按照","basic","step","來","進行安裝","更詳","盡","安裝","內容","請","參考","installation","start","write","article","hello","vueblog","1","於","docs","底下","建立","hello","-","vuejcblog","md","vue","├","─","─","docs","│","├","─","─","readme","md","│","└","─","─","`","hello","-","vuejcblog","md","`","_","add","file","_","│","├","─","─","lib","│","├","─","─","│","│","├","─","─","package","json","└","─","─","package","-","lock","json","2","貼","上","以下","內容","`","`","`","markdown","-","-","-","title","hello","vuejcblog","-","-","-","hi","first","article","`","`","`","detail","支持","markdown","功能","請","參考","write","article","markdown","run","dev","1","於","command","line","執行","`","`","`","bash","npm","run","dev","`","`","`","2","於","browser","開啟","deploy","build","於","command","line","執行","`","`","`","bash","npm","run","build","`","`","`","upload","請","參考","vuepress","官方","說明"],key_words:[{word:"npm",weight:58.69602153541771},{word:"vuejcblog",weight:46.95681722833417},{word:"run",weight:46.95681722833417},{word:"hello",weight:46.95681722833417},{word:"package",weight:46.95681722833417},{word:"json",weight:46.95681722833417},{word:"md",weight:46.95681722833417},{word:"套件",weight:46.392370236},{word:"docs",weight:35.21761292125063},{word:"參考",weight:35.21761292125063},{word:"article",weight:35.21761292125063},{word:"bash",weight:35.21761292125063},{word:"安裝",weight:35.21761292125063},{word:"markdown",weight:35.21761292125063},{word:"相依",weight:29.848301800170002},{word:"內容",weight:23.478408614167083},{word:"執行",weight:23.478408614167083},{word:"write",weight:23.478408614167083},{word:"build",weight:23.478408614167083},{word:"step",weight:23.478408614167083},{word:"vue",weight:23.478408614167083},{word:"readme",weight:23.478408614167083},{word:"2.",weight:23.478408614167083},{word:"nodejieba",weight:23.478408614167083},{word:"lib",weight:23.478408614167083},{word:"command",weight:23.478408614167083},{word:"line",weight:23.478408614167083},{word:"basic",weight:23.478408614167083},{word:"lock",weight:23.478408614167083},{word:"1.",weight:23.478408614167083}],excerpt:"download [node.js]( tested npm version: 6.9.0 [python2.7]( 由於全文搜尋在建置過程中使用到了 [nodejieba]( 套件 因此安裝相依套件nodejieba時，會需要使用到python [source code]( 於下載後，資料夾結構應如下 ::: vue . ├── docs │ └── readme.md │ ├── lib/ │ ├── ... │ ... │ ├── package.json └── package-lock.json ::: 安裝相依套件 basic step ```bash cd path/to/vuejcblog/folder npm ci or npm run install ``` detail 由於使用到的相依套件的關係，若無法按照basic step來進行安裝 更詳盡的安裝內容請參考 in..."},{title:"Config Article with Front Matter",frontmatter:{title:"Config Article with Front Matter",datetime:"2019/3/25",update_datetime:"2019/4/8",aliases:["front-matter-alias.html","VueJCBlog/Usage/front-matter-alias.html"],tag:["VueJCBlog","Usage","Front Matter"],meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Config Article with Front Matter"},{property:"og:type",content:"website"},{property:"og:url",content:"/VueJCBlog/Usage/front-matter.html"},{name:"twitter:title",content:"Config Article with Front Matter"},{name:"twitter:url",content:"/VueJCBlog/Usage/front-matter.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"alias, datetime, 文章, matter, vuejcblog, title, html, 連結, tag, default, yaml, 設定, 2019, 參考, article, layout, usage, update, 說明, 404, example, git, 檔案, 24, category, note, commit, permalink, post, 此處"},{property:"article:tag",content:"alias"},{property:"article:tag",content:"datetime"},{property:"article:tag",content:"文章"},{property:"article:tag",content:"matter"},{property:"article:tag",content:"vuejcblog"},{property:"article:tag",content:"title"},{property:"article:tag",content:"html"},{property:"article:tag",content:"連結"},{property:"article:tag",content:"tag"},{property:"article:tag",content:"default"},{property:"article:tag",content:"yaml"},{property:"article:tag",content:"設定"},{property:"article:tag",content:"2019"},{property:"article:tag",content:"參考"},{property:"article:tag",content:"article"},{property:"article:tag",content:"layout"},{property:"article:tag",content:"usage"},{property:"article:tag",content:"update"},{property:"article:tag",content:"說明"},{property:"article:tag",content:"404"},{property:"article:tag",content:"example"},{property:"article:tag",content:"git"},{property:"article:tag",content:"檔案"},{property:"article:tag",content:"24"},{property:"article:tag",content:"category"},{property:"article:tag",content:"note"},{property:"article:tag",content:"commit"},{property:"article:tag",content:"permalink"},{property:"article:tag",content:"post"},{property:"article:tag",content:"此處"}]},regularPath:"/VueJCBlog/Usage/front-matter.html",relativePath:"VueJCBlog/Usage/front-matter.md",key:"v-4144513c",path:"/VueJCBlog/Usage/front-matter.html",headers:[{level:2,title:"Simple Example",slug:"simple-example"},{level:2,title:"Advanced Example",slug:"advanced-example"},{level:2,title:"title",slug:"title"},{level:2,title:"datetime",slug:"datetime"},{level:2,title:"update_datetime",slug:"update-datetime"},{level:2,title:"tag",slug:"tag"},{level:2,title:"category",slug:"category"},{level:2,title:"layout",slug:"layout"},{level:2,title:"permalink",slug:"permalink"},{level:2,title:"alias link",slug:"alias-link"}],git:{created:"8/15/2019, 7:57:31 PM",updated:"4/17/2019, 10:53:41 PM",author:"PC\\JC",commits:[{fullHash:"725d9a933a76795f0b99b639a75ab3a4dcb11b6c",authorTime:"1565870251",commitTime:"1565870251",authorName:"PC\\JC"},{fullHash:"312820eae2ffb989afb42499a7ad08f4e2afbc68",authorTime:"1555512821",commitTime:"1555512821",authorName:"PC\\JC"}],contributors:["PC\\JC"]},pure_content:"front matter\r\n\r\n   front matter可以進行文章的設定\r\n\r\n   官方說明請參考[此處](\r\n\r\n    simple example\r\n\r\n    ```yaml\r\n    ---\r\n    title: title of article\r\n    datetime: 2019/3/24\r\n    update_datetime: 2019/3/26\r\n    tag: [ vuejcblog, tag ]\r\n    ---\r\n    ```\r\n\r\n    advanced example\r\n\r\n    ```yaml\r\n    ---\r\n    title: title of article\r\n    layout: post\r\n    datetime: 2019/3/24\r\n    update_datetime: 2019/3/26\r\n    category: [ aaa, bbb ]\r\n    tag: [ vuejcblog, tag ]\r\n    permalink: /custom/url/for/article.html\r\n    ---\r\n    ```\r\n\r\n config front matter\r\n\r\n    title\r\n  \r\n    文章的主旨\r\n  \r\n    datetime\r\n  \r\n     文章的建立日期\r\n\r\n     default: by git first commit datetime\r\n  \r\n    update_datetime\r\n  \r\n     文章的更新日期\r\n\r\n     default: by git last commit datetime\r\n  \r\n    tag\r\n  \r\n    文章的標籤\r\n  \r\n    category\r\n  \r\n     文章的類別\r\n    \r\n     default: 以文章擺放路徑\r\n  \r\n    layout\r\n  \r\n     若有自行開發擴充vuejcblog，可以在layout進行設定\r\n    \r\n     default: post\r\n  \r\n    permalink\r\n  \r\n     用以設定文章的永久連結\r\n    \r\n     官方說明請參考[此處](\r\n\r\n    [alias link](\r\n\r\n     用以設定不同網址，連到同一個文章\r\n\r\n     主要用以避免外部網站連結到此文章時，連結失效\r\n\r\n     `內部使用此連結`、或`開發模式下使用alias連結`將會導到404頁面，詳情請再參考下方note之說明\r\n\r\n     ```yaml\r\n      aliases:\r\n        - front-matter-alias.html\r\n        - vuejcblog/usage/front-matter-alias.html\r\n      ```\r\n\r\n     ex: 本篇文章的alias /vuejcblog/usage/front-matter-alias.html\r\n\r\n     note: \r\n\r\n       在yaml的alias中，開頭不能有`/`，而在文章中開頭需要\r\n\r\n       由於該plugin的做法為產生額外的檔案到指定路徑上，因此vue-router中是無法識別alias連結的\r\n\r\n        所以點選 /vuejcblog/usage/front-matter-alias.html 會出現404的畫面\r\n\r\n        必須另開網址，從vue-router以外的地方載入檔案才會redirect回文章",word_token:["front","matter","front","matter","可以","進行","文章","設定","官方","說明","請","參考","此處","simple","example","`","`","`","yaml","-","-","-","title","title","article","datetime","2019","3","24","update","_","datetime","2019","3","26","tag","vuejcblog","tag","-","-","-","`","`","`","advanced","example","`","`","`","yaml","-","-","-","title","title","article","layout","post","datetime","2019","3","24","update","_","datetime","2019","3","26","category","aaa","bbb","tag","vuejcblog","tag","permalink","custom","url","article","html","-","-","-","`","`","`","config","front","matter","title","文章","主旨","datetime","文章","建立","日期","default","git","first","commit","datetime","update","_","datetime","文章","更新","日期","default","git","last","commit","datetime","tag","文章","標","籤","category","文章","類別","default","以","文章","擺放路徑","layout","若有","自行","開發","擴充","vuejcblog","可以","layout","進行","設定","default","post","permalink","用以","設定","文章","永久","連結","官方","說明","請","參考","此處","alias","link","用以","設定","不同","網址","連到","同一","個","文章","主要","用以","避免","外部","網站","連結","文章","時","連結","失效","`","內部","使用","此連結","`","`","開發","模式","下","使用","alias","連結","`","將會導","404","頁面","詳情","請","再","參考","下方","note","說明","`","`","`","yaml","aliases","-","front","-","matter","-","alias","html","-","vuejcblog","usage","front","-","matter","-","alias","html","`","`","`","ex","本篇","文章","alias","vuejcblog","usage","front","-","matter","-","alias","html","note","yaml","alias","開頭","不能","`","`","而","文章","中開頭","需要","由","於","該","plugin","做法","為產生","額外","檔案","指定","路徑","上","因此","vue","-","router","中是","無法識別","alias","連結","所以","點選","vuejcblog","usage","front","-","matter","-","alias","html","會","出現","404","畫面","必須","另開","網址","從","vue","-","router","以外","地方","載入","檔案","才","會","redirect","回","文章"],key_words:[{word:"alias",weight:105.65283876375187},{word:"datetime",weight:93.91363445666833},{word:"文章",weight:86.10458902942},{word:"matter",weight:82.1744301495848},{word:"vuejcblog",weight:70.43522584250125},{word:"title",weight:58.69602153541771},{word:"html",weight:58.69602153541771},{word:"連結",weight:58.69602153541771},{word:"tag",weight:58.69602153541771},{word:"default",weight:46.95681722833417},{word:"yaml",weight:46.95681722833417},{word:"設定",weight:46.95681722833417},{word:"2019",weight:46.95681722833417},{word:"參考",weight:35.21761292125063},{word:"article",weight:35.21761292125063},{word:"layout",weight:35.21761292125063},{word:"usage",weight:35.21761292125063},{word:"update",weight:35.21761292125063},{word:"說明",weight:35.21761292125063},{word:"404",weight:23.478408614167083},{word:"example",weight:23.478408614167083},{word:"git",weight:23.478408614167083},{word:"檔案",weight:23.478408614167083},{word:"24",weight:23.478408614167083},{word:"category",weight:23.478408614167083},{word:"note",weight:23.478408614167083},{word:"commit",weight:23.478408614167083},{word:"permalink",weight:23.478408614167083},{word:"post",weight:23.478408614167083},{word:"此處",weight:23.478408614167083}],excerpt:"front matter front matter可以進行文章的設定 官方說明請參考[此處]( simple example ```yaml --- title: title of article datetime: 2019/3/24 update_datetime: 2019/3/26 tag: [ vuejcblog, tag ] --- ``` advanced example ```yaml --- title: title of article layout: post datetime: 2019/3/24 update_datetime: 2019/3/26 category: [ aaa, bbb ] tag: [ vuejcblog, tag ] permalink: /custom/url/for/article.html --- ``` config front m..."},{title:"Hello VueJCBlog",frontmatter:{title:"Hello VueJCBlog",datetime:"2019/3/7",meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:title",content:"Hello VueJCBlog"},{property:"og:type",content:"website"},{property:"og:url",content:"/hello-vuejcblog.html"},{name:"twitter:title",content:"Hello VueJCBlog"},{name:"twitter:url",content:"/hello-vuejcblog.html"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"},{name:"twitter:data2",content:"article, hi"},{property:"article:tag",content:"article"},{property:"article:tag",content:"hi"}]},regularPath:"/hello-vuejcblog.html",relativePath:"hello-vuejcblog.md",key:"v-720c8312",path:"/hello-vuejcblog.html",git:{created:"4/23/2019, 2:46:00 PM",updated:"4/17/2019, 10:53:41 PM",author:"JC",commits:[{fullHash:"5e6418942da4307d43f33692ffa8b8f1b0edc741",authorTime:"1556001960",commitTime:"1556001960",authorName:"JC"},{fullHash:"312820eae2ffb989afb42499a7ad08f4e2afbc68",authorTime:"1555512821",commitTime:"1555512821",authorName:"PC\\JC"}],contributors:["JC","PC\\JC"]},pure_content:"hi\r\n\r\n   this is my first article.",word_token:["hi","first","article"],key_words:[{word:"article",weight:11.739204307083542},{word:"hi",weight:11.739204307083542}],excerpt:"hi this is my first article."},{frontmatter:{layout:"Page",meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:type",content:"website"},{property:"og:url",content:"/"},{name:"twitter:url",content:"/"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"}]},regularPath:"/",key:"v-b2754d56",path:"/",pure_content:"",word_token:[],key_words:[],excerpt:""},{frontmatter:{layout:"Page",meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:type",content:"website"},{property:"og:url",content:"/category/"},{name:"twitter:url",content:"/category/"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"}]},regularPath:"/category/",key:"v-28e6393c",path:"/category/",pure_content:"",word_token:[],key_words:[],excerpt:""},{frontmatter:{layout:"Page",meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:type",content:"website"},{property:"og:url",content:"/tag/"},{name:"twitter:url",content:"/tag/"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"}]},regularPath:"/tag/",key:"v-b1564aac",path:"/tag/",pure_content:"",word_token:[],key_words:[],excerpt:""},{frontmatter:{layout:"Page",meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:type",content:"website"},{property:"og:url",content:"/archive/"},{name:"twitter:url",content:"/archive/"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"}]},regularPath:"/archive/",key:"v-9e6f27fc",path:"/archive/",pure_content:"",word_token:[],key_words:[],excerpt:""},{frontmatter:{layout:"Page",meta:[{property:"og:site_name",content:"VueJCBlog"},{property:"og:type",content:"website"},{property:"og:url",content:"/search/"},{name:"twitter:url",content:"/search/"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:label1",content:"Written by"},{name:"twitter:label2",content:"Filed under"}]},regularPath:"/search/",key:"v-5d4abc92",path:"/search/",pure_content:"",word_token:[],key_words:[],excerpt:""}],themeConfig:{sitemap:{hostname:"https://jchou24.github.io/"},ga:"UA-138418210-1",author:"jchou24",disqus:{shortname:"vuejcblog"},firebase:{apiKey:"AIzaSyCGabYibkdVGJEqAduEJDW8tQa_sPvYpWU",authDomain:"vuejcblog.firebaseapp.com",databaseURL:"https://vuejcblog.firebaseio.com",projectId:"vuejcblog",storageBucket:"vuejcblog.appspot.com",messagingSenderId:"135169218923"}}},Kt=(r(7),r(10),r(178),r(179),r(126),r(180),r(181),r(182),r(183),r(184),r(185),r(186),r(187),r(188),r(189),r(190),r(191),r(192),r(35),r(44),r(145)),$t=r.n(Kt),Qt=r(146),Yt=r.n(Qt),Xt=(r(152),{name:"vue-particles",props:{color:{type:String,default:"#dedede"},particleOpacity:{type:Number,default:.7},particlesNumber:{type:Number,default:80},shapeType:{type:String,default:"circle"},particleSize:{type:Number,default:4},linesColor:{type:String,default:"#dedede"},linesWidth:{type:Number,default:1},lineLinked:{type:Boolean,default:!0},lineOpacity:{type:Number,default:.4},linesDistance:{type:Number,default:150},moveSpeed:{type:Number,default:3},hoverEffect:{type:Boolean,default:!0},hoverMode:{type:String,default:"grab"},clickEffect:{type:Boolean,default:!0},clickMode:{type:String,default:"push"}},mounted:function(){var t=this;r(196),this.$nextTick(function(){t.initParticleJS(t.color,t.particleOpacity,t.particlesNumber,t.shapeType,t.particleSize,t.linesColor,t.linesWidth,t.lineLinked,t.lineOpacity,t.linesDistance,t.moveSpeed,t.hoverEffect,t.hoverMode,t.clickEffect,t.clickMode)})},methods:{initParticleJS:function(t,e,r,n,i,o,a,s,c,u,l,h,p,d,f){particlesJS("particles-js",{particles:{number:{value:r,density:{enable:!0,value_area:800}},color:{value:t},shape:{type:n,stroke:{width:0,color:"#192231"},polygon:{nb_sides:5}},opacity:{value:e,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:i,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:s,distance:u,color:o,opacity:c,width:a},move:{enable:!0,speed:l,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:h,mode:p},onclick:{enable:d,mode:f},onresize:{enable:!0,density_auto:!0,density_area:400}},modes:{grab:{distance:140,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0})}}}),Zt=Object(zt.a)(Xt,function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{attrs:{id:"particles-js",color:t.color,particleOpacity:t.particleOpacity,linesColor:t.linesColor,particlesNumber:t.particlesNumber,shapeType:t.shapeType,particleSize:t.particleSize,linesWidth:t.linesWidth,lineLinked:t.lineLinked,lineOpacity:t.lineOpacity,linesDistance:t.linesDistance,moveSpeed:t.moveSpeed,hoverEffect:t.hoverEffect,hoverMode:t.hoverMode,clickEffect:t.clickEffect,clickMode:t.clickMode}})},[],!1,null,null,null).exports;var te={install(t,e){t.component("vue-particles",Zt)}},ee=r(14),re=r(59),ne=r(60),ie=r(112),oe=r.n(ie);
/*!
 * perfect-scrollbar v1.4.0
 * (c) 2018 Hyunje Jun
 * @license MIT
 */
function ae(t){return getComputedStyle(t)}function se(t,e){for(var r in e){var n=e[r];"number"==typeof n&&(n+="px"),t.style[r]=n}return t}function ce(t){var e=document.createElement("div");return e.className=t,e}var ue="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function le(t,e){if(!ue)throw new Error("No element matching method supported");return ue.call(t,e)}function he(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function pe(t,e){return Array.prototype.filter.call(t.children,function(t){return le(t,e)})}var de={main:"ps",element:{thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}}},fe={x:null,y:null};function ge(t,e){var r=t.element.classList,n=de.state.scrolling(e);r.contains(n)?clearTimeout(fe[e]):r.add(n)}function me(t,e){fe[e]=setTimeout(function(){return t.isAlive&&t.element.classList.remove(de.state.scrolling(e))},t.settings.scrollingThreshold)}var ye=function(t){this.element=t,this.handlers={}},ve={isEmpty:{configurable:!0}};ye.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},ye.prototype.unbind=function(t,e){var r=this;this.handlers[t]=this.handlers[t].filter(function(n){return!(!e||n===e)||(r.element.removeEventListener(t,n,!1),!1)})},ye.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},ve.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return 0===t.handlers[e].length})},Object.defineProperties(ye.prototype,ve);var we=function(){this.eventElements=[]};function be(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}we.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return e||(e=new ye(t),this.eventElements.push(e)),e},we.prototype.bind=function(t,e,r){this.eventElement(t).bind(e,r)},we.prototype.unbind=function(t,e,r){var n=this.eventElement(t);n.unbind(e,r),n.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(n),1)},we.prototype.unbindAll=function(){this.eventElements.forEach(function(t){return t.unbindAll()}),this.eventElements=[]},we.prototype.once=function(t,e,r){var n=this.eventElement(t),i=function(t){n.unbind(e,i),r(t)};n.bind(e,i)};var _e=function(t,e,r,n,i){var o;if(void 0===n&&(n=!0),void 0===i&&(i=!1),"top"===e)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,r,n,i){var o=r[0],a=r[1],s=r[2],c=r[3],u=r[4],l=r[5];void 0===n&&(n=!0);void 0===i&&(i=!1);var h=t.element;t.reach[c]=null,h[s]<1&&(t.reach[c]="start");h[s]>t[o]-t[a]-1&&(t.reach[c]="end");e&&(h.dispatchEvent(be("ps-scroll-"+c)),e<0?h.dispatchEvent(be("ps-scroll-"+u)):e>0&&h.dispatchEvent(be("ps-scroll-"+l)),n&&function(t,e){ge(t,e),me(t,e)}(t,c));t.reach[c]&&(e||i)&&h.dispatchEvent(be("ps-"+c+"-reach-"+t.reach[c]))}(t,r,o,n,i)};function Ee(t){return parseInt(t,10)||0}var Ce={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},ke=function(t){var e=t.element,r=Math.floor(e.scrollTop);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(pe(e,de.element.rail("x")).forEach(function(t){return he(t)}),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(pe(e,de.element.rail("y")).forEach(function(t){return he(t)}),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=xe(t,Ee(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=Ee((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=xe(t,Ee(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=Ee(r*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,e){var r={width:e.railXWidth},n=Math.floor(t.scrollTop);e.isRtl?r.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:r.left=t.scrollLeft;e.isScrollbarXUsingBottom?r.bottom=e.scrollbarXBottom-n:r.top=e.scrollbarXTop+n;se(e.scrollbarXRail,r);var i={top:n,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?i.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:i.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?i.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:i.left=e.scrollbarYLeft+t.scrollLeft;se(e.scrollbarYRail,i),se(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),se(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(e,t),t.scrollbarXActive?e.classList.add(de.state.active("x")):(e.classList.remove(de.state.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=0),t.scrollbarYActive?e.classList.add(de.state.active("y")):(e.classList.remove(de.state.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)};function xe(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function Te(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],c=e[6],u=e[7],l=e[8],h=t.element,p=null,d=null,f=null;function g(e){h[c]=p+f*(e[i]-d),ge(t,u),ke(t),e.stopPropagation(),e.preventDefault()}function m(){me(t,u),t[l].classList.remove(de.state.clicking),t.event.unbind(t.ownerDocument,"mousemove",g)}t.event.bind(t[a],"mousedown",function(e){p=h[c],d=e[i],f=(t[n]-t[r])/(t[o]-t[s]),t.event.bind(t.ownerDocument,"mousemove",g),t.event.once(t.ownerDocument,"mouseup",m),t[l].classList.add(de.state.clicking),e.stopPropagation(),e.preventDefault()})}var Se={"click-rail":function(t){t.event.bind(t.scrollbarY,"mousedown",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarYRail,"mousedown",function(e){var r=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top>t.scrollbarYTop?1:-1;t.element.scrollTop+=r*t.containerHeight,ke(t),e.stopPropagation()}),t.event.bind(t.scrollbarX,"mousedown",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarXRail,"mousedown",function(e){var r=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left>t.scrollbarXLeft?1:-1;t.element.scrollLeft+=r*t.containerWidth,ke(t),e.stopPropagation()})},"drag-thumb":function(t){Te(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),Te(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(t){var e=t.element;t.event.bind(t.ownerDocument,"keydown",function(r){if(!(r.isDefaultPrevented&&r.isDefaultPrevented()||r.defaultPrevented)&&(le(e,":hover")||le(t.scrollbarX,":focus")||le(t.scrollbarY,":focus"))){var n,i=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(i){if("IFRAME"===i.tagName)i=i.contentDocument.activeElement;else for(;i.shadowRoot;)i=i.shadowRoot.activeElement;if(le(n=i,"input,[contenteditable]")||le(n,"select,[contenteditable]")||le(n,"textarea,[contenteditable]")||le(n,"button,[contenteditable]"))return}var o=0,a=0;switch(r.which){case 37:o=r.metaKey?-t.contentWidth:r.altKey?-t.containerWidth:-30;break;case 38:a=r.metaKey?t.contentHeight:r.altKey?t.containerHeight:30;break;case 39:o=r.metaKey?t.contentWidth:r.altKey?t.containerWidth:30;break;case 40:a=r.metaKey?-t.contentHeight:r.altKey?-t.containerHeight:-30;break;case 32:a=r.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:a=t.containerHeight;break;case 34:a=-t.containerHeight;break;case 36:a=t.contentHeight;break;case 35:a=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==o||t.settings.suppressScrollY&&0!==a||(e.scrollTop-=a,e.scrollLeft+=o,ke(t),function(r,n){var i=Math.floor(e.scrollTop);if(0===r){if(!t.scrollbarYActive)return!1;if(0===i&&n>0||i>=t.contentHeight-t.containerHeight&&n<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===o&&r<0||o>=t.contentWidth-t.containerWidth&&r>0)return!t.settings.wheelPropagation}return!0}(o,a)&&r.preventDefault())}})},wheel:function(t){var e=t.element;function r(r){var n=function(t){var e=t.deltaX,r=-1*t.deltaY;return void 0!==e&&void 0!==r||(e=-1*t.wheelDeltaX/6,r=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,r*=10),e!=e&&r!=r&&(e=0,r=t.wheelDelta),t.shiftKey?[-r,-e]:[e,r]}(r),i=n[0],o=n[1];if(!function(t,r,n){if(!Ce.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(t))return!1;for(var i=t;i&&i!==e;){if(i.classList.contains(de.element.consuming))return!0;var o=ae(i);if([o.overflow,o.overflowX,o.overflowY].join("").match(/(scroll|auto)/)){var a=i.scrollHeight-i.clientHeight;if(a>0&&!(0===i.scrollTop&&n>0||i.scrollTop===a&&n<0))return!0;var s=i.scrollWidth-i.clientWidth;if(s>0&&!(0===i.scrollLeft&&r<0||i.scrollLeft===s&&r>0))return!0}i=i.parentNode}return!1}(r.target,i,o)){var a=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(o?e.scrollTop-=o*t.settings.wheelSpeed:e.scrollTop+=i*t.settings.wheelSpeed,a=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(i?e.scrollLeft+=i*t.settings.wheelSpeed:e.scrollLeft-=o*t.settings.wheelSpeed,a=!0):(e.scrollTop-=o*t.settings.wheelSpeed,e.scrollLeft+=i*t.settings.wheelSpeed),ke(t),(a=a||function(r,n){var i=Math.floor(e.scrollTop),o=0===e.scrollTop,a=i+e.offsetHeight===e.scrollHeight,s=0===e.scrollLeft,c=e.scrollLeft+e.offsetWidth===e.scrollWidth;return!(Math.abs(n)>Math.abs(r)?o||a:s||c)||!t.settings.wheelPropagation}(i,o))&&!r.ctrlKey&&(r.stopPropagation(),r.preventDefault())}}void 0!==window.onwheel?t.event.bind(e,"wheel",r):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",r)},touch:function(t){if(Ce.supportsTouch||Ce.supportsIePointer){var e=t.element,r={},n=0,i={},o=null;Ce.supportsTouch?(t.event.bind(e,"touchstart",u),t.event.bind(e,"touchmove",l),t.event.bind(e,"touchend",h)):Ce.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",u),t.event.bind(e,"pointermove",l),t.event.bind(e,"pointerup",h)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",u),t.event.bind(e,"MSPointerMove",l),t.event.bind(e,"MSPointerUp",h)))}function a(r,n){e.scrollTop-=n,e.scrollLeft-=r,ke(t)}function s(t){return t.targetTouches?t.targetTouches[0]:t}function c(t){return(!t.pointerType||"pen"!==t.pointerType||0!==t.buttons)&&(!(!t.targetTouches||1!==t.targetTouches.length)||!(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function u(t){if(c(t)){var e=s(t);r.pageX=e.pageX,r.pageY=e.pageY,n=(new Date).getTime(),null!==o&&clearInterval(o)}}function l(o){if(c(o)){var u=s(o),l={pageX:u.pageX,pageY:u.pageY},h=l.pageX-r.pageX,p=l.pageY-r.pageY;if(function(t,r,n){if(!e.contains(t))return!1;for(var i=t;i&&i!==e;){if(i.classList.contains(de.element.consuming))return!0;var o=ae(i);if([o.overflow,o.overflowX,o.overflowY].join("").match(/(scroll|auto)/)){var a=i.scrollHeight-i.clientHeight;if(a>0&&!(0===i.scrollTop&&n>0||i.scrollTop===a&&n<0))return!0;var s=i.scrollLeft-i.clientWidth;if(s>0&&!(0===i.scrollLeft&&r<0||i.scrollLeft===s&&r>0))return!0}i=i.parentNode}return!1}(o.target,h,p))return;a(h,p),r=l;var d=(new Date).getTime(),f=d-n;f>0&&(i.x=h/f,i.y=p/f,n=d),function(r,n){var i=Math.floor(e.scrollTop),o=e.scrollLeft,a=Math.abs(r),s=Math.abs(n);if(s>a){if(n<0&&i===t.contentHeight-t.containerHeight||n>0&&0===i)return 0===window.scrollY&&n>0&&Ce.isChrome}else if(a>s&&(r<0&&o===t.contentWidth-t.containerWidth||r>0&&0===o))return!0;return!0}(h,p)&&o.preventDefault()}}function h(){t.settings.swipeEasing&&(clearInterval(o),o=setInterval(function(){t.isInitialized?clearInterval(o):i.x||i.y?Math.abs(i.x)<.01&&Math.abs(i.y)<.01?clearInterval(o):(a(30*i.x,30*i.y),i.x*=.8,i.y*=.8):clearInterval(o)},10))}}},Ae=function(t,e){var r=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var n in this.element=t,t.classList.add(de.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},e)r.settings[n]=e[n];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var i,o,a=function(){return t.classList.add(de.state.focus)},s=function(){return t.classList.remove(de.state.focus)};this.isRtl="rtl"===ae(t).direction,this.isNegativeScroll=(o=t.scrollLeft,t.scrollLeft=-1,i=t.scrollLeft<0,t.scrollLeft=o,i),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new we,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=ce(de.element.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=ce(de.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",a),this.event.bind(this.scrollbarX,"blur",s),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var c=ae(this.scrollbarXRail);this.scrollbarXBottom=parseInt(c.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=Ee(c.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=Ee(c.borderLeftWidth)+Ee(c.borderRightWidth),se(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=Ee(c.marginLeft)+Ee(c.marginRight),se(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=ce(de.element.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=ce(de.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",a),this.event.bind(this.scrollbarY,"blur",s),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var u=ae(this.scrollbarYRail);this.scrollbarYRight=parseInt(u.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=Ee(u.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(t){var e=ae(t);return Ee(e.width)+Ee(e.paddingLeft)+Ee(e.paddingRight)+Ee(e.borderLeftWidth)+Ee(e.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=Ee(u.borderTopWidth)+Ee(u.borderBottomWidth),se(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=Ee(u.marginTop)+Ee(u.marginBottom),se(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(t){return Se[t](r)}),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",function(t){return r.onScroll(t)}),ke(this)};Ae.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,se(this.scrollbarXRail,{display:"block"}),se(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=Ee(ae(this.scrollbarXRail).marginLeft)+Ee(ae(this.scrollbarXRail).marginRight),this.railYMarginHeight=Ee(ae(this.scrollbarYRail).marginTop)+Ee(ae(this.scrollbarYRail).marginBottom),se(this.scrollbarXRail,{display:"none"}),se(this.scrollbarYRail,{display:"none"}),ke(this),_e(this,"top",0,!1,!0),_e(this,"left",0,!1,!0),se(this.scrollbarXRail,{display:""}),se(this.scrollbarYRail,{display:""}))},Ae.prototype.onScroll=function(t){this.isAlive&&(ke(this),_e(this,"top",this.element.scrollTop-this.lastScrollTop),_e(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},Ae.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),he(this.scrollbarX),he(this.scrollbarY),he(this.scrollbarXRail),he(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},Ae.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(t){return!t.match(/^ps([-_].+|)$/)}).join(" ")};var Ie=Ae,Ne=r(5),Pe=function(){function t(e,r,n,i){Object(re.a)(this,t),this.option=e||{},this.is_noself=r,this.sub_target=n||[],this.is_deep=n.length>0,this.el=i,this.el_instance=[],this.scroller_instance=[];var o=this;this.on_resize=oe()(function(){o.hide(),o.update()},500)}return Object(ne.a)(t,[{key:"initial",value:function(){var t=this;t.destroy(),t.el_instance=[],t.scroller_instance=[],t.is_noself||t.el_instance.push(t.el),t.is_deep&&t.sub_target.forEach(function(e){t.el_instance=[].concat(Object(ee.a)(t.el_instance),Object(ee.a)(t.el.querySelectorAll(e)))});var e=0,r=["fixed","absolute","relative"];t.el_instance.forEach(function(n){r.includes(window.getComputedStyle(n,null).position)||e++,t.scroller_instance.push(new Ie(n,t.option))}),e>0&&console.warn("container of perfect-scrollbar should add following styles: ".concat(r.join(","))),t.on_resize(),window.addEventListener("resize",t.on_resize)}},{key:"update",value:function(){this.scroller_instance.forEach(function(t){t.update()})}},{key:"destroy",value:function(){this.scroller_instance&&this.scroller_instance.forEach(function(t){t.destroy(),t=null}),this.scroller_instance=null,this.el_instance=null,window.removeEventListener("resize",this.on_resize)}},{key:"hide",value:function(){var t="xs"==Object(Ne.i)();this.scroller_instance.forEach(function(e){e.isRtl=t})}},{key:"top_all",value:function(){this.el_instance.forEach(function(t){t.scrollTop=0})}}]),t}();function De(t,e){var r=e.value&&e.value.option||{},n=e.modifiers.noself,i=e.value?e.value.sub_target:[];t._ps_=new Pe(r,n,i,t),setTimeout(function(){t._ps_.initial()},500)}var Oe={bind:function(t,e,r){De(t,e)},componentUpdated:function(t,e,r,n){try{r.context.$nextTick(function(){t._ps_.update()})}catch(r){console.error(r),t._ps_.destroy(),De(t,e)}},unbind:function(t,e,r){t._ps_.destroy()}},Re=r(149),je=r.n(Re);var Be={bind:function(t,e,r){},inserted:function(t,e,r){setTimeout(function(){!function(t,e){["img","picture","iframe","source"].forEach(function(e){t.querySelectorAll(e).forEach(function(t){t.classList.add("lozad"),t.classList.add("init"),t.setAttribute("data-source",t.src),t.src="",t.setAttribute("loading","lazy")})});var r=je()(".lozad",{threshold:.1,loaded:function(t){t.onload=function(){},t.src=t.getAttribute("data-source"),t.classList.remove("init")}});r.observe(),t._observer_=r}(t)},3e3)},componentUpdated:function(t,e,r,n){},unbind:function(t,e,r){!function(t){t._observer_&&t._observer_.observer&&(t._observer_.observer.disconnect(),delete t._observer_)}(t)}};var Me=r(114);r(33),r(113),r(42);function Fe(t){return null!=t&&null!=t&&""!=t}function Le(t,e){function r(t){return t=new Date(t||""),(e=t)instanceof Date&&!isNaN(e)?t:"";var e}return t=r(t),e=r(e),t||e||""}r(79);var qe=r(21);var Ve=r(76),Ue={namespaced:!0,state:{is_sidebar_active:!0,is_active_article_lists:!0,is_active_recent_post:!0,is_active_toc:!0,is_displayer_active:!1,is_nav_header_active:!0,is_lock_nav:!1,is_active_category_viewer:!0,is_archive_article_viewer_first_transition:!0,is_app_first_enter:!0,is_sidebar_first_enter:!0,is_full_screen:!1,is_disabled_scroll:!1,article_resize:-1,app_resize:-1,main_content_mounted:-1,refresh_root_class:-1},mutations:{set_layout:function(t,e){var r=e.key,n=e.val;"is_nav_header_active"==r&&t.is_lock_nav||(t[r]=n)},toggle_layout_is:function(t,e){t[e]=!t[e]},trigger_article_resize:function(t){t.article_resize*=-1},trigger_app_resize:function(t){t.app_resize*=-1},trigger_main_content_mounted:function(t){t.main_content_mounted*=-1},trigger_refresh_root_class:function(t){t.refresh_root_class*=-1},lock_is_nav_header_active:function(t){t.is_lock_nav=!0},unlock_is_nav_header_active:function(t){t.is_lock_nav=!1}},getters:{get_article_resize:function(t){return t.article_resize},get_screen_resize:function(t){return t.app_resize}}},We=(r(53),r(77),r(78),r(23));r(117);function ze(t){var e,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=0,i={};function o(t,e){var r={id:n,label:"📁 "+e};return i[n]=t,n++,r}var a=o(["Home"],"Home");return a.isDefaultExpanded=!0,function t(e,a,s){for(var c in s.children){var u=[].concat(Object(ee.a)(e),[c]),l=o(u,c);void 0===a.children&&(a.children=[]),a.children.push(l),t(u,l,s.children[c])}r&&a.children&&s.id.length>0&&a.children.push(function(t){var e={id:n,label:"📄 Articles"};return i[n]=t,n++,e}(s.id))}(["Home"],a,t.Home),e=function(t){var e={};return Object.keys(t).forEach(function(r){return e[t[r]]=r}),e}(i),{id_map:i,inverted_id_map:e,options:[a]}}function He(t){var e={};t.forEach(function(t){return t.tag.forEach(function(t){e[t]?e[t]++:e[t]=1})});var r=Object.keys(e);r.sort(function(t,r){return e[r]-e[t]});var n=[];return r.forEach(function(t){return n.push({name:t,count:e[t]})}),{options:n}}function Je(t,e,r,n){var i=[],o=[];return e=new Date(e),isNaN(new Date(e).getTime())?i=t.article_ids.slice():t.articles.forEach(function(t){t[n]>=e&&i.push(t.id)}),r=new Date(r),isNaN(new Date(r).getTime())?o=t.article_ids.slice():t.articles.forEach(function(t){t[n]<=r&&o.push(t.id)}),i.filter(function(t){return-1!==o.indexOf(t)})}function Ge(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Ke(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ge(r,!0).forEach(function(e){Object(We.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ge(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var $e=function(t){return{namespaced:!0,state:Ke({article_category_tree:JSON.parse(JSON.stringify(t))},ze(t,!1),{active_category:0,active_category_path:["Home"],original_category_path:["Home"],article_sort:{sort_function:qe.a.datetime_asc,is_desc:!1,sort_function_name:"datetime"},is_show:{datetime:!0,update_datetime:!0,tag:!0}}),mutations:{set_article_sort_function:function(t){var e="".concat(t.article_sort.sort_function_name,"_").concat(t.article_sort.is_desc?"desc":"asc");t.article_sort.sort_function=qe.a[e]},set_is_desc:function(t,e){t.article_sort.is_desc=e},set_is_show:function(t,e){t.is_show[e.target]=e.value},set_sort_function_name:function(t,e){t.article_sort.sort_function_name=e},set_active_category:function(t,e){e&&e.id?(t.active_category=e.id,t.active_category_path=t.id_map[e.id].slice()):(t.active_category=0,t.active_category_path=["Home"])},set_original_category_path:function(t,e){"Home"!=e[0]&&(e=["Home"].concat(Object(ee.a)(e))),Object(Ne.g)(e,t.article_category_tree)&&(t.original_category_path=e.slice())},set_article_category_tree:function(t,e){t.article_category_tree=Object.assign({},t.article_category_tree,e)},upside_active_category_path:function(t){t.active_category_path.length>1&&(t.active_category_path.length--,t.active_category_path=t.active_category_path.slice(),t.active_category=t.inverted_id_map[t.active_category_path].slice())},refresh:function(t){t.active_category_path=t.original_category_path.slice(),t.active_category=t.inverted_id_map[t.active_category_path].slice()}},actions:{},getters:{get_active_category_path:function(t){return t.active_category_path.slice()},get_article_tree_node:function(t,e,r){return Object(Ne.g)(t.active_category_path,t.article_category_tree)}}}};r(54),r(55),r(80);function Qe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Ye(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Qe(r,!0).forEach(function(e){Object(We.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qe(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Xe(t,e){if(t.value=e,0==e.length)t.active_article_id=t.all_article_id.slice();else{var r=[];e.forEach(function(t){return r.push(t.name)});var n=[],i=!0,o=!1,a=void 0;try{for(var s,c=t.articles[Symbol.iterator]();!(i=(s=c.next()).done);i=!0)for(var u=s.value,l=0,h=r;l<h.length;l++){var p=h[l];if(u.tag.includes(p)){n.push(u.id);break}}}catch(t){o=!0,a=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}t.active_article_id=n}}var Ze=function(t,e){var r=[];return t.forEach(function(t){return r.push(t.id)}),{namespaced:!0,state:Ye({articles:t,all_article_id:r.slice(),active_article_id:r.slice(),value:[]},He(t)),mutations:{set_tag_value:function(t,e){Xe(t,e)},toggle_value:function(t,e){var r=!1;t.value.forEach(function(t){t.name==e.name&&(r=!0)});var n=[];r?t.value.forEach(function(t){t.name!=e.name&&n.push(t)}):(n=t.value).push(e),t.value=n},reset_by_category_path:function(r,n){var i=Object(Ne.g)(n,e),o=Object(Ne.d)(i),a=[];t.forEach(function(t){o.includes(t.id)&&a.push(t)});var s=He(a).options;r.articles=a,r.all_article_id=o,r.options=s,Xe(r,r.value)}}}},tr=(r(155),r(150)),er=r.n(tr);function rr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function nr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rr(r,!0).forEach(function(e){Object(We.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rr(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var ir=function(t,e,r){var n=[];t.forEach(function(t){return n.push(t.id)});var i=er()(function(){this.ref("id"),this.field("title"),this.field("content"),this.field("tag"),this.field("category"),t.forEach(function(t){this.add(t)},this)});return{namespaced:!0,state:{articles:t,article_ids:n.slice(),filter:{category:nr({},ze(r),{value:[0],active_article_id:n.slice()}),tag:nr({},He(t),{value:[],active_article_id:n.slice()}),datetime:{start_value:"",end_value:"",active_article_id:n.slice()},update_datetime:{start_value:"",end_value:"",active_article_id:n.slice()}},search_query:{q:""},active_article_id:n.slice(),sort_function:qe.a.datetime_desc,lunr_idx:i},getters:{active_article:function(t){var r=[t.filter.category.active_article_id,t.filter.tag.active_article_id,t.filter.datetime.active_article_id,t.filter.update_datetime.active_article_id],n=[];t.active_article_id.forEach(function(t){for(var e=!0,i=0,o=r;i<o.length;i++){e&=o[i].includes(t)}e&&n.push(t)});var i=[];return n.forEach(function(t){return i.push(e[t])}),i.sort(t.sort_function),i}},mutations:{sort_active_article_by_datetime:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.sort_function=e?qe.a.datetime_desc:qe.a.datetime_asc},set_datetime_start_value:function(t,e){t.filter.datetime.start_value=e,t.filter.datetime.active_article_id=Je(t,t.filter.datetime.start_value,t.filter.datetime.end_value,"datetime_dt")},set_datetime_end_value:function(t,e){t.filter.datetime.end_value=e,t.filter.datetime.active_article_id=Je(t,t.filter.datetime.start_value,t.filter.datetime.end_value,"datetime_dt")},set_update_datetime_start_value:function(t,e){t.filter.update_datetime.start_value=e,t.filter.update_datetime.active_article_id=Je(t,t.filter.update_datetime.start_value,t.filter.update_datetime.end_value,"update_datetime_dt")},set_update_datetime_end_value:function(t,e){t.filter.update_datetime.end_value=e,t.filter.update_datetime.active_article_id=Je(t,t.filter.update_datetime.start_value,t.filter.update_datetime.end_value,"update_datetime_dt")},set_category_filter_value:function(t,e){t.filter.category.value=e;var n=[];e.forEach(function(e){n.push(t.filter.category.id_map[e])}),t.filter.category.active_article_id=function(t,e){var r=[];return e.forEach(function(e){if("Home"==e[0]){var n=Object(Ne.g)(e,t);Object(Ne.d)(n).forEach(function(t){return r.push(t)})}else r.push.apply(r,Object(ee.a)(e))}),r}(r,n)},set_tag_filter_value:function(e,r){if(e.filter.tag.value=r,0==r.length)e.filter.tag.active_article_id=n.slice();else{var i=[];r.forEach(function(t){return i.push(t.name)});var o=[],a=!0,s=!1,c=void 0;try{for(var u,l=t[Symbol.iterator]();!(a=(u=l.next()).done);a=!0)for(var h=u.value,p=0,d=i;p<d.length;p++){var f=d[p];if(h.tag.includes(f)){o.push(h.id);break}}}catch(t){s=!0,c=t}finally{try{a||null==l.return||l.return()}finally{if(s)throw c}}e.filter.tag.active_article_id=o}},set_search_query:function(t,e){t.search_query=nr({},t.search_query,{},e)},search:function(t){if(""==t.search_query.q)t.active_article_id=n.slice();else{var e=t.lunr_idx.search(t.search_query.q),r=[];e.forEach(function(t){return r.push(t.ref)}),t.active_article_id=r}}}}},or={namespaced:!0,state:{cache:{},disqus:null,is_init:!1},mutations:{set_cache:function(t,e){var r=e.key,n=e.val;t.cache[r]=n},set_disqus:function(t,e){t.disqus=e},init_disqus:function(t){t.is_init=!0}}};function ar(t){return{url:t=(t=t.split("://")[1]).split("#")[0],url_key:btoa(t)}}var sr={namespaced:!0,state:{firebase:null,db:null,config:null,articles:null,articles_ref:null,is_init:!1},getters:{is_active_views_count:function(t){return!(null==t.config)},get_views:function(t){return function(e){if(e&&t.articles){var r=ar(e).url_key;return t.articles[r]?t.articles[r].views:null}return null}}},mutations:{init_firebase:function(t,e){if(!t.is_init&&e&&e.apiKey&&e.apiKey.length>0){var n=r(239);t.firebase=n,t.is_init=!0,t.config=e,n.initializeApp(e),t.db=n.database(),t.articles_ref=n.database().ref("articles/"),t.articles_ref.on("value",function(e){t.articles=e.val()}),t.articles_ref.once("value").then(function(e){t.articles=e.val()})}},add_views:function(t,e){var r=e.url;function n(){if(t.articles){var e=ar(r),n=e.url,i=e.url_key,o=t.articles[i],a=1;o&&(a+=o.views),t.firebase.database().ref("articles/".concat(i)).set({url:n,views:a})}}t.articles?n():setTimeout(n,5e3)}}},cr={namespaced:!0,state:Object(We.a)({refresh_waterfall:-1,pause_waterfall:-1,start_waterfall:-1},"start_waterfall",-1),mutations:{trigger_refresh_waterfall:function(t){t.refresh_waterfall*=-1},trigger_pause_waterfall:function(t){t.pause_waterfall*=-1},trigger_start_waterfall:function(t){t.start_waterfall*=-1}},getters:{}},ur={namespaced:!0,state:{},mutations:{save_slide_info:function(t,e){var r=e.uid,n=e.info;t[r]=n}},getters:{}},lr=function(t,e,r){return{modules:{layout:Ue,category:$e(t),tag:Ze(e,t),search:ir(e,r,t),disqus:or,firebase:sr,waterfall:cr,slide:ur}}};r(259);n.default.component("ColorTable",function(){return Promise.all([r.e(0),r.e(6),r.e(113),r.e(121)]).then(r.bind(null,1201))}),n.default.component("Fragment",function(){return r.e(129).then(r.bind(null,1202))}),n.default.component("Slide",function(){return Promise.all([r.e(0),r.e(4),r.e(125),r.e(112)]).then(r.bind(null,1190))}),n.default.component("SWUpdateBotton",function(){return Promise.all([r.e(0),r.e(119)]).then(r.bind(null,1203))});var hr=function(){return Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))};function pr(t,e){void 0===e&&(e={});var r=e.registrationOptions;void 0===r&&(r={}),delete e.registrationOptions;var n=function(t){for(var r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];e&&e[t]&&e[t].apply(e,r)};"serviceWorker"in navigator&&window.addEventListener("load",function(){hr()?(!function(t,e,r){fetch(t).then(function(n){404===n.status?(e("error",new Error("Service worker not found at "+t)),fr()):-1===n.headers.get("content-type").indexOf("javascript")?(e("error",new Error("Expected "+t+" to have javascript content-type, but received "+n.headers.get("content-type"))),fr()):dr(t,e,r)}).catch(function(t){navigator.onLine?e("error",t):e("offline")})}(t,n,r),navigator.serviceWorker.ready.then(function(t){n("ready",t)})):dr(t,n,r)})}function dr(t,e,r){navigator.serviceWorker.register(t,r).then(function(t){e("registered",t),t.waiting?e("updated",t):t.onupdatefound=function(){e("updatefound",t);var r=t.installing;r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?e("updated",t):e("cached",t))}}}).catch(function(t){e("error",t)})}function fr(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}class gr{constructor(t){Object.defineProperty(this,"registration",{value:t,configurable:!0,writable:!0})}update(){return this.registration.update()}skipWaiting(){const t=this.registration.waiting;return t?(console.log("[vuepress:sw] Doing worker.skipWaiting()."),new Promise((e,r)=>{const n=new MessageChannel;n.port1.onmessage=t=>{console.log("[vuepress:sw] Done worker.skipWaiting()."),t.data.error?r(t.data.error):e(t.data)},t.postMessage({type:"skip-waiting"},[n.port2])})):Promise.resolve()}}var mr=r(41);n.default.component("SWUpdatePopup",()=>Promise.all([r.e(0),r.e(124)]).then(r.bind(null,641)));var yr=r(74),vr=r.n(yr);var wr=r(151),br=r.n(wr);function _r(t,e){return function(t){if(vr()(t))return t}(t)||function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=br()(t);!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}r(115);var Er=Object(zt.a)({},function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticStyle:{"enable-background":"new 0 0 50 50"},attrs:{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 30 30"}},[e("rect",{attrs:{x:"0",y:"13",width:"4",height:"5"}},[e("animate",{attrs:{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0s",dur:"0.6s",repeatCount:"indefinite"}}),this._v(" "),e("animate",{attrs:{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0s",dur:"0.6s",repeatCount:"indefinite"}})]),this._v(" "),e("rect",{attrs:{x:"10",y:"13",width:"4",height:"5"}},[e("animate",{attrs:{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"}}),this._v(" "),e("animate",{attrs:{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"}})]),this._v(" "),e("rect",{attrs:{x:"20",y:"13",width:"4",height:"5"}},[e("animate",{attrs:{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"}}),this._v(" "),e("animate",{attrs:{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"}})])])},[],!1,null,null,null).exports,Cr={x:0,y:0,"line-width":2,"line-length":50,"text-margin":10,"font-size":14,"font-color":"#8DA1AC","line-color":"#8DA1AC","element-color":"black",fill:"white","yes-text":"yes","no-text":"no","arrow-end":"block",scale:1},kr={ant:Object.assign({},Cr,{symbols:{start:{class:"start-element","font-color":"white",fill:"#595959","line-width":"0px"},end:{class:"end-element","font-color":"white",fill:"#595959","line-width":"0px"},operation:{class:"operation-element","font-color":"white",fill:"#1890ff","line-width":"0px"},inputoutput:{class:"inputoutput-element","font-color":"white",fill:"#1890ff","line-width":"0px"},subroutine:{class:"subroutine-element","font-color":"white",fill:"#FF485E","element-color":"#fff","line-color":"red"},condition:{class:"condition-element","font-color":"white",fill:"#FF485E","line-width":"0px"},parallel:{class:"parallel-element","font-color":"white",fill:"#1890ff","line-width":"0px"}}}),vue:Object.assign({},Cr,{symbols:{start:{class:"start-element","font-color":"white",fill:"#2F495F","line-width":"0px"},end:{class:"end-element","font-color":"white",fill:"#2F495F","line-width":"0px"},operation:{class:"operation-element","font-color":"white",fill:"#00BC7D","line-width":"0px"},inputoutput:{class:"inputoutput-element","font-color":"white",fill:"#EB4D5D","line-width":"0px"},subroutine:{class:"subroutine-element","font-color":"white",fill:"#937AC4","element-color":"#fff","line-color":"red"},condition:{class:"condition-element","font-color":"white",fill:"#FFB500","line-width":"0px"},parallel:{class:"parallel-element","font-color":"white",fill:"#2F495F","line-width":"0px"}}})},xr={name:"flowchart",components:{Loading:Er},props:{id:{type:String,required:!0},code:{type:String,required:!0},preset:{type:String,default:"vue"}},data:function(){return{loading:!0}},mounted:function(){var t=this,e=kr[this.preset];if(e){var n=this.code;this.$el.setAttribute("id",this.id);Promise.all([r.e(109).then(r.t.bind(null,1183,7)),new Promise(function(t){return setTimeout(t,500)})]).then(function(r){(0,_r(r,1)[0].default.parse)(n).drawSVG(t.id,e),t.loading=!1})}else console.warn("[vuepress-plugin-flowchart] Unknown preset: ".concat(this.preset))}},Tr=(r(262),Object(zt.a)(xr,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vuepress-flowchart",class:{loading:this.loading}},[this.loading?e("Loading",{staticClass:"vuepress-flowchart-loading-icon"}):this._e()],1)},[],!1,null,null,null).exports),Sr=[function(t){var e=t.Vue,r=(t.options,t.router,t.siteData);!function(t,e,r){t.config.ignoredElements=["src","svg-icon","mermaid"],t.use($t.a),t.use(Yt.a),t.use(te),t.directive("scroller",Oe),t.directive("lazy_load",Be),function(t){var e=[];t.pages.forEach(function(t,r){t.frontmatter.is_tmp&&e.push(r)}),(e=e.reverse()).forEach(function(e){t.pages.splice(e,1)})}(e),t.prototype.$article_category_tree={Home:Object(Ne.h)()},t.prototype.$articles=[],e.pages.forEach(function(e){r.includes(e.path)||t.prototype.$articles.push(e)}),t.prototype.$articles_hash={},t.prototype.$articles.forEach(function(e){t.prototype.$articles_hash[e.key]=e})}(e,r,Ne.e);var n=e.prototype.$article_category_tree,i=e.prototype.$articles_hash,o=e.prototype.$articles;!function(t,e){t.pages.forEach(function(t){if(t.id=t.key,t.title||(t.title=Me.a.default_title),e.includes(t.path))switch(t.path){case"/":t.title="Index";break;case"/category/":t.title="Category";break;case"/tag/":t.title="Tag";break;case"/archive/":t.title="Archive";break;case"/search/":t.title="Search"}})}(r,Ne.e),o.forEach(function(t){!function(t){Object.keys(t.frontmatter).forEach(function(e){return t.frontmatter[e.toLowerCase()]=t.frontmatter[e]});var e=decodeURI(t.path).split("/");e=e.slice(0,e.length-1).filter(Fe);var r=(t.frontmatter.category||[]).filter(Fe);t.category=r.length>0?r:e,t.frontmatter.category=t.category,t.tag=t.frontmatter.tag||[],t.frontmatter.tag=t.tag;var n=-1,i=-1;t.git&&t.git.commits.forEach(function(e,r){n=n<0?r:t.git.commits[n].commitTime>e.commitTime?r:n,i=i<0?r:t.git.commits[n].commitTime<e.commitTime?r:i}),n=-1==n?"":1e3*t.git.commits[n].commitTime,i=-1==i?"":1e3*t.git.commits[i].commitTime,t.datetime_dt=Le(t.frontmatter.datetime,n),t.update_datetime_dt=Le(t.frontmatter.update_datetime,i),t.word_token&&(t.content=t.word_token.join(" "))}(t),function(t,e){var r=t.prototype.$article_category_tree.Home;e.category.forEach(function(t){r.children[t]||(r.children[t]=Object(Ne.h)()),r=r.children[t]}),r.id.push(e.id),e.tag.forEach(function(t){r.tag[t]||(r.tag[t]=0),r.tag[t]++})}(e,t)}),function t(e,r){var n=[];for(var i in e.id.forEach(function(t){return n.push(r[t])}),n=n.sort(qe.a.datetime_asc))i=parseInt(i),n[i].previous_id=i-1>=0?n[i-1].id:null,n[i].next_id=i+1<n.length?n[i+1].id:null;for(var o in e.children)t(e.children[o],r)}(e.prototype.$article_category_tree.Home,i),function(t,e,r,n){t.use(Ve.a);var i=new Ve.a.Store(lr(e,r,n));t.mixin({store:i})}(e,n,o,i)},{},function(t){t.Vue.mixin({computed:{$dataBlock:function(){return this.$options.__data__block__}}})},{},({router:t})=>{"undefined"!=typeof window&&(!function(t,e,r,n,i,o,a){t.GoogleAnalyticsObject=i,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,o=e.createElement(r),a=e.getElementsByTagName(r)[0],o.async=1,o.src="https://www.google-analytics.com/analytics.js",a.parentNode.insertBefore(o,a)}(window,document,"script",0,"ga"),ga("create","UA-138418210-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),t.afterEach(function(t){ga("set","page",t.fullPath),ga("send","pageview")}))},({router:t,isServer:e})=>{t.onReady(()=>{e||pr("/service-worker.js",{registrationOptions:{},ready(){console.log("[vuepress:sw] Service worker is active."),mr.a.$emit("sw-ready")},cached(t){console.log("[vuepress:sw] Content has been cached for offline use."),mr.a.$emit("sw-cached",new gr(t))},updated(t){console.log("[vuepress:sw] Content updated."),mr.a.$emit("sw-updated",new gr(t))},offline(){console.log("[vuepress:sw] No internet connection found. App is running in offline mode."),mr.a.$emit("sw-offline")},error(t){console.error("[vuepress:sw] Error during service worker registration:",t),mr.a.$emit("sw-error",t),ga("send","exception",{exDescription:t.message,exFatal:!1})}})})},function(t){t.Vue.component("Disqus",function(){return r.e(130).then(r.bind(null,1204))})},function(t){const{Vue:e}=t;e.component("FlowChart",Tr)}],Ar=["SWUpdatePopup"];class Ir{constructor(){this.store=new n.default({data:{state:{}}})}$get(t){return this.store.state[t]}$set(t,e){n.default.set(this.store.state,t,e)}$emit(...t){this.store.$emit(...t)}$on(...t){this.store.$on(...t)}}class Nr extends Ir{}Object.assign(Nr.prototype,{getPageAsyncComponent:qt.d,getLayoutAsyncComponent:qt.c,getAsyncComponent:qt.b,getVueComponent:qt.e});var Pr={install(t){const e=new Nr;t.$vuepress=e,t.prototype.$vuepress=e}};function Dr(t,e){return t.options.routes.filter(t=>t.path.toLowerCase()===e.toLowerCase()).length>0}var Or={props:{pageKey:String,slotKey:{type:String,default:"default"}},render(t){const e=this.pageKey||this.$parent.$page.key;return Object(qt.h)("pageKey",e),n.default.component(e)||n.default.component(e,Object(qt.d)(e)),n.default.component(e)?t(e):t("")}},Rr={functional:!0,props:{slotKey:String,required:!0},render:(t,{props:e,slots:r})=>t("div",{class:[`content__${e.slotKey}`]},r()[e.slotKey])},jr=(r(263),Object(zt.a)({},function(t,e){var r=e._c;return r("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[r("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),e._v(" "),r("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})])},[],!0,null,null,null).exports),Br={functional:!0,render(t,{parent:e,children:r}){if(e._isMounted)return r;e.$once("hook:mounted",()=>{e.$forceUpdate()})}};n.default.config.productionTip=!1,n.default.use(Lt),n.default.use(Pr),n.default.mixin(function(t,e,r=n.default){!function(t){t.locales&&Object.keys(t.locales).forEach(e=>{t.locales[e].path=e});Object.freeze(t)}(e),r.$vuepress.$set("siteData",e);const i=new(t(r.$vuepress.$get("siteData"))),o=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(i)),a={};return Object.keys(o).reduce((t,e)=>(e.startsWith("$")&&(t[e]=o[e].get),t),a),{computed:a}}(function(t){return function(){function e(){Object(re.a)(this,e)}return Object(ne.a)(e,[{key:"setPage",value:function(t){this.__page=t}},{key:"$site",get:function(){return t}},{key:"$themeConfig",get:function(){return this.$site.themeConfig}},{key:"$frontmatter",get:function(){return this.$page.frontmatter}},{key:"$localeConfig",get:function(){var t,e,r=this.$site.locales,n=void 0===r?{}:r;for(var i in n)"/"===i?e=n[i]:0===this.$page.path.indexOf(i)&&(t=n[i]);return t||e||{}}},{key:"$siteTitle",get:function(){return this.$localeConfig.title||this.$site.title||""}},{key:"$title",get:function(){var t=this.$page,e=this.$page.frontmatter.metaTitle;if("string"==typeof e)return e;var r=this.$siteTitle,n=t.frontmatter.home?null:t.frontmatter.title||t.title;return r?n?n+" | "+r:r:n||"VuePress"}},{key:"$description",get:function(){var t=function(t){if(t){var e=t.filter(function(t){return"description"===t.name})[0];if(e)return e.content}}(this.$page.frontmatter.meta);return t||(this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||"")}},{key:"$lang",get:function(){return this.$page.frontmatter.lang||this.$localeConfig.lang||"en-US"}},{key:"$localePath",get:function(){return this.$localeConfig.path||"/"}},{key:"$themeLocaleConfig",get:function(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}},{key:"$page",get:function(){return this.__page?this.__page:function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(n.path.toLowerCase()===e.toLowerCase())return n}return{path:"",frontmatter:{}}}(this.$site.pages,this.$route.path)}}]),e}()},Gt)),n.default.component("Content",Or),n.default.component("ContentSlotsDistributor",Rr),n.default.component("OutboundLink",jr),n.default.component("ClientOnly",Br),n.default.component("Layout",Object(qt.c)("Layout")),n.default.component("NotFound",Object(qt.c)("NotFound")),n.default.prototype.$withBase=function(t){const e=this.$site.base;return"/"===t.charAt(0)?e+t.slice(1):t};const{app:Mr,router:Fr}=function(t){const e="undefined"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:Gt.routerBase||Gt.base,r=new Lt({base:e,mode:"history",fallback:!1,routes:Jt,scrollBehavior:(t,e,r)=>r||(t.hash?!n.default.$vuepress.$get("disableScrollBehavior")&&{selector:t.hash}:{x:0,y:0})});!function(t){t.beforeEach((e,r,n)=>{if(Dr(t,e.path))n();else if(/(\/|\.html)$/.test(e.path))if(/\/$/.test(e.path)){const r=e.path.replace(/\/$/,"")+".html";Dr(t,r)?n(r):n()}else n();else{const r=e.path+"/",i=e.path+".html";Dr(t,i)?n(i):Dr(t,r)?n(r):n()}})}(r);const i={};try{Sr.forEach(e=>{"function"==typeof e&&e({Vue:n.default,options:i,router:r,siteData:Gt,isServer:t})})}catch(t){console.error(t)}return{app:new n.default(Object.assign(i,{router:r,render:t=>t("div",{attrs:{id:"app"}},[t("router-view",{ref:"layout"}),t("div",{class:"global-ui"},Ar.map(e=>t(e)))])})),router:r}}(!1);window.__VUEPRESS__={version:"1.0.3",hash:"119d25d"},Fr.onReady(()=>{Mr.$mount("#app")})},function(t,e,r){"use strict";r.r(e);var n={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(n.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(t){return t&&i.indexOf(Object.prototype.toString.call(t))>-1};function a(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function s(t){return"string"!=typeof t&&(t=String(t)),t}function c(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n.iterable&&(e[Symbol.iterator]=function(){return e}),e}function u(t){this.map={},t instanceof u?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function l(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function h(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function p(t){var e=new FileReader,r=h(e);return e.readAsArrayBuffer(t),r}function d(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:n.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:n.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():n.arrayBuffer&&n.blob&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=d(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||o(t))?this._bodyArrayBuffer=d(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var t,e,r,n=l(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=h(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(t,e){t=a(t),e=s(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},u.prototype.delete=function(t){delete this.map[a(t)]},u.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},u.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},u.prototype.set=function(t,e){this.map[a(t)]=s(e)},u.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},u.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),c(t)},u.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),c(t)},u.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),c(t)},n.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(t,e){var r,n,i=(e=e||{}).body;if(t instanceof m){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new u(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new u(e.headers)),this.method=(r=e.method||this.method||"GET",n=r.toUpperCase(),g.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function y(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}}),e}function v(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new u(e.headers),this.url=e.url||"",this._initBody(t)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},f.call(m.prototype),f.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var w=[301,302,303,307,308];v.redirect=function(t,e){if(-1===w.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})};var b=self.DOMException;try{new b}catch(t){(b=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack}).prototype=Object.create(Error.prototype),b.prototype.constructor=b}function _(t,e){return new Promise(function(r,i){var o=new m(t,e);if(o.signal&&o.signal.aborted)return i(new b("Aborted","AbortError"));var a=new XMLHttpRequest;function s(){a.abort()}a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new u,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}}),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new v(i,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new b("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&n.blob&&(a.responseType="blob"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),o.signal&&(o.signal.addEventListener("abort",s),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",s)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})}_.polyfill=!0,self.fetch||(self.fetch=_,self.Headers=u,self.Request=m,self.Response=v);r(240),r(241),r(242),r(168),r(245),r(246),r(249),r(251)}]);