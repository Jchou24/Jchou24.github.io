(function(e){function t(t){for(var i,a,o=t[0],s=t[1],u=t[2],d=0,f=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(l,a)&&l[a]&&f.push(l[a][0]),l[a]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);c&&c(t);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,o=1;o<n.length;o++){var s=n[o];0!==l[s]&&(i=!1)}i&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},l={app:0},r=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="https://jchou24.github.io/Demos/TableForm/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0701":function(e,t,n){},"09ca":function(e,t,n){"use strict";var i=n("e736"),l=n.n(i);l.a},"10b1":function(e,t,n){"use strict";var i=n("ec3f"),l=n.n(i);l.a},"11c3":function(e,t,n){"use strict";var i=n("c402"),l=n.n(i);l.a},"148d":function(e,t,n){"use strict";var i=n("b759"),l=n.n(i);l.a},"16d7":function(e,t,n){},"28bc":function(e,t,n){},"30eb":function(e,t,n){},4066:function(e,t,n){},"422a":function(e,t,n){},"53a3":function(e,t,n){"use strict";var i=n("6ab0"),l=n.n(i);l.a},"540b":function(e,t,n){},5675:function(e,t,n){"use strict";var i=n("422a"),l=n.n(i);l.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"Demo",on:{keyup:[function(t){return(t.type.indexOf("key")||67===t.keyCode)&&t.ctrlKey?t.shiftKey||t.altKey||t.metaKey?null:e.keyboardNotification("ctrl + c"):null},function(t){return(t.type.indexOf("key")||86===t.keyCode)&&t.ctrlKey?t.shiftKey||t.altKey||t.metaKey?null:e.keyboardNotification("ctrl + v"):null},function(t){return t.type.indexOf("key")||46===t.keyCode?t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.keyboardNotification("delete"):null},function(t){return(t.type.indexOf("key")||46===t.keyCode)&&t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:e.keyboardNotification("shift + delete"):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.keyboardNotification("enter")},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:e.keyboardNotification("shift + enter"):null}]}},[n("section",[n("div",[n("h1",[e._v("TODO")]),n("TableForm",{staticClass:"t1",attrs:{options:e.options,showSelection:""},on:{addRows:function(t){return e.RowsNotification("Todo: Add Row",t)},removeRows:function(t){return e.RowsNotification("Todo: Remove Row",t)},moveRows:function(t){return e.RowsNotification("Todo: Move Row",t)},emptyCells:function(t){return e.RowsNotification("Todo: Empty Cell",t)},modifyCells:function(t){return e.RowsNotification("Todo: Modify Cell",t)}},model:{value:e.todo,callback:function(t){e.todo=t},expression:"todo"}})],1),n("VueJsonPretty",{attrs:{data:e.todo}})],1),n("hr"),n("section",[n("div",[n("h1",[e._v("Done")]),n("TableForm",{staticClass:"t2",attrs:{options:e.options,isReadonly:!1},on:{addRows:function(t){return e.RowsNotification("Done: Add Row",t)},removeRows:function(t){return e.RowsNotification("Done: Remove Row",t)},moveRows:function(t){return e.RowsNotification("Done: Move Row",t)},emptyCells:function(t){return e.RowsNotification("Done: Empty Cell",t)},modifyCells:function(t){return e.RowsNotification("Done: Modify Cell",t)}},model:{value:e.done,callback:function(t){e.done=t},expression:"done"}})],1),n("VueJsonPretty",{attrs:{data:e.done}})],1),n("hr"),e._m(0),n("notifications",{attrs:{group:"note"}}),n("GitHubCorner",{attrs:{repo:"https://github.com/Jchou24/table-form",position:"left"}})],1)])},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",[n("textarea")])])}],a=n("ee98"),o=n.n(a),s=n("d538"),u=n.n(s),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"GitHubCorner",class:{left:"right"!==e.position}},["right"===e.position?n("a",{staticClass:"github-corner",attrs:{href:e.repo,"aria-label":"View source on GitHub",target:"_blank",rel:"noopener noreferrer"}},[n("svg",{staticStyle:{fill:"#151513",color:"#fff",position:"absolute",top:"0",border:"0",right:"0"},attrs:{width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"}},[n("path",{attrs:{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}}),n("path",{staticClass:"octo-arm",staticStyle:{"transform-origin":"130px 106px"},attrs:{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor"}}),n("path",{staticClass:"octo-body",attrs:{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"}})])]):n("a",{staticClass:"github-corner",attrs:{href:e.repo,"aria-label":"View source on GitHub",target:"_blank",rel:"noopener noreferrer"}},[n("svg",{staticStyle:{fill:"#151513",color:"#fff",position:"absolute",top:"0",border:"0",left:"0",transform:"scale(-1, 1)"},attrs:{width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"}},[n("path",{attrs:{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}}),n("path",{staticClass:"octo-arm",staticStyle:{"transform-origin":"130px 106px"},attrs:{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor"}}),n("path",{staticClass:"octo-body",attrs:{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"}})])])])},d=[],f={name:"GitHubCorner",props:{repo:{type:String,default:""},position:{type:String,default:"right"}}},h=f,p=(n("e458"),n("2877")),m=Object(p["a"])(h,c,d,!1,null,"f0ecdc4c",null),y=m.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"TableForm"},[n("table",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:e.HandleTableClickAway,expression:"HandleTableClickAway"}],ref:"table",staticClass:"form-table",class:e.tableClass,attrs:{tabindex:"-1"},on:{focus:e.HandleTableFocus,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:t.target!==t.currentTarget?null:(t.preventDefault(),e.HandleKeyboardArrow("up"))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:t.target!==t.currentTarget?null:(t.preventDefault(),e.HandleKeyboardArrow("down"))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?null:"button"in t&&0!==t.button?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:t.target!==t.currentTarget?null:(t.preventDefault(),e.HandleKeyboardArrow("left"))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])?null:"button"in t&&2!==t.button?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:t.target!==t.currentTarget?null:(t.preventDefault(),e.HandleKeyboardArrow("right"))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:t.target!==t.currentTarget?null:(t.preventDefault(),e.HandleKeyboardShiftArrow("up")):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:t.target!==t.currentTarget?null:(t.preventDefault(),e.HandleKeyboardShiftArrow("down")):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?null:t.shiftKey?"button"in t&&0!==t.button?null:t.ctrlKey||t.altKey||t.metaKey?null:t.target!==t.currentTarget?null:(t.preventDefault(),e.HandleKeyboardShiftArrow("left")):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])?null:t.shiftKey?"button"in t&&2!==t.button?null:t.ctrlKey||t.altKey||t.metaKey?null:t.target!==t.currentTarget?null:(t.preventDefault(),e.HandleKeyboardShiftArrow("right")):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.HandleKeyboardEnter(t)}],keyup:[function(t){return(t.type.indexOf("key")||67===t.keyCode)&&t.ctrlKey?t.shiftKey||t.altKey||t.metaKey?null:e.HandleCopy(t):null},function(t){return(t.type.indexOf("key")||86===t.keyCode)&&t.ctrlKey?t.shiftKey||t.altKey||t.metaKey?null:e.HandlePaste(t):null},function(t){return t.type.indexOf("key")||46===t.keyCode?t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.HandleSetCellDefault(t):null},function(t){return(t.type.indexOf("key")||46===t.keyCode)&&t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:e.HandleDeleteSelectedRow(t):null}],mouseleave:function(t){return e.HandleCellMouseLeave()},contextmenu:function(t){return t.preventDefault(),e.HandleContextMenu(t)}}},[n("ResizeCellWrapper",{scopedSlots:e._u([{key:"default",fn:function(t){return[n("thead",[n("tr",[n("ResizeableTH",{style:e.defaultCountStyle,attrs:{"resize-direction":"col"},on:{startResizeCol:t.HandleStartResizeCol},nativeOn:{mouseup:function(t){return e.StopMouseSelecting(t)}}},[e._v("編號")]),e._l(e.options.head,(function(i,l){return n("ResizeableTH",{key:l,style:e.GetColStyle(i.style),attrs:{index:l,options:i.option,"resize-direction":"col"},on:{startResizeCol:t.HandleStartResizeCol},nativeOn:{mouseup:function(t){return e.StopMouseSelecting(t)}}},[e._v(e._s(i.title))])}))],2)]),n("tbody",[e.data.length>0?n("DragWrapper",{attrs:{isShowTmpTR:e.isShowTmpTR,isReadonly:e.isReadonly},on:{input:function(t){return e.$emit("input",e.data)},addRows:function(t){return e.EmitEvent("addRowEmitName",t)},removeRows:function(t){return e.EmitEvent("removeRowsEmitName",t)},moveRows:function(t){return e.EmitEvent("moveRowEmitName",t)}},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}},e._l(e.data,(function(i,l){return n("tr",{key:l,staticClass:"list-group-item",class:{"drag-disabled":e.isReadonly},attrs:{index:l}},[n("ResizeableTH",{staticClass:"draggable-th",style:e.GetRowStyle({}),attrs:{"resize-direction":"row",rowIndex:l},on:{startResizeRow:t.HandleStartResizeRow,click:function(t){return e.HandleSelectRow(l)}},nativeOn:{mouseup:function(t){return e.StopMouseSelecting(t)}}},[e._v(e._s(l+1))]),e._l(e.options.head,(function(t,i){return n("Cell",{key:i,ref:e.GetCellRefName(l,i),refInFor:!0,class:e.GetCellClass(l,i),attrs:{index:i,headSettings:e.options.head[i],isReadonly:e.isReadonly,cellType:e.options.head[i].cellType,rowIndex:l,formData:e.data},on:{input:function(t){return e.$emit("input",e.data)},modifyCells:function(t){return e.EmitEvent("cellModifiedEmitName",t)},checkCellEditing:e.HandleCheckCellEditing},nativeOn:{mousedown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?null:"button"in t&&0!==t.button?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.HandleCellMouseDown(l,i)},mouseup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?null:"button"in t&&0!==t.button?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.HandleCellMouseUp(l,i)},mousemove:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?null:"button"in t&&0!==t.button?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.HandleCellMouseMove(l,i)},click:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?null:t.shiftKey?"button"in t&&0!==t.button?null:t.ctrlKey||t.altKey||t.metaKey?null:e.HandleSelectRangedCell(l,i):null}},model:{value:e.data[l][t.relatedKey],callback:function(n){e.$set(e.data[l],t.relatedKey,n)},expression:"data[rowIndex][headOptions.relatedKey]"}})}))],2)})),0):n("tr",[n("ResizeableTH",{staticClass:"draggable-th",style:e.GetRowStyle({}),attrs:{"resize-direction":"row",rowIndex:0},on:{startResizeRow:t.HandleStartResizeRow,click:function(t){return e.HandleSelectRow(0)}},nativeOn:{mouseup:function(t){return e.StopMouseSelecting(t)}}},[e._v("1")]),e._l(e.options.head,(function(t,i){return n("td",{key:i,staticClass:"default-row-td",on:{click:e.HandleDefaultRowTdClick}})}))],2)],1),n("transition",{attrs:{"enter-active-class":"animated fadeInDown faster","leave-active-class":"animated fadeOutUp faster"}},[e.isTableFocus&&!e.isReadonly?n("FormVirtualRow",{attrs:{options:e.options},on:{addRows:function(t){return e.EmitEvent("addRowEmitName",t)}},nativeOn:{mouseup:function(t){return e.StopMouseSelecting(t)},dragenter:function(t){e.isShowTmpTR=!0},dragleave:function(t){e.isShowTmpTR=!1}},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}}):e._e()],1)]}}])})],1),n("ContextMenu",{ref:"menu",attrs:{isReadonly:e.isReadonly},on:{copySelectedCells:e.HandleCopy,removeRows:e.HandleDeleteSelectedRow}})],1)},g=[],w=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),b=n("c7db"),v=(n("4b3c"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("vue-context",{ref:"menu",staticClass:"ContextMenu"},[n("li",[n("a",{on:{click:e.copySelectedCells}},[e._v("\n        Copy\n        ")])]),e.isReadonly?e._e():n("li",[n("a",{on:{click:e.removeRow}},[e._v("\n        Remove row\n        ")])])])}),S=[],R=n("899b"),k=(n("6c7b"),n("c5f6"),{singleSelect:"singleSelect",number:"number",textarea:"textarea"}),x={singleSelect:function(){return 0},number:function(){return 0},textarea:function(){return""}},O={singleSelect:Number,number:Number,textarea:String};function E(e){var t=e.head.length,n=Array(t).fill(void 0);for(var i in e.head){var l=e.head[i].cellType;n[i]=x[l]()}var r={};return n.forEach((function(t,n){var i=e.head[n].relatedKey;r[i]=t})),r}function H(e,t){return"".concat(e,"_").concat(t)}var T={resizeTriggerBlockRowClass:"resize-trigger-block-row",resizeTriggerBlockColClass:"resize-trigger-block-col",startResizeRowEmitName:"startResizeRow",startResizeColEmitName:"startResizeCol",resizedRowEmitName:"resizedRow",resizedColEmitName:"resizedCol",addRowEmitName:"addRows",removeRowsEmitName:"removeRows",moveRowEmitName:"moveRows",cellModifiedEmitName:"modifyCells",emptyCellEmitName:"emptyCells",cellTypes:k,valueTypes:O,defaultValue:x,GetDefaultRow:E,GetCellRefName:H},D={name:"ContextMenu",components:{VueContext:R["a"]},props:{isReadonly:{required:!1,type:Boolean,default:function(){return!1}}},methods:{open:function(e){this.$refs.menu.open(e)},copySelectedCells:function(e){this.$emit("copySelectedCells",e)},removeRow:function(e){this.$emit(T.removeRowsEmitName,e)}}},K=D,$=(n("9789"),n("a11d"),Object(p["a"])(K,v,S,!1,null,"e75cb0a6",null)),z=$.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"FormVirtualRow",on:{input:function(t){return e.$emit("input",e.data)},click:e.HandleClick}},[n("i",{staticClass:"material-icons"},[e._v("add")])])},_=[],N={name:"FormVirtualRow",props:{value:{required:!0,type:Array},options:{required:!0,type:Object}},data:function(){return{data:this.value}},watch:{value:function(e){this.data=e}},methods:{HandleClick:function(){var e=T.GetDefaultRow(this.options);this.data.push(e),this.$emit("input",this.data),this.$emit(T.addRowEmitName,[{newIndex:this.data.length-1}])}}},L=N,j=(n("11c3"),Object(p["a"])(L,M,_,!1,null,"8e476e42",null)),I=j.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("th",{staticClass:"ResizeableTH",on:{click:e.HandleClick}},[n("div",{staticClass:"th-content"},[e._t("default")],2),n("div",{staticClass:"resize-trigger-block",class:e.ResizeTriggerBlockClass,on:{mousedown:e.HandleMouseDown}})])},G=[];function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){Object(w["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F={props:{ResizeDirection:{type:String,default:function(){return null},validator:function(e){return-1!==["row","col",null,""].indexOf(e)}}},data:function(){return V({},T)}},q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("textarea",{attrs:{readonly:""}},[e._v(e._s(e.text))])},B=[],J={name:"CellDisplay",props:{text:{required:!0}}},W=J,U=(n("9ceb"),Object(p["a"])(W,q,B,!1,null,"3c3d0dca",null)),Z=U.exports,X={name:"ResizeableTH",components:{CellDisplay:Z},mixins:[F],props:{rowIndex:{type:Number}},computed:{ResizeTriggerBlockClass:{get:function(){switch(this.ResizeDirection){case"row":return this.resizeTriggerBlockRowClass;case"col":return this.resizeTriggerBlockColClass;default:return""}}}},methods:{HandleMouseDown:function(){switch(this.ResizeDirection){case"row":this.$emit(this.startResizeRowEmitName,this.$el);case"col":this.$emit(this.startResizeColEmitName,this.$el);default:return""}},HandleClick:function(){this.$emit("click",this.rowIndex)}}},Y=X,Q=(n("53a3"),Object(p["a"])(Y,A,G,!1,null,"2ebb1df5",null)),ee=Q.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"cursor-col-resize":e.isShowResizeLineCol},on:{mousemove:e.HandleMouseMove,mouseup:e.HandleMouseUp,mouseleave:e.HandleMouseLeave}},[e._t("default",null,{HandleStartResizeCol:e.HandleStartResizeCol,HandleResizeColMove:e.HandleResizeColMove,HandleStartResizeRow:e.HandleStartResizeRow,HandleResizeRowMove:e.HandleResizeRowMove}),e.isShowResizeLineCol||e.isShowResizeLineRow?n("FormLighter"):e._e(),n("ResizeLine",{directives:[{name:"show",rawName:"v-show",value:e.isShowResizeLineCol,expression:"isShowResizeLineCol"}],ref:"ResizeLineCol",attrs:{ResizeDirection:"col"}}),n("ResizeLine",{directives:[{name:"show",rawName:"v-show",value:e.isShowResizeLineRow,expression:"isShowResizeLineRow"}],ref:"ResizeLineRow",attrs:{ResizeDirection:"row"}})],2)},ne=[],ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ResizeLine",class:e.resizeClass})},le=[],re={name:"ResizeLine",mixins:[F],props:{},computed:{resizeClass:{get:function(){switch(this.ResizeDirection){case"row":return"ResizeLineRow";case"col":return"ResizeLineCol";default:break}}}}},ae=re,oe=(n("09ca"),Object(p["a"])(ae,ie,le,!1,null,"10b5ce0e",null)),se=oe.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"FormLighter"})},ce=[],de={name:"FormLighter"},fe=de,he=(n("a6f1"),Object(p["a"])(fe,ue,ce,!1,null,"3d0b6029",null)),pe=he.exports;function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){Object(w["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ce={name:"ResizeCellWrapper",components:{ResizeLine:se,FormLighter:pe},data:function(){return ye({},T,{isShowResizeLineCol:!1,isShowResizeLineRow:!1,currentResizeElement:null})},methods:{HandleStartResizeCol:function(e){this.currentResizeElement=e,this.isShowResizeLineCol=!0},HandleResizeColMove:function(e){this.$refs.ResizeLineCol&&this.$refs.ResizeLineCol.$el&&this.$el&&(this.$refs.ResizeLineCol.$el.style.left="".concat(e.clientX-this.$el.getBoundingClientRect().left,"px"))},HandleStartResizeRow:function(e){this.currentResizeElement=e,this.isShowResizeLineRow=!0},HandleResizeRowMove:function(e){this.$refs.ResizeLineRow&&this.$refs.ResizeLineRow.$el&&this.$el&&(this.$refs.ResizeLineRow.$el.style.top="".concat(e.clientY-this.$el.getBoundingClientRect().top,"px"))},HandleMouseUp:function(e){if(this.isShowResizeLineCol){var t=this.currentResizeElement.getBoundingClientRect().right,n=e.clientX,i=n-t,l=this.currentResizeElement.getBoundingClientRect().width+i;this.currentResizeElement.style.width="".concat(l,"px"),this.currentResizeElement.style.minWidth="".concat(l,"px")}if(this.isShowResizeLineRow){var r=this.currentResizeElement.getBoundingClientRect().bottom,a=e.clientY,o=a-r,s=this.currentResizeElement.getBoundingClientRect().height+o;this.currentResizeElement.style.height="".concat(s,"px")}this.isShowResizeLineCol=!1,this.isShowResizeLineRow=!1,this.currentResizeElement=null},HandleMouseMove:function(e){this.HandleResizeColMove(e),this.HandleResizeRowMove(e)},HandleMouseLeave:function(e){this.HandleMouseUp(e)}}},ge=Ce,we=(n("99a0"),Object(p["a"])(ge,te,ne,!1,null,"28378242",null)),be=we.exports,ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("draggable",e._b({staticClass:"draggable list-group",attrs:{handle:".draggable-th",disabled:e.isReadonly},on:{start:e.dragStart,end:e.dragEnd,add:e.addRow,remove:e.removeRow,update:function(t){return e.$emit("input",e.data)},unchoose:function(t){return e.$emit("input",e.data)}},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}},"draggable",e.dragOptions,!1),[n("transition-group",{staticClass:"draggable",attrs:{type:"transition",name:e.drag?null:"flip-list"}},[e._t("default"),0==e.data.length&&e.isShowTmpTR?n("tr",{key:"tmp-tr",staticClass:"list-group-item tmp-tr"}):e._e()],2)],1)},Se=[],Re=n("310e"),ke=n.n(Re),xe={name:"DragWrapper",components:{draggable:ke.a},props:{value:{required:!0,type:Array},isShowTmpTR:{type:Boolean,default:function(){return!1}},isReadonly:{required:!1,type:Boolean,default:function(){return!1}}},data:function(){return{data:this.value,drag:!1}},watch:{value:function(e){this.data=e},data:function(){this.$emit("input",this.data)}},computed:{dragOptions:function(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}},methods:{dragStart:function(){this.drag=!0},dragEnd:function(e){var t=e.oldIndex,n=e.newIndex,i=e.from,l=e.to;this.drag=!1;var r=i.firstChild==l.firstChild;if(!r||t!=n){if(r){var a=[{oldIndex:t,newIndex:n}];if(n<t)for(var o=n+1;o<=t;o++)a.push({oldIndex:o-1,newIndex:o});else for(var s=t;s<n;s++)a.push({oldIndex:s+1,newIndex:s});this.$emit(T.moveRowEmitName,a)}this.$emit("input",this.data)}},addRow:function(e){e.oldIndex;for(var t=e.newIndex,n=[],i=t+1;i<this.data.length;i++)n.push({oldIndex:i-1,newIndex:i});this.$emit(T.addRowEmitName,[{newIndex:t}]),this.$emit(T.moveRowEmitName,n)},removeRow:function(e){for(var t=e.oldIndex,n=(e.newIndex,[]),i=t;i<this.data.length;i++)n.push({oldIndex:i+1,newIndex:i});this.$emit(T.removeRowsEmitName,[{oldIndex:t,value:{}}]),this.$emit(T.moveRowEmitName,n)}}},Oe=xe,Ee=(n("148d"),Object(p["a"])(Oe,ve,Se,!1,null,null,null)),He=Ee.exports,Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",{staticClass:"Cell"},[e.isShowCellTypeSingleSelect?n("CellTypeSingleSelect",{ref:"cellHandler",attrs:{isReadonly:e.isReadonly,options:e.headSettings.options,headSettings:e.headSettings,formData:e.formData,rowIndex:e.rowIndex},on:{input:function(t){return e.$emit("input",e.data)},modifyCells:e.HandleEmitCellModified,checkCellEditing:e.HandleCheckCellEditing},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}}):e._e(),e.isShowCellTypeNumber?n("CellTypeNumber",{ref:"cellHandler",attrs:{isReadonly:e.isReadonly,options:e.headSettings.options,headSettings:e.headSettings,formData:e.formData,rowIndex:e.rowIndex},on:{input:function(t){return e.$emit("input",e.data)},modifyCells:e.HandleEmitCellModified,checkCellEditing:e.HandleCheckCellEditing},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}}):e._e(),e.isShowCellTypeTextArea?n("CellTypeTextArea",{ref:"cellHandler",attrs:{isReadonly:e.isReadonly,options:e.headSettings.options,headSettings:e.headSettings,formData:e.formData,rowIndex:e.rowIndex},on:{input:function(t){return e.$emit("input",e.data)},modifyCells:e.HandleEmitCellModified,checkCellEditing:e.HandleCheckCellEditing},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}}):e._e()],1)},De=[],Ke=(n("8615"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CellWrapper",{ref:"cellWrapper",staticClass:"CellTypeSingleSelect",attrs:{text:e.name,isReadonly:e.isReadonly},on:{checkCellEditing:e.HandleCheckCellEditing}},[n("multiselect",{ref:"editor",staticClass:"CellTypeSingleSelect-editor",attrs:{options:e.options,label:"name","allow-empty":!1,searchable:!0,"show-labels":!1,isDisabled:!0,placeholder:"請選擇"},on:{input:e.HandleEmitInput,close:e.HandleClose},model:{value:e.selectionData,callback:function(t){e.selectionData=t},expression:"selectionData"}},[n("template",{slot:"noResult"},[e._v("Result: 0")])],2)],1)}),$e=[],ze=(n("7f7f"),n("8e5f")),Me=n.n(ze),_e=(n("e607"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:e.HandleClickaway,expression:"HandleClickaway"}],staticClass:"CellWrapper",on:{dblclick:e.HandleDdubleClick}},[e.isDisplayValueOnly?n("CellDisplay",{attrs:{text:e.text}}):e._t("default")],2)}),Ne=[],Le={name:"CellWrapper",directives:{onClickaway:b["directive"]},components:{CellDisplay:Z},props:{text:{required:!0},isReadonly:{required:!0,type:Boolean,default:function(){return!1}}},data:function(){return{isDisplayDataMode:!0}},watch:{isDisplayValueOnly:function(e){this.$emit("checkCellEditing",!e)}},computed:{isDisplayValueOnly:{get:function(){return this.isReadonly||this.isDisplayDataMode}}},methods:{HandleClickaway:function(){return this.isDisplayDataMode=!0},HandleDdubleClick:function(){return this.isDisplayDataMode=!1},HandleKeyboardEnter:function(){this.isDisplayDataMode=!this.isDisplayDataMode}}},je=Le,Ie=(n("aa74"),Object(p["a"])(je,_e,Ne,!1,null,null,null)),Ae=Ie.exports,Ge={components:{CellWrapper:Ae},props:{value:{required:!0,type:Array},headSettings:{required:!0,type:Object},isReadonly:{required:!0,type:Boolean,default:function(){return!1}},formData:{required:!0,type:Array},rowIndex:{required:!0,type:Number}},watch:{value:function(e){this.data=e}},data:function(){return{oldValue:JSON.parse(JSON.stringify(this.value)),data:this.value}},methods:{HandleCheckCellEditing:function(e){var t=this;this.$emit("checkCellEditing",e),this.$nextTick((function(){e&&t.Focus()}))},HandleEmitCellModified:function(){JSON.stringify(this.oldValue)!==JSON.stringify(this.data)&&this.$emit(T.cellModifiedEmitName,[{rowIndex:this.rowIndex,relatedKey:this.headSettings.relatedKey,oldValue:JSON.parse(JSON.stringify(this.oldValue)),newValue:JSON.parse(JSON.stringify(this.data))}])},Enter:function(){var e=this;this.$nextTick((function(){e.$refs.cellWrapper.HandleKeyboardEnter()}))}}},Pe={name:"CellTypeSingleSelect",components:{Multiselect:Me.a},mixins:[Ge],props:{options:{required:!0,type:Array},value:{required:!0,type:T.valueTypes.singleSelect,default:T.defaultValue.singleSelect}},data:function(){var e=this.InitMapper();return{mapper:e,selectionData:this.GetSelectionObject(e,this.value)}},watch:{data:function(){this.selectionData=this.GetSelectionObject(this.mapper,this.value)},selectionData:function(e,t){this.oldValue=e.value}},computed:{name:{get:function(){return this.GetName(this.value)}}},methods:{InitMapper:function(){var e={};return this.options.forEach((function(t){return e[t.value]=t})),e},GetName:function(e,t){t=this.mapper||t;var n=t[e],i=n?n.name:"";return i||""},Enter:function(){var e=this;this.$nextTick((function(){e.$refs.cellWrapper.HandleDdubleClick()}))},Focus:function(){var e=this;this.$nextTick((function(){setTimeout((function(){e.$refs.editor.activate()}),10)}))},HandleClose:function(){var e=this;this.$nextTick((function(){e.$refs.cellWrapper.HandleClickaway()}))},HandleEmitInput:function(e){this.data=this.selectionData.value,this.$emit("input",this.selectionData.value),this.HandleEmitCellModified()},GetSelectionObject:function(e,t){return{name:this.GetName(this.value,e),value:t}}}},Ve=Pe,Fe=(n("8007"),n("5675"),Object(p["a"])(Ve,Ke,$e,!1,null,"2a72c91e",null)),qe=Fe.exports,Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CellWrapper",{ref:"cellWrapper",staticClass:"CellTypeNumber",attrs:{text:e.data,isReadonly:e.isReadonly},on:{checkCellEditing:e.HandleCheckCellEditing}},[n("vs-input-number",{ref:"editor",staticClass:"CellTypeNumber-editor",attrs:{step:e.step,min:e.options.min,max:e.options.max,"icon-inc":"expand_less","icon-dec":"expand_more",tabindex:"-1"},on:{input:e.HandleEmitInput},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}})],1)},Je=[],We=(n("7514"),n("1157")),Ue=n.n(We),Ze=n("fb9a");n("04f2"),n("c789");i["default"].use(Ze["vsIcon"]),i["default"].use(Ze["vsInputNumber"]);var Xe={name:"CellTypeNumber",mixins:[Ge],props:{value:{required:!0,type:T.valueTypes.number,default:T.defaultValue.number},options:{required:!0,type:Object}},watch:{data:function(e,t){e!=t&&(this.oldValue=e)}},computed:{step:{get:function(){return this.options.step||.5}}},methods:{Focus:function(){Ue()(this.$refs.editor.$el).find("input").focus()},HandleCheckCellEditing:function(e){var t=this;Ge.methods.HandleCheckCellEditing.call(this,e),this.$nextTick((function(){e&&Ue()(t.$refs.editor.$el).find("input").attr("step",t.step)}))},HandleEmitInput:function(e){this.data=parseFloat(this.data),this.options.min&&this.data<this.options.min&&(this.data=this.options.min),this.options.max&&this.data>this.options.max&&(this.data=this.options.max),this.$emit("input",this.data),this.HandleEmitCellModified()}}},Ye=Xe,Qe=(n("9f06"),n("10b1"),Object(p["a"])(Ye,Be,Je,!1,null,"27cb4aee",null)),et=Qe.exports,tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CellWrapper",{ref:"cellWrapper",staticClass:"CellTypeTextArea",attrs:{text:e.data,isReadonly:e.isReadonly},on:{checkCellEditing:e.HandleCheckCellEditing}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.data,expression:"data"}],ref:"editor",staticClass:"CellTypeTextArea-editor",attrs:{maxlength:e.maxLength},domProps:{value:e.data},on:{input:[function(t){t.target.composing||(e.data=t.target.value)},e.HandleInput],keydown:[e.HandleKeyDown,function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void t.preventDefault()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:e.Newline(t):null}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void t.preventDefault()}}}),e.maxLength?n("div",{staticClass:"counter"},[e._v("\n        "+e._s(e.data.length)+" / "+e._s(e.maxLength)+"\n    ")]):e._e()])},nt=[],it=(n("6762"),n("2fdb"),n("55dd"),n("f4fb")),lt=n.n(it),rt=(n("55ab"),n("84a2")),at=n.n(rt);var ot={name:"CellTypeTextArea",mixins:[Ge],props:{value:{required:!0,type:T.valueTypes.textarea,default:T.defaultValue.textarea},options:{required:!0,type:Object}},data:function(){return{autocompleteHandler:null,isLaunchAutocomplete:!1,ThrottleEmitCellModified:null}},watch:{data:function(e,t){e.length>this.maxLength&&(this.data=this.data.slice(0,this.maxLength)),this.data!=t&&(this.oldValue=e)},suggestions:function(){this.autocompleteHandler&&(this.autocompleteHandler.list=this.suggestions)}},computed:{maxLength:{get:function(){return this.options.maxLength||100}},throttle:{get:function(){return this.options.throttle||0}},isSuggestions:{get:function(){return this.options.isSuggestions||!0}},defaultSuggestions:{get:function(){return this.options.suggestions||[]}},suggestions:{get:function(){var e=this;if(!this.isSuggestions)return[];var t={};this.formData.forEach((function(n,i){if(i!=e.rowIndex){var l=n[e.headSettings.relatedKey];l in t||(t[l]=0),t[l]++}}));var n=Object.keys(t).sort((function(e,n){return t[e]-t[n]})).reverse();return this.defaultSuggestions.forEach((function(e){n.includes(e)||n.push(e)})),n}}},methods:{InitAutoComplete:function(){this.autocompleteHandler=new lt.a(this.$refs.editor,{list:this.suggestions,maxItems:10,minChars:2}),this.$refs.editor.addEventListener("awesomplete-open",this.HandleAwesompleteOpen),this.$refs.editor.addEventListener("awesomplete-close",this.HandleAwesompleteClose),this.$refs.editor.addEventListener("awesomplete-selectcomplete",this.HandleAwesompleteSelectComplete)},RecycleAutoComplete:function(){this.$refs.editor.removeEventListener("awesomplete-open",this.HandleAwesompleteOpen),this.$refs.editor.removeEventListener("awesomplete-close",this.HandleAwesompleteClose),this.$refs.editor.removeEventListener("awesomplete-selectcomplete",this.HandleAwesompleteSelectComplete),this.autocompleteHandler&&this.autocompleteHandler.destroy()},Focus:function(){this.$refs.editor.focus()},HandleKeyDown:function(e){},Newline:function(){var e=this,t=this.$refs.editor.selectionStart,n=this.$refs.editor.selectionEnd,i=this.data.substring(0,t),l=this.data.substring(n,this.data.length),r="\n";this.data="".concat(i).concat(r).concat(l),setTimeout((function(){t+=r.length,e.$refs.editor.selectionStart=e.$refs.editor.selectionEnd=t}),10),this.HandleEmitInput()},HandleInput:function(e){e&&"insertLineBreak"==e.inputType&&(this.data=this.data.slice(0,this.data.length-1)),this.HandleEmitInput()},HandleEmitInput:function(){this.$emit("input",this.data),this.throttle?this.ThrottleEmitCellModified():this.HandleEmitCellModified()},HandleCheckCellEditing:function(e){var t=this;e?this.$nextTick((function(){t.InitAutoComplete()})):this.RecycleAutoComplete(),Ge.methods.HandleCheckCellEditing.call(this,e)},HandleAwesompleteOpen:function(){this.isLaunchAutocomplete=!0},HandleAwesompleteClose:function(){},HandleAwesompleteSelectComplete:function(e){this.data=e.text.value,this.HandleInput()},Enter:function(){var e=this;this.$nextTick((function(){e.$refs.cellWrapper.isDisplayDataMode?e.$refs.cellWrapper.HandleKeyboardEnter():e.isLaunchAutocomplete?e.isLaunchAutocomplete=!1:e.$refs.cellWrapper.HandleKeyboardEnter()}))}},mounted:function(){var e=null,t=this,n="";t.ThrottleEmitCellModified=at()((function(){t.oldValue=n;t.HandleEmitCellModified();n=t.data,clearTimeout(e),e=setTimeout((function(){t.oldValue=n,t.HandleEmitCellModified(),n=t.data}),t.throttle+50)}),t.throttle)}},st=ot,ut=(n("da30"),n("c430"),Object(p["a"])(st,tt,nt,!1,null,"3c7c2743",null)),ct=ut.exports,dt={name:"Cell",components:{CellTypeSingleSelect:qe,CellTypeNumber:et,CellTypeTextArea:ct},props:{value:{required:!0},headSettings:{required:!0,type:Object},isReadonly:{required:!0,type:Boolean,default:function(){return!1}},cellType:{required:!0,type:String,validator:function(e){return-1!==Object.values(T.cellTypes).indexOf(e)}},rowIndex:{required:!0,type:Number},formData:{required:!0,type:Array}},data:function(){return{data:this.value}},watch:{value:function(e){this.data=e}},computed:{isShowCellTypeSingleSelect:{get:function(){return this.cellType==T.cellTypes.singleSelect}},isShowCellTypeNumber:{get:function(){return this.cellType==T.cellTypes.number}},isShowCellTypeTextArea:{get:function(){return this.cellType==T.cellTypes.textarea}}},methods:{HandleCheckCellEditing:function(e){this.$emit("checkCellEditing",e)},HandleEmitCellModified:function(e){this.$emit(T.cellModifiedEmitName,e)},Enter:function(){var e=this;this.$nextTick((function(){e.$refs.cellHandler.Enter()}))}}},ft=dt,ht=(n("cfb4"),Object(p["a"])(ft,Te,De,!1,null,"0a9361d2",null)),pt=ht.exports,mt=n("75fc"),yt=(n("4f7f"),n("5df3"),n("1c4c"),{data:function(){return{cellStatusArray:this.GetCellStatusArray(),selectedCells:[],currentCell:this.GetDefaultCurrentCell(),currentShiftCell:this.GetDefaultCurrentShiftCell(),isMouseSelecting:!1}},watch:{data:function(e,t){if(e.length>t.length&&(this.InitSelection(),this.SelectRangedCell()),e.length<t.length){var n=function(e){e.row=i.numberOfRows<=e.row?i.numberOfRows-1:e.row,e.row=e.row<0?0:e.row};this.InitSelection();var i=this;n(this.currentCell),n(this.currentShiftCell),this.SelectRangedCell()}},currentCell:{handler:function(){this.InitCurrentShiftCell()},deep:!0}},computed:{numberOfColumns:{get:function(){return this.options.head.length||0}},numberOfRows:{get:function(){return this.data.length||0}}},methods:{Init:function(){var e=this.currentCell.row,t=this.currentCell.col;this.cellStatusArray[e][t].isSelected=!0,this.PushselectedCells(e,t),this.SetCurrentCell(e,t),this.SetSelectedCellsBorder()},InitSelection:function(){this.InitselectedCells(),this.InitCellStatusArray()},InitselectedCells:function(){this.selectedCells=[]},InitCellStatusArray:function(){this.cellStatusArray=this.GetCellStatusArray()},GetCellStatusArray:function(){var e=this,t=Array(this.numberOfRows).fill().map((function(){return Array(e.numberOfColumns).fill().map((function(){return e.GetCellStatus()}))}));return t},GetCellStatus:function(){return{isSelected:!1,"highlight-border-top":!1,"highlight-border-bottom":!1,"highlight-border-left":!1,"highlight-border-right":!1}},GetIsSelected:function(e,t){return this.cellStatusArray[e][t]},GetCellClass:function(e,t){try{return this.cellStatusArray[e][t]}catch(n){return{}}},GetDefaultCurrentCell:function(){return{row:0,col:0}},GetDefaultCurrentShiftCell:function(){return{row:0,col:0}},SetCurrentCell:function(e,t){e=e<0?0:e,e=e>=this.numberOfRows?this.numberOfRows-1:e,t=t<0?0:t,t=t>=this.numberOfColumns?this.numberOfColumns-1:t,this.currentCell.row=e,this.currentCell.col=t,this.InitCurrentShiftCell()},SetCurrentShiftCell:function(e,t){e=e<0?0:e,e=e>=this.numberOfRows?this.numberOfRows-1:e,t=t<0?0:t,t=t>=this.numberOfColumns?this.numberOfColumns-1:t,this.currentShiftCell.row=e,this.currentShiftCell.col=t},InitCurrentShiftCell:function(){this.currentShiftCell.row=this.currentCell.row,this.currentShiftCell.col=this.currentCell.col},HandleSelectRow:function(e){this.SetCurrentCell(e,0),this.SetCurrentShiftCell(e,this.numberOfColumns-1),this.SelectRangedCell()},HandleSelectCell:function(e,t){this.SetCurrentCell(e,t),this.SelectRangedCell()},HandleSelectRangedCell:function(e,t){this.isCellEditing||(this.SetCurrentShiftCell(e,t),this.SelectRangedCell())},HandleCellMouseDown:function(e,t){this.isCellEditing||(this.isMouseSelecting=!0,this.HandleSelectCell(e,t))},HandleCellMouseUp:function(e,t){this.isCellEditing||(this.isMouseSelecting=!1,this.SetCurrentShiftCell(e,t),this.SelectRangedCell())},HandleCellMouseLeave:function(){this.isCellEditing||this.isMouseSelecting&&(this.SetCurrentShiftCell(this.currentShiftCell.row,this.currentShiftCell.col),this.SelectRangedCell())},HandleCellMouseMove:at()((function(e,t){this.isCellEditing||this.isMouseSelecting&&(this.SetCurrentShiftCell(e,t),this.SelectRangedCell())}),100),SelectRangedCell:function(){if(!this.isCellEditing&&!(this.numberOfColumns<=0||this.numberOfRows<=0)){this.HandleTableFocus(),this.InitSelection();for(var e=Math.min(this.currentCell.row,this.currentShiftCell.row),t=Math.max(this.currentCell.row,this.currentShiftCell.row),n=Math.min(this.currentCell.col,this.currentShiftCell.col),i=Math.max(this.currentCell.col,this.currentShiftCell.col),l=e;l<=t;l++)for(var r=n;r<=i;r++)try{this.cellStatusArray[l][r].isSelected=!0,this.PushselectedCells(l,r)}catch(a){}this.SetSelectedCellsBorder()}},HandleKeyboardArrow:function(e){if(!this.isCellEditing){switch(e){case"up":this.SetCurrentCell(this.currentCell.row-1,this.currentCell.col);break;case"down":this.SetCurrentCell(this.currentCell.row+1,this.currentCell.col);break;case"left":this.SetCurrentCell(this.currentCell.row,this.currentCell.col-1);break;case"right":this.SetCurrentCell(this.currentCell.row,this.currentCell.col+1);break;default:return}this.SelectRangedCell()}},HandleKeyboardShiftArrow:function(e){if(!this.isCellEditing){switch(e){case"up":this.SetCurrentShiftCell(this.currentShiftCell.row-1,this.currentShiftCell.col);break;case"down":this.SetCurrentShiftCell(this.currentShiftCell.row+1,this.currentShiftCell.col);break;case"left":this.SetCurrentShiftCell(this.currentShiftCell.row,this.currentShiftCell.col-1);break;case"right":this.SetCurrentShiftCell(this.currentShiftCell.row,this.currentShiftCell.col+1);break;default:return}this.SelectRangedCell()}},HandleKeyboardEnter:function(){var e=this;this.$nextTick((function(){e.$refs[e.GetCellRefName(e.currentCell.row,e.currentCell.col)][0].Enter()}))},HandleSetCellDefault:function(){var e=this;if(!this.isCellEditing&&!e.isReadonly){var t=[];e.selectedCells.forEach((function(n){var i=e.options.head[n.col].cellType,l=e.options.head[n.col].relatedKey,r=JSON.parse(JSON.stringify(e.data[n.row][l])),a=T.defaultValue[i]();r!=a&&t.push({rowIndex:n.row,relatedKey:l,oldValue:r,newValue:a}),e.data[n.row][l]=a})),this.data=Object.assign([],this.data,this.data),t.length>0&&this.$emit(T.emptyCellEmitName,t)}},HandleDeleteSelectedRow:function(){var e=this;if(!e.isReadonly){var t=Array.from(new Set(e.selectedCells.map((function(e){return e.row})))).sort().reverse(),n=[];t.forEach((function(t){return n.push.apply(n,Object(mt["a"])(e.data.splice(t,1)))})),n.reverse(),this.data=Object.assign([],this.data,this.data);for(var i=Math.min.apply(Math,Object(mt["a"])(t)),l=Math.max.apply(Math,Object(mt["a"])(t)),r=l-i+1,a=[],o=i;o<this.data.length;o++)a.push({oldIndex:o+r,newIndex:o});this.$emit(T.removeRowsEmitName,t.map((function(e,t){return{oldIndex:e,value:n[t]}}))),a.length>0&&this.$emit(T.moveRowEmitName,a)}},PushselectedCells:function(e,t){this.selectedCells.push(this.GetselectedCellsInfo(e,t))},GetselectedCellsInfo:function(e,t){return{row:e,col:t,sum:e+t}},GetSelectedStartCell:function(){var e=Math.min.apply(Math,this.selectedCells.map((function(e){return e.sum}))),t=this.selectedCells.filter((function(t){return t.sum==e}))[0];return t},GetSelectedEndCell:function(){var e=Math.max.apply(Math,this.selectedCells.map((function(e){return e.sum}))),t=this.selectedCells.filter((function(t){return t.sum==e}))[0];return t},SetSelectedCellsBorder:function(){if(0!=this.selectedCells.length){var e=this.GetSelectedStartCell(),t=this.GetSelectedEndCell(),n=0,i=0;for(n=e.row,i=e.col;i<=t.col;i++)this.cellStatusArray[n][i]["highlight-border-top"]=!0;for(n=t.row,i=e.col;i<=t.col;i++)this.cellStatusArray[n][i]["highlight-border-bottom"]=!0;for(i=e.col,n=e.row;n<=t.row;n++)this.cellStatusArray[n][i]["highlight-border-left"]=!0;for(i=t.col,n=e.row;n<=t.row;n++)this.cellStatusArray[n][i]["highlight-border-right"]=!0}},StopMouseSelecting:function(){this.isMouseSelecting=!1}},mounted:function(){this.Init()}}),Ct=n("7618"),gt=n("4eb5"),wt=n.n(gt);function bt(e){return e instanceof Array?[e.length].concat(bt(e[0])):[]}function vt(e){return function(t){return t instanceof Array?e.length>0&&e[0]===t.length&&Rt(t,vt(e.slice(1))):0===e.length}}function St(e){var t=bt(e);return!!vt(t)(e)&&t}function Rt(e,t){var n,i;for(n=0,i=e.length;n<i;++n)if(!t(e[n]))return!1;return!0}var kt={GetDim:St};i["default"].use(wt.a);var xt={data:function(){return{clipboard:{copiedData:null,isProcessingPaste:!1}}},watch:{clipboard:{handler:function(e){null!=e.copiedData&&1==e.isProcessingPaste&&this.PasteDataToTable()},deep:!0}},computed:{},methods:{HandleCopy:function(e){var t=this;if(t.$clipboardConfig.appendToBody=!1,!t.isCellEditing){var n=t.GetValueOfSelectedCells(),i=t.Serialize(n);t.$copyText(i).then((function(e){setTimeout((function(){t.HandleTableFocus(),t.$refs.table.click()}),100)}))}},GetValueOfSelectedCells:function(){for(var e=this,t=[],n=e.GetSelectedStartCell(),i=e.GetSelectedEndCell(),l=n.row;l<=i.row;l++){for(var r=[],a=n.col;a<=i.col;a++){var o=e.options.head[a].relatedKey;r.push(e.data[l][o])}t.push(r)}return t},Serialize:function(e){return JSON.stringify(e)},HandlePaste:function(e){this.isReadonly||this.isCellEditing||(this.clipboard.isProcessingPaste=!0,this.clipboard=Object.assign({},this.clipboard,this.clipboard))},HandleDocumentPaste:function(e){this.isReadonly||this.isCellEditing||(this.clipboard.copiedData=this.GetClipboardData(e),this.clipboard=Object.assign({},this.clipboard,this.clipboard))},PasteDataToTable:function(){if(!this.isReadonly&&!this.isCellEditing&&this.clipboard.copiedData){var e=this.Deserialize(this.clipboard.copiedData),t=this.InPlaceTypeTransform(e);t&&this.ReplaceTableData(e),this.clipboard.isProcessingPaste=!1,this.clipboard.copiedData=null,this.clipboard=Object.assign({},this.clipboard,this.clipboard)}},GetClipboardData:function(e){var t=e.clipboardData||window.clipboardData;return(null===t||void 0===t?void 0:t.getData("text/plain"))||(null===t||void 0===t?void 0:t.getData("Text"))},Deserialize:function(e){try{var t=JSON.parse(e),n=kt.GetDim(t).length;switch(n){case 1:return[t];case 2:return t;default:return[[]]}}catch(i){return[[e]]}},InPlaceTypeTransform:function(e){var t=this,n=!0,i=this.GetCellOffset(e);if(null==i)return!1;for(var l=kt.GetDim(e),r=0;r<l[0];r++)for(var a=0;a<l[1];a++){var o=t.options.head[a+i].cellType,s=T.valueTypes[o],u=s(e[r][a]);n=t.IsValidTransform(s,u),e[r][a]=u}return n},IsValidTransform:function(e,t){switch(Object(Ct["a"])(e())){case"number":if(isNaN(t))return!1;break;case"string":break;default:break}return!0},GetCellOffset:function(e){var t=this,n=this.currentCell.col,i=kt.GetDim(e),l=i[1];function r(e){return l+e>t.numberOfColumns}return r(n)&&(n=0,r(n)&&(n=null)),n},ReplaceTableData:function(e){var t=this.GetCellOffset(e);if(null==t)return!1;for(var n=kt.GetDim(e),i=n[0],l=n[1],r=this.data.length,a=this.currentCell.row+i-this.numberOfRows,o=0;o<a;o++){var s=T.GetDefaultRow(this.options);this.data.push(s)}for(var u=0,c=0,d=[],f=0;f<i;f++)for(var h=0;h<l;h++){u=f+this.currentCell.row,c=h+t;var p=this.options.head[c].relatedKey,m=JSON.parse(JSON.stringify(this.data[u][p])),y=JSON.parse(JSON.stringify(e[f][h]));u<r&&m!==y&&d.push({rowIndex:u,relatedKey:p,oldValue:m,newValue:y}),this.data[u][p]=e[f][h]}d.length>0&&this.$emit(T.cellModifiedEmitName,d);for(var C=[],g=r;g<this.data.length;g++)C.push({newIndex:g});C.length>0&&this.$emit(T.addRowEmitName,C),this.SetCurrentCell(this.currentCell.row,t),this.SetCurrentShiftCell(u,c),this.SelectRangedCell(),this.data=Object.assign([],this.data,this.data)}},mounted:function(){document.addEventListener("paste",this.HandleDocumentPaste)},beforeDestroy:function(){document.removeEventListener("paste",this.HandleDocumentPaste)}};function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){Object(w["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ht={name:"TableForm",directives:{onClickaway:b["directive"]},components:{ContextMenu:z,FormVirtualRow:I,ResizeableTH:ee,ResizeCellWrapper:be,DragWrapper:He,Cell:pt},mixins:[yt,xt],props:{value:{required:!0,type:Array},options:{required:!0,type:Object},isReadonly:{required:!1,type:Boolean,default:function(){return!1}},showSelection:{required:!1,type:Boolean,default:function(){return!1}}},data:function(){return Et({},T,{data:this.GetInitData(),defaultCountStyle:{width:"80px","min-width":"80px",height:"40px"},defaultColStyle:{width:"200px","min-width":"200px",height:"40px"},defaultRowStyle:{height:"40px"},isTableFocus:!1,isCellEditing:!1,isShowTmpTR:!1})},watch:{value:function(e){this.data=e},data:function(){this.$emit("input",this.data)}},computed:{tableClass:{get:function(){return{"table-focus":this.isTableFocus,"show-selection":this.isTableFocus||this.showSelection}}}},methods:{GetInitData:function(){return this.value.length>0?this.value:[]},EmitEvent:function(e,t){this.$emit(T[e],t)},GetColStyle:function(e){return this.GetStyle(e,this.defaultColStyle)},GetRowStyle:function(e){return this.GetStyle(e,this.defaultRowStyle)},GetStyle:function(e,t){var n=Et({},t,{},e),i=[];for(var l in n){var r=n[l];i.push("".concat(l,":").concat(r,";"))}return i.join("")},HandleTableFocus:function(){this.isTableFocus=!0,this.$refs.table.focus()},HandleTableClickAway:function(){this.isMouseSelecting?this.StopMouseSelecting():this.isTableFocus=!1},HandleCheckCellEditing:function(e){this.isCellEditing=e,e||this.$refs.table.focus()},HandleContextMenu:function(e){this.$refs.menu.open(e),this.HandleTableFocus()},HandleDefaultRowTdClick:function(){var e=T.GetDefaultRow(this.options);this.data.push(e),this.$emit("input",this.data),this.$emit(T.addRowEmitName,[{newIndex:this.data.length-1}])}}},Tt=Ht,Dt=(n("60cb"),n("58f8"),Object(p["a"])(Tt,C,g,!1,null,"cbd18fb8",null)),Kt=Dt.exports;i["default"].use(o.a);var $t={name:"Demo",components:{GitHubCorner:y,VueJsonPretty:u.a,TableForm:Kt},data:function(){return{options:{head:[{title:"Learning Time",relatedKey:"learningTime",cellType:T.cellTypes.number,style:{width:"80px","min-width":"80px"},options:{step:.5,min:0,max:8}},{title:"Language",relatedKey:"language",cellType:T.cellTypes.singleSelect,options:[{value:0,name:""},{value:1,name:"Python"},{value:2,name:"Javascript"},{value:3,name:"Java"},{value:4,name:"C#"},{value:5,name:"C++"},{value:6,name:"Html"},{value:7,name:"CSS"}]},{title:"Description",relatedKey:"description",cellType:T.cellTypes.textarea,options:{maxLength:20,isSuggestions:!0,throttle:250,suggestions:["learning refactoring"]}}]},todo:[{learningTime:1.5,language:1,description:"learning lession 3+4"},{learningTime:2,language:2,description:"learning 'this'"}],done:[{learningTime:3,language:1,description:"learning lession 1+2"},{learningTime:4,language:2,description:"learning introduction"}]}},methods:{keyboardNotification:function(e){this.$notify({group:"note",title:"Keyboard Event",text:e,type:"success"})},RowsNotification:function(e,t){console.log(e),console.table(t),this.$notify({group:"note",title:e,text:"#Row(s): ".concat(t.length),type:"success"})}}},zt=$t,Mt=(n("5c0b"),n("6bbf"),Object(p["a"])(zt,l,r,!1,null,"d604fe82",null)),_t=Mt.exports;i["default"].config.productionTip=!1,new i["default"]({render:function(e){return e(_t)}}).$mount("#app")},"58f8":function(e,t,n){"use strict";var i=n("16d7"),l=n.n(i);l.a},"5c0b":function(e,t,n){"use strict";var i=n("e332"),l=n.n(i);l.a},"60cb":function(e,t,n){"use strict";var i=n("be8d"),l=n.n(i);l.a},"68d8":function(e,t,n){},"6ab0":function(e,t,n){},"6bbf":function(e,t,n){"use strict";var i=n("7e6e"),l=n.n(i);l.a},"7e6e":function(e,t,n){},8007:function(e,t,n){"use strict";var i=n("0701"),l=n.n(i);l.a},"95bc":function(e,t,n){},9789:function(e,t,n){"use strict";var i=n("b9de"),l=n.n(i);l.a},"99a0":function(e,t,n){"use strict";var i=n("a90a"),l=n.n(i);l.a},"9ceb":function(e,t,n){"use strict";var i=n("95bc"),l=n.n(i);l.a},"9f06":function(e,t,n){"use strict";var i=n("e2ba"),l=n.n(i);l.a},a11d:function(e,t,n){"use strict";var i=n("4066"),l=n.n(i);l.a},a6f1:function(e,t,n){"use strict";var i=n("68d8"),l=n.n(i);l.a},a90a:function(e,t,n){},aa74:function(e,t,n){"use strict";var i=n("30eb"),l=n.n(i);l.a},b759:function(e,t,n){},b9de:function(e,t,n){},ba9d:function(e,t,n){},be8d:function(e,t,n){},c402:function(e,t,n){},c430:function(e,t,n){"use strict";var i=n("ba9d"),l=n.n(i);l.a},cfb4:function(e,t,n){"use strict";var i=n("28bc"),l=n.n(i);l.a},da30:function(e,t,n){"use strict";var i=n("540b"),l=n.n(i);l.a},e2ba:function(e,t,n){},e332:function(e,t,n){},e458:function(e,t,n){"use strict";var i=n("ec86"),l=n.n(i);l.a},e736:function(e,t,n){},ec3f:function(e,t,n){},ec86:function(e,t,n){}});
//# sourceMappingURL=app.2e888c74.js.map